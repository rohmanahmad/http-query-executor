{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{117:function(t,e,i){\"use strict\";i.r(e);i(55);i(0).tag2(\"competisi-sentiment-chart\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION SENTIMENT CHART </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"chartcompetisisentiment\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.compositionstreams=null,this.data={},this.render=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.renderdata(t)},1e3),this.update()}.bind(this)})};var e=this;this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),async.parallel({positive:function(t){i((function(e){t(null,e)}),\"positive\")},negative:function(t){i((function(e){t(null,e)}),\"negative\")},neutral:function(t){i((function(e){t(null,e)}),\"neutral\")}},(function(i,o){if(e.update({isLoading:!1,nodata:!1}),o){const e=o.positive,i=o.negative,a=o.neutral;let r={positive:{},negative:{},neutral:{}};for(let t in e){const i=e[t].brand_name;r.positive[i]||(r.positive[i]=0),r.positive[i]=r.positive[i]+e[t].count}for(let t in i){const e=i[t].brand_name;r.negative[e]||(r.negative[e]=0),r.negative[e]=r.negative[e]+i[t].count}for(let t in a){const e=a[t].brand_name;r.neutral[e]||(r.neutral[e]=0),r.neutral[e]=r.neutral[e]+a[t].count}const s=p(\"project\"),l=document.projectCompetition?document.projectCompetition:\"\",d=decodeURIComponent(`${s},${l}`),c=\"string\"==typeof d?d.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\",h=t,u=c.split(\",\").map(t=>parseInt(t.trim())),m=h.filter(t=>u.indexOf(t.key_id)>=0).map(t=>t.key_name),f=[\"positive\",\"negative\",\"neutral\"];let g={};for(let t in f){const e=f[t];g[e]=[];for(let t in m){const i=m[t];r[e]||(r[e]={}),r[e][i]||(r[e][i]=0),g[e].push(r[e][i])}}n(g,m)}})),this.update({isLoading:!1,nodata:!0})};var i=(t,e)=>{let i=_.clone(this.parent.search);i.section=e;const n=p(\"project\"),o=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${n},${o}`),r=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";i.project=r,APP.apiGet({path:\"stream/brand/mention\",data:i,success:function(e){t(e.items)}.bind(this)})},n=(t,e)=>{var i={positive:\"#0f8212\",negative:\"#eb3737\",neutral:\"#f3bc25\"},n=_.map(t,(t,e)=>({name:e,color:i[e],data:t}));this.update({isLoading:!1}),Highcharts.chart(\"chartcompetisisentiment\",{chart:{type:\"column\"},title:{text:\"\"},xAxis:{categories:e,crosshair:!0,labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{min:30,labels:{format:\"{value}%\",style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{pointFormat:'<span style=\"color:{series.color};\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px; color:#000000;'> \"+this.y.formatMoney(0)+\"</span>\"}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:n})}}))},146:function(t,e,i){i(0).tag2(\"mediadistributorchart\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION CHART </h6> </div> <div class=\"col-md-8\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstreammediacompetition\" if=\"{!notdata}\"> </div> </div> </div> </div>',\"\",\"\",(function(t){this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstreammediacompetition\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}: {point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}}))},155:function(t,e,i){\"use strict\";t.exports=function(t,e,i){var n=36e5,o=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(n=864e5,o=\"MMMM DD, YYYY\"):\"monthly\"==e&&(n=2592e6,o=\"MMMM YYYY\"),i)var a=i;else a=\"#ccc\";return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\"},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:n,title:{text:null},labels:{style:{color:a}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:a},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(o),\"<br>\",\"Mentions : \"+this.y].join(\"\")}},plotOptions:{series:{fillColor:{},cursor:\"pointer\",point:{events:{click:function(i){var n=moment(this.category).format(\"YYYY-MM-DD\"),o=moment(this.x).format(\"HH\");renderchart.trigger(t,n,this.series.userOptions.valnameid,o,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:n}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},22:function(t,e,i){\"use strict\";t.exports=function(t,e,i){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"bar\"},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{categories:e,title:{text:null},labels:{style:{color:\"#333\",fontSize:\"18px\"}}},yAxis:{max:100,labels:{overflow:\"justify\",formatter:function(){return\"\".concat(this.value,\"%\")}},title:{text:\"\"}},tooltip:{formatter:function(){var t=parseInt(i[this.key]);return\"<span style='z-index:0;position:relative;'> \".concat((this.y/100*t).formatMoney(2),\" mentions </span>\")},followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(t){var e=parseInt(i[this.key]);return\"<span style='z-index:0;position:relative;font-size:18px;'> \"+this.y.formatMoney(2)+\"% (\"+(this.y/100*e).formatMoney(0)+\")</span>\"}}}},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},credits:{enabled:!1}})}},55:function(t,e,i){\"use strict\";t.exports=function(t,e){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"column\"},title:{text:\"Stacked column chart\"},xAxis:{categories:[\"Apples\",\"Oranges\",\"Pears\",\"Grapes\",\"Bananas\"]},yAxis:{min:0,title:{text:\"Total fruit consumption\"}},tooltip:{pointFormat:'<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:\"percent\"}}})}}}]);","extractedComments":[]}