{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{12:function(t,e,a){a(1).tag2(\"pagging\",'<div class=\" align-items-center justify-content-center pull-right mg-t-20\"> <ul class=\"pagination pagination-basic pagination-rounded mg-b-0\"> <li class=\"page-item {opts.pagination.page <=1 ? \\'disabled\\' : \\'\\'} hidden-xs-down\"> <a class=\"page-link\" href=\"#\" onclick=\"{first}\" aria-label=\"First\"><i class=\"fa fa-angle-double-left\"></i></a> </li> <li class=\"page-item {opts.pagination.page <=1 ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" onclick=\"{back}\" aria-label=\"Previous\"><i class=\"fa fa-angle-left\"></i></a> </li> <li class=\"page-item \" if=\"{opts.pagination.page > 1}\"> <a class=\"page-link\" onclick=\"{back}\" href=\"#\">{opts.pagination.page - 1}</a> </li> <li class=\"page-item active\"> <a class=\"page-link \">{opts.pagination.page}</a> </li> <li class=\"page-item hidden-xs-down\" if=\"{opts.pagination.page < opts.pagination.pages}\"> <a class=\"page-link\" href=\"#\" onclick=\"{forward}\">{opts.pagination.page + 1}</a> </li> <li class=\"page-item {opts.pagination.page>= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" aria-label=\"Next\" onclick=\"{forward}\"><i class=\"fa fa-angle-right\"></i></a> </li> <li class=\"page-item hidden-xs-down {opts.pagination.page>= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" onclick=\"{last}\" aria-label=\"Last\"><i class=\"fa fa-angle-double-right\"></i></a> </li> </ul> </div>',\"\",\"\",(function(t){this.on(\"update\",()=>{t.pagination||(t.pagination={pages:1,page:1})}),this.on(\"page\",e=>{\"function\"==typeof t.pagination.cb&&t.pagination.cb(e)}),this.forward=e=>{e.preventDefault(),t.pagination.page<t.pagination.pages&&(t.pagination.page++,this.trigger(\"page\",t.pagination.page))},this.back=e=>{e.preventDefault(),t.pagination.page>1&&(t.pagination.page--,this.trigger(\"page\",t.pagination.page))},this.first=e=>{e.preventDefault(),1!==t.pagination.page&&(t.pagination.page=1,this.trigger(\"page\",t.pagination.page))},this.last=e=>{e.preventDefault(),t.pagination.page!==t.pagination.pages&&(t.pagination.page=t.pagination.pages,this.trigger(\"page\",t.pagination.page))}}))},121:function(t,e,a){a(1).tag2(\"pagination\",'<div class=\"pagination custom pull-right\" style=\"height: 50px; margin-top:-15px;\" if=\"{opts.pagination.pages > 1}\"> <ul class=\"pagination\"> <li class=\"{opts.pagination.page <= 1 ? \\'disabled\\' : \\'\\'}\"> <a class=\"pointer\" onclick=\"{first}\"> <i class=\"fa fa-angle-double-left\"></i> </a> </li> <li class=\"{opts.pagination.page <= 1 ? \\'disabled\\' : \\'\\'}\"> <a class=\"pointer\" onclick=\"{back}\"> <i class=\"fa fa-angle-left\"></i> </a> </li> <li if=\"{opts.pagination.page > 1}\"> <a class=\"pointer\" onclick=\"{back}\"> {opts.pagination.page - 1} </a> </li> <li class=\"active\"><a>{opts.pagination.page}</a></li> <li if=\"{opts.pagination.page < opts.pagination.pages}\"> <a class=\"pointer\" onclick=\"{forward}\"> {opts.pagination.page + 1} </a> </li> <li class=\"{opts.pagination.page >= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"pointer\" onclick=\"{forward}\"> <i class=\"fa fa-angle-right\"></i> </a> </li> <li class=\"{opts.pagination.page>= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"pointer\" onclick=\"{last}\"> <i class=\"fa fa-angle-double-right\"></i> </a> </li> </ul> </div>',\"\",\"\",(function(t){this.on(\"update\",()=>{t.pagination||(t.pagination={pages:1,page:1})}),this.on(\"page\",e=>{\"function\"==typeof t.pagination.cb&&t.pagination.cb(e)}),this.forward=e=>{e.preventDefault(),t.pagination.page<t.pagination.pages&&(t.pagination.page++,this.trigger(\"page\",t.pagination.page))},this.back=e=>{e.preventDefault(),t.pagination.page>1&&(t.pagination.page--,this.trigger(\"page\",t.pagination.page))},this.first=e=>{e.preventDefault(),1!==t.pagination.page&&(t.pagination.page=1,this.trigger(\"page\",t.pagination.page))},this.last=e=>{e.preventDefault(),t.pagination.page!==t.pagination.pages&&(t.pagination.page=t.pagination.pages,this.trigger(\"page\",t.pagination.page))}}))},122:function(t,e,a){a(1).tag2(\"prdash-filter-2\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\"> <div class=\"col-xs-12 filter\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\" riot-value=\"{keyword}\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\" riot-value=\"{domain}\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\" riot-value=\"{author}\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-2\" class=\"exc\" value=\"true\" checked=\"{checked:checked}\"> <label for=\"checkbox-inline-2\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div class=\"col-xs-4 result pull-right\" onclick=\"{kirim}\"> Show Result </div> <div class=\"col-xs-4 reset pull-right\" onclick=\"{reset}\"> Reset Filter </div> </div> </form>',\"\",\"\",(function(t){this.kirim=()=>{APP.log(\"prdash-filter: kirim\");let e={};if(null==$(\".exc:checked\").val())var a=!1;else a=$(\".exc:checked\").val();e.q=this.refs.internet.value,e.domain=this.refs.domain.value,e.author=this.refs.author.value,e.filterbot=a,\"function\"==typeof t.cb&&t.cb(e)},this.reset=()=>{APP.log(\"prdash-filter: reset\");let e={q:\"\",domain:\"\",author:\"\"};\"function\"==typeof t.cb&&t.cb(e)},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()}}))},13:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"group-competitive\",'<div id=\"modaldemo1\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header pd-x-20\"> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\" if=\"{opts.types != \\'comparison\\'}\">Combine Project</h6> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\" if=\"{opts.types === \\'comparison\\'}\">Comparison Project</h6> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\" class=\"cursor-pointer\">×</span> </button> </div> <div class=\"modal-body pd-t-0 pd-r-50 pd-b-50 pd-l-50 \"> <div class=\"row row-sm mg-t-20\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <div class=\"row row-sm\"> <label class=\"ckbox marginmodal cursor-pointer\" each=\"{o, i in recentProject}\"> <input type=\"checkbox\" checked=\"{o.checked}\" class=\"checkactive cursor-pointer\" riot-value=\"{o.id}\" onchange=\"{changeProjects}\"><span> {o.name} </span> </label> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\" onclick=\"{group}\">Save changes</button> <button type=\"button\" class=\"btn btn-outline-warning mg-b-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.dataProject=[],this.searchText=\"\",this.recentTemp=[],this.recentProject=[],this.searchResult=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.isLoading=!1,this.on(\"mount\",()=>{APP.log(\"group-by : mount\"),this.getproject()}),this.getproject=()=>{null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{t=JSON.parse(localStorage.getItem(\"projects\"));if(\"domain/infographic\"==this.currentUrlStream){let t=p(\"project\")?p(\"project\"):APP.getProject().toString(),a=p(\"competition\");var e=Object(i.concat)(t,a?a.split(\",\"):[]).map(Number)}else{e=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number)}Object(i.map)(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc,keyItemkeyWord:t.key_item_keyword}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.recentProject=Object(i.sortBy)(this.dataProjects,[function(t){return t.name}]),this.update()},menu.on(\"nameproject\",function(t){this.dataProjects=t,this.update()}.bind(this)),this.group=t=>{urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()}),1==p(\"project\").split(\",\").length&&localStorage.setItem(\"Project_devault\",p(\"project\"));let e=$(\".checkactive:checked\").val(),a=[];if(null!=e){if($(\".checkactive:checked\").each((function(t){a.push($(this).attr(\"value\"))})),\"domain/infographic\"==this.currentUrlStream){a=a;var n=\"\",s=\"\",o=0;for(let t in a)a[t]&&\"\"!=a[t]&&(0==o?n=\"\"+encodeURIComponent(a[t]):1==o?s+=\"\"+encodeURIComponent(a[t]):o>1&&(s+=\",\"+encodeURIComponent(a[t])),o++);window.location=s?\"#\"+this.currentUrlStream+\"?project=\"+n+\"&competition=\"+s:\"#\"+this.currentUrlStream+\"?project=\"+n}else a=Object(i.orderBy)(a,[1],[\"desc\"]),window.location=\"#\"+this.currentUrlStream+\"?project=\"+a.join(\",\");this.update()}else swal({title:\"error\",text:\"Projects can not be empty. Please select one or more projects.\",type:\"error\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})},this.changeProjects=t=>{this.datafilprj=[],t.preventDefault();const e=t.item.o.id,a=Object(i.filter)(this.dataProjects,(function(t,a){return t.id!=e}));Object(i.filter)(this.dataProjects,(function(t,a){return t.id==e})).forEach(t=>{t.checked=!t.checked,this.datafilprj.push(t)});const n=Object(i.concat)(a,this.datafilprj);this.dataProjects=Object(i.sortBy)(n,[function(t){return t.name}]),this.update()},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;Object(i.each)(this.dataProjects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()})}))},24:function(t,e,a){\"use strict\";a.r(e);var i=a(43);a(1).tag2(\"channel\",'<a href=\"#\" class=\"btn all btn-icon mg-r-5 {active:allSelected} mg-t-10 mg-r-10 widthchannels \" onclick=\"{selectAllChannel}\"> <img alt=\"\" src=\"/assets/images/components/icons/globe.png\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\">ALL</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"/assets/images/svg/loading.svg\" width=\"20\"></img> </p> </a> <a href=\"#\" class=\"btn {class} btn-icon mg-r-5 {active:selected} mg-t-10 mg-r-10 widthchannels {disabled:!checked}\" each=\"{channels}\" onclick=\"{selectChannel}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\"> {name}</p> <p class=\"tx-14 mg-t-m-10 \" if=\"{!isLoading}\">{count ? count.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"/assets/images/svg/loading.svg\" width=\"20\"></img> </p> </a>',\"\",\"\",(function(t){i.default.bind(this)()}))},25:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"sentiment\",'<a href=\"#\" each=\"{sentiment}\" class=\"btn {name} btn-icon mg-r-5 {active:selected} mg-t-10 {name}mg-r mg-r-10 widthsentiment\" id=\"sent\" onclick=\"{selectSentiment}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"45\" height=\"45\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-7\">{name}</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</p> <p class=\"mg-t-m-10\" if=\"{isLoading}\"><img src=\"/assets/images/svg/loading.svg\" width=\"20\" height: 12></img> </p> </a>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\"../assets/images/components/icons/help-grey.png\"},{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"../assets/images/components/icons/thumbs-up-grey.png\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"../assets/images/components/icons/thumbs-down-grey.png\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{if(p(\"valsection\")){let t=p(\"valsection\").split(\",\");Object(i.map)(this.sentiment,e=>(t.indexOf(e.id)>-1?e.selected=!0:e.selected=!1,e))}APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=Object(i.filter)(this.sentiment,t=>t.selected),a=Object(i.map)(e,t=>t.id);t.cb(a.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=Object(i.clone)(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.section=null,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){t=t.items,this.sValue=t,this.isLoading=!1,this.update()}.bind(this)})},this.update_dataneutrla=t=>{this.sValue.neutral=this.sValue.neutral+t,this.update()},this.update_datapositive=t=>{this.sValue.positive=this.sValue.positive+t,this.update()},this.update_datanegative=t=>{this.sValue.negative=this.sValue.negative+t,this.update()},this.remove_dataneutrla=t=>{this.sValue.neutral=this.sValue.neutral+t,this.update()},this.remove_datapositive=t=>{this.sValue.positive=this.sValue.positive+t,this.update()},this.remove_datanegative=t=>{this.sValue.negative=this.sValue.negative+t,this.update()}}))},264:function(t,e,a){\"use strict\";a.r(e);var i=a(42),n=a.n(i);a(1).tag2(\"date-picker\",'<div ref=\"datepicker\" class=\" color-grey-600 pull-right border-radius-10 d-sm-block no-shadow cursor-pointer\"> <i class=\"ion-calendar margin-right-10 cursor-pointer\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5 cursor-pointer\"></i> </div>',\"\",\"\",(function(t){n.a.bind(this)}))},32:function(t,e,a){a(1).tag2(\"sendmail\",'<div id=\"Headercontact\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg animated fadeInDown\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header pd-x-20\"> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\">Contact Us</h6> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\" class=\"cursor-pointer\">×</span> </button> </div> <div class=\"modal-body pd-10 d-block \"> <form class=\"form-horizontal\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"row mg-b-25\"> <div class=\"col-md-12\"> <div class=\"form-group\" style=\"display:none\"> <label class=\"form-control-label\">Username :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" ref=\"username\" class=\"form-control\" riot-value=\"{username}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\">Username :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusname\" placeholder=\"\" ref=\"subject\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\">Content :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <textarea type=\"text\" class=\"form-control height100\" id=\"inputfocusnamecontent\" placeholder=\"\" ref=\"content\"></textarea> </div> </div> </div> </form> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\" onclick=\"{kirim}\">Save changes</button> <button type=\"button\" class=\"btn btn-outline-warning mg-b-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.getProfile()}),this.getProfile=()=>{APP.apiGet({path:\"profile/global-settings/get-profile\",success:function(t){this.username=t.user_name,this.update()}.bind(this)})},this.kirim=t=>{var e={subject:this.refs.subject.value,content:this.refs.content.value};APP.apiPost({path:\"profile/contact-us\",data:e,success:function(t){APP.success(t,(function(){}))}})}}))},42:function(t,e){t.exports=function(){var t=this;this.initiateDateRagePicker=function(e){if($(a).daterangepicker){var a=t.refs.datepicker,i=moment(e.since),n=moment(e.until),s=e.type||\"range\",o=localStorage.maxdate,c={startDate:i,endDate:n,minYear:parseInt(moment().subtract(2,\"y\").format(\"YYYY\")),ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}};\"single\"===s&&(c.singleDatePicker=!0),o&&\"null\"!==o&&\"undefined\"!==o&&(c.maxDate=moment(o)),$(a).daterangepicker(c,(function(t,i){\"function\"==typeof e.cb&&e.cb(t.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),localStorage.since=t.format(\"YYYY-MM-DD\"),localStorage.until=i.format(\"YYYY-MM-DD\"),\"single\"===s?$(a).find(\"span\").html(t.format(\"MMMM D, YYYY\")):$(a).find(\"span\").html(t.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\"))})),\"single\"===s?$(a).find(\"span\").html(i.format(\"MMMM D, YYYY\")):$(a).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+n.format(\"MMMM D, YYYY\")),$(a).show(),\"function\"==typeof e.cb&&e.cb(i.format(\"YYYY-MM-DD\"),n.format(\"YYYY-MM-DD\")),t.maxdateavailable()}else setTimeout((function(){t.initiateDateRagePicker()}),1e3)},this.on(\"mount\",(function(){t.initiateDateRagePicker(t.opts)})),this.maxdateavailable=function(){APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:function(t){localStorage.setItem(\"maxdate\",t),this.update()}.bind(t)})}}},43:function(t,e,a){\"use strict\";a.r(e);var i=a(0),n=a(11);e.default=function(){var t=this;function e(){var t=$(\"#channels\").width(),e=(t-80)/8;if(t<673)e=64;for(var a=document.getElementsByClassName(\"widthchannels\"),i=0;i<a.length;i++)a[i].style.width=e+\"px\";var n=($(\"#sentiment\").width()-30)/3,s=document.getElementsByClassName(\"widthsentiment\");for(i=0;i<s.length;i++)s[i].style.width=n+\"px\"}this.isLoading=!0,this.total=0,this.allSelected=!0,this.idTO=null,this.channels=Object.values(n.default.get(\"channels\",{})).map((function(t){return t.checked=!1,t.selected=!1,t.count=0,t})),this.on(\"mount\",(function(){t.getavailableChannel(),t.validateChannel(),t.update({total:Object(i.sumBy)(t.channels,\"count\")}),e()})),this.updateRenderSentiment=function(){var e=Object(i.clone)(t.parent.search);e.group_service=\"true\",e.service_category=null,APP.apiGet({path:\"mentions\",data:e,success:function(e){t.updateCount(e.items),t.isLoading=!1,t.update()}})},this.getavailableChannel=function(){APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(t){t=t&&t.length>0?t:\"1,2,3,4,5,6,7\",localStorage.setItem(\"channels\",t),this.maxkeyword=t,this.update()}.bind(t)})},this.validateChannel=function(){var e=localStorage.channels;if(e||localStorage.clear(),e){var a=[],n=Object(i.each)(e,(function(e){var n=Object(i.findIndex)(t.channels,[\"id\",parseInt(e)]);n>-1&&(t.channels[n].checked=!0,t.channels[n].selected=!0),a.push(t.channels[n])})),s=Object(i.filter)(n,(function(t){return t.selected})),o=Object(i.map)(s,(function(t){return t.id}));t.parent.search.service_category=o.join(\",\"),t.parent.search.group_service=!1}else{a=[];Object(i.each)(t.channels,(function(t){t.checked=!0,t.selected=!0,a.push(t)}))}},this.selectAllChannel=function(e){e.preventDefault(),clearTimeout(t.idTO),t.allSelected=!t.allSelected,t.channels=Object(i.map)(t.channels,(function(e){return e.selected=t.allSelected,e})),t.update(),t.idTO=setTimeout((function(){t.channelSelected()}),1250)},this.selectChannel=function(e){if(e.preventDefault(),e.item.checked){clearTimeout(t.idTO),e.item.selected=!e.item.selected;var a=Object(i.filter)(t.channels,(function(t){return t.checked})),n=Object(i.find)(a,{selected:!1});t.allSelected=!n,t.update(),t.idTO=setTimeout((function(){t.channelSelected()}),500)}},this.channelSelected=function(){if(\"function\"==typeof t.opts.cb){var e=t.getChannelSelected();t.opts.cb(e)}},this.getChannelSelected=function(){return Object(i.filter)(t.channels,(function(t){return t.selected}))},this.updateCount=function(a){e();var n=!1,s=t.parent.refs.sentiment.sentiment.map((function(t){return t.selected}));for(var o in s.indexOf(!0)<0&&(n=!0),t.channels){var c=t.channels[o].id;t.channels[o].name;for(var r in t.channels[o].count=0,a)r==c&&(t.channels[o].count=n?0:a[r])}var l=Object(i.filter)(t.channels,(function(t){return t.selected}));t.total=Object(i.sumBy)(l,\"count\"),maxStreams.trigger(\"maxstreams\",t.total),n&&(t.total=0),t.isLoading=!1,t.update()},this.on(\"mount\",(function(){t.update({total:Object(i.sumBy)(t.channels,\"count\")})})),menu.on(\"sidebar\",(function(t){setTimeout((function(){e()}),1e3)})),window.onload=function(){e()},window.onresize=function(){e()}}},5:function(t,e,a){a(1).tag2(\"breadcrumb\",'<div class=\"br-pageheader\" style=\" background-color: #dee2e6; padding:0px ;\"> </div>',\"\",\"\",(function(t){this.selectedProject=!1,this.breadCrumb=t=>{this.dataBreadCrumb=t,this.update()},this.render=()=>{this.update()},this.byProject=()=>{},breadCrumb.on(\"update\",t=>{this.dataBreadCrumb=t}),this.modeProject=()=>{void 0!==breadCrumb.project&&(this.dataBreadCrumb=[{link:\"#\",title:\"Projects\"},{link:\"#\",title:breadCrumb.project.name}],this.selectedProject=breadCrumb.project,this.update())},breadCrumb.on(\"modeProject\",()=>{this.modeProject()}),this.on(\"mount\",()=>{\"project\"==t.mode&&this.modeProject()})}))},6:function(t,e,a){a(1).tag2(\"tombol-refres\",'<div class=\"refres-error\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 cursor-pointer tombol-refres\" onclick=\"{reload}\"><i class=\"mg-r-5 icon ion-ios-refresh-outline\"></i> Refresh</button> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{}),this.reload=()=>{t.cb(\"data\")}}))},9:function(t,e,a){a(1).tag2(\"date-picker\",'<div ref=\"datepicker\" class=\" color-grey-600 pull-right border-radius-10 d-sm-block no-shadow cursor-pointer\"> <i class=\"ion-calendar margin-right-10 cursor-pointer\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5 cursor-pointer\"></i> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{const e=this.refs.datepicker;var a=moment(t.since),i=moment(t.until);const n=t.type||\"range\";var s=localStorage.maxdate;let o={startDate:a,endDate:i,minYear:parseInt(moment().subtract(2,\"y\").format(\"YYYY\")),ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}};\"single\"===n&&(o.singleDatePicker=!0),s&&\"null\"!==s&&\"undefined\"!==s&&(o.maxDate=moment(s));const c=()=>{$(e).daterangepicker(o,(function(a,i){\"function\"==typeof t.cb&&t.cb(a.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),localStorage.since=a.format(\"YYYY-MM-DD\"),localStorage.until=i.format(\"YYYY-MM-DD\"),\"single\"===n?$(e).find(\"span\").html(a.format(\"MMMM D, YYYY\")):$(e).find(\"span\").html(a.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\"))})),\"single\"===n?$(e).find(\"span\").html(a.format(\"MMMM D, YYYY\")):$(e).find(\"span\").html(a.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\")),$(e).show(),\"function\"==typeof t.cb&&t.cb(a.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),this.maxdateavailable()};\"function\"!=typeof $(e).daterangepicker?(async()=>{let t=!1;for(let a=0;a<5&&(await new Promise((t,a)=>{\"function\"!=typeof $(e).daterangepicker?t=setTimeout(t,1e3):a(\"daterangepicker ready\")}).then(()=>console.log(\"wait for daterangepicker 1000ms\")).catch(e=>{console.log(e),c(),t=!0}),!t);a++);})():c()}),this.maxdateavailable=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:function(t){localStorage.setItem(\"maxdate\",t),this.update()}.bind(this)})}}))}}]);","extractedComments":[]}