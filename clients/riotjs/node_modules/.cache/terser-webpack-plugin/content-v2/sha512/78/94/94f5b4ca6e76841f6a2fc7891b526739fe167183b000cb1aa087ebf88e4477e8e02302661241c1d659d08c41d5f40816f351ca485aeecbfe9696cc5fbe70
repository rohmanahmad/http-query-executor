{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{134:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"infographicheader\",'<div class=\"row mb-4 desktopshow\"> <div class=\"col-md-7 col-7 pr-0 mg-t-10\"> <div class=\"row\"> <div class=\"col-md-1 col-1 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu\"> <div class=\"dropdown mg-b-1\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus icon-project-infg\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker2\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-4 col-4 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 border-topmenu\"> <div class=\"row\"> <div class=\"col-md-5 col-6 py-2 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 py-2 px-1\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> </div> </div> </div> <div class=\"col-md-1 col-1 p-0 a141 text-center f14 cursor-pointer\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10cursor-pointer height55 cursor-pointer\"> <b>Go</b> </button> </div> </div> </div> <div class=\"col-md-5 col-5 mt1\"> <div class=\"row pd-l-18\"> <div class=\"col-md-12 col-12 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"search-wrapper\"> <input type=\"text\" class=\"header-search f13 pd-10\" placeholder=\" &#xF002; Type to Search\" name=\"search\" ref=\"valuekey\" onclick=\"{searchfokus}\"> </div> </div> </div> </div> </div> <div class=\"row mb-4 d-block d-sm-none\"> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m\" width=\"100%\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate2\"> </div> </div> </div> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m1\" width=\"100%\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate2\"> </div> </div> </div> <div class=\"col-5 py-3 p-1 a141 text-center f10\"> <div class=\"row border-topmenu m-0 height40 pd-filter-bot-infg\"> <div class=\"col-md-5 col-6 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 p-0\"> <span class=\"{a9a : checkedval} off-mobile\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> <label class=\"switch\"> <input type=\"checkbox\"> <span class=\"slider round\"></span> </label> <span class=\"{a9a : !checkedval} on-mobile\" riot-style=\"font-weight: {bold : checkedval};\">ON</span> </div> </div> </div> <div class=\"col-1 py-3 p-1 a141 text-center f10\" onclick=\"{Gosend}\"> <div class=\"row border-topmenu m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu height40 pd-t-7r\"> <b>Go</b> </div> </div> </div> </div> </div> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-2 text-center pl-1\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <div class=\"dropdown dropdonw-mobile-infg\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus a141\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg mobile\" style=\"left: -11px !important;\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-10 text-center\"> <div class=\"row\"> <div class=\"col-md-6 offset-md-6 a141 pb-2 f14\" style=\"border-bottom: 1px solid #818080\"> <i class=\"fa fa-search\" aria-hidden=\"true\"></i> &nbsp; <input type=\"text\" class=\"header-search f13\" placeholder=\"Type to Search\" name=\"search\" style=\"border:none;\" ref=\"valuekey2\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.searchText=\"\",this.searchResult=[],this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[],this.on(\"mount\",()=>{$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"}),this.project(),this.update()}),this.Gosend=e=>{e.preventDefault();var t=this.refs.startdate.value?moment(this.refs.startdate.value).format(\"YYYY-MM-DD\"):moment(this.refs.startdate2.value).format(\"YYYY-MM-DD\"),i=this.refs.enddate.value?moment(this.refs.enddate.value).format(\"YYYY-MM-DD\"):moment(this.refs.enddate2.value).format(\"YYYY-MM-DD\");t=\"Invalid date\"!=t?t:localStorage.since,i=\"Invalid date\"!=i?i:localStorage.until;let s=this.refs.valuekey.value?this.refs.valuekey.value:this.refs.valuekey2.value;this.parent.search.since=t,this.parent.search.until=i,this.parent.search.q=s,this.parent.search.filterbot=this.checkedval,this.parent.render()},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:e=>{localStorage.setItem(\"projects\",JSON.stringify(e)),this.norequestProject(e)}})},this.norequestProject=e=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var t=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);e=this.reArrangeRecent(e,t);var i=Object(s.map)(e,(function(e,t){return{id:e.key_id,date:moment(e.key_start_date).format(\"DD MMMM YYYY\"),name:e.key_name,color:e.key_color,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}}));Object(s.map)(e,(function(e){return{id:e.key_id,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}}));this.selectedProject=!1,i.forEach((e,i)=>{t.indexOf(e.id)>-1?(e.checked=!0,this.selectedProject||(this.selectedProject=e,breadCrumb.project=e)):e.checked=!1,this.projects.push(e)}),this.recentProject=this.projects.slice(0,9),this.update()}},this.reArrangeRecent=(e,t)=>{let i=-1;if(e.some((function(e,s){if(t.indexOf(e.key_id)>=0&&i<0)return i=s,s})),i>0){let t=e[i];delete e[i],e.unshift(t),e=e.filter(e=>!!e),localStorage.setItem(\"projects\",JSON.stringify(e))}return e},this.searchProject=e=>{this.searchResult=[];let t=e.target.value;Object(s.each)(this.projects,e=>{e.name.toLowerCase().indexOf(t.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(e)}),t.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)}}))},135:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i(3);i(1).tag2(\"sentimentcompetititon\",'<div class=\"mg-t-30 \" each=\"{o,i in prjList}\"> <div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD POSITIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud positive</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive{i}\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud negative</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative{i}\" prj style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS ({o})</b> <br> <span class=\"f14 a141\">Top mentions and keyword phrase</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositivevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" if=\"{item.user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositivesvalue[i]}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegativevalue[i]}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in streamsnegativevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" if=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.isLoading=!0,this.dataWordcloudnegative={},this.dataWordcloudpositive={},this.topwordpositivesvalue={},this.topwordnegativevalue={},this.itemspositivevalue={},this.streamsnegativevalue={},this.render=()=>{let e=Object(s.clone)(this.parent.search);APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:e=>{this.projectList=e}}).done(()=>{this.createObject(e,this.projectList)})},this.createObject=(e,t)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let e in this.competitionProjects){const i=this.competitionProjects[e],a=Object(s.find)(t,{key_id:parseInt(i)});a&&a.key_name&&(this.prjList[i]=a.key_name)}var i=this.competitionProjects;setTimeout(()=>{this.topwordnegatives(e,i),this.topwordpositives(e,i),this.update_datanegative(e,i),this.update_datapositive(e,i),this.update({isLoading:!0})},1)},this.update_datapositive=(e,t)=>{e.section=\"positive\",e.limit=4e3,e.page=0,e.is_total=null,Object(a.a)(t,(i,a)=>{e.project=i,APP.apiGet({path:\"mentions/wordcloud\",data:e,success:o=>{let r=this.parent.component;r.sentimentcompetition=!0,6===Object(s.filter)(r,e=>e).length&&this.parent.updateid();let c=o&&o.items&&o.items.positive?o.items.positive:[],d=e.q;if(d)this.streamspositive(d,e,t);else{if(c.length>0)var l=c?c.map(e=>e[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else l=null;this.streamspositive(l,e,t)}var n=Object(s.concat)(c);if((n=Object(s.orderBy)(n,[1],[\"desc\"])).length>0){this.update({notdata:!1});const e=n[0][1];n.map(t=>{const i=t[0].length,s=parseInt(t[1]);let a=s/e*100;return i>20&&(a=10,s/e*100>60&&(a=s/e*50)),a<15&&(a=15),t[1]=a,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\"+i).show(),WordCloud(\"wordcloud_positive\"+i,{list:n,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\"+i).width()/1024),weightFactor:e=>e,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\"+i).html(\"Empty\"),$(\"#wordcloud_positive\"+i).show();a()}})})},this.update_datanegative=(e,t)=>{e.section=\"negative\",e.limit=4e3,e.page=0,e.is_total=null,Object(a.a)(t,(i,a)=>{e.project=i,APP.apiGet({path:\"mentions/wordcloud\",data:e,success:o=>{let r=o&&o.items&&o.items.negative?o.items.negative:[],c=e.q;if(c)this.streamsnegative(c,e,t);else{if(r.length>0)var d=r?r.map(e=>e[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else d=null;this.streamsnegative(d,e,t)}var l=Object(s.concat)(r);if((l=Object(s.orderBy)(l,[1],[\"desc\"])).length>0){this.update({notdata:!1});const e=l[0][1];l.map(t=>{const i=t[0].length,s=parseInt(t[1]);let a=s/e*100;return i>20&&(a=10,s/e*100>60&&(a=s/e*50)),a<15&&(a=15),t[1]=a,t}),this.dataWordcloudnegative[i]=l,$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\"+i).show(),WordCloud(\"wordcloud_negative\"+i,{list:l,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\"+i).width()/1024),weightFactor:e=>e,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\"+i).html(\"Empty\"),$(\"#wordcloud_negative\"+i).show();a()}})})},this.topwordpositives=(e,t)=>{this.topword=[],e.limit=6,e.page=0,e.section=\"positive\",Object(a.a)(t,(t,i)=>{e.project=t,APP.apiGet({path:\"mentions/phrase\",data:e,success:e=>{this.total2=e.length,this.topwordpositivesvalue[t]=e.items.slice(0,5),this.update({isLoading:!1})}})})},this.topwordnegatives=(e,t)=>{this.topword=[],e.page=0,e.section=\"negative\",Object(a.a)(t,(t,i)=>{e.project=t,APP.apiGet({path:\"mentions/phrase\",data:e,success:e=>{this.total2=e.length,this.topwordnegativevalue[t]=e.items.slice(0,5),this.update({isLoading:!1})}})})},this.streamspositive=(e,t,i)=>{APP.log(\"render Stream timeline\"),Object(a.a)(i,(e,i)=>{t.project=e;t.section=\"positive\",t.limit=5,t.group_service=!1;var s=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&(s+=a>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,a++);APP.apiPost({path:\"stream\"+s,success:t=>{this.itemspositivevalue[e]=t.item,this.update({isLoading:!1})}})})},this.streamsnegative=(e,t,i)=>{APP.log(\"render Stream timeline\"),Object(a.a)(i,(e,i)=>{t.project=e;t.section=\"negative\",t.limit=5,t.group_service=!1;var s=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&(s+=a>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,a++);APP.apiPost({path:\"stream\"+s,success:t=>{this.streamsnegativevalue[e]=t.item,this.update()}})})}}))},136:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"shareofdaily\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE (DAILY)</b> <br> <span class=\"f14 a141\">Comparison among source brand </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=()=>{let e=Object(s.clone)(this.parent.search);e.since=e.until,e.until=e.until,e.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:e,success:e=>{let t=this.parent.component;if(t.shareofdaily=!0,6===Object(s.filter)(t,e=>e).length&&this.parent.updateid(),0===(e=e).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});let i={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};var a=Object(s.orderBy)(e.items,[\"count\"],[\"desc\"]);a=a.map((function(t,s){var a=t.count/e.total*100;return s>7&&(s=7),{name:t.brand,y:parseFloat(a.toFixed(1)),z:i[s],totalvalue:t.count.formatMoney(0),color:t.color}})),this.update({isLoading:!1}),Highcharts.chart(\"var-donut\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.totalvalue}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:this.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:a}]})}})}}))},137:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"shareofvoicelast\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE (THE LAST {totadate} DAYS )</b> <br> <span class=\"f14 a141\">Comparison among source brand </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut-last\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.totadate=0,this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=()=>{let e=Object(s.clone)(this.parent.search),t=new Date(e.since),i=new Date(e.until);this.totadate=(i-t)/864e5+1,e.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:e,success:e=>{let t=this.parent.component;if(t.shareofvoicelast=!0,6===Object(s.filter)(t,e=>e).length&&this.parent.updateid(),0===(e=e).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});let i={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};var a=Object(s.orderBy)(e.items,[\"count\"],[\"desc\"]);a=a.map((function(t,s){var a=t.count/e.total*100;return s>7&&(s=7),{name:t.brand,y:parseFloat(a.toFixed(1)),z:i[s],totalvalue:t.count.formatMoney(0),color:t.color}})),this.update({isLoading:!1}),Highcharts.chart(\"var-donut-last\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.totalvalue}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:this.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:a}]})}})}}))}}]);","extractedComments":[]}