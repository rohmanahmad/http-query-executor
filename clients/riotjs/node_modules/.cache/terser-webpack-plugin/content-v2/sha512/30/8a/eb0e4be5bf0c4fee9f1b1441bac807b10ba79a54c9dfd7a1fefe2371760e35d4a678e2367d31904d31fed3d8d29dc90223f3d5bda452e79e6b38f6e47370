{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{233:function(t,e,i){\"use strict\";i.r(e);var a=i(0),s=i(52),n=i.n(s),o=(i(6),i(3));i(1).tag2(\"timeline-of-mentions\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title mr-auto\"> <img src=\"/assets/images/components/icons/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"masuk\"> TIMELINE OF MENTIONS </h6> <label class=\"ckbox mb-0 tx-11 cursor-pointer\"> <input type=\"checkbox\" class=\"cursor-pointer \" id=\"total_timeline_mentions\" checked=\"{checked:checked}\" onclick=\"{showTotal}\"> <span class=\"tx-uppercase\">Show Total</span> </label> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic Navigation\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <span class=\"mg-r-10 tx-11\" id=\"filter_by_timeline\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu pd-10 -wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterMentionTimeline}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterEngagementTimeline}\">Engagement</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterUniqueAuthorTimeline}\">Unique Author</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterReachTimeline}\">Reach</a> </nav> </div> </div> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"/assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <span class=\"textcenter\" if=\"{nodata && !Loader}\">No data found, please input another dates</span> <div class=\"row no-gutters tx-center h-timeline-of-mention height343-force\" id=\"chartSentimentpositivenegative\"> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.sentimen=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#279aff\",id:\"negative,positive,neutral,engagement,unique_author\",nameval:\"all\",name:\"All\",no:1},{color:\"#5dff27\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:2},{color:\"#ff4027\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:3},{color:\"#f3973e\",id:\"neutral\",nameval:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(a.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),$(\"#total_timeline_mentions\").is(\":checked\")?this.showTotalChart():(this.update(),this.render())},this.showTotal=t=>{const e=t.target.checked;this.parent.search.show_total=e,1==t.target.checked?this.showTotalChart():($(\"#chartSentimentpositivenegative\").html(\"\"),this.render())},this.filterMentionTimeline=t=>{this.parent.search.filter_by=\"mention\",$(\"#filter_by_timeline\").html(\"Mention\"),$(\"#total_timeline_mentions\").is(\":checked\")?this.showTotalChart():this.render()},this.filterEngagementTimeline=t=>{this.parent.search.filter_by=\"engagement\",$(\"#filter_by_timeline\").html(\"Engagement\"),$(\"#total_timeline_mentions\").is(\":checked\")?this.showTotalChart():this.render()},this.filterUniqueAuthorTimeline=t=>{this.parent.search.filter_by=\"unique_author\",$(\"#filter_by_timeline\").html(\"Unique Author\"),$(\"#total_timeline_mentions\").is(\":checked\")?this.showTotalChart():this.render()},this.filterReachTimeline=t=>{this.parent.search.filter_by=\"reach\",$(\"#filter_by_timeline\").html(\"Reach\"),$(\"#total_timeline_mentions\").is(\":checked\")?this.showTotalChart():this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const i=Object(a.find)(this.times,{selected:!0}).id;let s=Object(a.clone)(this.parent.search);s.group_service=\"false\",s.project=APP.currentProject,s.type=i,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var r=[];Object(o.a)(this.sentimentall,(i,n)=>{if(!this.isExist)return!1;s.section=i.id;this.chart=APP.apiGet({path:\"mentions\",data:s,success:t=>{t=t.items;let e=[];if(e=(t=Object(a.sortBy)(t,t=>moment(t.date).toDate())).map(t=>{let e=t.count;return[moment(t.date).utc().valueOf(),e]}),e.length>0){this.nodata=!1;let t=Object(a.groupBy)(e,0),i=[];Object.keys(t).forEach(e=>{const a=t[e].reduce((function(t,e){return t+e[1]}),0),s=[parseInt(e),a];i.push(s)}),i.length>0&&(e=i)}var s=0;Object(a.each)(e,(t,e)=>{s+=t[1]}),r.push({id:\"response\",shadow:!1,noid:s,name:i.name,nameval:i.nameval,type:\"engagement\"!==this.parent.search.filter_by?\"areaspline\":\"column\",lineWidth:1,color:i.color,colorval:i.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.color],[1,Highcharts.Color(i.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:e}),n()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),Object(a.isFunction)(t)&&t()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},n),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});const e=Object(a.result)(this.parent,\"updatesentimenval\",\"\").split(\",\");let o=Object(a.filter)(r,t=>e.indexOf(t.nameval)>-1);o=Object(a.orderBy)(o,[\"noid\"],[\"desc\"]),this.data=o,setTimeout(()=>{this.chart=n()(t,i,\"#868ba1\",s);for(var e=0;e<=o.length-1;e++)this.chart.addSeries(o[e])},500)}this.update({Loader:!1,isLoadingerror:!1}),Object(a.isFunction)(t)&&t()})},this.showTotalChart=()=>{this.update({Loader:!0});let t=Object(a.find)(this.times,{selected:!0}).id,i=Object(a.clone)(this.parent.search);i.group_service=\"false\",i.project=APP.currentProject,i.type=t,i.section=this.sentimentall[0].id,APP.apiGet({path:\"mentions\",data:i,success:e=>{let i=[{name:\"positive\",data:[]},{name:\"negative\",data:[]},{name:\"neutral\",data:[]}];const a=e.items.map(t=>{if(\"positive\"===t.sentiment)return[moment(t.date).utc().valueOf(),t.count]}),s=e.items.map(t=>{if(\"negative\"===t.sentiment)return[moment(t.date).utc().valueOf(),t.count]}),n=e.items.map(t=>{if(\"neutral\"===t.sentiment)return[moment(t.date).utc().valueOf(),t.count]}),o=a.filter(t=>{if(t&&t[1])return t}),r=s.filter(t=>{if(t&&t[1])return t}),l=n.filter(t=>{if(t&&t[1])return t}),c=o+r+l;i[0].color=\"#5dff27\",i[0].data=o,i[0].total=c,i[0].label={enabled:!0},i[1].color=\"#ff4027\",i[1].data=r,i[1].total=c,i[2].color=\"#f3973e\",i[2].data=l,i[2].total=c;const h={formatter:function(e){let i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==t?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==t&&(i=2592e6,a=\"MMMM YYYY\"),this.points.reduce((function(t,e){return t+'<br/><span style=\"color:'+e.series.color+';\">‚óè</span>'+e.series.name+\": \"+e.y}),\"<b>\"+moment(this.x).format(a)+\"</b><br/>Total : \"+this.points[0].total)},shared:!0};this.update({Loader:!1,isLoadingerror:!1}),Highcharts.setOptions({global:{useUTC:!1}}),Highcharts.chart(\"chartSentimentpositivenegative\",{chart:{type:\"column\"},plotOptions:{series:{stacking:\"overlap\",lineWidth:1}},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#868ba1\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{enabled:!0,style:{color:\"#868ba1\"},formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")}}},legend:{enabled:!1},exporting:{enabled:!1},series:i,tooltip:h})},error:t=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update())}})},this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.downloadcsv=()=>{const t=Object(a.cloneDeep)(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=Object(a.flatten)(t),i=Object(a.groupBy)(e,\"tgl\");let s=[],n=$(\"#filter_by_timeline\").html()||\"Mention\";n=\"Filter\"!=n?n:\"Mention\";for(let t in i){const e=Object(a.groupBy)(i[t],\"tipe\"),n=Object(a.result)(e,\"Positive[0].count\",0),o=Object(a.result)(e,\"Negative[0].count\",0),r=Object(a.result)(e,\"Neutral[0].count\",0),l=n+o+r;s.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD h:mm:ss\"),positive:n,negative:o,neutral:r,total:l})}s.length>0&&APP.downloadcsv(s,`Timelineofmentions_${p(\"project\")}_${n}`,!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},234:function(t,e,i){\"use strict\";i.r(e);var a=i(0);i(6);i(1).tag2(\"tophashtagandword\",'<div class=\"card mg-t-20 shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> <img src=\"assets/images/components/icons/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\">TOP HASHTAGS </h6> <div class=\"btn-group\" role=\"role\"> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 mg-t-6\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default mg-t-6\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </div> </div> <div class=\"card-body p-0 overflow-hidden\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader min-height569 \" if=\"{isLoading}\"></div> <div class=\"pd-10 min-height569\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-50\">No data found, please input another dates</div> </div> <table class=\"table table-striped -mb-0 min-height569 -overflowhidden w-100 mg-b-0\" if=\"{total != 0}\"> <thead> <tr> <th class=\"p-0 pl-3\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Sort Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11\" id=\"filter_by_top_hashtags\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force tx-normal\" onclick=\"{filterMentionTopHashtags}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force tx-normal\" onclick=\"{filterEngagementTopHashtags}\">Engagement</a> <a class=\"nav-link cursor-pointer tx-11-force tx-normal\" onclick=\"{filterUniqueAuthorTopHashtags}\">Unique Author</a> <a class=\"nav-link cursor-pointer tx-11-force tx-normal\" onclick=\"{filterReachTopHashtags}\">Reach</a> </nav> </div> </div> </div> </th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" if=\"{i < 5}\"> <td class=\"cursor-pointers py-3\" onclick=\"{tophastagsvalue}\"> <div class=\"row no-gutters mb-2\"> <div class=\"col-12 tx-14 tx-1-force \"> #{o._id.tag.length > 30 ? o._id.tag.substring(0,30) + \\'...\\' : o._id.tag} </div> </div> <div class=\"row no-gutters text-right \"> <div class=\"col-3 col-lg-6 col-xl-3\" title=\"{items.count}\"> {o.count.toLocaleString({ minimumFractionDigits: 2 })}<br> <span class=\"tx-10-force tx-gray-600-force\">Mention</span> </div> <div class=\"col-3 col-lg-6 col-xl-3\" title=\"{items.engagement}\"> {o.engagement.toLocaleString({ minimumFractionDigits: 2 })}<br> <span class=\"tx-10-force tx-gray-600-force\">Engagement</span> </div> <div class=\"col-3 col-lg-6 col-xl-3\" title=\"{items.users}\"> {o.users.toLocaleString({ minimumFractionDigits: 2 })}<br> <span class=\"tx-10-force tx-gray-600-force text-nowrap\">Unique Author</span> </div> <div class=\"col-3 col-lg-6 col-xl-3\" title=\"{items.reach}\"> {o.reach.toLocaleString({ minimumFractionDigits: 2 })}<br> <span class=\"tx-10-force tx-gray-600-force\">Reach</span> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0;var e=0;this.isLoadingerror=!1,this.filterMentionTopHashtags=t=>{this.parent.search.filter_by=\"mention\",$(\"#filter_by_top_hashtags\").html(\"Mention\"),this.render()},this.filterEngagementTopHashtags=t=>{this.parent.search.filter_by=\"engagement\",$(\"#filter_by_top_hashtags\").html(\"Engagement\"),this.render()},this.filterUniqueAuthorTopHashtags=t=>{this.parent.search.filter_by=\"unique_author\",$(\"#filter_by_top_hashtags\").html(\"Unique Author\"),this.render()},this.filterReachTopHashtags=t=>{this.parent.search.filter_by=\"reach\",$(\"#filter_by_top_hashtags\").html(\"Reach\"),this.render()},this.render=t=>{let i=Object(a.clone)(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,i.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:i,success:e=>{switch(this.total=e.items.length,this.items=e.items,this.parent.search.filter_by){case\"engagement\":this.items.countByFilter=this.items.engagement;break;case\"reach\":this.items.countByFilter=this.items.reach;break;case\"users\":this.items.countByFilter=this.items.users;break;default:this.items.countByFilter=this.items.count}this.update({isLoading:!1,isLoadingerror:!1,total:e.items.length}),Object(a.isFunction)(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(a.isFunction)(t)&&t()}})},this.tophastagsvalue=t=>{t.item.o._id.tag},this.downloadcsv=()=>{var t=this.items.map(t=>({count:t.count,engagement:t.engagement,users:t.users,reach:t.reach,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+p(\"project\"),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}