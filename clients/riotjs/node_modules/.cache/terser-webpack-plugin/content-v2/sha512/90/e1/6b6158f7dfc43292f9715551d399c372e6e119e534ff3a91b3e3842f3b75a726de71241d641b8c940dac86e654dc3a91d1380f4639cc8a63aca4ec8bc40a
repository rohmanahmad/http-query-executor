{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{128:function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartconfersation\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTION CONVERSATION </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstream_Conversation\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.composition=null,this.isExist=!0,this.isLoading=!1,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{}),this.dataProjects=[],this.render=()=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var t=this.parent.projectList||[];let e=_.clone(this.parent.search);const i=APP.currentProject,a=document.projectCompetition?document.projectCompetition:\"\",r=decodeURIComponent(`${i},${a}`),n=\"string\"==typeof r?r.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";const o=n.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{o.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var d=_.filter(this.dataProjects,(function(t){return t.checked}));e.project=n,e.section=\"\";const h=_.find(this.times,{selected:!0}).id;e.type=h;var c=d.map((function(t){return{name:t.name,color:t.color}})),l=_.reduce(c,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const m=this.composition=s()(\"chartstream_Conversation\",h,\"#333\");APP.apiGet({path:\"stream/brand/mention\",data:e,success:function(t){0===(t=t.items).length?this.update({notdata:!0}):this.update({notdata:!1});var e=_.groupBy(t,(function(t){return t.brand_name}));e=Object.keys(e).sort().reduce((t,i)=>(t[i]=e[i],t),{});for(let t in e){var i=_.sortBy(e[t],t=>moment(t.date).toDate());i=i.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),m.addSeries({id:\"response\",shadow:!1,name:t,lineWidth:4,color:l&&l[t]?l[t]:\"#d0d0d0\",type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,l&&l[t]?l[t]:\"#d0d0d0\"],[1,Highcharts.Color(l&&l[t]?l[t]:\"#d0d0d0\").setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:i});const a=m&&m.series&&m.series[0]&&m.series[0].data&&m.series[0].data?m.series[0].data:[],s=_.maxBy(a,t=>t&&t.y?t.y:{}),r=s&&s.y?parseInt(s.y):0,n=_.findIndex(a,t=>t.y===r);m.tooltip.refresh(a[n])}this.update({isLoading:!1})}.bind(this)}).readyState&&this.update({isLoading:!1})},1e3)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chart&&this.chart.destroy(),this.chartpositive&&this.chartpositive.destroy()})}))},131:function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartsentimentneutral\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS NEUTRAL </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartSentimentneutral\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#f3bc25\",id:\"neutral\",name:\"Neutral\"}],this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\");const i=_.find(this.times,{selected:!0}).id;e.type=i,this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var a=[];async.each(this.sentiment,(t,i)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}.bind(this)},i);this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentneutral\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,i,\"#333\"),r=0;r<=a.length-1;r++){e.addSeries(a[r]);const t=e&&e.series&&e.series[0]&&e.series[0].data&&e.series[0].data?e.series[0].data:[],i=_.maxBy(t,t=>t&&t.y?t.y:{}),s=i&&i.y?parseInt(i.y):0,n=_.findIndex(t,t=>t.y===s);e.tooltip.refresh(t[n])}}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},133:function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"charconversationgroup\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTION CONVERSATION (GROUP) </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstreamconversation\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentiment=[{color:\"#81c684\",id:\"negative,positive,neutral\",name:\"All\",no:1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{if(\"analysis/my-stream..\"==APP.currentHash||\"stream..\"==APP.currentHash){this.update({tombolrefres:!0})}else;this.nodata=!0;let e=_.clone(this.parent.search);e.group_service=\"false\";const i=_.find(this.times,{selected:!0}).id;e.type=i,\"domain/infographic..\"==APP.currentHash&&(e.project=APP.currentProject),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var a=[];async.each(this.sentiment,(t,i)=>{if(!this.isExist)return!1;e.section=t.id;APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}.bind(this)},(t,e,i)=>{}),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartstreamconversation\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,i,\"#333\"),r=0;r<=a.length-1;r++)e.addSeries(a[r]);const n=e&&e.series&&e.series[0]&&e.series[0].data&&e.series[0].data?e.series[0].data:[],o=_.maxBy(n,t=>t&&t.y?t.y:{}),d=o&&o.y?parseInt(o.y):0,h=_.findIndex(n,t=>t.y===d);e.tooltip.refresh(n[h])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},148:function(t,e,i){i(0).tag2(\"chart-daily-mention\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/calender-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> AVERAGE DAILY MENTION </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"chart-daily-mention\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.tombolrefres=!1,this.fontcolor=!1,this.createChart=t=>{const e=t.arrayData||[];if(e.length<=0)return!1;Highcharts.chart(\"chart-daily-mention\",{chart:{type:\"bubble\",zoomType:\"xy\",marginBottom:40,marginRight:10,plotHeight:150,chartHeight:150},colors:[\"#1D91B7\",\"#55ADC9\",\"#7DC4DB\",\"#AEDCEB\"],title:{text:\"\"},title:{text:\"\"},xAxis:{categories:[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],min:0,max:6,title:{text:\"\"},labels:{style:{fontSize:\"15px\"}}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative;font-size: 13px;'> \"+numeral(this.point.z).format(\"0a\")+\"</span>\"}}},bubble:{minSize:20,maxSize:60}},tooltip:{formatter:function(){return\"<strong>\"+this.total+\"</strong> mentions\"}},yAxis:{categories:[\"00 - 05\",\"06 - 11\",\"12 - 17\",\"18 - 23\"],min:0,max:3,title:{text:\"\"},labels:{style:{fontSize:\"15px\"}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{color:\"#1D91B7\",data:e}]})},this.render=()=>{this.xhr=APP.log(\"chart Average daily  : render\"),\"analysis/my-stream..\"==APP.currentHash?(this.fontcolor=!1,this.update({tombolrefres:!0})):this.fontcolor=!0;let t=_.clone(this.parent.search);t.type=null,this.update({isLoading:!0}),this.xhraverage=APP.apiGet({path:\"mentions/average-daily-mentions\",data:t,success:function(t){t=t.items;let e=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const a in t){let s=t[a];for(const t in s)e.push({x:i[t],y:parseInt(a-1),total:s[t],z:s[t]})}0===_.filter(e,(function(t){return 0!=t.total})).length?this.notdata=!0:this.update({notdata:!1}),this.createChart({arrayData:e}),this.update({isLoading:!1})}.bind(this)}),this.xhraverage.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},230:function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chart-sentiment-negative\",'<div class=\"header-title fontsizecolor\">MENTION NEGATIVE</div> <div class=\"panel padding-10-20\" if=\"{!nodata}\"> <div class=\"col-md-6\"> </div> <div class=\"clearfix\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div id=\"chartSentimentStream\" class=\"panel-body bg-white height400 \"> </div> </div> <div class=\"clearfix\"></div> <div class=\"panel height400\" if=\"{nodata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#ec8f8f\",id:\"negative\",name:\"Negative\"}],this.ajaxChannels=[],this.isExist=!0,this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\"),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var i=[];async.each(this.sentiment,(t,a)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:t.name,lineWidth:2,color:t.color,marker:{radius:3},data:s}),a()}.bind(this)});this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentStream\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t),a=0;a<=i.length-1;a++)e.addSeries(i[a])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))}}]);","extractedComments":[]}