{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{111:function(t,e,a){a(0).tag2(\"stream-composition\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> STREAM COMPOSITION </h6> </div> <div class=\" pd-y-15 bg-transparent min-height360 \"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped table-bordered mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white text-center tx-30-r10\">CHANNELS</th> <th class=\" text-center tx-white tx-30-r10\">TOTAL</th> <th class=\" text-center tx-white tx-30-r10\">POSITIVE</th> <th class=\" text-center tx-white tx-30-r10\">NEGATIVE</th> <th class=\" text-center tx-white tx-30-r10\">NEUTRAL</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\"> <th class=\"mobilestd text-center tx-white bg-gray-600 \" scope=\"row\">{o.name}</th> <td class=\"mobilestd text-center tx-black\">{o.total ? o.total.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.positive ? o.positive.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.negative ? o.negative.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.neutral ? o.neutral.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"5\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.fontcolor=!1,this.heighttotal=\"height: 480px\",this.fonttable=\"font-size: 30px;\",this.render=()=>{APP.log(\"influent-sosial : render\");const t=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search);e.type=t,this.update({isLoading:!0}),p(\"section\")?e.section=p(\"section\"):e.section=null,this.total=0,this.xhr=APP.apiGet({path:\"mentions/composition\",data:e,success:function(t){t=t.items;var e=[];_.each(t,t=>{\"Image\"==t.name?t.name=\"Instagram\":\"Portal\"==t.name&&(t.name=\"News\"),e.push(t)}),t=_.orderBy(t,[\"total\"],[\"desc\"]),this.update({total:t.length,items:t}),this.total=t.length,this.items=t}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},120:function(t,e,a){a(0).tag2(\"streams-neutral\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEUTRAL STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"{delete}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let a=_.clone(this.parent.search);a.type=e,a.section=\"neutral\",a.limit=4,a.project=p(\"project\"),a.group_service=!1;var i=\"\",s=0;for(let t in a)a[t]&&\"\"!=a[t]&&(i+=s>0?`&${t}=${encodeURIComponent(a[t])}`:`?${t}=${encodeURIComponent(a[t])}`,s++);this.xhrStream=APP.apiPost({path:\"stream\"+i,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})}}))},121:function(t,e,a){a(0).tag2(\"sentimentpositive\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> POSITIVE STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != \\'\\' && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let a=_.clone(this.parent.search);a.type=e,a.section=\"positive\",a.limit=4,a.q=t,a.project=p(\"project\"),a.group_service=!1;var i=\"\",s=0;for(let t in a)a[t]&&\"\"!=a[t]&&(i+=s>0?`&${t}=${encodeURIComponent(a[t])}`:`?${t}=${encodeURIComponent(a[t])}`,s++);console.log({url:i}),this.xhrStreams=APP.apiPost({path:\"stream\"+i,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStreams.readyState&&this.update({isLoading:!1,total:0})}}))},122:function(t,e,a){a(0).tag2(\"sentimentnegative\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEGATIVE STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" if=\"{!user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"{delete}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let a=_.clone(this.parent.search);a.type=e,a.section=\"negative\",a.limit=4,a.q=t,a.group_service=!1,a.project=p(\"project\");var i=\"\",s=0;for(let t in a)a[t]&&\"\"!=a[t]&&(i+=s>0?`&${t}=${encodeURIComponent(a[t])}`:`?${t}=${encodeURIComponent(a[t])}`,s++);this.xhrStreams=APP.apiPost({path:\"stream\"+i,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStreams.readyState&&this.update({isLoading:!1,total:0})}}))},125:function(t,e,a){a(0).tag2(\"tablemention\",'<div class=\"row no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TABLE OF MENTION </h6> </div> <div class=\"bg-transparent min-height360 \"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-20-r10\"> <thead> <tr class=\"toptable tx-20-r10 bg-gray-600\"> <th class=\" tx-white tx-20-r10\">NO</th> <th class=\" tx-white tx-20-r10\">PROJECT</th> <th class=\" text-right tx-white tx-20-r10\">POSITIVE</th> <th class=\" text-right tx-white tx-20-r10\">NEGATIVE</th> <th class=\" text-right tx-white tx-20-r10\">NEUTRAL</th> <th class=\" text-right tx-white tx-20-r10\">TOTAL</th> <th class=\" text-right tx-white tx-20-r10\">POTENSIAL REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in valuedataTable}\"> <th class=\"mobilestd tx-white bg-gray-600\" scope=\"row\">{i+1}</th> <th class=\"mobilestd tx-white bg-gray-600 \" scope=\"row\" each=\"{projectfilter}\" if=\"{id == Number(o.prj)}\">{name}</th> <td class=\"mobilestd text-right tx-black {bg-success:o.maxposbgcolor} {bg-danger:o.minposbgcolor}\">{o.positive ? o.positive.formatMoney(0) : 0} {o.pospresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxnegbgcolor} {bg-danger:o.minnegbgcolor}\">{o.negative ? o.negative.formatMoney(0) :0} {o.negpresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxneutbgcolor} {bg-danger:o.minneutbgcolor}\">{o.neutral ? o.neutral.formatMoney(0) : 0} {o.neutpresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxtotalbgcolor} {bg-danger:o.mintotalbgcolor}\">{o.total ? o.total.formatMoney(0) : 0}</td> <td class=\"mobilestd text-right tx-black {bg-success:maxpotentialbgcolor} {bg-danger:minpotentialbgcolor}\" each=\"{potentialreach}\" if=\"{Number(o.prj) == Number(prj)}\">{potential ? potential.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.totalreach=[],this.render=()=>{this.renderData(),this.renderreachdata()},this.renderreachdata=()=>{let t=_.clone(this.parent.search);t.group_service=\"true\";const e=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",i=decodeURIComponent(`${e},${a}`);var s=(\"string\"==typeof i?i.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\").split(\",\");this.potentialreach=[],async.each(s,(e,a)=>{t.project=e,APP.apiGet({path:\"summary/twitter\",data:t,success:t=>{t=t.items;let a=this.chacereachtotal[e]={potential:parseInt(t.top_reach_tw),prj:e};this.potentialreach.push(a)}}).done((function(){a()}))},()=>{var t=Math.max.apply(Math,this.potentialreach.map((function(t){return t.potential})));this.potentialreach=this.potentialreach.map((function(e){return t==e.potential?(e.maxpotentialbgcolor=!0,e):(e.maxpotentialbgcolor=!1,e)}));var e=Math.min.apply(Math,this.potentialreach.map((function(t){return t.potential})));this.potentialreach=this.potentialreach.map((function(t){return e==t.potential?(t.minpotentialbgcolor=!0,t):(t.minpotentialbgcolor=!1,t)}))})},this.renderData=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);const e=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",i=decodeURIComponent(`${e},${a}`),s=\"string\"==typeof i?i.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.validProjects=s;var n=s.split(\",\");this.dataarray=[],async.each(n,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{const i=(t=t.items).negative?parseInt(t.negative):0,s=t.positive?parseInt(t.positive):0,n=t.neutral?parseInt(t.neutral):0,r=i+s+n;this.chacetotal[e]=s+i+n,this.cachepositive[e]=100*s/this.chacetotal[e],this.cachenegative[e]=100*i/this.chacetotal[e],this.cacheneutral[e]=100*n/this.chacetotal[e];let l=this.cachesentimentmention[e]={negative:Number(i),negpresentase:\" (\"+this.cachenegative[e].formatMoney(2)+\"%)\",positive:Number(s),pospresentase:\" (\"+this.cachepositive[e].formatMoney(2)+\"%)\",neutral:Number(n),neutpresentase:\" (\"+this.cacheneutral[e].formatMoney(2)+\"%)\",total:r,prj:e};this.dataarray.push(l),this.isLoading=!1,this.sValue=t,this.update(),a()}}),this.update({isLoading:!1})},()=>{this.valuedataTable=_.orderBy(this.dataarray,[\"total\"],[\"desc\"]);var t=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.positive})));this.valuedataTable=this.valuedataTable.map((function(e){return t==e.positive?(e.maxposbgcolor=!0,e):(e.maxposbgcolor=!1,e)}));var e=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.positive})));this.valuedataTable=this.valuedataTable.map((function(t){return e==t.positive?(t.minposbgcolor=!0,t):(t.minposbgcolor=!1,t)}));var a=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.negative})));this.valuedataTable=this.valuedataTable.map((function(t){return a==t.negative?(t.maxnegbgcolor=!0,t):(t.maxnegbgcolor=!1,t)}));var i=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.negative})));this.valuedataTable=this.valuedataTable.map((function(t){return i==t.negative?(t.minnegbgcolor=!0,t):(t.minnegbgcolor=!1,t)}));var s=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.neutral})));this.valuedataTable=this.valuedataTable.map((function(t){return s==t.neutral?(t.maxneutbgcolor=!0,t):(t.maxneutbgcolor=!1,t)}));var n=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.neutral})));this.valuedataTable=this.valuedataTable.map((function(t){return n==t.neutral?(t.minneutbgcolor=!0,t):(t.minneutbgcolor=!1,t)}));var r=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.total})));this.valuedataTable=this.valuedataTable.map((function(t){return r==t.total?(t.maxtotalbgcolor=!0,t):(t.maxtotalbgcolor=!1,t)}));var l=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.total})));this.valuedataTable=this.valuedataTable.map((function(t){return l==t.total?(t.mintotalbgcolor=!0,t):(t.mintotalbgcolor=!1,t)})),this.update(),this.renderproject()}),this.renderproject=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name,time_add,key_color\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.getproject(t)},1e3),this.update()}.bind(this)})},this.dataProjects=[],this.getproject=t=>{t=t;const e=this.validProjects.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.projectfilter=_.filter(this.dataProjects,(function(t){return t.checked})),this.update()}}}))},150:function(t,e,a){a(0).tag2(\"summarybybrand\",'<div class=\"row no-gutters widget-1 mg-t-20\" id=\"34-summary-Bybrand-Twitter\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/twitter-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TWITTER </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"toptable tx-17-r10 bg-gray-600\"> <th class=\" tx-white text-center tx-17-r10\">Brand</th> <th class=\" tx-white text-center tx-17-r10\">Unique Account</th> <th class=\" tx-white text-center tx-17-r10\"> Potential Reach</th> <th class=\" tx-white text-center tx-17-r10\"> Top 10Potential Reach</th> <th class=\" tx-white text-center tx-17-r10\">Regular Tweet</th> <th class=\" tx-white text-center tx-17-r10\"> Re-Tweet</th> <th class=\" tx-white text-center tx-17-r10\">Avg Exposure</th> <th class=\" tx-white text-center tx-17-r10\">Reply</th> </tr> </thead> <tbody> <tr each=\"{o,i in twitter}\"> <th class=\"tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach10_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.retweet_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{Number(o.ae_tw).formatMoney(0)}</td> <td class=\"text-center tx-black\">{o.reply_tw.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 mg-t-20\" id=\"35-summary-Bybrand-Facebook\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/facebook-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> FACEBOOK </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"toptable tx-17-r10\"> <tr class=\"toptable tx-17-r10 bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">Brand</th> <td class=\" tx-white text-center tx-17-r10\">Unique Account (Post)</td> <td class=\" tx-white text-center tx-17-r10\">Regular Post (Fanpage)</td> <td class=\" tx-white text-center tx-17-r10\">#Comment (Fanpage)</td> <td class=\" tx-white text-center tx-17-r10\">Reply</td> </tr> </thead> <tbody> <tr each=\"{o,i in facebook}\"> <th class=\" tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_fb.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_fb.formatMoney(0)}</td> <td class=\" text-center tx-black\">0</td> <td class=\"text-center tx-black\">{o.reply_fb.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 mg-t-20\" id=\"35-summary-Bybrand-Facebook\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/instagram-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> INSTAGRAM </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"tx-17-r10 bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">Brand</th> <td class=\" tx-white text-center tx-17-r10\">Unique Account Post</td> <td class=\" tx-white text-center tx-17-r10\">Potential Reach</td> <td class=\" tx-white text-center tx-17-r10\">Top 10Potential Reach</td> <td class=\" tx-white text-center tx-17-r10\">Regular Post</td> <td class=\" tx-white text-center tx-17-r10\">#Comment</td> <td class=\" tx-white text-center tx-17-r10\">Reply</td> </tr> </thead> <tbody> <tr each=\"{o,i in instagram}\"> <th class=\"tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach10_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">0</td> <td class=\" text-center tx-black\">{o.reply_ig.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!1,this.xhr=null,this.chacheSummary={},this.render=()=>{APP.log(\"number summary : render\");let t=_.clone(this.parent.search);const e=t.project,a=document.projectCompetition?document.projectCompetition:\"\",i=decodeURIComponent(`${e},${a}`),s=\"string\"==typeof i?i.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";t.project=s,this.update({isLoading:!0}),APP.log(\"query summary\"),this.xhr=APP.apiGet({path:\"summary/bybrand\",data:t,success:t=>{this.data=t.items,this.facebook=_.orderBy(this.data,[\"regular_fb\"],[\"desc\"]),this.twitter=_.orderBy(this.data,[\"regular_tw\"],[\"desc\"]),this.instagram=_.orderBy(this.data,[\"regular_ig\"],[\"desc\"]),this.update({isLoading:!1})}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.data=null,this.xhr&&this.xhr.abort(),delete this.data})}))}}]);","extractedComments":[]}