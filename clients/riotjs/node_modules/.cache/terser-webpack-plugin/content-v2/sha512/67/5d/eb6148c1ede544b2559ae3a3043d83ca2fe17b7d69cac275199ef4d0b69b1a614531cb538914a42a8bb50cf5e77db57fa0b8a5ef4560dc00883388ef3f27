{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{114:function(t,i,e){e(0).tag2(\"wordcloud-positive\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudpositive titlebacground \">POSITIVE WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height720\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_positive\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudpositive titlebacground\">POSITIVE STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px; margin-top: 60px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-right;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,150)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> <div class=\"col-md-4\"> <h4 class=\"header-title pd-20 text-center\"><span class=\"bacgroudpositive titlebacground\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordpositive\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.isLoading=!0,this.notdata=!1,this.value={},this.update_data(),this.topwordpositive()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"positive\",t.limit=50,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(i){let e=i&&i.items&&i.items.positive?i.items.positive:[],s=t.q,a=\"\";s?this.streampositive(s):(e.length>0&&(a=_.orderBy(e,[1],[\"desc\"]).slice(0,5).map(t=>t[0]).join(\" or \")),this.streampositive(a));var o=_.concat(e);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=_.result(o,\"[0][1]\");o=o.map(i=>{const e=i[0].length,s=parseInt(i[1]);let a=s/t*100;return e>20&&(a=10,s/t*100>60&&(a=s/t*50)),a<15&&(a=15),i[1]=a,i}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\").show(),WordCloud(\"wordcloud_positive\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\").html(\" NO DATA\"),$(\"#wordcloud_positive\").show()}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordpositive=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streampositive=t=>{this.parent.refs.sentimentpositive.render(t),APP.log(\"render Stream timeline\");const i=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search),s=t||e.q;e.sort_by=\"comments\",e.sort_dir=\"desc\",e.type=i,e.section=\"positive\",e.limit=3,e.q=s,e.group_service=!1;var a=\"\",o=0;this.total=0;for(let t in e)e[t]&&\"\"!=e[t]&&(a+=o>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+a,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},115:function(t,i,e){e(0).tag2(\"wordcloud-neutral\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudneutral titlebacground \">NEUTRAL WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_neutral\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudneutral titlebacground\">NEUTRAL STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px; margin-top: 60px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-right;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16 textcenter\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,200)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.isLoading=!0,this.notdata=!1,this.value={},this.update_data()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"neutral\",t.limit=50,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(i){let e=i&&i.items&&i.items.all?i.items.all:[],s=t.q;if(s)this.streamneutral(s);else{if(e.length>0){e=_.orderBy(e,[1],[\"desc\"]);var a=e?e[0][0]:null}else a=\"\";this.streamneutral(a)}var o=_.concat(e);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(i=>{const e=i[0].length,s=parseInt(i[1]);let a=s/t*100;return e>20&&(a=10,s/t*100>60&&(a=s/t*50)),a<15&&(a=15),i[1]=a,i}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_neutral\").show(),WordCloud(\"wordcloud_neutral\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_neutral\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_neutral\").html(\" NO DATA\"),$(\"#wordcloud_neutral\").show()}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordpositive=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"neutral\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streamneutral=t=>{this.parent.refs.streams_neutral.render(t),APP.log(\"render Stream timeline\");const i=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search),s=e.q?e.q:t;e.type=i,e.section=\"neutral\",e.limit=3,e.q=s,e.group_service=!1;var a=\"\",o=0;this.total=0;for(let t in e)e[t]&&\"\"!=e[t]&&(a+=o>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+a,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},116:function(t,i,e){e(0).tag2(\"wordcloud-negative\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudnegative titlebacground\">NEGATIVE WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height720\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_negative\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-4\"> <h4 class=\"header-title pd-20 text-center\"><span class=\"bacgroudnegative titlebacground\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordnegative\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> <div class=\"col-md-8\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudnegative titlebacground\">NEGATIVE STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-auto;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,150)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.value={},this.xhr=null,this.render=()=>{this.update_data(),this.topwordnegative()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"negative\",t.limit=50,t.page=0,t.project=p(\"project\"),t.is_total=null;let i=\"\";this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(e){let s=e&&e.items&&e.items.negative?e.items.negative:[],a=t.q;a?this.streamsnegative(a):(s.length>0&&(i=_.orderBy(s,[1],[\"desc\"]).slice(0,5).map(t=>t[0]).join(\" or \")),this.streamsnegative(i));var o=_.clone(s);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(i=>{const e=i[0].length,s=parseInt(i[1]);let a=s/t*100;return e>20&&(a=10,s/t*100>60&&(a=s/t*50)),a<15&&(a=25),i[1]=a,i}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").show(),WordCloud(\"wordcloud_negative\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\").width()/1024),minSize:10,weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").html(\"NO DATA\"),$(\"#wordcloud_negative\").show();this.update({isLoading:!1})}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordnegative=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"negative\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streamsnegative=t=>{this.parent.refs.sentimentnegative.render(t),APP.log(\"render Stream timeline\");const i=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search),s=e.q?e.q:t;e.type=i,e.section=\"negative\",e.limit=3,e.q=s,e.group_service=!1;var a=\"\",o=0;for(let t in e)e[t]&&\"\"!=e[t]&&(a+=o>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+a,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},123:function(t,i,e){e(0).tag2(\"wordcloud-all\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/cloud-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> WORDCLOUD ALL </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{this.total==0 && !isLoading}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" if=\"{this.total!=0}\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive\"> <div id=\"wordcloud_all\" style=\"height:500px; width:100%;margin-top: -20px;\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.update_data()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!1});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.project=p(\"project\"),t.limit=50,t.page=\"\",t.section=\"\",t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:i=>{let e=i&&i.items&&i.items.all?i.items.all:[],s=t.q;if(s)this.parent.refs.streams_neutral.render(s);else{if(e.length>0)var a=e?e[0][0]:null;else a=\"\";this.parent.refs.streams_neutral.render(a)}this.update({total:e.length});const o=e[0]?e[0][1]:0;if(e.map(t=>{const i=t[0].length,e=parseInt(t[1]);let s=e/o*100;return i>20&&(s=10,e/o*100>60&&(s=e/o*50)),s<15&&(s=15),t[1]=s,t}),e.length>0){$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_all\").show();WordCloud(\"wordcloud_all\",{list:e,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:2})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})}}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,total:0})}}))},129:function(t,i,e){e(0).tag2(\"top-words\",'<div class=\"row no-gutters widget-1\" each=\"{val, id in items}\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP WORDS ({prjList ? prjList[id] : \\'x\\'}) </h6> </div> <div class=\" pd-y-15 bg-transparent ifg-height892 \" data-id=\"{id}\" data-firstid=\"{firstProject}\" data-iscombine=\"{isCombine}\" id=\"38-top-words{firstProject != id ? \\'_\\' + id : \\'\\'}\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white tx-30-r10\">Word</th> <th class=\" text-right tx-white tx-30-r10\">Amount</th> </tr> </thead> <tbody> <tr each=\"{items[id]}\"> <th class=\"mobilestd tx-black \" scope=\"row\">{key}</th> <td class=\"mobilestd text-right tx-black\">{length.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total[o] == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items={},this.render=()=>{_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);const i=\"string\"==typeof t.project?t.project.split(\",\"):t.project,e=this.parent.competitionProjects?_.concat(i,this.parent.competitionProjects):i;this.allProjects=_.filter(e.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),this.firstProject=i[0];let s=this.parent.projectList;s?this.createObject(t,s):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:t=>{s=t}}).done(()=>{this.parent.projectList=s,this.createObject(t,s)})},this.createObject=(t,i)=>{this.prjList={},this.reqtoprwords={};for(let t in this.allProjects){const e=parseInt(this.allProjects[t]),s=_.find(i,{key_id:e});s&&s.key_name&&(this.prjList[e]=this.isCombine?\"All\":s.key_name)}this.update({isLoading:!0}),this.isLoading=!0,t.is_total=\"false\",t.limit=\"\",t.page=\"\",t.section=\"\";var e=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);async.each(e,(i,e)=>{let s=null;this.isCombine?s=this.allProjects[0]:(i=parseInt(i),s=i),i?(t.project=i,this.reqtoprwords=APP.apiGet({path:\"stream/brand/topwords\",data:t,success:t=>{this.total[s]=t.count,this.items[s]=t.items,this.update()}}).done(()=>{e()})):e()},()=>{}),this.reqtoprwords&&this.reqtoprwords.readyState&&this.update({isLoading:!1,total:{}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null})}))},142:function(t,i,e){e(0).tag2(\"totalsentiment\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOTAL SENTIMENT </h6> </div> <div class=\"row\"> <div class=\"col-lg-6 ifg-sentiment ifg-total bg-blue-muda\" id=\"29-total-mentions\"> <div class=\"row\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-comments ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{total ? total.formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>TOTAL</b></span> </i> </div> </div> </div> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-orange\" each=\"{sentimentneutral}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-question-circle ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-success\" each=\"{sentimentpositive}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-thumbs-up ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-danger\" each=\"{sentimentnegative}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-thumbs-down ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\" font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.persentasedata=[],this.sentimentpositive=[{id:\"positive\",total:null,no:\"02\",persent:\"persentasepositive\",name:\"POSITIVE\",selected:!0,color:\"count-txt color-green-500\"}],this.sentimentnegative=[{id:\"negative\",total:null,no:\"03\",persent:\"persentasenegative\",name:\"NEGATIVE\",selected:!0,color:\"count-txt color-red-500\"}],this.sentimentneutral=[{id:\"neutral\",total:null,no:\"04\",persent:\"persentaseneutral\",name:\"NEUTRAL\",selected:!0,color:\"count-txt color-orange-500\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},1250)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const i=_.filter(this.sentiment,t=>t.selected),e=_.map(i,t=>t.id);t.cb(e.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.limit=\"\",t.page=\"\",APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const i=(t=t.items).negative?parseInt(t.negative):0,e=t.positive?parseInt(t.positive):0,s=t.neutral?parseInt(t.neutral):0;this.total=i+e+s,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:parseFloat(this.valueNegative.toFixed(1)),positive:parseFloat(this.valuePositive.toFixed(1)),neutral:parseFloat(this.valueNeutral.toFixed(1))},this.isLoading=!1,this.sValue=t,this.update()}.bind(this)})}}))},147:function(t,i,e){e(0).tag2(\"top-hashtags\",'<div class=\"row no-gutters widget-1\" each=\"{val, id in items}\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP HASHTAGS ({prjList ? prjList[id] : \\'x\\'}) </h6> </div> <div class=\" pd-y-15 bg-transparent ifg-height892 \" data-id=\"{id}\" data-firstid=\"{firstProject}\" data-iscombine=\"{isCombine}\" id=\"18-top-hashtags{firstProject != id ? \\'_\\' + id : \\'\\'}\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white tx-30-r10\">Hashtags</th> <th class=\" text-right tx-white tx-30-r10\">Amount</th> </tr> </thead> <tbody> <tr each=\"{items[id]}\"> <th class=\"mobilestd tx-black \" scope=\"row\">#{_id.tag}</th> <td class=\"mobilestd text-right tx-black\">{count.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total[o] == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0,this.items={},this.total={},this.render=()=>{APP.log(\"top hashtags : render\");_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);const i=\"string\"==typeof t.project?t.project.split(\",\"):t.project,e=this.parent.competitionProjects?_.concat(i,this.parent.competitionProjects):i;this.allProjects=_.filter(e.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),this.firstProject=i[0];let s=this.parent.projectList;s?this.createObject(t,s):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{s=t}}).done(()=>{this.parent.projectList=s,this.createObject(t,s)})},this.createObject=(t,i)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const e=parseInt(this.allProjects[t]),s=_.find(i,{key_id:e});s&&s.key_name&&(this.prjList[e]=this.isCombine?\"All\":s.key_name)}this.update({isLoading:!0}),this.isLoading=!0,t.is_total=\"false\";var e=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);async.each(e,(i,e)=>{let s=null;this.isCombine?s=this.allProjects[0]:(i=parseInt(i),s=i),i?(t.project=i,this.xhrtophashtags=APP.apiGet({path:\"mentions/hashtags\",data:t,success:t=>{this.total[s]=t.count,this.items[s]=t.items,this.update()}}).done(()=>{e()})):e()},()=>{}),this.xhrtophashtags&&this.xhrtophashtags.readyState&&this.update({isLoading:!1,total:{}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}