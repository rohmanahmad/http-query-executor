{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{154:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"prdash-channel\",'<nav class=\"navbar\"> <div class=\"box-outer-ch\"> <div class=\"arrow-left-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner-ch\"> <div class=\"thumbs1 nav-item fontline nav-space {active: on_allSelected} all btn\" onclick=\"{toggleAllOnline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(on_total ? on_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Online </a> </div> <div class=\" thumbs1 nav-item fontline nav-space {active: o.selected} a{i} btn\" id=\"pointer\" each=\"{o,i in ch_onlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav> <nav class=\"navbar \"> <div class=\"box-outer\"> <div class=\"arrow-left\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner\"> <div class=\"thumbs nav-item fontline nav-space {active: off_allSelected} all btn\" onclick=\"{toggleAllOffline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(off_total ? off_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Offline </a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlinesother}\" onclick=\"{toggle}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav>',\"\",\"\",(function(t){this.on_allSelected=!0,this.off_allSelected=!0,this.render=t=>{APP.log(\"prdash-channel: render\");var e=this.parent.search;APP.apiGet({path:\"prdash\",data:e,success:t=>{const a=e.service_category?e.service_category.split(\",\").map(Number):\"\";let s=this;s.ch_onlines=[],s.ch_offlines=[],s.on_total=0,s.off_total=0,Object(i.forEach)(t,(function(t){a?a.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0,t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(s.ch_onlines.push(t),t.selected&&(s.on_total+=t.cat_mentions)):(s.ch_offlines.push(t),s.off_total+=t.cat_mentions)})),this.chanel_offlines=s.ch_offlines.filter((function(t){return\"Other\"!=t.cat_name})),this.chanel_offlinesother=s.ch_offlines.filter((function(t){return\"Other\"==t.cat_name})),s.update(),this.parent.refs.prgraph.filterchannel(t)}})},this.toggleAllOnline=()=>{let t;APP.log(\"prdash-channel: toggleAllOnline\"),t=this.on_allSelected=!this.on_allSelected,Object(i.forEach)(this.ch_onlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggleAllOffline=()=>{let t;APP.log(\"prdash-channel: toggleAllOffline\"),t=this.off_allSelected=!this.off_allSelected,Object(i.forEach)(this.ch_offlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggle=t=>{APP.log(\"prdash-channel: toggle\"),t.item.o.selected=!t.item.o.selected;const e=Object(i.filter)(this.ch_onlines,(function(t){return t.selected})),a=Object(i.find)(e,{selected:!1}),s=Object(i.filter)(this.ch_offlines,(function(t){return t.selected})),n=Object(i.find)(s,{selected:!1});this.on_allSelected=!a,this.off_allSelected=!n,this.update(),this.channelSelected()},this.channelSelected=()=>{APP.log(\"prdash-channel: channelSelected\"),this.on_total=0,this.off_total=0;var e=Object(i.concat)(this.ch_onlines,this.ch_offlines),a=Object(i.filter)(e,(function(t){return t.selected}));Object(i.forEach)(a,t=>{t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(this.on_total+=t.cat_mentions,this.update()):this.off_total+=t.cat_mentions}),\"function\"==typeof t.cb&&t.cb(e)},this.on(\"mount\",()=>{APP.log(\"prdash-channel: mount\")}),$(window).resize((function(){$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"));$(\".box-inner\")[0].scrollWidth==$(\".box-outer\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"));$(\".box-inner-ch\")[0].scrollWidth==$(\".box-outer-ch\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))})),$(document).ready((function(){setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs\").length;t++)e.push($(\".thumbs\")[t].scrollWidth);var a=Object(i.sumBy)(e,(function(t){return t}));$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")),$(\".box-inner\")[0].scrollWidth>a&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"))},1e3),$(\"div.arrow-left\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t-50},1),0==$(\".box-inner\").scrollLeft()?($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")):($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\"))})),$(\"div.arrow-right\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t+50},1);var e=$(\".box-inner\")[0].scrollWidth-$(\".box-outer\")[0].scrollWidth;$(\".box-inner\").scrollLeft()>=e?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").removeClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"))})),setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs1\").length;t++)e.push($(\".thumbs1\")[t].scrollWidth);var a=Object(i.sumBy)(e,(function(t){return t}));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")),$(\".box-inner-ch\")[0].scrollWidth>a&&($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))},1e3),$(\"div.arrow-left-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t-300},1),0==$(\".box-inner-ch\").scrollLeft()?($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")):($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\"))})),$(\"div.arrow-right-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t+300},1);var e=$(\".box-inner-ch\")[0].scrollWidth-$(\".box-outer-ch\")[0].scrollWidth;$(\".box-inner-ch\").scrollLeft()>=e?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").removeClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"))}))}))}))},155:function(t,e,a){\"use strict\";a.r(e);var i=a(0),s=a(3),n=a.n(s);a(1).tag2(\"prdashchart\",'<div class=\"panel padding-10-20\" if=\"{nodata}\"> <div if=\"{loading}\" class=\"loader\"></div> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF MENTION</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> </div> <div class=\"clearfix\"></div> <div id=\"pr-ghstream\" class=\"panel-body bg-white height300\"></div> </div> <div class=\"panel txtcenter\" style=\"height:300px;\" if=\"{!nodata}\"> <div class=\"panel-body\">NO DATA</div> <div id=\"pr-ghstream\" class=\"\"></div> </div>',\"\",\"\",(function(t){this.chart=null,window.check=this,this.type=\"daily\",this.nodata=!0,this.loading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.prgraph={},this.selectTime=t=>{APP.log(\"prdash-graph: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(i.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.type=e,this.filterproc()},this.datapoints,this.render=()=>{this.loading=!0;let t=this.parent.search;APP.apiGetPR({path:\"report.php?action=lists\",data:t,success:function(t){t.items;this.datapoints=t.items,this.update(),this.filterproc()}.bind(this)}),APP.log(\"prdash-filter: render\")},this.filterproc=()=>{APP.log(\"prdash-filter: filterproc\");var t=this.datapoints;t=Object(i.map)(t,t=>{if(\"hourly\"===this.type)var e=moment(t.date_mod).format(\"YYYY-MM-DD HH\");if(\"daily\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM-DD\");if(\"monthly\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM\");let a=null;return a={id:t.rid,date:e,formatdate:moment(t.date_mod).format(\"YYYY-MM-DD\"),date_mod:t.date_mod,count:1},a}).reduce((t,e)=>(Object(i.isObject)(e)&&(t[e.date]?t[e.date].count++:t[e.date]=e),t),{});let e=[];Object(i.forEach)(t,(function(t,a){e.push([moment(t.formatdate).utc().valueOf(),t.count])}));const a=this.chart=n()(\"pr-ghstream\",this.type);e=Object(i.orderBy)(e,[\"x\"]),a.addSeries({id:\"response\",shadow:!1,name:\"Mention\",lineWidth:2,color:\"#1C8348\",marker:{radius:3},data:e}),this.update({loading:!1})}}))},46:function(t,e,a){\"use strict\";a.r(e);var i=a(0),s=a(3),n=a.n(s);a(1).tag2(\"chart-stream-metions\",'<div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/images/components/icons/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> STREAM OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a href=\"#\" onclick=\"{selectTime}\" class=\"btn {active:selected}\" each=\"{times}\">{name}</a> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\" mg-l-10 mg-t-7 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\"> ? </span> </div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter\" if=\"{nodata}\"> <div class=\"no-gutters tx-center textcenter mg-t-0 height400\"> No data found, please input another dates </div> </div> <div class=\"ripple-loader \" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter\" if=\"{!nodata}\"> <div class=\"row no-gutters tx-center height400\" id=\"chartstream\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(i.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{APP.log(\"chart streams : render\");const e=this.parent&&this.parent.refs&&this.parent.refs.channel&&this.parent.refs.channel.channels,a=Object(i.filter)(e,(function(t){return t.selected})),s=Object(i.find)(this.times,{selected:!0}).id;let l=Object(i.clone)(this.parent.search);l.type=s,l.group_service=\"false\",this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy(),this.nodata=!0;var o=[];async.eachLimit(a,10,(t,e)=>{if(!this.isExist)return!1;l.service_category=t.id;var a=APP.apiGet({path:\"mentions\",data:l,success:a=>{a=a.items;let s=[];s=(a=Object(i.sortBy)(a,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),o.push({id:\"response\",shadow:!1,name:t.name,valnameid:t.id,lineWidth:1,color:t.color,type:\"areaspline\",totaldata:Object(i.sumBy)(s,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),e()}},e);this.ajaxChannels.push(a)},()=>{if(this.update({isLoading:!1}),this.nodata)console.log(\"no data\");else{const t=\"chartstream\";this.update({nodata:this.nodata,isLoading:!1});let l=\"#868ba1\";o=Object(i.orderBy)(o,[\"totaldata\"],[\"desc\"]),this.data=o;for(var e=this.chart=n()(t,s,l),a=0;a<=o.length-1;a++)e.addSeries(o[a])}Object(i.isFunction)(t)&&t()})},500)},this.downloadcsv=()=>{const t=Object(i.cloneDeep)(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=Object(i.flatten)(t),a=Object(i.groupBy)(e,\"tgl\");let s=[];for(let t in a){const e=Object(i.groupBy)(a[t],\"tipe\"),n=Object(i.result)(e,\"Twitter[0].count\",0),l=Object(i.result)(e,\"Facebook[0].count\",0),o=Object(i.result)(e,\"Instagram[0].count\",0),r=Object(i.result)(e,\"News[0].count\",0),c=Object(i.result)(e,\"Blogs[0].count\",0),d=Object(i.result)(e,\"Video[0].count\",0),h=Object(i.result)(e,\"Forum[0].count\",0),v=n+l+o+r+c+d+h;s.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),twitter:n,facebook:l,instagram:o,news:r,blogs:c,video:d,forum:h,total:v})}s.length>0&&APP.downloadcsv(s,\"Stream_of_mentions_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,Object(i.each)(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))}}]);","extractedComments":[]}