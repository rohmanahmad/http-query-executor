{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{251:function(t,e,a){\"use strict\";a.r(e);var i=a(78);a(1).tag2(\"downloads-stream\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base\"> <div class=\"card-header borderbottom0\"> <div class=\"dropdown mg-r-10\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\"> <div class=\"ht-45 pd-x-20 bd d-flex align-items-center justify-content-center height40\"> <i if=\"{isXlsxActive || isJsonActive || isCsvxActive}\" class=\"fa fa-spinner fa-spin mg-r-10\"></i> <span class=\"mg-r-10 tx-13 tx-medium\">Download</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu pd-10 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"{isXlsxActive ? \\'nav-link disabled\\' : \\'nav-link cursor-pointer\\'}\" onclick=\"{() => exportStreams(⁗ xlsx⁗)}\"> <i if=\"{!isXlsxActive}\" class=\"fa fa-download tx-22\"></i> <i if=\"{isXlsxActive}\" class=\"fa fa-spinner fa-spin tx-22\"></i> XLS</a> <a class=\"{isCsvxActive ? \\'nav-link disabled\\' : \\'nav-link cursor-pointer\\'}\" onclick=\"{() => exportStreams(⁗ csv⁗)}\"> <i if=\"{!isCsvxActive}\" class=\"fa fa-download tx-22\"></i> <i if=\"{isCsvxActive}\" class=\"fa fa-spinner fa-spin tx-22\"></i> CSV </a> <a class=\"{isJsonActive ? \\'nav-link disabled\\' : \\'nav-link cursor-pointer\\'}\" onclick=\"{() => exportStreams(⁗ json⁗)}\"> <i if=\"{!isJsonActive}\" class=\"fa fa-download tx-22\"></i> <i if=\"{isJsonActive}\" class=\"fa fa-spinner fa-spin tx-22\"></i> JSON</a> </nav> </div> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading}\" each=\"{items}\" id=\"setvaleu{_id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(_id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"{replaceAvatarImage}\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"{replaceAvatarImage};\" name=\"{user.real_name ? user.real_name : user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{source}\" target=\"_blank\" class=\"tx-inverse\">{user.real_name ?                                 user.real_name : user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{source}\" target=\"_blank\" class=\"-metricsentimentone metricsentiment cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {service} </a></span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"likes {likes ? likes.formatMoney(0) : 0}\"> <i class=\" fa fa-thumbs-o-up\" aria-hidden=\"true\"></i> {likes ? likes.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"replies {shares ? shares.formatMoney(0) : 0}\"> <i class=\" fa fa-share-square-o\" aria-hidden=\"true\"></i> {shares ? shares.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"comments {comments ? comments.formatMoney(0) : 0}\"> <i class=\" fa fa-commenting\" aria-hidden=\"true\"></i> {comments ? comments.formatMoney(0) : 0} </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"view {views ? views.formatMoney(0) : 0}\"> <i class=\" fa fa-eye\" aria-hidden=\"true\"></i> {views ? views.formatMoney(0) : 0} </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"engagement {engagement ? engagement.formatMoney(0) : 0}\"> <i class=\"fa fa-line-chart\" aria-hidden=\"true\"></i> {engagement ?                                 engagement.formatMoney(0) : 0} </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"reach {reach ? reach.formatMoney(0) : 0}\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> {reach ? reach.formatMoney(0) : 0} </span> </div> </div> </div> <p class=\"{tx-17:opts.corection == \\'true\\'} mg-b-25 {tx-inverse:opts.corection == \\'true\\'} {color222:opts.corection == \\'false\\'} textjustify\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\" onerror=\"{replaceImageWithNoImage}\" name=\"{user.real_name ? user.real_name : user.name}\"> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-10\"> <div class=\"media-body mg-t-min-10\"> <div class=\"btn btn-outline-danger rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"{replaceImageWithNoImage}\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div> <table id=\"excelDataTable\" border=\"1\"> </table>','downloads-stream .nav-link.disable,[data-is=\"downloads-stream\"] .nav-link.disable{ pointer-events: none !important; cursor: default !important; color: white !important; background: gray !important; }',\"\",(function(t){i.default.bind(this)()}))},252:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(253);a(1).tag2(\"emotion-analysis\",'<div each=\"{o, i in validChannels}\"> <div class=\"card shadow-base overflow-hidden form-group\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title cursor-pointer d-flex justify-content-between mb-0\" onclick=\"{reloadEmotionByStream}\"> {o.name} </h6> </div> <div class=\"card-body pd-10 bd-color-gray-lighter \"> <div class=\"row w-100\"> <div class=\"col-sm-12 height500\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <emotion-by-channels ref=\"emotionbychannels_{o.tag}\"></emotion-by-channels> </div> </div> </div> </div> </div>','emotion-analysis .d-flex,[data-is=\"emotion-analysis\"] .d-flex{ display: flex; } emotion-analysis .justify-content-center,[data-is=\"emotion-analysis\"] .justify-content-center{ justify-content: center; } emotion-analysis .highcharts-figure,[data-is=\"emotion-analysis\"] .highcharts-figure,emotion-analysis .highcharts-data-table table,[data-is=\"emotion-analysis\"] .highcharts-data-table table{ margin: 0 auto; } emotion-analysis #chart-emotion,[data-is=\"emotion-analysis\"] #chart-emotion{ min-height: 900px; } emotion-analysis .highcharts-tooltip h3,[data-is=\"emotion-analysis\"] .highcharts-tooltip h3{ margin: 0.3em 0; } emotion-analysis .highcharts-data-table table,[data-is=\"emotion-analysis\"] .highcharts-data-table table{ font-family: Verdana, sans-serif; border-collapse: collapse; border: 1px solid #ebebeb; margin: 10px auto; text-align: center; width: 100%; max-width: 500px; } emotion-analysis .highcharts-data-table caption,[data-is=\"emotion-analysis\"] .highcharts-data-table caption{ padding: 1em 0; font-size: 1.2em; color: #555; } emotion-analysis .highcharts-data-table th,[data-is=\"emotion-analysis\"] .highcharts-data-table th{ font-weight: 600; padding: 0.5em; } emotion-analysis .highcharts-data-table td,[data-is=\"emotion-analysis\"] .highcharts-data-table td,emotion-analysis .highcharts-data-table th,[data-is=\"emotion-analysis\"] .highcharts-data-table th,emotion-analysis .highcharts-data-table caption,[data-is=\"emotion-analysis\"] .highcharts-data-table caption{ padding: 0.5em; } emotion-analysis .highcharts-data-table thead tr,[data-is=\"emotion-analysis\"] .highcharts-data-table thead tr,emotion-analysis .highcharts-data-table tr:nth-child(even),[data-is=\"emotion-analysis\"] .highcharts-data-table tr:nth-child(even){ background: #f8f8f8; } emotion-analysis .highcharts-data-table tr:hover,[data-is=\"emotion-analysis\"] .highcharts-data-table tr:hover{ background: #f1f7ff; }',\"\",(function(t){this.chartreemp=null,this.isLoading=!1,this.notdata=!1,this.isExist=!0,this.xhr=null,this.data={};let e=[];e.facebook=\"facebook\",e.twitter=\"twitter\",e.instagram=\"instagram\",e.youtube=\"video\",e[\"all-channels\"]=\"all-channels\";let a={\"all-channels\":{name:\"All Channels\",tag:\"all-channels\",series:[],totalSeries:[],postCount:0,commentCount:0,count:0},facebook:{name:\"Facebook\",tag:\"facebook\",series:[],totalSeries:[],postCount:0,commentCount:0,count:0},twitter:{name:\"Twitter\",tag:\"twitter\",series:[],totalSeries:[],postCount:0,commentCount:0,count:0},instagram:{name:\"Instagram\",tag:\"instagram\",series:[],totalSeries:[],postCount:0,commentCount:0,count:0},video:{name:\"Video\",tag:\"video\",series:[],totalSeries:[],postCount:0,commentCount:0,count:0}};this.validChannels=Object(i.cloneDeep)(a),this.allChannel={};let n={name:\"All Channels\",tag:\"all-channels\",keys:[\"name\",\"y\",\"color\"],series:[],totalSeries:[],total:0};this.reloadEmotion=t=>{this.render()},this.showTotalChart=()=>{$(\"#chartSentimentpositivenegative\").html(\"\"),this.render()},this.render=t=>{this.notdata=!1,this.isLoading=!0,this.isLoadingerror=!1,this.update(),this.refreshView=t=>{};const o=this.parent.isShowTotal;let s={...this.parent.search,filter_by:this.currentFilter};s.is_total=null,s.type=\"monthly\",this.xhr=APP.apiGet({path:\"emotion/emotionbyservice\",data:s,success:s=>{Object(i.isFunction)(t)&&t();const r=s.items;let l=Object(i.cloneDeep)(n);function c(t){const e=parseFloat(t.toFixed(2));return Number.isNaN(e)?0:e}this.validChannels=Object(i.cloneDeep)(a);let d={},m={};Object(i.each)(r,(t,a)=>{if(e[t.service]){const a=[t.emotion.trust,t.emotion.joy,t.emotion.surprise,t.emotion.anticipation,t.emotion.sad,t.emotion.fear,t.emotion.anger,t.emotion.disgust],n=Object(i.sum)(a);this.validChannels[e[t.service]].series.push({name:moment(t.date).format(\"MMMM\"),keys:[\"name\",\"y\",\"color\"],data:[[\"Trust\",n>0?c(t.emotion.trust/n*100):0,\"#001bff\"],[\"Joy\",n>0?c(t.emotion.joy/n*100):0,\"#00e0ff\"],[\"Surprise\",n>0?c(t.emotion.surprise/n*100):0,\"#48ff00\"],[\"Anticipation\",n>0?c(t.emotion.anticipation/n*100):0,\"#ffae00\"],[\"Sadness\",n>0?c(t.emotion.sad/n*100):0,\"#a200ff\"],[\"Fear\",n>0?c(t.emotion.fear/n*100):0,\"#ff007a\"],[\"Anger\",n>0?c(t.emotion.anger/n*100):0,\"#ff0000\"],[\"Disgust\",n>0?c(t.emotion.disgust/n*100):0,\"#980101\"]],total:n}),this.validChannels[e[t.service]].totalSeries.name=\"Total\",this.validChannels[e[t.service]].totalSeries.keys=[\"name\",\"y\",\"color\"],this.validChannels[e[t.service]].totalSeries.data?(this.validChannels[e[t.service]].totalSeries.data[0][1]+=t.emotion.trust,this.validChannels[e[t.service]].totalSeries.data[1][1]+=t.emotion.joy,this.validChannels[e[t.service]].totalSeries.data[2][1]+=t.emotion.surprise,this.validChannels[e[t.service]].totalSeries.data[3][1]+=t.emotion.anticipation,this.validChannels[e[t.service]].totalSeries.data[4][1]+=t.emotion.sad,this.validChannels[e[t.service]].totalSeries.data[5][1]+=t.emotion.fear,this.validChannels[e[t.service]].totalSeries.data[6][1]+=t.emotion.anger,this.validChannels[e[t.service]].totalSeries.data[7][1]+=t.emotion.disgust,this.validChannels[e[t.service]].totalSeries.total+=n):(this.validChannels[e[t.service]].totalSeries.data=[[\"Trust\",t.emotion.trust,\"#001bff\"],[\"Joy\",t.emotion.joy,\"#00e0ff\"],[\"Surprise\",t.emotion.surprise,\"#48ff00\"],[\"Anticipation\",t.emotion.anticipation,\"#ffae00\"],[\"Sadness\",t.emotion.sad,\"#a200ff\"],[\"Fear\",t.emotion.fear,\"#ff007a\"],[\"Anger\",t.emotion.anger,\"#ff0000\"],[\"Disgust\",t.emotion.disgust,\"#980101\"]],this.validChannels[e[t.service]].totalSeries.total=n);const o=moment(t.date).format(\"MMMM\");d[o]?(d[o].data[0]+=a[0],d[o].data[1]+=a[1],d[o].data[2]+=a[2],d[o].data[3]+=a[3],d[o].data[4]+=a[4],d[o].data[5]+=a[5],d[o].data[6]+=a[6],d[o].data[7]+=a[7],d[o].total+=n):d[o]={data:Object(i.clone)(a),total:n},m.data?(m.data[0]+=a[0],m.data[1]+=a[1],m.data[2]+=a[2],m.data[3]+=a[3],m.data[4]+=a[4],m.data[5]+=a[5],m.data[6]+=a[6],m.data[7]+=a[7],m.total+=n):m={data:Object(i.clone)(a),total:n},this.validChannels[e[t.service]].postCount+=t.post_count,this.validChannels[e[t.service]].commentCount+=t.comment_count,this.validChannels[e[t.service]].count+=t.count}}),Object(i.each)(d,(t,e)=>{l.series.push({name:e,data:[[\"Trust\",t.total>0?c(t.data[0]/t.total*100):0,\"#001bff\"],[\"Joy\",t.total>0?c(t.data[1]/t.total*100):0,\"#00e0ff\"],[\"Surprise\",t.total>0?c(t.data[2]/t.total*100):0,\"#48ff00\"],[\"Anticipation\",t.total>0?c(t.data[3]/t.total*100):0,\"#ffae00\"],[\"Sadness\",t.total>0?c(t.data[4]/t.total*100):0,\"#a200ff\"],[\"Fear\",t.total>0?c(t.data[5]/t.total*100):0,\"#ff007a\"],[\"Anger\",t.total>0?c(t.data[6]/t.total*100):0,\"#ff0000\"],[\"Disgust\",t.total>0?c(t.data[7]/t.total*100):0,\"#980101\"]],total:t.total,keys:[\"name\",\"y\",\"color\"]})});const h=Object(i.result)(m,\"data\",[]);l.totalSeries={name:\"Total\",data:[[\"Trust\",h[0],\"#001bff\"],[\"Joy\",h[1],\"#00e0ff\"],[\"Surprise\",h[2],\"#48ff00\"],[\"Anticipation\",h[3],\"#ffae00\"],[\"Sadness\",h[4],\"#a200ff\"],[\"Fear\",h[5],\"#ff007a\"],[\"Anger\",h[6],\"#ff0000\"],[\"Disgust\",h[7],\"#980101\"]],total:m.total,keys:[\"name\",\"y\",\"color\"]},this.allChannel=l,this.validChannels[\"all-channels\"]=this.allChannel,Object(i.each)(this.validChannels,(t,e)=>{if(t.totalSeries){const e=t.totalSeries.data;e&&Object(i.each)(e,(e,a)=>{t.totalSeries.total>0?e[1]=c(e[1]/t.totalSeries.total*100):e[1]=0})}}),this.update(),Object(i.each)(this.validChannels,(t,e)=>{this.refs[\"emotionbychannels_\"+t.tag].isLoading=!0,this.refs[\"emotionbychannels_\"+t.tag].channelName=t.name,this.refs[\"emotionbychannels_\"+t.tag].tag=t.tag,this.refs[\"emotionbychannels_\"+t.tag].channelData=o?[t.totalSeries]:t.series,this.refs[\"emotionbychannels_\"+t.tag].postCount=t.postCount,this.refs[\"emotionbychannels_\"+t.tag].commentCount=t.commentCount,this.xhrdata=this.refs[\"emotionbychannels_\"+t.tag].render()}),this.isLoading=!1,this.update({isLoading:!1,isLoadingerror:!1})},error:e=>{\"undefined\"!=typeof limitRequest&&(limitRequest++,limitRequest<3&&setTimeout(()=>{this.render()},3e3),limitRequest>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(t)&&t()}})}}))},253:function(t,e,a){\"use strict\";a.r(e);a(0);a(1).tag2(\"emotion-by-channels\",'<div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"textcenter mg-t-20\" if=\"{notdata}\">No data found, please input another dates</div> <figure class=\"highcharts-figure d-flex justify-content-center\"> <div class=\"w-100\"> <div id=\"chart-emotion_{tag}\" class=\"emotion-chart\" if=\"{!notdata}\"></div> </div> </figure>','emotion-by-channels .d-flex,[data-is=\"emotion-by-channels\"] .d-flex{ display: flex; } emotion-by-channels .justify-content-center,[data-is=\"emotion-by-channels\"] .justify-content-center{ justify-content: center; } emotion-by-channels .highcharts-figure,[data-is=\"emotion-by-channels\"] .highcharts-figure,emotion-by-channels .highcharts-data-table table,[data-is=\"emotion-by-channels\"] .highcharts-data-table table{ margin: 1em auto; } emotion-by-channels #chart-emotion,[data-is=\"emotion-by-channels\"] #chart-emotion{ min-height: 900px; } emotion-by-channels .emotion-chart,[data-is=\"emotion-by-channels\"] .emotion-chart{ height: 500px; } emotion-by-channels .highcharts-tooltip h3,[data-is=\"emotion-by-channels\"] .highcharts-tooltip h3{ margin: 0.3em 0; } emotion-by-channels .highcharts-data-table table,[data-is=\"emotion-by-channels\"] .highcharts-data-table table{ font-family: Verdana, sans-serif; border-collapse: collapse; border: 1px solid #ebebeb; margin: 10px auto; text-align: center; width: 100%; max-width: 500px; } emotion-by-channels .highcharts-data-table caption,[data-is=\"emotion-by-channels\"] .highcharts-data-table caption{ padding: 1em 0; font-size: 1.2em; color: #555; } emotion-by-channels .highcharts-data-table th,[data-is=\"emotion-by-channels\"] .highcharts-data-table th{ font-weight: 600; padding: 0.5em; } emotion-by-channels .highcharts-data-table td,[data-is=\"emotion-by-channels\"] .highcharts-data-table td,emotion-by-channels .highcharts-data-table th,[data-is=\"emotion-by-channels\"] .highcharts-data-table th,emotion-by-channels .highcharts-data-table caption,[data-is=\"emotion-by-channels\"] .highcharts-data-table caption{ padding: 0.5em; } emotion-by-channels .highcharts-data-table thead tr,[data-is=\"emotion-by-channels\"] .highcharts-data-table thead tr,emotion-by-channels .highcharts-data-table tr:nth-child(even),[data-is=\"emotion-by-channels\"] .highcharts-data-table tr:nth-child(even){ background: #f8f8f8; } emotion-by-channels .highcharts-data-table tr:hover,[data-is=\"emotion-by-channels\"] .highcharts-data-table tr:hover{ background: #f1f7ff; }',\"\",(function(t){this.chartreemp=null,this.isLoading=!1,this.notdata=!1,this.isExist=!0,this.xhr=null,this.channelName=\"\",this.tag=\"\",this.channelData=[],this.postCount=0,this.commentCount=0,this.reloadEmotion=t=>{this.render()},this.render=t=>{this.notdata=!1,this.isLoading=!0,this.isLoadingerror=!1,this.update(),this.refreshView=t=>{},this.update(),Highcharts.chart(\"chart-emotion_\"+this.tag,{chart:{type:\"bar\",plotBorderWidth:1,zoomType:\"xy\",inverted:!0,marginTop:50,marginRight:50},legend:{enabled:!0},title:{text:\"EMOTION ANALYSIS\"},subtitle:{enabled:!1,text:\"\"},accessibility:{point:{valueDescriptionFormat:\"{index}. {point.name}, category : {point.x}, value: {point.y}.\"}},yAxis:{min:0,max:100,gridLineWidth:1,title:{text:\"percentage\"},labels:{format:\"{value} %\"},plotLines:[{color:\"blue\",dashStyle:\"dot\",width:2,value:50,label:{rotation:0,y:15,style:{fontStyle:\"italic\"}},zIndex:3}],accessibility:{rangeDescription:\"Range: 100% max.\"}},xAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Emotions\"},categories:[\"Trust\",\"Joy\",\"Surprise\",\"Anticipation\",\"Sadness\",\"Fear\",\"Anger\",\"Disgust\"],type:\"category\",labels:{format:\"{value}\"},maxPadding:.2,plotLines:[{color:\"black\",dashStyle:\"dot\",width:1,value:0,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:1,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:2,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:3,zIndex:3},{color:\"blue\",dashStyle:\"dot\",width:2,value:3.5},{color:\"black\",dashStyle:\"dot\",width:1,value:4,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:5,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:6,zIndex:3},{color:\"black\",dashStyle:\"dot\",width:1,value:7,zIndex:3}],accessibility:{rangeDescription:\"Categories: Emotion Analysis.\"}},tooltip:{useHTML:!0,formatter:function(){return\"<table>\"+('<tr><th colspan=\"2\"><h3>'+this.key+\"</h3></th></tr><tr><th>Series:</th><td>\"+this.series.name+\"</td></tr><tr><th>Value:</th><td>\"+this.point.y+\"%</td></tr>\")+\"</table>\"},followPointer:!0},plotOptions:{bar:{dataLabels:{enabled:!0,format:\"{series.name} {point.y}%\"},size:\"40%\"}},series:this.channelData}),this.update({isLoading:!1,isLoadingerror:!1})}}))},78:function(t,e,a){\"use strict\";a.r(e);var i=a(0),n=a(20);a(14);function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===a&&t.constructor&&(a=t.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(t);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return(e=function(t){var e=function(t,e){if(\"object\"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||\"default\");if(\"object\"!==o(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default=function(){var t=this;this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.isXlsxActive=!1,this.isCsvxActive=!1,this.isJsonActive=!1,this.userLoadingSentiment,this.xhr=null;this.dataStreams=[],this.ontotal=0,this.idtotal={},this.showForm=function(e){var a=e.item._id;t.error=!1,t.jumalahtotal=t.ontotal+1,t.ontotal=t.jumalahtotal,t.idtotal[t.jumalahtotal]=a,t.idtotal[t.jumalahtotal-1]==a?t.hiddenForm[a]?t.hiddenForm[a]=!1:t.hiddenForm[a]=!0:(t.hiddenForm[a]=!0,t.hiddenForm[t.idtotal[t.jumalahtotal-1]]=!1),setTimeout((function(){}),1),t.update()},this.updateKeyword=function(e){var a=e.item._id,i=p(\"project\")?p(\"project\"):APP.getProject(),n=t.refs.sentimentValue.value,o=t.refs.inputValue.value,s={project:i,type:n,value:o};o?APP.apiGet({path:\"stream/correction/append\",data:s,success:function(e){$.notify(\"Sentiment changed to \"+n,\"info\"),t.hiddenForm[a]=!1,t.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:function(e){t.update({Loading:!0,isLoading:!0}),t.query.page=(e-1)*t.query.limit,t.render(),\"true\"==t.opts.corection?$(\"body,html\").animate({scrollTop:290},500):$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalf=function(e){t.modalName=e.item.user.name,t.imgmodal=e.item.image},this.changeLimit=function(e){APP.log(\"change stream limit\"),t.pagelimitvalue=e.target.value,t.update({isLoading:!0}),e.preventDefault(),t.query.limit=parseInt(e.target.value),t.query.page=0,t.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(t),2e3),t.render()},this.isLoadingset=function(e){return t.userLoadingSentiment===e},this.on(\"mount\",(function(){t.isLoading=!0,t.isLoad=!0,t.filter=!1,t.xhr=null,t.refs.limitPage.value=pageLimit,t.update()})),this.integrasi=function(e){e.preventDefault(),APP.log(\"integrate stream\");var a=e.item.service,i=e.item._id;\"twitter\"==a&&(t.userLoadingSentiment=i,e.item.is_connect_sociomile=!0),t.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\".concat(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:function(e,a,i){APP.error(e),t.userLoadingSentiment=void 0,t.render(),t.update()},success:function(e){APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+i+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),t.userLoadingSentiment=void 0,t.update()}})},this.valueidcheck={},this.setSentiment=function(e){e.preventDefault(),APP.log(\"setting sentiment\");var a=e.target.id,i=e.item._id;t.search.streamid=i,t.search.sentiment=a,$(\"#setvaleu\"+i+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #\"+a).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:t.search,success:function(n){if($.notify(\"Sentiment changed to \"+t.search.sentiment,\"info\"),t.valueidcheck[i])var o=t.valueidcheck[i];else o=e.item.sentiment.value;0!=o&&null!=o||t.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==a&&t.parent.refs.sentiment.update_dataneutrla(1),1==o&&t.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==a&&t.parent.refs.sentiment.update_datapositive(1),-1==o&&t.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==a&&t.parent.refs.sentiment.update_datanegative(1);var s=\"positive\"===a?1:(a=\"negative\")?-1:0;t.valueidcheck[i]=s,t.userLoadingSentiment=void 0,t.update()}})},this.deletes=function(e){e.preventDefault(),APP.log(\"deleting stream\");var a=e.item._id;t.search.streamid=a,APP.apiGet({path:\"stream/delete_stream\",data:t.search,parse_data:!0,success:function(e){$(\"#setvaleu\"+a).fadeOut(1),t.parent.refs.sentiment.update_data(),t.parent.setTotal()}})},this.render=function(){APP.log(\"render Stream timeline\");var e=Object(i.find)(t.times,{selected:!0}),a=Object(i.map)(t.parent.channels,(function(t){return t.id})),n=t.parent.search;n.type=e,n.limit=t.query.limit,n.page=t.query.page,n.useDetail=!0,n.pagination=\"yes\",n.service_category=a.join(\",\");var o=\"\",s=0;for(var r in n)n[r]&&\"\"!=n[r]&&(o+=s>0?\"&\".concat(r,\"=\").concat(encodeURIComponent(n[r])):\"?\".concat(r,\"=\").concat(encodeURIComponent(n[r])),s++);t.xhr=APP.apiPost({path:\"stream\".concat(o),success:function(e,a,i){t.datastreams=e.item;var n=e.item;e.total;n&&(n=n.map((function(t){return t.checked=!1,t}))),t.items=n,t.total=t.items.length,t.pagination.pages=Math.ceil(e.total/t.query.limit),t.isLoad=!1,t.Loading=!1,t.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),t.update({isLoading:!1}),t.opts.corection}})},this.rendermax=function(e){var a=t.parent.search;a.pagination=\"yes\",a.limit=10;var i=\"\",n=0;for(var o in a)a[o]&&\"\"!=a[o]&&(i+=n>0?\"&\".concat(o,\"=\").concat(encodeURIComponent(a[o])):\"?\".concat(o,\"=\").concat(encodeURIComponent(a[o])),n++);t.xhr=APP.apiPost({path:\"stream\".concat(i),success:function(t,e,a){}})},this.doDownload=function(t){window.open(t,\"_blank\")},this.getExportStreamState=function(e){return\"csv\"==e?t.isCsvxActive:\"xlsx\"==e?t.isXlsxActive:\"json\"==e?t.isJsonActive:void 0},this.exportStreamsLoading=function(e,a){\"csv\"==e?t.isCsvxActive=a:\"xlsx\"==e?t.isXlsxActive=a:\"json\"==e&&(t.isJsonActive=a)},this.formatLabels=function(t,e){var a=[];if(!t||0==t.length)return a;switch(e){case\"since\":a.push({value:moment(t).format(\"YYYY-MM-DD\"),key:e}),a.push({value:moment(t).format(\"HH:mm\"),key:\"since_time\"});break;case\"until\":a.push({value:moment(t).format(\"YYYY-MM-DD\"),key:e}),a.push({value:moment(t).format(\"HH:mm\"),key:\"until_time\"});break;case\"project\":t.forEach((function(t){a.push({key:\"project\",value:String(t)})}));break;case\"service_category\":t.forEach((function(t){a.push({key:e,value:t})}));break;case\"query\":a.push({key:e,value:t});break;case\"domain\":case\"author\":t.forEach((function(t){a.push({key:e,value:t})}));break;case\"type\":a.push({key:e,value:t})}return a},this.exportStreams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"csv\",a=t;if(!t.getExportStreamState(e)){t.exportStreamsLoading(e,!0),t.update();var i=c({},t.parent.search),n=_.result(localStorage,\"filter_timesince\",\"00:00:00\"),o=_.result(localStorage,\"filter_timeuntil\",\"23:59:59\"),r=_.result(i,\"since\",moment().startOf(\"day\").format(\"YYYY-MM-DD\")),l=_.result(i,\"until\",moment().endOf(\"day\").format(\"YYYY-MM-DD\"));if(i.since=moment(\"\".concat(r,\" \").concat(n)),i.until=moment(\"\".concat(l,\" \").concat(o)),\"\"==n&&(i.since=i.since.startOf(\"day\")),\"\"==o&&(i.until=i.until.endOf(\"day\")),!i.since.isValid())return $.notify(\"since invalid date format\",\"error\"),t.exportStreamsLoading(e,!1),void t.update();if(!i.until.isValid())return $.notify(\"until invalid date format\",\"error\"),t.exportStreamsLoading(e,!1),void t.update();i.project=_.result(i,\"project\",\"\").trim().toLowerCase().split(\",\").filter((function(t){return t})).map((function(t){return Number(t)})),i.service_category=_.result(i,\"service_category\",\"\").trim().toLowerCase().split(\",\").filter((function(t){return t})),i.query=_.result(i,\"q\",\"\"),i.domain=_.result(i,\"domain\",\"\").trim().toLowerCase().split(\",\").filter((function(t){return t})),i.author=_.result(i,\"author\",\"\").trim().toLowerCase().split(\",\").filter((function(t){return t})),i.tag=_.result(i,\"taging\",\"\").trim().toLowerCase().split(\",\").filter((function(t){return t}));var d=[\"since\",\"until\",\"project\",\"service_category\",\"query\",\"domain\",\"author\",\"tag\",\"type\"],m=[];i.type=e,d.forEach((function(e){d.includes(e)&&(m=[].concat(s(m),s(t.formatLabels(i[e],e))))})),delete i.q,m=[].concat(s(m),[{key:\"user_id\",value:localStorage.userid}]),APP.apiPost({path:\"task/create\",contentType:\"application/json charset=utf-8\",data:JSON.stringify({name:\"export_stream_raw_\".concat(i.since.format(\"YYYY-MM-DD HH:mm\"),\"_\").concat(i.until.format(\"YYYY-MM-DD HH:mm\"),\"_\").concat(i.project.join(\"-\")),namespace:\"default\",type:\"export_stream\",description:\"simple task\",chedulerType:0,labels:m,payload:JSON.stringify(i)}),success:function(t){$.notify(\"Download Streams has been scheduled\",\"info\"),APP.apiPut({path:\"task/start\",data:{id:t.result.id,type:\"export_stream\"},success:function(){a.exportStreamsLoading(e,!1),$.notify(\"starting task export_stream \".concat(t.result.id,\" sucess\"),\"info\"),a.update()},error:function(){a.exportStreamsLoading(e,!1),$.notify(\"starting task failed, please check the background task menu\",\"error\"),a.update()}})},error:function(){a.exportStreamsLoading(e,!1),$.notify(\"Download Streams failed to scheduled\",\"error\"),a.update()}})}},this.downloadJson=function(){var e=t.datastreams;e=Object(i.map)(e,(function(t,e){var a=t.sentiment.value;return{service:t.service,date:moment(t.date).format(\"YYYY/MM/DD\"),time:moment(t.date_format).format(\"h:mm:ss \"),message:t.text,user:t.user.name,follower:t.user.followers?t.user.followers:0,sentiment:0==a?\"neutral\":a>0?\"positive\":\"negative\",url:t.source}}));var a=JSON.stringify(e);t.downloadrenderjson(a,\"streams\",\"json\")},this.downloadrenderjson=function(t,e,a){var i=document.createElement(\"a\"),n=new Blob([t],{type:a});i.href=URL.createObjectURL(n),i.download=e+\".json\",i.click()},this.reload=function(){t.Loading=!0,t.render()},this.on(\"unmount\",(function(){t.xhr&&t.xhr.abort(),delete t.xhr})),this.replaceImageWithNoImage=function(t){Object(n.replaceImageWithNoImage)(t)},this.replaceAvatarImage=function(t){var e=Object(i.result)(t.item,\"o.user.real_name\",\"No Image\");Object(n.replaceImgSourceWithRandomImg)(t,e)}}}}]);","extractedComments":[]}