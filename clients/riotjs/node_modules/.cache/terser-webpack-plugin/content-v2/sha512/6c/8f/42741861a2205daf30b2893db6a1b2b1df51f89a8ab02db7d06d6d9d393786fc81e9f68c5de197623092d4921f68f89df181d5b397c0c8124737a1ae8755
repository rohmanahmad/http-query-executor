{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{247:function(e,t,i){i(1).tag2(\"action-correction\",'<div class=\"row nomargin \"> <div class=\"col-md-12 col-xs-12 header-title\"> ACTION </div> </div> <div class=\"panel\"> <div class=\"panel-body\"> <div class=\"row\"> <div class=\"col-lg-12\"> <form role=\"form\" id=\"ExpressionValidator\"> <div class=\"panel-body padding-bottom-40 padding-left-20 padding-right-20 \"> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Change to</label> <select class=\"form-control \" ref=\"changeto\"> <option></option> <option value=\"positive\">Positive</option> <option value=\"negative\">Negative</option> <option value=\"neutral\">Neutral</option> <option value=\"delete\">Delete</option> <option value=\"sociomile\">Integrasi Sociomile</option> </select> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Positive</label> <input type=\"username\" class=\"form-control\" ref=\"key_positive\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Negative</label> <input type=\"username\" class=\"form-control\" ref=\"key_negative\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Include</label> <input type=\"username\" class=\"form-control\" ref=\"key_include\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Exclude</label> <input type=\"username\" class=\"form-control\" ref=\"key_exclude\"> </div> <div class=\"text-center margin-top-20 padding-top-20 border-top-1 border-grey-100\"> <button onclick=\"{execute}\" class=\"changepass pointer pull-right\">Execute</button> </div> </div> </form> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=this;this.Dataparent=e=>{this.dataId=[],e&&(e.forEach(e=>{e.checked&&this.dataId.push(e._id)}),this.IdData=this.dataId.toString(\",\"))},this.execute=e=>{e.preventDefault();var i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.IdData,o=this.refs.changeto.value,n=this.refs.key_positive.value,s=this.refs.key_negative.value,l=this.refs.key_include.value,r=this.refs.key_exclude.value;if(\"sociomile\"==o){var c={streamid:a};APP.apiPost({path:\"stream/sociomile?project=\"+i,data:c,error:function(e,t,i){APP.error(e),this.userLoadingSentiment=void 0,this.parent.refs.streams.render(),this.update()}.bind(this),success:function(e){document.getElementById(\"ExpressionValidator\").reset(),APP.success(\"Stream moved to Sociomile\",(function(){})),t.parent.refs.streams.render()}.bind(this)})}else{const e={stream_ids:a,sentiment:o,key_positive:n,key_negative:s,key_include:l,key_exclude:r};APP.apiPost({path:\"stream/correction?project=\"+i,data:e,parse_data:!0,success:function(e){document.getElementById(\"ExpressionValidator\").reset(),APP.success(e,(function(){})),t.parent.refs.streams.render()}})}}}))},248:function(e,t,i){i(1).tag2(\"datepicker\",'<div class=\"visible-xs r10-xs-datepicker pull-left\" ref=\"datepicker\"> <i class=\"ion-calendar margin-right-10\"></i> <i class=\"ion-ios-arrow-down margin-left-5\"></i> </div> <div ref=\"datepicker\" class=\" color-grey-600 border-radius-10 hidden-xs no-shadow\"> <i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i> </div>',\"\",\"\",(function(e){this.on(\"mount\",()=>{const e=this.refs.datepicker;var t=moment(this.opts.since),i=moment(this.opts.until),a=localStorage.maxdate;\"null\"!=a&&null!=a&&null!=a?$(e).daterangepicker({maxDate:moment(a),startDate:t,endDate:i,ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}},(function(t,i){\"function\"==typeof this.opts.cb&&this.opts.cb(t.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),localStorage.since=t.format(\"YYYY-MM-DD\"),localStorage.until=i.format(\"YYYY-MM-DD\"),$(e).find(\"span\").html(t.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\"))})):$(e).daterangepicker({startDate:t,endDate:i,ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}},(function(t,i){\"function\"==typeof this.opts.cb&&this.opts.cb(t.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),localStorage.since=t.format(\"YYYY-MM-DD\"),localStorage.until=i.format(\"YYYY-MM-DD\"),$(e).find(\"span\").html(t.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\"))})),$(e).find(\"span\").html(t.format(\"MMMM D, YYYY\")+\" - \"+i.format(\"MMMM D, YYYY\")),$(e).show(),\"function\"==typeof this.opts.cb&&this.opts.cb(t.format(\"YYYY-MM-DD\"),i.format(\"YYYY-MM-DD\")),this.maxdateavailable()}),this.maxdateavailable=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:function(e){localStorage.setItem(\"maxdate\",e),this.update()}.bind(this)})}}))},249:function(e,t,i){\"use strict\";i.r(t);var a=i(76);i(1).tag2(\"search-corection\",'<div class=\"panel\"> <div class=\"panel-body\"> <form class=\"form-horizontal\"> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Date Stream</label> <div class=\"col-lg-10\"> <datepicker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 date-style pull-left\"> </datepicker> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Keyword</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"keyword\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Domain</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"domain\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Author</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"author\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Media</label> <div class=\"col-lg-10\"> <div class=\"checkbox checkbox-theme display-inline-block\" style=\"margin-top: 10px;\" each=\"{o, i in services}\" if=\"{channelvalue[o.id]}\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" checked=\"{o.selected}\" class=\"{o.name}\" riot-value=\"{o.id}\"> <label for=\"checkbox-inline-{o.id}\" class=\"padding-left-30\">{o.name}</label> </div> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Sentiment</label> <div class=\"col-lg-10\"> <div class=\"checkbox checkbox-theme display-inline-block\" style=\"margin-top: 10px;\" each=\"{sentiment}\"> <input type=\"checkbox\" id=\"checkbox-inline-{id}\" class=\"{value}\" riot-value=\"{value}\"> <label for=\"checkbox-inline-{id}\" class=\"padding-left-30\">{name}</label> </div> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\"></label> <div class=\"col-lg-5\"> <button onclick=\"{search}\" class=\"SearcCorection\">search</button> </div> </div> </form> </div> </div>',\"\",\"\",(function(e){this.componentName=\"[ correction.search-correction(tag) ]\",a.default.bind(this)()}))},250:function(e,t,i){\"use strict\";i.r(t);var a=i(77);i(1).tag2(\"streams-correction\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15 cursor-pointer\" for=\"selectall\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\" id=\"selectall\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-negative rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> <option value=\"500\" selected=\"{selected:pagelimitvalue == 500}\">500</option> <option value=\"1000\" selected=\"{selected:pagelimitvalue == 1000}\">1000</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"overflowcorection\"> <div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading} scrolltopcorection\" each=\"{o in items}\" id=\"setvaleu{o._id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(o._id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-0\"> <img alt=\"\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"{replaceImage}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"tx-inverse\">{o.user.real_name ? o.user.real_name : o.user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {o.date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"metricsentimentone cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {o.service} <span if=\"{o.is_community}\"> - community</span></a> </span> </div> </div> </div> <blockquote class=\"blockquote bd-l bd-5 pd-l-20 tx-12 mg-t-20\" if=\"{o.parent && o.parent.text}\"> <p class=\"mg-b-5 tx-gray-600\">{o.parent.text}</p> <footer class=\"blockquote-footer tx-12\"><a href=\"{o.source}\" target=\"_blank\">Original Post</a></footer> </blockquote> <p class=\"tx-17 mg-b-0 tx-inverse color222 textjustify\" onclick=\"{imgmodalprofile}\"> <span> <img alt=\"\" if=\"{o.image != \\'\\' && o.image != null}\" riot-src=\"{o.image}\" class=\"imagestreamscorection cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalprofile}\" onerror=\"this.onerror=null;this.style=\\'display:none\\';\"> </span> {o.text.length > 500 ? o.text.substring(0,230) + \\'...\\' : o.text} </p> <span if=\"{(o.tags ? o.tags.length : 0) > 0 || tagingvalue[o._id]}\" class=\"showtags_{o._id} mg-t-15\"><i class=\"fa fa-folder-o\"></i> Taging : <a class=\"btn btn-teals btn-with-icon btn-block wd-max-content\" id=\"{o._id}\"> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o2.id}{o._id} valtags_{o._id}\" each=\"{o2,i in o.tags}\"> <span class=\"pd-x-10\"> {o2.name}</span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o2.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o2.id},{o._id}\"></i> </span> </div> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o3.id}{o._id} valtags_{o._id}\" each=\"{o3,i in valuetag[o._id]}\"> <span class=\"pd-x-10\"> {o3.name} </span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o3.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o3.id},{o._id}\"></i> </span> </div> </a> </span> <div class=\"media align-items-center pull-right mg-t-m-20\"> <input type=\"checkbox\" checked=\"{o.checked}\" data-channel=\"twitter\" class=\"facebook cursor-pointer checkedtransform mg-t-20\" name=\"check_{o._id}\" id=\"check_{o._id}\" onclick=\"{selectId}\"><span></span> <div class=\"media-body mg-t-30\"> <div class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:o.is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></div> <div class=\"dropdown btn btn-outline-teal rounded-circle cursor-pointer pull-right mg-r-10 active btncircletaging40\"> <i class=\"dropbtn fa fa-bookmark\"></i> <div class=\"dropdown-content mg-t-20 left\"> <ul class=\"list-group list-group-striped\"> <li class=\"list-group-item rounded-top-0 pd-0 b-0-white\"> <div class=\"input-group\"> <input type=\"text\" class=\"form-control borderinputaddtag\" placeholder=\"Search for...\" onkeyup=\"{searchTaging}\" ref=\"inputtag\"> <span class=\"input-group-btn\"> <button class=\"btn bd btn-white tx-gray-600 cursor-pointer addtaging\" onclick=\"{addtagscolection}\" type=\"button\" id=\"{o._id}\"><i class=\"fa fa-plus\" id=\"{o._id}\"></i></button> </span> </div> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in datatagingvalue}\" if=\"{!listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in listtagingvalue}\" if=\"{listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <div class=\"group-more\"></div> </ul> </div> </div> <a rel=\"noopener\" onclick=\"{showForm}\" class=\"btn btn-outline-info rounded-circle btn-icon mg-r-5 pull-right cursor-pointer editsave\" if=\"{opts.corection == \\'true\\'}\"> <div><i class=\"fa fa-pencil btn-check pstf\"></i></div> </a> <div class=\"btn-group pull-right\" role=\"group\" aria-label=\"Basic example\"> <input class=\"form-control pull-right width100p mg-r-5 inputsave\" type=\"text\" style=\"height: 37px;\" ref=\"inputValue\" required id=\"kywordupdate\" if=\"{hiddenForm[o._id]}\"> <select class=\"form-control select2 cursor-pointer pull-right width100p mg-r-5\" data-placeholder=\"Choose Browser\" style=\"height: 37px;\" ref=\"sentimentValue\" if=\"{hiddenForm[o._id]}\"> <option class=\"cursor-pointer\" value=\"positive\">Positive</option> <option class=\"cursor-pointer\" value=\"negative\">Negative</option> <option class=\"cursor-pointer\" value=\"include\">Include</option> <option class=\"cursor-pointer\" value=\"exclude\">Exclude</option> </select> <div rel=\"noopener\" onclick=\"{updateKeyword}\" id=\"notice\" class=\"btn btn-outline-positivesave cursor-pointer pull-right mg-r-10\" id=\"{o._id}\" if=\"{hiddenForm[o._id]}\" style=\"height: 37px;\"> <i class=\" fa fa-floppy-o pstf\"></i> </div> </div> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div> <a href=\"javascript:\" id=\"return-to-top\" onclick=\"{scrolltop}\"><i class=\"fa fa-chevron-up\"></i></a> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.onerror=null;this.src=/assets/images/components/icons/errorimg.jpg;\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.componentName=\"[ correction.stream-correction(tag) ]\",a.default.bind(this)()}))},76:function(e,t,i){\"use strict\";i.r(t);var a=i(0),o=(i(248),i(4));t.default=function(){var e=this;this.services=o.default.get(\"channels\").map((function(e){return e.selected=!0,e})),this.sentiment=[{id:9,name:\"Positive\",selected:!1,value:\"positive\"},{id:10,name:\"Negative\",selected:!1,value:\"negative\"},{id:11,name:\"Neutral\",selected:!1,value:\"neutral\"}],this.search=function(t){if(t.preventDefault(),1===$(\".Facebook:checked\").length)var i=1;if(1===$(\".Twitter:checked\").length)var a=2;if(1===$(\".Portal:checked\").length)var o=3;if(1===$(\".Blog:checked\").length)var n=4;if(1===$(\".Forum:checked\").length)var s=5;if(1===$(\".Video:checked\").length)var l=6;if(1===$(\".Instagram:checked\").length)var r=7;if(1===$(\".Other:checked\").length)var c=8;var d=[],u=[];1===i&&d.push(i),2===a&&d.push(a),3===o&&d.push(o),4===n&&d.push(n),5===s&&d.push(s),6===l&&d.push(l),7===r&&d.push(r),8===c&&d.push(c);var p=String($(\".positive:checked\").val())||\"positive\",m=String($(\".negative:checked\").val())||\"negative\",g=String($(\".neutral:checked\").val())||\"neutral\";\"positive\"===p&&u.push(p),\"negative\"===m&&u.push(m),\"neutral\"===g&&u.push(g);var v=u.toString(),f=d.toString();e.parent.search.service_category=f,e.parent.search.section=v,e.parent.search.q=e.refs.keyword.value,e.parent.search.domain=e.refs.domain.value,e.parent.search.author=e.refs.author.value,e.parent.search.since=localStorage.since,e.parent.search.until=localStorage.until,e.parent.search.page=0,e.parent.searchsentiment()},this.on(\"mount\",(function(){e.getavailableChannel(),setTimeout((function(){e.loadchannel()}),500)}));var t=this;this.getavailableChannel=function(){APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(e){localStorage.getItem(\"channels\")?localStorage.channels=e:localStorage.setItem(\"channels\",e),this.maxkeyword=e,this.update()}.bind(e)})},this.channelvalue={},this.loadchannel=function(){if(localStorage.menu)var i=localStorage.channels;else if(JSON.parse(localStorage.getItem(\"package\")))i=JSON.parse(localStorage.getItem(\"package\")).channels;\"\"==i?Object(a.each)(e.services,(function(e,i){t.channelvalue[e.id]=!0})):Object(a.each)(i,(function(e,i){t.channelvalue[e]=!0})),t.update()}}},77:function(e,t,i){\"use strict\";i.r(t);var a=i(0),o=i(20);i(14);function n(e,t){var i=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if(\"string\"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===i&&e.constructor&&(i=e.constructor.name);if(\"Map\"===i||\"Set\"===i)return Array.from(e);if(\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(e,t)}(e))||t&&e&&\"number\"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var n,l=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,n=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw n}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}t.default=function(){var e=this;this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.userLoadingSentiment,this.xhr=null;var t=this;this.dataStreams=[],this.ontotal=0,this.idtotal={},this.datatagingvalue=[],this.tagingvalue={},this.valuetag={},this.addselectval={},this.addtagscolection=function(t){var i=localStorage.clientid,o=t.target.id;e.nametaging&&APP.apiPost({path:\"tags/create\",data:{name:e.nametaging,client_id:i},success:function(t){t?(e.listdatacolection=t,e.tagingvalue[o]=!0,e.valuetag[o]?e.valuetag[o]=Object(a.concat)(e.valuetag[o],[{name:t.name,id:t._id}]):e.valuetag[o]=[{name:t.name,id:t._id}],APP.apiPut({path:\"tags/update/stream\",data:{id:t._id,streamid:o},success:function(e){$.notify(\"Tag : ' \"+t.name+\" ' has been added from list successfully\",\"info\")}})):$.notify(\"Tag \"+t.name+\" has been previously added\",\"error\"),e.update()},error:function(e){$.notify(\"Tag \"+data.name+\" has been previously added\",\"error\")}})},this.delettagcolection=function(e){var t=localStorage.clientid,i=e.target.id;APP.apiPut({path:\"tags/remove\",data:{id:i,client_id:t},success:function(t){setTimeout((function(){$(\"#delete_\"+i).remove()}),1),$.notify(\"Tag \"+e.item.list.name+\" has been deleted from list successfully\",\"delete\")}})},this.rendertags=function(t){var i=localStorage.clientid;APP.apiGet({path:\"tags\",data:{q:\"\",client_id:i},success:function(t){e.listtagingvalue=t.slice(0,4),e.listtag=!0,e.update()}})},this.eventaging=function(t){var i=t.target.id.replace(/,/g,\"\"),a=t.target.id.split(\",\"),o=a[0],n=a[1];e.addselectval[o]=!1,e.update(),$(\".devault_\"+i).remove(),APP.apiPut({path:\"tags/remove/stream\",data:{id:o,streamid:n},success:function(e){$.notify(\"remove tanging name : \"+(t.item.o2?t.item.o2.name:t.item.o3?t.item.o3.name:\"\"),\"delete\")},error:function(e){}}),$(\".valtags_\"+n).length<=0&&($(\".showtags_\"+n).hide(),e.tagingvalue[n]=!1,e.update())},this.searchTaging=function(t){var i=t.target.value.length,a=localStorage.clientid,o=t.target.value;e.nametaging=o,e.listtag=!1,i>=2&&APP.apiGet({path:\"tags\",data:{q:o,client_id:a},success:function(t){e.datatagingvalue=t,e.update()}}),i<=0&&(e.listtag=!0,e.update())},this.addtaging=function(t){if($(\".devault_\"+t.target.id.replace(/,/g,\"\")).length<1){var i=t.target.id.split(\",\"),o=i[0],n=i[1];e.valuetag[n]?e.addselectval[o]||(e.valuetag[n]=Object(a.concat)(e.valuetag[n],[{name:t.item.list.name,id:o}])):e.valuetag[n]=[{name:t.item.list.name,id:o}],$(\".showtags_\"+n).show(),e.tagingvalue[n]=!0,e.addselectval[o]=!0,e.update(),APP.apiPut({path:\"tags/update/stream\",data:{id:o,streamid:n},success:function(e){$.notify(\"Tag : \"+t.item.list.name+\" has been added successfully\",\"info\")}})}else $.notify(\"Tag : ' \"+t.item.list.name+\" ' has been previously added \",\"info\")},this.showForm=function(t){var i=t.item.o._id;e.error=!1,e.jumalahtotal=e.ontotal+1,e.ontotal=e.jumalahtotal,e.idtotal[e.jumalahtotal]=i,e.idtotal[e.jumalahtotal-1]==i?e.hiddenForm[i]?e.hiddenForm[i]=!1:e.hiddenForm[i]=!0:(e.hiddenForm[i]=!0,e.hiddenForm[e.idtotal[e.jumalahtotal-1]]=!1),setTimeout((function(){}),1),e.update()},this.updateKeyword=function(t){var i=t.item.o._id,o=p(\"project\")?p(\"project\"):APP.getProject(),n=e.refs.sentimentValue.value,s=e.refs.inputValue.value,l={project:o,type:n,value:s},r=s?s.split(\",\"):\"\";if(\"\"!=r){if(\"positive\"==n)var c=e.valuekeypositif?e.valuekeypositif.split(\",\"):\"\";if(\"negative\"==n)c=e.valuekeynegatif?e.valuekeynegatif.split(\",\"):\"\";if(\"include\"==n)c=e.valuekeyinclude?e.valuekeyinclude.split(\",\"):\"\";if(\"exclude\"==n)c=e.valuekeyexclude?e.valuekeyexclude.split(\",\"):\"\";0==Object(a.filter)(c,(function(e){return r.indexOf(e)>-1})).length?s?APP.apiGet({path:\"stream/correction/append\",data:l,success:function(t){$.notify(\"Sentiment changed to \"+n,\"info\"),e.hiddenForm[i]=!1,e.valueKeyword(),e.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0})):$.notify(\"Word already exists\")}},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:function(t){e.update({Loading:!0,isLoading:!0}),e.query.page=(t-1)*e.query.limit,e.render(),\"true\"==e.opts.corection?$(\"body,html\").animate({scrollTop:290},500):$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalprofile=function(t){e.modalName=t.item.o.user.name,e.imgmodal=t.item.o.image},this.changeLimit=function(t){APP.log(\"change stream limit\"),e.pagelimitvalue=t.target.value,e.update({isLoading:!0}),t.preventDefault(),e.query.limit=parseInt(t.target.value),e.query.page=0,e.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(e),2e3),e.render()},this.isLoadingset=function(t){return e.userLoadingSentiment===t},this.on(\"mount\",(function(){e.isLoading=!0,e.isLoad=!0,e.filter=!1,e.refs.limitPage.value=pageLimit,e.valueKeyword(),e.update()})),this.valueKeyword=function(){var t=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=(t.split(\",\").map(Number),{project:t,selected_fields:\"key_word_not, key_word_in, key_positif, key_negatif\"});APP.apiGet({path:\"projects\",data:i,success:function(t){e.valuekeynegatif=t[0].key_negatif,e.valuekeypositif=t[0].key_positif,e.valuekeyinclude=t[0].key_word_in,e.valuekeyexclude=t[0].key_word_not}})},this.integrasi=function(t){t.preventDefault(),APP.log(\"integrate stream\");var i=t.item.o.service,a=t.item.o._id;\"twitter\"==i&&(e.userLoadingSentiment=a,t.item.o.is_connect_sociomile=!0),e.search.streamid=a,APP.apiPost({path:\"stream/sociomile?project=\".concat(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:a},error:function(t,i,a){APP.error(t),e.userLoadingSentiment=void 0,e.render(),e.update()},success:function(t){APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+a+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),e.userLoadingSentiment=void 0,e.update()}})},this.valueidcheck={},this.setSentiment=function(t){t.preventDefault(),APP.log(\"setting sentiment\");var i=t.target.id,a=t.item.o._id;e.search.streamid=a,e.search.sentiment=i,$(\"#setvaleu\"+a+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+a+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+a+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+a+\" #\"+i).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:e.search,success:function(o){if($.notify(\"Sentiment changed to \"+e.search.sentiment,\"info\"),e.valueidcheck[a])var n=e.valueidcheck[a];else n=t.item.o.sentiment.value;0!=n&&null!=n||e.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==i&&e.parent.refs.sentiment.update_dataneutrla(1),1==n&&e.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==i&&e.parent.refs.sentiment.update_datapositive(1),-1==n&&e.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==i&&e.parent.refs.sentiment.update_datanegative(1);var s=\"positive\"===i?1:(i=\"negative\")?-1:0;e.valueidcheck[a]=s,e.userLoadingSentiment=void 0,e.update()}})},this.deletes=function(t){t.preventDefault(),APP.log(\"deleting stream\");var i=t.item.o._id;e.search.streamid=i,APP.apiGet({path:\"stream/delete_stream\",data:e.search,parse_data:!0,success:function(t){$(\"#setvaleu\"+i).fadeOut(1),e.parent.refs.sentiment.update_data(),e.parent.setTotal()}})};var i=function(){APP.apiGet({path:\"projects\",data:{project:p(\"project\"),selected_fields:\"key_word\"},success:function(e){if(e.length>0){var i=e[0].key_word.split(\",\");i=i.map((function(e){return e.trim()})).filter((function(e){return e.length>1})),t.parent.search&&t.parent.search.q&&i.push(t.parent.search.q),$(\".tx-17.mg-b-0.tx-inverse.color222.textjustify\").each((function(e,t){var a,o=$(t).html(),s=n(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;o=o.replace(new RegExp(\"\\\\b\".concat(l,\"\\\\b\"),\"gi\"),'<b style=\"color: #1caf9a\">'.concat(l.toUpperCase(),\"</b>\"))}}catch(e){s.e(e)}finally{s.f()}$(t).html(o)}))}}})};this.render=function(){APP.log(\"render Stream timeline\"),e.valuetag={};var t=Object(a.find)(e.times,{selected:!0}),o=Object(a.map)(e.parent.channels,(function(e){return e.id})),n=e.parent.search;n.type=t,n.limit=e.query.limit,n.page=e.query.page,n.pagination=\"yes\",n.service_category=o.join(\",\"),e.rendertags(),e.xhr=APP.apiPost({path:\"stream\",data:n,success:function(t,a,o){var n=t.item;n&&(n=n.map((function(e){return e.checked=!1,e}))),e.items=n,e.total=e.items.length,e.pagination.pages=Math.ceil(t.total/e.query.limit),e.isLoad=!1,e.Loading=!1,e.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),i(),e.update({isLoading:!1}),e.opts.corection}})},this.selectAll=function(){var t;1===$(\".facebook:checked\").length?(t=e.items)&&t&&(t=t.map((function(e){return e.checked=!0,e}))):(t=e.items)&&(t=t.map((function(e){return e.checked=!1,e})));e.update()},this.dataStrm=[],this.selectId=function(t){var i=t.item.o._id;e.items.forEach((function(t){t._id===i&&(t.checked=!t.checked),e.dataStrm.push(t)}))},this.globalupdate=function(t){t.preventDefault(),e.dataId=[],(s=e.items)&&((s=Object(a.filter)(s,(function(e){return e.checked}))).forEach((function(t){t.checked&&e.dataId.push(t._id)})),e.IdData=e.dataId.toString(\",\"));var i=APP.currentProject,o=e.IdData,n=t.target.id;if(o)if(\"sociomile\"==n){var s={streamid:o};APP.apiPost({path:\"stream/sociomile?project=\"+i,data:s,parse_data:!0,error:function(t,i,a){APP.error(t),e.userLoadingSentiment=void 0,e.update()},success:function(t){APP.success(\"Stream moved to Sociomile\",(function(){}));var i=o.split(\",\");Object(a.each)(i,(function(e,t){$(\"#setvaleu\"+e+\" #sociomile\").addClass(\"active\"),$(\"#check_\"+e).removeAttr(\"checked\")})),e.update()}})}else{s={stream_ids:o,sentiment:n};\"delete\"==n?swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},(function(){APP.apiPost({path:\"stream/correction?project=\"+i,data:s,parse_data:!0,success:function(t){var i=o.split(\",\");Object(a.each)(i,(function(e,t){$(\"#setvaleu\"+e).fadeOut(100)})),e.parent.refs.sentiment.update_data(),e.parent.setTotal()}})})):APP.apiPost({path:\"stream/correction?project=\"+i,data:s,parse_data:!0,success:function(t){var i=o.split(\",\");Object(a.each)(i,(function(e,t){$(\"#setvaleu\"+e+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+e+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+e+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+e+\" #\"+n).addClass(\"active\"),$(\"#check_\"+e).removeAttr(\"checked\"),$(\".facebook\").removeAttr(\"checked\")})),APP.success(t,(function(){e.parent.refs.sentiment.update_data()}))}})}},this.reload=function(){e.Loading=!0,e.render()},this.on(\"mount\",(function(){e.xhr=null})),this.on(\"unmount\",(function(){e.xhr&&e.xhr.abort(),delete e.xhr})),$(window).scroll((function(){$(this).scrollTop()>=50?$(\"#return-to-top\").fadeIn(200):$(\"#return-to-top\").fadeOut(200)})),this.scrolltop=function(){$(\".overflowcorection\").animate({scrollTop:0},500)},this.replaceImage=function(e){var t=Object(a.result)(e.item,\"o.user.real_name\",\"No Image\");Object(o.replaceImgSourceWithRandomImg)(e,t)}}}}]);","extractedComments":[]}