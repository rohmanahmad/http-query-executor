{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{163:function(t,e,a){a(0).tag2(\"compositionbybrand\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (DAILY)</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.render=()=>{let t=_.clone(this.parent.search);t.since=t.until,t.until=t.until,APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)})},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const a=this.competitionProjects[t],i=_.find(e,{key_id:parseInt(a)});i&&i.key_name&&(this.prjList[a]=i.key_name)}var a=this.competitionProjects;this.datavalue(t,a),this.potentialreach(t,a)},this.datavalue=(t,e)=>{async.each(e,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{let i=this.parent.competition;i.compositionbranddaily=!0,6===_.filter(i,t=>t).length&&this.parent.updateid();const s=(t=t.items).negative?parseInt(t.negative):0,c=t.positive?parseInt(t.positive):0,o=t.neutral?parseInt(t.neutral):0;this.chacetotal[e]=c+s+o,this.cachepositive[e]=c,this.cachenegative[e]=s,this.cacheneutral[e]=o,this.sValue=t,this.update(),a()}}),this.update({isLoading:!1})})},this.potentialreach=(t,e)=>{t.compare=!0,async.each(e,(e,a)=>{t.project=e;var i=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&(i+=s>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,s++);APP.apiGet({path:\"summary/potential-reach\"+i,success:t=>{t=t.items,this.potentialreach[e]=t.potential_reach?t.potential_reach:0,this.update(),a()}}),this.update({isLoading:!1})})}}))},165:function(t,e,a){a(0).tag2(\"compositionbrandlast\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (THE LAST {totadate} DAYS )</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th fontsize20\" if=\"{this.parent.competition}\"> <td class=\" tx-black tx-18\">SOV ({namevaluId})</td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{totalpositives ? totalpositives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{totalnegatives ?  totalnegatives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{totalneutrals ?  totalneutrals.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{totalreachs ? totalreachs.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.totadate=0,this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.totalpositive=[],this.totalnegative=[],this.totalneutral=[],this.totalreach=[],this.render=()=>{let t=_.clone(this.parent.search),e=new Date(t.since),a=new Date(t.until);this.totadate=(a-e)/864e5+1,APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)}),this.update()},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const a=this.competitionProjects[t],i=_.find(e,{key_id:parseInt(a)});i&&i.key_name&&(this.prjList[a]=i.key_name)}var a=this.competitionProjects;this.datavalue(t,a),this.potentialreach(t,a)},this.datavalue=(t,e)=>{async.each(e,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{let i=this.parent.component;i.compositionbrandlast=!0,6===_.filter(i,t=>t).length&&this.parent.updateid();const s=(t=t.items).negative?parseInt(t.negative):0,c=t.positive?parseInt(t.positive):0,o=t.neutral?parseInt(t.neutral):0;this.totalpositive.push(c),this.totalnegative.push(s),this.totalneutral.push(o),this.chacetotal[e]=c+s+o,this.cachepositive[e]=c,this.cachenegative[e]=s,this.cacheneutral[e]=o,this.sValue=t,this.update(),a()}}),this.update({isLoading:!1})},()=>{let t=p(\"project\"),e=_.filter(this.projectList,e=>t.indexOf(e.key_id)>-1);this.namevaluId=e[0].key_name;let a=this.cachepositive[t],i=_.sumBy(this.totalpositive);this.totalpositives=100*a/i;let s=this.cachenegative[t],c=_.sumBy(this.totalnegative);this.totalnegatives=100*s/c;let o=this.cacheneutral[t],l=_.sumBy(this.totalneutral);this.totalneutrals=100*o/l,this.update()})},this.potentialreach=(t,e)=>{t.compare=!0,async.each(e,(e,a)=>{t.project=e;var i=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&(i+=s>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,s++);APP.apiGet({path:\"summary/potential-reach\"+i,success:t=>{t=t.items,this.potentialreach[e]=t.potential_reach?t.potential_reach:0,this.totalreach.push(this.potentialreach[e]),this.update(),a()}}),this.update({isLoading:!1})},()=>{let t=p(\"project\")?p(\"project\").split(\",\"):APP.getProject().split(\",\"),e=this.potentialreach[t],a=_.sumBy(this.totalreach);this.totalreachs=100*e/a,this.update()})}}))}}]);","extractedComments":[]}