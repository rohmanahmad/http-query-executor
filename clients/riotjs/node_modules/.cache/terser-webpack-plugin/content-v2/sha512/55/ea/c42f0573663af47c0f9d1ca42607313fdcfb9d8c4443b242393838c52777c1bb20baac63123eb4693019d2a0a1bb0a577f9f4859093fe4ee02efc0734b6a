{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{5:function(e,t,o){\"use strict\";o.r(t),function(e){var t=o(1),n=o.n(t),r=o(2),a=o(4),i=o.n(a);!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/main/main.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'PackageDotJson'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var c=o(0);function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==o)return;var n,r,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw r}}return a}(e,t)||m(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function m(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===o&&e.constructor&&(o=e.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(e):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function g(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.currentLayout=null,this.apiurldonwloadreport=\"https://ping.r10.co/\",this.apiDomain=\"https://api.ripple10.com\",this.appInfographicUrl=\"http://localhost:5000/competitive/infographic?project=<project>&from=<sdate>00%3A00%3A00&to=<ndate>23%3A59%3A59&filterBot=0&v2=yes&token=<tmp_token>&uid=<userid>\",this.appInfographicBrandUrl=\"http://localhost:5000/infographic?project=<project>&from=<sdate>00%3A00%3A00&to=<ndate>23%3A59%3A59&filterBot=0&v2=yes&token=<tmp_token>&uid=<userid>\",this.appCCUrl=\"http://localhost:5000/monitor?rid=<prj>&screen=<no>&ccv2=yes&token=<tmp_token>\",this.appStaticToken=\"f5e0771d078aedf5a6d4c117becabc98\",this.apiUrl=\"https://api.ripple10.com/api/v2/\",this.apiprdashboard=\"http://startup.ripple10.com/v1/\",this.appid=\"147890702621380\",this.apiImage=\"https://s3.ripple10.com/\",this.forceLogin=!1,this.currentProject=null,this.currentHash=null,this.currentTag=null,this.apiuploadimag=e.env.API_UPLOAD_IMAGE,this.isDev=\"true\"===localStorage.getItem(\"DEBUG\")}var a,s,l;return a=t,(s=[{key:\"init\",value:function(){var e=this;if(this.log(\"init...\"),!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().check()){(function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e})().releaseFromStorage();var t=0;$.ajaxSetup({tryCount:0,retryLimit:3,retryInterval:2e3,beforeSend:function(e,t){e.setRequestHeader(\"Authorization\",\"Bearer \"+!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().getToken()),p(\"since\")?localStorage.setItem(\"since\",moment(decodeURIComponent(p(\"since\"))).format(\"YYYY-MM-DD\")):localStorage.since||localStorage.setItem(\"since\",moment().subtract(7,\"d\").format(\"YYYY-MM-DD\")),p(\"until\")?localStorage.setItem(\"until\",moment(decodeURIComponent(p(\"until\"))).format(\"YYYY-MM-DD\")):localStorage.until||localStorage.setItem(\"until\",moment().format(\"YYYY-MM-DD\"))},statusCode:{401:function(e){t<1&&(v.forceLogin=!0,function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().logout(),v.goTo(\"/login\"),t++,localStorage.removeItem(\"until\"),localStorage.removeItem(\"since\"),localStorage.removeItem(\"url\"),localStorage.removeItem(\"level\"),localStorage.removeItem(\"App_version\"),localStorage.clear())}},complete:function(e){var t=e.getResponseHeader(\"Authorization\");if(null!=t)try{var o=t.split(\" \");(function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e})().setToken(o[1])}catch(e){}}})}var a,s=function(e,t){var o=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!o){if(Array.isArray(e)||(o=m(e))||t&&e&&\"number\"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,i=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(c)throw a}}}}(i.a);try{var u=function(){var t=a.value;try{e.log(t.import),o(35)(\"./\"+t.import),Object(r.a)(t.hash,(function(o){try{e.currentHash=t.hash,\"login\"==t.hash?v.setLayout(\"login\"):t.auth&&!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().check()?(v.setLayout(t.layout),e.currentTag&&Object(c.isFunction)(e.currentTag.unmount)&&e.currentTag.unmount(),e.currentTag=n.a.mount(document.getElementById(\"content\"),t.tag)[0]):(localStorage.clear(),e.goTo(\"login\"))}catch(e){console.error(e)}}))}catch(e){console.error(e)}};for(s.s();!(a=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}Object(r.a)(\"/\",(function(){if(function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().check())v.goTo(\"login\");else if(0===!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().projects.length)v.goTo(\"setting/project-setup\");else{var e=Object(c.orderBy)(!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().projects,[\"index\"],[\"asc\"])[0].id,t=JSON.parse(localStorage.getItem(\"package\")).menu[0];\"summary\"==t?v.goTo(\"summary?project=\"+e):\"mentions\"==t?v.goTo(\"mentions?project=\"+e):\"authors\"==t?v.goTo(\"authors?project=\"+e):\"analysis\"==t?v.goTo(\"analysis/my-stream?project=\"+e):\"comparison\"==t?v.goTo(\"comparison?project=\"+e):(\"infographic\"==t||\"pr_dashboard\"==t||\"project-settings\"==t||null==t)&&v.goTo(\"setting/project-update?project=\"+e)}})),Object(r.a)(\"/logout\",(function(){(function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e})().logout(),v.goTo(\"/\"),e.goTo(\"login\"),localStorage.clear()})),r.a.start(!0),localStorage.setItem(\"app_version\",!function(){var e=new Error(\"Cannot find module 'PackageDotJson'\");throw e.code=\"MODULE_NOT_FOUND\",e}())}},{key:\"goTo\",value:function(e){Object(r.a)(e)}},{key:\"setLayout\",value:function(e){this.log(\"Set Layout To: \",e);try{this.currentLayout!=e&&n.a.mount(\"body\",e)}catch(e){console.error(e)}}},{key:\"getProject\",value:function(){if(0!=!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().projects.length)return this.currentProject?this.currentProject:Object(c.head)(!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().projects).id}},{key:\"getname\",value:function(){return Object(c.head)(!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().projects).name}},{key:\"downloadcsv\",value:function(e,t,o){var n=\"object\"!=d(e)?JSON.parse(e):e,r=\"\";if(r+=t+\"\\r\\n\\n\",o){var a=\"\";for(var i in n[0])a+=i+\",\";r+=(a=a.slice(0,-1))+\"\\r\\n\"}for(var c=0;c<n.length;c++){for(var i in a=\"\",n[c])a+='\"'+(n[c][i]?n[c][i]:\"0\")+'\",';a.slice(0,a.length-1),r+=a+\"\\r\\n\"}if(\"\"!=r){var s=\"Report_\";s+=t.replace(/ /g,\"_\");var u=\"data:text/csv;charset=utf-8,\"+r,l=document.createElement(\"a\");l.href=u,l.style=\"visibility:hidden\",l.download=s+\".csv\",document.body.appendChild(l),l.click(),document.body.removeChild(l)}else alert(\"Invalid data\")}},{key:\"donwloadXLS\",value:function(e,t,o){var n=[];n.push(t),$.each(e,(function(e,t){var o=[];$.each(t,(function(e,t){o.push(t)})),n.push(o)}));var r=o+\".xlsx\",a=o;\"undefined\"!=typeof console&&console.log(new Date);var i=XLSX.utils.book_new(),c=XLSX.utils.aoa_to_sheet(n);XLSX.utils.book_append_sheet(i,c,a),\"undefined\"!=typeof console&&console.log(new Date),XLSX.writeFile(i,r),\"undefined\"!=typeof console&&console.log(new Date)}},{key:\"patchDateFormat\",value:function(e,t){var o=localStorage.filter_timesince,n=localStorage.filter_timeuntil,r={},a=e.split(\"?\")[0];if(e.indexOf(\"?\")>-1){for(var i in r=(e.split(\"?\")[1]||\"\").split(\"&\").map((function(e){return e.split(\"=\")})).reduce((function(e,t){var o=f(t,2),n=o[0],r=o[1];return e[n]=r,e}),{}),e=a+\"?\",r)\"since\"===i?o&&(r.since=moment(r.since).format(\"YYYY-MM-DD\")+\" \"+o):\"until\"===i&&n&&(r.until=moment(r.until).format(\"YYYY-MM-DD\")+\" \"+n);e+=Object.keys(r).map((function(e){return e+\"=\"+encodeURIComponent(r[e])})).join(\"&\")}for(var c in t)\"since\"===c?o&&(t.since=moment(t.since).format(\"YYYY-MM-DD\")+\" \"+o):\"until\"===c&&n&&(t.until=moment(t.until).format(\"YYYY-MM-DD\")+\" \"+n);return{url:e,data:t}}},{key:\"apiGet\",value:function(e,t){var o=this.patchDateFormat(v.apiUrl+e.path,e.data),n={url:o.url,method:\"get\",data:o.data,dataType:\"json\"};return e.error?n.error=function(t,o,n){e.error(t,o,n)}:n.error=function(e,o,n){v.error(e,t)},e.success&&(n.success=function(t,o,n){e.parse_data?e.success(t,n):e.success(t.data,n)}),$.ajax(n)}},{key:\"apiGetPR\",value:function(e){var t=this.patchDateFormat(v.apiUrl+e.path,e.data),o={url:t.url,method:\"get\",data:t.data,dataType:\"json\"};return e.error?o.error=function(t,o,n){e.error(t,o,n)}:o.error=function(e,t,o){v.error(e)},e.success&&(o.success=function(t,o,n){e.success(t)}),$.ajax(o)}},{key:\"apiPost\",value:function(e){var t=this.patchDateFormat(v.apiUrl+e.path,e.data),o={url:t.url,method:\"post\",data:t.data,dataType:\"json\",error:function(e,t,o){v.error(e)}};return e.error?o.error=function(t,o,n){e.error(t,o,n)}:o.error=function(e,t,o){401==t?console.log(\"this is login failure\"):v.error(e)},e.success&&(o.success=function(t,o,n){e.parse_data?e.success(t):e.success(t.data,o,n)}),$.ajax(o)}},{key:\"apiUpload\",value:function(e){var t=this.patchDateFormat(v.apiUrl+e.path,e.data),o={url:t.url,method:\"put\",data:t.data,processData:!1,contentType:!1,error:function(e,t,o){v.error(e)}};return e.error?o.error=function(t,o,n){e.error(t,o,n)}:o.error=function(e,t,o){401==t?console.log(\"this is login failure\"):v.error(e)},e.success&&(o.success=function(t,o,n){e.parse_data?e.success(t):e.success(t.data,o,n)}),$.ajax(o)}},{key:\"apiPut\",value:function(e){var t=this.patchDateFormat(v.apiUrl+e.path,e.data),o={url:t.url,method:\"put\",data:t.data,dataType:\"json\",error:function(e,t,o){v.error(e)}};e.success&&(o.success=function(t){var o=t.data;error.trigger(\"responseput\",o),e.success(o)}),$.ajax(o)}},{key:\"error\",value:function(e,t){if(402==e.status&&(this.forceLogin=!0,function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().logout(),v.goTo(\"/\"),this.goTo(\"login\")),400==e.status&&$.notify(e.responseJSON.message,\"info\"),401==e.status)return null;if(menu.trigger(\"response\",e.responseJSON),this.forceLogin)return!1;if(\"abort\"==e.statusText)return!1;e.status&&401==e.status&&(this.forceLogin=!0,function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}().logout(),v.goTo(\"/\"),this.goTo(\"login\"));var o=\"Oops error...\",n=!1;e.responseJSON&&e.responseJSON.message?(o=e.responseJSON.message,Object(c.isObject)(e.responseJSON.message)?o=e.responseJSON.message.message+\"<br>\"+e.responseJSON.message.file:o.indexOf(\"Limit\")>-1&&(n=!0)):e.statusText?o=e.statusText:e.responseText&&(o=e.responseText),0==e.status&&\"abort\"!=e.statusText?o=\"Please check your connection\":404==e.status&&(o=\"Please check your API\"),n?Object(c.isFunction)(t)&&t():$.notify(o,\"info\")}},{key:\"success\",value:function(e,t){swal({title:\"Success\",text:e.message,type:\"success\",confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0},t)}},{key:\"animationFadeIn\",value:function(){$(\".fade\").each((function(e){setTimeout(function(){$(this).addClass(\"in\")}.bind(this),100)}))}},{key:\"log\",value:function(){if(this.isDev){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];(e=console).log.apply(e,[\"[LOG]\"].concat(o))}}},{key:\"popupMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=u({title:\"Warning!\",text:e,type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0},t);return swal(o)}}])&&g(a.prototype,s),l&&g(a,l),t}()),y=n.a.observable();v.init(),window.Auth=!function(){var e=new Error(\"Cannot find module 'Components/main/Auth'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),window.APP=v,window.Streams=y,window.PERMISSION=null,window.pageLimit=10,window.urlStream=n.a.observable(),window.menu=n.a.observable(),window.menuleft=n.a.observable(),window.NameProfile=n.a.observable(),window.maxStreams=n.a.observable(),window.menuActive=n.a.observable(),window.breadCrumb=n.a.observable(),window.renderchart=n.a.observable(),window.renderchartpie=n.a.observable(),window.rendercharttoptime=n.a.observable(),window.error=n.a.observable(),window.p=function(e){var t=new RegExp(\"[?&]\"+e+\"=([^&#]*)\").exec(window.location.href);return null==t?null:t[1]||0},Number.prototype.formatMoney=function(e,t,o){var n=this,r=(e=isNaN(e=Math.abs(e))?2:e,t=null==t?\",\":t,o=null==o?\".\":o,n<0?\"-\":\"\"),a=parseInt(n=Math.abs(+n||0).toFixed(e))+\"\",i=(i=a.length)>3?i%3:0;return r+(i?a.substr(0,i)+o:\"\")+a.substr(i).replace(/(\\d{3})(?=\\d)/g,\"$1\"+o)+(e?t+Math.abs(n-a).toFixed(e).slice(2):\"\")}}.call(this,o(32))}}]);","extractedComments":[]}