{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{217:function(t,e,a){a(0).tag2(\"chart-share\",'<div class=\"header-title {fontsizecolor:fontcolor}\">SHARE OF STREAM</div> <div class=\"panel\"> <div class=\"panel-body\" if=\"{!notdata}\" style=\"height: 480px;\"> <div if=\"{isLoading}\" class=\"loader\"></div> <i class=\" pull-right pointer\" onclick=\"{reload}\" if=\"{tombolrefres}\"><a class=\"btn btn-sm btn-outline btn-info\"><i class=\"fa fa-refresh\"></i></a> </i> <div id=\"shareofstream\"></div> </div> <div class=\"panel-body \" style=\"min-height: 480px;\" if=\"{notdata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.render=()=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash?(this.fontcolor=!0,this.sizelegend=\"14px\",p(\"section\")?t.section=p(\"section\"):t.section=null):(this.fontcolor=!1,this.sizelegend=\"11px\"),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){let e=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const s in t){let i={};i={y:t[s].count,name:s,color:a[s]},e.push(i)}e.map((function(t){return\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),Highcharts.chart(\"shareofstream\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:400},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f} %\",style:{fontSize:this.sizelegend}}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0}),this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},95:function(t,e,a){\"use strict\";a.r(e);var s=a(10),i=a.n(s);a(0).tag2(\"chart-top-streams\",'<div class=\"card bd-0\"> <div class=\"card overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTION TIME</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in day and time\">?</span> </span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height530 textcenter mg-t-20\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height530\" id=\"topstream\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.charttoptime=null,this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhrtopstreams=null,this.fontcolor=!1,this.render=()=>{APP.log(\"chart streams time : render\");let t=_.clone(this.parent.search);t.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0}),this.xhrtopstreams=APP.apiGet({path:\"mentions/top-mentions-time\",data:t,success:t=>{t=t.items;let e=[];for(const a in t){let s=_.result(t,a,\"\");e.push([new Date(a.substring(0,10)).getTime(),s.jam,s.count])}if(0===(t=e.length))return this.notdata=!0,void this.update();this.update({notdata:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.topstreamvalue=e,(this.charttoptime=i()(\"topstream\")).addSeries({color:\"#38a1f2\",data:e}),this.update({isLoading:!1})}}),this.xhrtopstreams.readyState&&this.update({isLoading:!1,notdata:!0})},this.downloadcsv=()=>{var t;(t=this.topstreamvalue.map((t,e)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}))).length>0&&APP.downloadcsv(t,\"\"+(\"Top_Mention_time_\"+p(\"project\")),!0)},this.on(\"mount\",()=>{this.xhrtopstreams=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhrtopstreams&&this.xhrtopstreams.abort()})}))},97:function(t,e,a){a(0).tag2(\"influent-sosial\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 \"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right \">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\">{o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\";border-top: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,a=t.item.o.serviceId;this.parent.detailmentions(null,null,a,e,null,null,\"Author\",null)},this.render=()=>{APP.log(\"influent-sosial : render\");let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:function(t){this.total=t.total;var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.update({isLoading:!1})}.bind(this)})},this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.limit=2e4,this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{let e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t)).map((t,e)=>({no:e+1,user_name:(t.user_name?t.user_name:t.realname).replace(/#/g,\"\").replace(\"|\",\"\"),cahnnels:t.service,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}));e.length>0&&APP.downloadcsv(e,\"\"+(\"Most_Influential_\"+p(\"project\")),!0)}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}