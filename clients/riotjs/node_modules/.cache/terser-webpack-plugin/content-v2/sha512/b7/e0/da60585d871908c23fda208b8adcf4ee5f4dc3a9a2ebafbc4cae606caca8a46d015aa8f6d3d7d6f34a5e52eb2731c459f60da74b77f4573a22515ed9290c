{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{117:function(t,e,a){\"use strict\";a.r(e);a(55);a(0).tag2(\"competisi-sentiment-chart\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION SENTIMENT CHART </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"chartcompetisisentiment\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.compositionstreams=null,this.data={},this.render=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.renderdata(t)},1e3),this.update()}.bind(this)})};var e=this;this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),async.parallel({positive:function(t){a((function(e){t(null,e)}),\"positive\")},negative:function(t){a((function(e){t(null,e)}),\"negative\")},neutral:function(t){a((function(e){t(null,e)}),\"neutral\")}},(function(a,s){if(e.update({isLoading:!1,nodata:!1}),s){const e=s.positive,a=s.negative,o=s.neutral;let r={positive:{},negative:{},neutral:{}};for(let t in e){const a=e[t].brand_name;r.positive[a]||(r.positive[a]=0),r.positive[a]=r.positive[a]+e[t].count}for(let t in a){const e=a[t].brand_name;r.negative[e]||(r.negative[e]=0),r.negative[e]=r.negative[e]+a[t].count}for(let t in o){const e=o[t].brand_name;r.neutral[e]||(r.neutral[e]=0),r.neutral[e]=r.neutral[e]+o[t].count}const n=p(\"project\"),l=document.projectCompetition?document.projectCompetition:\"\",c=decodeURIComponent(`${n},${l}`),d=\"string\"==typeof c?c.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\",h=t,m=d.split(\",\").map(t=>parseInt(t.trim())),u=h.filter(t=>m.indexOf(t.key_id)>=0).map(t=>t.key_name),b=[\"positive\",\"negative\",\"neutral\"];let f={};for(let t in b){const e=b[t];f[e]=[];for(let t in u){const a=u[t];r[e]||(r[e]={}),r[e][a]||(r[e][a]=0),f[e].push(r[e][a])}}i(f,u)}})),this.update({isLoading:!1,nodata:!0})};var a=(t,e)=>{let a=_.clone(this.parent.search);a.section=e;const i=p(\"project\"),s=document.projectCompetition?document.projectCompetition:\"\",o=decodeURIComponent(`${i},${s}`),r=\"string\"==typeof o?o.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";a.project=r,APP.apiGet({path:\"stream/brand/mention\",data:a,success:function(e){t(e.items)}.bind(this)})},i=(t,e)=>{var a={positive:\"#0f8212\",negative:\"#eb3737\",neutral:\"#f3bc25\"},i=_.map(t,(t,e)=>({name:e,color:a[e],data:t}));this.update({isLoading:!1}),Highcharts.chart(\"chartcompetisisentiment\",{chart:{type:\"column\"},title:{text:\"\"},xAxis:{categories:e,crosshair:!0,labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{min:30,labels:{format:\"{value}%\",style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{pointFormat:'<span style=\"color:{series.color};\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px; color:#000000;'> \"+this.y.formatMoney(0)+\"</span>\"}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:i})}}))},145:function(t,e,a){a(0).tag2(\"media-distribution\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION </h6> </div> <div class=\"no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"bg-transparent min-height360 \"> <div class=\"bd bd-gray-300 table-striped table-bordered rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10\"> <thead> <tr class=\"toptable bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">NO</th> <th class=\"tx-white text-center tx-17-r10\">Media Source</th> <th class=\"text-center tx-white tx-17-r10\">Twitter</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Instagram\">Images(IG)</th> <th class=\"text-center tx-white tx-17-r10\">Facebook</th> <th class=\"text-center tx-white tx-17-r10\">Blogs</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Youtube & Tiktok\">Videos</th> <th class=\"text-center tx-white tx-17-r10\">Forums</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Google Search & All News Websites\">News</th> <th class=\"text-center tx-white tx-17-r10\">total</th> </tr> </thead> <tbody> <tr each=\"{o,i in valuedataTable}\" class=\"\"> <td class=\"tx-white bg-gray-600 text-center\">{i+1}</td> <td class=\"tx-white bg-gray-600 text-center\" each=\"{projectfilter}\" if=\"{id == Number(o.prj)}\">{name}</td> <td class=\"text-center tx-black\"><b> {o.Twitter ? o.Twitter : 0}</b></td> <td class=\"text-center tx-black\"><b> {o.Instagram ? o.Instagram :0} </b></td> <td class=\"text-center tx-black\"><b> {o.Facebook ? o.Facebook : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Blog ? o.Blog : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Video ? o.Video : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Forum ? o.Forum : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Portal ? o.Portal : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.total ? o.total : 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <th class=\"tx-white bg-gray-600 text-center\">Total</th> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Twitter\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Instagram\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Facebook\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Blog\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Video\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Forum\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Portal\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totaldataAll || 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <td class=\"tx-white bg-gray-600 text-center\">Percentage</td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Twitter\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Instagram\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Facebook\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Blog\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Video\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Forum\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Portal\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> 100 % </b> </td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.totalchannel={},this.totalchannelAll={},this.valuedataTablelenght=0,this.totaldata={},this.totaldatapersentase={Facebook:0,Twitter:0,Instagram:0,Blog:0,Video:0,Forum:0,Portal:0},this.xhr=null,this.render=()=>{APP.log(\"influent-sosial : render\");_.find(this.times,{selected:!0});this.dataarray=[];let t=_.clone(this.parent.search);const e=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",i=decodeURIComponent(`${e},${a}`),s=\"string\"==typeof i?i.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.validProjects=s;var o=s.split(\",\");this.update({isLoading:!0}),this.renderchart(s),this.renderTotal(s),async.each(o,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/composition\",data:t,success:function(t){t=t.items;var i=[];_.each(t,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),i.push(t)});var s={};_.each(i,t=>{s[t.name]=t.total});let o=0;for(let t in s)o+=s[t];this.totaldata[e]=o,s.total=o,s.prj=e;let r=this.totalchannel[e]=s;this.dataarray.push(r),this.update(),a()}.bind(this)}),this.update({isLoading:!1})},()=>{this.renderproject(),this.valuedataTable=_.orderBy(this.dataarray,[\"total\"],[\"desc\"]),this.valuedataTablelenght=this.valuedataTable.length})},this.renderTotal=t=>{let e=_.clone(this.parent.search);e.project=t,APP.apiGet({path:\"mentions/composition\",data:e,success:t=>{const e=t.items;var a={};_.each(e,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),a[t.name]=t.total}),this.totalchannelAll=a;let i=0;for(let t in a)i+=a[t];this.totaldataAll=i,this.update()}})},this.renderchart=t=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let e=_.clone(this.parent.search);e.is_total=null,e.project=t,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash&&(p(\"section\")?e.section=p(\"section\"):e.section=null),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:e,success:t=>{t=t.items;let e=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const i in t){let s={};s={y:t[i].count,name:i,color:a[i]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1});var i;i=_.sumBy(e,\"y\");var s={};_.each(e,t=>{s[t.name]=t.y}),this.totaldatapersentase={Facebook:100*(s.Facebook||0)/i,Twitter:100*(s.Twitter||0)/i,Instagram:100*(s.Instagram||0)/i,Blog:100*(s.Blog||0)/i,Video:100*(s.Video||0)/i,Forum:100*(s.Forum||0)/i,Portal:100*(s.News||0)/i};let o=0,r=0;for(const t in this.totaldatapersentase)o+=this.totaldatapersentase[t],r+=s[t];this.parent.refs.mediadistributorcahrt.createChart({data:e})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.renderproject=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name,time_add,key_color\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.getproject(t)},1e3),this.update()}.bind(this)})},this.dataProjects=[],this.getproject=t=>{this.dataProjects=[];t=t;const e=this.validProjects.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.projectfilter=_.filter(this.dataProjects,(function(t){return t.checked})),this.update()},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},146:function(t,e,a){a(0).tag2(\"mediadistributorchart\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION CHART </h6> </div> <div class=\"col-md-8\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstreammediacompetition\" if=\"{!notdata}\"> </div> </div> </div> </div>',\"\",\"\",(function(t){this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstreammediacompetition\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}: {point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}}))},151:function(t,e,a){a(0).tag2(\"compositionbybrand\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPOSITION BY BRAND </h6> </div> <div class=\" pd-y-15 bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in valueDataArray}\"> <td class=\" tx-black\"><b>{o.prj}</b></td> <td class=\" tx-black\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-comments\"></i> <b>{o.total ? o.total.formatMoney(0) : o.total}</b></td> <td class=\" tx-black\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{o.positive ? o.positive.formatMoney(0) : o.positive}</b></td> <td class=\" tx-black\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{o.negative ? o.negative.formatMoney(0) : o.negative}</b></td> <td class=\" tx-black\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{o.neutral ? o.neutral.formatMoney(0) : o.neutral}</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.render=()=>{let t=_.clone(this.parent.search);this.parent.competitionProjects[0]?this.competitionProjects=_.concat(parseInt([t.project]),this.parent.competitionProjects):this.competitionProjects=[t.project];let e=this.parent.projectList;e?this.createObject(t,e):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{e=t}}).done(()=>{this.parent.projectList=e,this.createObject(t,e)})},this.valueDataArray=[],this.DataArray=[],this.createObject=(t,e)=>{this.prjList={};for(let t in this.competitionProjects){const a=this.competitionProjects[t],i=_.find(e,{key_id:parseInt(a)});i&&i.key_name&&(this.prjList[a]=i.key_name)}var a=this.competitionProjects;async.each(a,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const i=(t=t.items).negative?parseInt(t.negative):0,s=t.positive?parseInt(t.positive):0,o=t.neutral?parseInt(t.neutral):0;this.chacetotal[e]=s+i+o,this.cachepositive[e]=s,this.cachenegative[e]=i,this.cacheneutral[e]=o,this.DataArray.push({negative:i,positive:s,neutral:o,total:s+i+o,prj:this.prjList[e]}),this.update(),a()}.bind(this)}),this.update({isLoading:!1})},()=>{let t=_.orderBy(this.DataArray,[\"total\"],[\"desc\"]);this.valueDataArray=t,this.update()})}}))},155:function(t,e,a){\"use strict\";t.exports=function(t,e,a){var i=36e5,s=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(i=864e5,s=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,s=\"MMMM YYYY\"),a)var o=a;else o=\"#ccc\";return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\"},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:o}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:o},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(s),\"<br>\",\"Mentions : \"+this.y].join(\"\")}},plotOptions:{series:{fillColor:{},cursor:\"pointer\",point:{events:{click:function(a){var i=moment(this.category).format(\"YYYY-MM-DD\"),s=moment(this.x).format(\"HH\");renderchart.trigger(t,i,this.series.userOptions.valnameid,s,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:i}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},22:function(t,e,a){\"use strict\";t.exports=function(t,e,a){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"bar\"},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{categories:e,title:{text:null},labels:{style:{color:\"#333\",fontSize:\"18px\"}}},yAxis:{max:100,labels:{overflow:\"justify\",formatter:function(){return\"\".concat(this.value,\"%\")}},title:{text:\"\"}},tooltip:{formatter:function(){var t=parseInt(a[this.key]);return\"<span style='z-index:0;position:relative;'> \".concat((this.y/100*t).formatMoney(2),\" mentions </span>\")},followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(t){var e=parseInt(a[this.key]);return\"<span style='z-index:0;position:relative;font-size:18px;'> \"+this.y.formatMoney(2)+\"% (\"+(this.y/100*e).formatMoney(0)+\")</span>\"}}}},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},credits:{enabled:!1}})}},55:function(t,e,a){\"use strict\";t.exports=function(t,e){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"column\"},title:{text:\"Stacked column chart\"},xAxis:{categories:[\"Apples\",\"Oranges\",\"Pears\",\"Grapes\",\"Bananas\"]},yAxis:{min:0,title:{text:\"Total fruit consumption\"}},tooltip:{pointFormat:'<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:\"percent\"}}})}},56:function(t,e,a){\"use strict\";a.r(e);var i=a(23),s=a.n(i);a(8);a(0).tag2(\"filter-form\",'<form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"form-layout form-layout-1\"> <div class=\"row mg-b-25\"> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Project :</label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"project\" riot-value=\"{project}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Since :</label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"since\" riot-value=\"{parent.search.since}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Until : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"until\" riot-value=\"{parent.search.until}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Keyword : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"internet\" placeholder=\"by keyword\" style=\"color: #58cabb;\" riot-value=\"{keyword}\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Domain : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"domain\" placeholder=\"by domain\" style=\"color: #58cabb;\" riot-value=\"{domain}\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Author : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"author\" placeholder=\"by author\" style=\"color: #58cabb;\" riot-value=\"{author}\"> </div> </div> <div class=\"col-lg-1\"> <div class=\"form-group\"> <label class=\"form-control-label\">Filter bot : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"filterbot\" placeholder=\"filterbot\" style=\"color: #58cabb;\" riot-value=\"{checkeds}\"> </div> </div> <div class=\"col-lg-2\"> <div class=\"form-layout-footer mg-t-20\"> <button class=\"btn btn-info cursor-pointer\" type=\"submit\">Show Result</button> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-layout-footer mg-t-20\"> <div class=\"form-group mg-b-0\"> <div class=\"dropdown\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" onclick=\"{resetSearch}\" class=\"btn btn-outline-lightblue\" data-toggle=\"dropdown\"> <span class=\" hidden-md-down\">Saved Filters ({namefilter.length > 20 ? namefilter.substring(0,20) + \\'...\\' : namefilter})</span> </a> <div class=\"dropdown-menu dropdown-menu-header\" style=\" width: max-content;\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav mg-t-m-30\"> <li each=\"{o,i in recentProject}\" class=\"cursor-pointer\"> <a onclick=\"{activefilter}\" id=\"{o._id}\"> <i class=\"{ion-checkmark:o.checked==true}\"></i> {o.filter_name} </a> </li> </ul> <hr class=\"mg-5\"> <a href=\"#setting/filterlist?project={localStorage.prjId}\" class=\" see-more cursor-pointer\"> <i class=\"fa fa-arrow-right pull-right pd-5 mg-t-2\"> </i><span class=\"pull-right pd-5\"> Manage Filter </span> </a> </div> </div> </div> </div> </div> <div class=\"col-lg-2\"> <div class=\"form-layout-footer mg-t-30\"> <group-competitive></group-competitive> <div data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</div> </group-competitive> </div> </div> </div> </form>',\"\",\"\",(function(t){this.namefilter=\"No Filter\",this.searchResult=[],this.searchText=\"\",this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10;var e=a(57);this.project=p(\"project\")?p(\"project\"):APP.getProject(),this.runcapture=()=>{async.eachLimit([\"01-channels\",\"02-positive\",\"03-negative\",\"04-neutral\",\"05-mentions\",\"06-composition\",\"07-share-of-stream\",\"08-mention-conversation\",\"09-chart-neutral\",\"10-positive-negative-sentiment\",\"11-positive-wordcloud\",\"12-negative-wordcloud\",\"13-streams-neutral\",\"14-wordcloud-all\",\"15-positive-streams\",\"16-negative-streams\",\"17-number-summary\",\"18-top-hashtags\",\"19-average-daily-mention\",\"20-top-stream-time\",\"21-most-influencers-author\",\"22-most-active-author\",\"23-buzz-volume\",\"24-share-of-voice\",\"25-table-of-mention\",\"26-source-of-mention\",\"27-positive-searchofmention\",\"28-negative-searchofmention\",\"29-total-mentions\",\"30-competition-sentiment-chart\",\"31-sentiment-competition\"],32,(t,a)=>{const i=document.getElementById(t);i?s.a.toBlob(i).then(i=>{var s=new FormData;new XMLHttpRequest;e.saveAs(i,`/tmp/${t}.png`),s.append(\"image\",i,t+\".png\"),$.ajax({url:\"upload.php\",type:\"POST\",data:s,processData:!1,contentType:!1,success:function(t,e,i){a()},error:function(t,e,a){}})}).catch(t=>{console.log(t)}):a()})},this.kirim=t=>{t.preventDefault(),p(\"token\");var e=$(\".exc:checked\").val(),a=_.clone(this.parent.search);a.project=this.refs.project.value,a.since=this.refs.since.value,a.until=this.refs.until.value,a.q=this.refs.internet.value,a.domain=this.refs.domain.value,a.author=this.refs.author.value,a.filterbot=this.refs.filterbot.value,a.filterbot=null!=e&&$(\".exc:checked\").val(),this.update(),this.parent.updateFilter(a)},this.on(\"mount\",()=>{p(\"q\")&&(this.qval=document.keyword),p(\"domain\")&&(this.domainval=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(this.authorval=document.author),p(\"filterbot\")&&(this.filterbotval=document.filterbot),this.update(),this.getfilterlist()}),this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.data,t=>{t.filter_name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.activefilter=t=>{if(t.preventDefault(),null!=APP.currentProject||null!=APP.currentProject){$(\"#modalfilterlist\").modal(\"toggle\"),this.mapFilter=[];var e=t.item.o._id,a=_.map(this.data,(t,a)=>{const i={},s=t._id;return i.checked=s==e,i._id=t._id,i.filter_name=t.filter_name,i});const i=_.orderBy(a,[\"checked\"],[\"desc\"]);this.recentProject=i.slice(0,9),this.update(),APP.apiGet({path:\"bookmark-filter/list/\"+e+\"?project=\"+APP.currentProject,success:t=>{this.checkeds=t.filter_filterbot,this.keyword=t.filter_keywords,this.author=t.filter_author,this.domain=t.filter_domain,this.namefilter=t.filter_name;var e=_.clone(this.parent.search);e.q=t.filter_keywords,e.domain=t.filter_domain,e.author=t.filter_author,e.filterbot=t.filter_filterbot,this.parent.updateFilter(e),this.update()}})}},this.getfilterlist=()=>{APP.log(\"project : project\"),this.update({isLoading:!0}),null==APP.currentProject&&null==APP.currentProject||APP.apiGet({path:\"bookmark-filter/list\",data:{project:APP.currentProject},success:t=>{t=_.orderBy(t,[\"_id\"],[\"desc\"]);this.recentProject=t.slice(0,9),this.mapData=t,t.length<4&&(this.nextdisable=!0),this.data=t,this.total=t.length,this.update({isLoading:!1})}})}}))}}]);","extractedComments":[]}