{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{138:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i(3);i(1).tag2(\"buzzgeodistribution\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 text-center\"> <b class=\"f24 a141\">BUZZ GEO DISTRIBUTION</b> <br> <span class=\"f14 a141\">Geographical distribution of mentions</span> </div> <div class=\"col-md-12 col-12 text-center\"> <div id=\"sentimentbuzgeo\" class=\" height400\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.isLoading=!0,this.render=()=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let e=Object(s.clone)(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject();let t=[],i=[],o=[];Object(a.d)([function(e){$.getJSON(\"/assets/js/id-all.geo.json\",(function(i){t=i,e()}))},function(e){$.getJSON(\"/assets/js/province.json\",(function(t){i=t,e()}))}],()=>{this.update({isLoading:!0}),APP.apiGet({path:\"mentions/popular-locations\",data:{...e,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:e=>{let t=this.parent.component;t.buzzgeodistibution=!0,9===Object(s.filter)(t,e=>e).length&&this.parent.updateid(),0===(e=(e=e.items).map(e=>e&&e.lat?e:null).filter(e=>null!==e)).length?this.notdata=!0:this.update({notdata:!1});let a=Object(s.map)(e,(function(e){let t=null;return null!=e&&i.features&&(o=getProvince(i.features,e.lat||0,e.lon||0),Object(s.isEmpty)(o)||o&&(t={\"hc-key\":o.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:o.NAME_1,value:e.count})),t}));a=Object(s.reduce)(a,(function(e,t){return Object(s.isObject)(t)&&(e[t.hasc]?e[t.hasc].value+=t.value:e[t.hasc]=t),e}),{});var l=[];Object(s.each)(a,(e,t)=>{l.push(e)}),a=l,Highcharts.mapChart(\"sentimentbuzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},colorAxis:{dataClasses:[{}]},colorAxis:{min:0},series:[{data:a,name:\"Streams\",states:{hover:{color:\"#BADA55\"}}}]}),this.update({isLoading:!1})}})})}}))},139:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"buzzsource\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mt-5 mb-5 text-center\"> <b class=\"f24 a141\">BUZZ SOURCE</b> <br> <span class=\"f14 a141\">Number of users per source channel</span> </div> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"col-md-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center py-4 f12 circle-diagram-holder b-5-h\"> <span each=\"{item in channelsvalue1}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-b\"> <span each=\"{item in channelsvalue3}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-r\"> <span each=\"{item in channelsvalue5}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-b\"> <span each=\"{item in channelsvalue7}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> </div> </div> <div class=\"col-12 col-12 ml-3 height40\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #3cabaf;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #57545f;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #e57173;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #57545f;\"> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-12 col-12 holder-dotline height10\"> <div class=\"row\"> <div class=\"line-tengah m-g-l-1r\"></div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-h\"> </div> </div> <div class=\"f12 top-circle-title color-h\"> <span each=\"{item in channelsvalue1}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 bottom-circle-title color-blu\"> <span each=\"{item in channelsvalue2}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 top-circle-title color-bl\"> <span each=\"{item in channelsvalue3}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-org\"> </div> </div> <div class=\"f12 bottom-circle-title color-org\"> <span each=\"{item in channelsvalue4}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-r\"> </div> </div> <div class=\"f12 top-circle-title color-r\"> <span each=\"{item in channelsvalue5}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 bottom-circle-title color-blu\"> <span each=\"{item in channelsvalue6}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-bl\"> </div> </div> <div class=\"f12 top-circle-title color-bl\"> <span each=\"{item in channelsvalue7}\">{item.name}</span> </div> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\" style=\"height: 40px;\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-blu\"> </div> </div> </div> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-org\"> </div> </div> </div> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-blu\"> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-2 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder circle-diagram-fixer b-5-bl\"> <span each=\"{item in channelsvalue2}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder b-5-org source-mobile\"> <span each=\"{item in channelsvalue4}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder b-5-bl source-mobile\"> <span each=\"{item in channelsvalue6}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){const t={Video:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"/assets/images/components/icons/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"/assets/images/components/icons/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"/assets/images/components/icons/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"/assets/images/components/icons/chat-grey.png\",name:\"Forum\",idchannels:5}};this.isLoading=!0,this.render=e=>{this.update({isLoading:!0});let i=Object(s.clone)(this.parent.search);i.compare=!0,APP.apiGet({path:\"mentions/composition\",data:i,success:i=>{let a=this.parent.component;a.buzzsource=!0,9===Object(s.filter)(a,e=>e).length&&this.parent.updateid();const o=i.items;Object(s.sumBy)(o,\"total\");var l=Object(s.map)(o,e=>{let i={};return i.total=e.total,i.name=t[e.name]&&t[e.name].name?t[e.name].name:\"\",i});const c=Object(s.map)(l,e=>e.name),n=Object(s.filter)(t,e=>c.indexOf(e.name)<0).map(e=>({name:e.name,total:0}));let r=(l=Object(s.orderBy)(l,[\"total\"],[\"desc\"])).concat(n);this.channelsvalue1=[r[0]],this.channelsvalue2=[r[1]],this.channelsvalue3=[r[2]],this.channelsvalue4=[r[3]],this.channelsvalue5=[r[4]],this.channelsvalue6=[r[5]],this.channelsvalue7=[r[6]],this.total=l.length,this.update({isLoading:!1}),Object(s.isFunction)(e)&&e()}})}}))},140:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"buzzvolume\",'<div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mt-5 text-center\"> <b class=\"f24 a141\">BUZZ VOLUME</b> <br> <span class=\"f14 a141\">Total mentions and comparison of sentiment</span> </div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 e37275\">{total ? total.formatMoney(0) : 0}</b> </div> <div each=\"{o,i in buzzvolume}\" class=\"{o.colmd}\"> <div class=\"row\"> <div class=\"col-md-3 col-3 text-center pt-2 bv-left-box\" riot-style=\"border-bottom: 10px solid {o.color};\"> <b class=\"f24\" riot-style=\"color:{o.color}\">{String(this.persentasedata[o.id]).replace(\\'.\\', \\',\\')}%</b> </div> <div class=\"col-md-2 col-2\"> <div class=\"row\"> <div class=\"col-md-6 col-6 bv-middle-left pd-0\" riot-style=\"border-bottom: 10px solid {o.color};\"></div> <div class=\"col-md-6 col-6 bv-middle-right pd-0\" riot-style=\"border-bottom: 10px solid {o.color};\"></div> </div> </div> <div class=\"col-md-7 col-7 pt-3 bv-right-box mb-b-10\" riot-style=\"border-bottom: 10px solid {o.color};\"> <span class=\"f20 a9a later-spacing\">{o.name} <b class=\"a141\">{this.sValue[o.id] ? this.sValue[o.id].formatMoney(0).replace(\\',\\', \\'.\\') : 0}</b></span> </div> </div> </div> </div>',\"\",\"\",(function(e){this.isLoading=!0,this.persentasedata=[],this.persentasedata.positive=0,this.persentasedata.negative=0,this.persentasedata.neutral=0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.buzzvolume=[{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Positive\",id:\"positive\",color:\"#32a8ac\"},{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Negative\",id:\"negative\",color:\"#e37275\"},{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Neutral\",id:\"neutral\",color:\"#eeaf29\"}],this.render=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0;let e=Object(s.clone)(this.parent.search);this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:e,success:e=>{let t=this.parent.component;t.buzzvolume=!0,9===Object(s.filter)(t,e=>e).length&&this.parent.updateid();const i=(e=e.items).negative?parseInt(e.negative):0,a=e.positive?parseInt(e.positive):0,o=e.neutral?parseInt(e.neutral):0;this.total=i+a+o,this.valueNegative=100*e.negative/this.total,this.valuePositive=100*e.positive/this.total,this.valueNeutral=100*e.neutral/this.total,this.persentasedata={negative:Number(parseFloat(this.valueNegative.toFixed(1)))?parseFloat(this.valueNegative.toFixed(1)):0,positive:Number(parseFloat(this.valuePositive.toFixed(1)))?parseFloat(this.valuePositive.toFixed(1)):0,neutral:Number(parseFloat(this.valueNeutral.toFixed(1)))?parseFloat(this.valueNeutral.toFixed(1)):0},this.isLoading=!1,this.sValue=e,this.update()}})}}))},141:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"mostinfluencer\",'<div class=\"row mt-5\"> <div class=\"col-md-8 offset-md-2 col-12\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row\"> <div class=\"col-md-12 col-12 text-center\"> <b class=\"a141 f24\">TOP INFLUENCER</b> <br> <span class=\"f14 a141\">Top user with highest impact or reach</span> </div> </div> <div class=\"row mt-3\"> <div class=\"col-md-7 col-12 text-center\"> <div class=\"row mb-3\" each=\"{o,i in itemsone}\"> <div class=\"col-md-8 offset-md-4 py-2 mi-holder\"> <span class=\"tx-20\" riot-style=\"color:{color[i + 1]}\"><b>{o.realname ? o.realname : o.user_name}</b></span> <br> <b>{numeral(o.follower !== null ? o.follower :\\'0\\').format(\\'0.0a\\').replace(\\'.00\\', \\'\\')} Followers</b> <div class=\"mi-font-shadow\">{i +1} </div> <div class=\"mi-font-style\" riot-style=\"color: {color[i + 1]}\">{i +1} </div> </div> </div> </div> <div class=\"col-md-5 col-12 text-center\"> <div class=\"row mb-3\" each=\"{o,i in itemstwo}\"> <div class=\"col-md-12 py-2 mi-holder\"> <span class=\"tx-20\" riot-style=\"color:{color[i + 4]}\"> <b>{o.realname ? o.realname : o.user_name}</b></span> <br> <b>{numeral(o.follower !== null ? o.follower :\\'0\\').format(\\'0.0a\\').replace(\\'.00\\', \\'\\')} Followers</b> <div class=\"mi-font-shadow\">{i +4} </div> <div class=\"mi-font-style\" riot-style=\"color:{color[i + 4]}\">{i +4} </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.color=[],this.color[1]=\"#e57173\",this.color[2]=\"#93918c\",this.color[3]=\"#3cabaf\",this.color[4]=\"#57545f\",this.color[5]=\"#3c78af\",this.color[6]=\"#f0b000\",this.isLoading=!0,this.render=()=>{let e=Object(s.clone)(this.parent.search);this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:e,success:e=>{let t=this.parent.component;t.mostinfluencer=!0,9===Object(s.filter)(t,e=>e).length&&this.parent.updateid(),this.total=e.total,this.dataarraymost=[];var i=Object(s.map)(e.items,e=>(\"Facebook\"===e.service&&(e.serviceId=1),\"Twitter\"===e.service&&(e.serviceId=2),\"Image\"===e.service&&(e.serviceId=7),\"Video\"===e.service&&(e.serviceId=6),\"Portal\"===e.service&&(e.serviceId=3),\"Blog\"===e.service&&(e.serviceId=4),\"Forum\"===e.service&&(e.serviceId=5),e));this.itemsone=i.slice(0,3),this.itemstwo=i.slice(3,6),this.update({isLoading:!1})}})}}))},142:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i(7),o=i.n(a),l=i(3);i(1).tag2(\"sentimentchart\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"a141 f24\">SENTIMENT</b> <br> <span class=\"f14 a141\">positive & negative sentiment</span> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"e37275 f18\">DAILY</b> <span class=\"s758 float-right\"><b class=\"color-h\">{sValue[\\'positive\\'] ? sValue[\\'positive\\'].formatMoney(0) : 0} </b>Positive &nbsp; <b class=\"color-r\">{sValue[\\'negative\\'] ? sValue[\\'negative\\'].formatMoney(0) : 0}</b> Negative</span> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"sentimentdaily\" class=\"height-chart-infographic\"></div> </div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"f7c f18\">HOURLY</b> <span class=\"s758 float-right\"><b class=\"color-h\">{sValue[\\'positive\\'] ? sValue[\\'positive\\'].formatMoney(0) : 0}</b> Positive &nbsp; <b class=\"color-r\">{sValue[\\'negative\\'] ? sValue[\\'negative\\'].formatMoney(0) : 0} </b> Negative</span> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"sentimenthourly\" class=\"height-chart-infographic\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.dataProjects=[],this.sValue=[],this.sentPersence=[],this.iconsentiment=[],this.colorsentiment=[],this.persentasedata=[],this.isLoading=!0,this.type=\"hourly\",this.chart=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#32a8ac\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:1},{color:\"#e37275\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:2}],this.render=()=>{this.renderdaily(),this.renderhourly(),this.update_data()},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let e=Object(s.clone)(this.parent.search);e.limit=\"\",e.page=\"\",e.section=\"positive,negative,neutral\",e.compare=!0,this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:e,success:e=>{e=e.items,this.sValue.positive=e.positive.current?e.positive.current:0,this.sValue.negative=e.negative.current?e.negative.current:0,this.update()}})},this.renderdaily=()=>{let e=Object(s.clone)(this.parent.search);e.group_service=\"false\",e.project=APP.currentProject,this.renderdata(e,\"daily\",\"sentimentdaily\")},this.renderhourly=()=>{let e=Object(s.clone)(this.parent.search);e.group_service=\"false\",e.project=APP.currentProject,this.renderdata(e,\"hourly\",\"sentimenthourly\")},this.renderdata=(e,t,i)=>{e.type=t,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({isLoading:!0});var a=[];Object(l.a)(this.sentimentall,(t,o)=>{e.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:e,success:e=>{let l=this.parent.component;l.sentimentchart=!0,9===Object(s.filter)(l,e=>e).length&&this.parent.updateid(),e=e.items;let c=[];c=(e=Object(s.sortBy)(e,e=>moment(e.date).toDate())).map(e=>[moment(e.date).utc().valueOf(),e.count]),c.length>0&&(this.nodata=!1);var n=0;Object(s.each)(c,(e,t)=>{n+=e[1]}),a.push({id:\"response\",shadow:!1,noid:n,name:t.name,nameval:t.nameval,type:\"spline\",lineWidth:1,color:t.color,colorval:t.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},dataLabels:{enabled:\"sentimenthourly\"!=i,color:t.color,overflow:\"justify\",allowOverlap:!0,backgroundColor:\"rgba(252, 255, 197, 0.7)\",borderWidth:1,borderRadius:5,borderColor:t.color,padding:5,align:\"Positive\"===t.name?\"left\":\"right\"},marker:{radius:3},data:c}),this.update({isLoading:!1}),o()}},(e,t,i)=>{console.log({x:e,y:t,z:i})},o)},()=>{if(!this.nodata){const l=i;this.update({nodata:this.nodata});let c=Object(s.orderBy)(a,[\"noid\"],[\"desc\"]);this.chart=o()(l,t,\"#ccc\",!1);for(var e=0;e<=c.length-1;e++)this.chart.addSeries(c[e])}this.update({Loader:!1})})}}))},143:function(e,t,i){\"use strict\";i.r(t);var s=i(0);i(1).tag2(\"sentimentpositivenegative\",'<div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD POSITIVE</b> <br> <span class=\"f14 a141\">Top positive keywords</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE</b> <br> <span class=\"f14 a141\">Top negative keywords</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative\" style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS</b> <br> <span class=\"f14 a141\">Top 5 mentions and keyword phrase per sentiment</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositive}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" if=\"{item.user.avatar}\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.real_name ? item.user.real_name : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositive}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegative}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemsnegative}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\" if=\"{item.user.avatar}\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.real_name ? item.user.real_name : item.user.name})</span> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.isLoading=!0,this.render=()=>{setTimeout(()=>{this.topwordnegatives(),this.topwordpositives(),this.update_datanegative(),this.update_datapositive(),this.update({isLoading:!0})},1)},this.update_datapositive=()=>{let e=Object(s.clone)(this.parent.search);e.section=\"positive\",e.limit=4e3,e.page=0,e.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:e,success:t=>{let i=this.parent.component;i.sentimentpositivenegative=!0,9===Object(s.filter)(i,e=>e).length&&this.parent.updateid();let a=t&&t.items&&t.items.positive?t.items.positive:[],o=e.q;if(o)this.streamspositive(o);else{if(a.length>0)var l=a?a.map(e=>e[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else l=null;this.streamspositive(l)}var c=Object(s.concat)(a);if((c=Object(s.orderBy)(c,[1],[\"desc\"])).length>0){this.update({notdata:!1});const e=c[0][1];c.map(t=>{const i=t[0].length,s=parseInt(t[1]);let a=s/e*100;return i>20&&(a=10,s/e*100>60&&(a=s/e*50)),a<15&&(a=15),t[1]=a,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\").show(),WordCloud(\"wordcloud_positive\",{list:c,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\").width()/1024),weightFactor:e=>e,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\").html(\"Empty\"),$(\"#wordcloud_positive\").show()}})},this.update_datanegative=()=>{let e=Object(s.clone)(this.parent.search);e.section=\"negative\",e.limit=4e3,e.page=0,e.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:e,success:t=>{let i=t&&t.items&&t.items.negative?t.items.negative:[],a=e.q;if(a)this.streamsnegative(a);else{if(i.length>0)var o=i?i.map(e=>e[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else o=null;this.streamsnegative(o)}var l=Object(s.concat)(i);if((l=Object(s.orderBy)(l,[1],[\"desc\"])).length>0){this.update({notdata:!1});const e=l[0][1];l.map(t=>{const i=t[0].length,s=parseInt(t[1]);let a=s/e*100;return i>20&&(a=10,s/e*100>60&&(a=s/e*50)),a<15&&(a=15),t[1]=a,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\").show(),WordCloud(\"wordcloud_negative\",{list:l,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\").width()/1024),weightFactor:e=>e,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").html(\"Empty\"),$(\"#wordcloud_negative\").show()}})},this.topwordpositives=()=>{let e=Object(s.clone)(this.parent.search);this.topword=[],e.limit=6,e.page=0,e.section=\"positive\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:e,success:e=>{this.total2=e.length,this.topwordpositive=e.items.slice(0,5),this.update({isLoading:!1})}})},this.topwordnegatives=()=>{let e=Object(s.clone)(this.parent.search);this.topword=[],e.page=0,e.section=\"negative\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:e,success:e=>{this.total2=e.length,this.topwordnegative=e.items.slice(0,5),this.update({isLoading:!1})}})},this.streamspositive=e=>{APP.log(\"render Stream timeline\");let t=Object(s.clone)(this.parent.search);t.section=\"positive\",t.limit=5,t.group_service=!1;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&(i+=a>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,a++);this.xhrStream=APP.apiPost({path:\"stream\"+i,success:e=>{this.itemspositive=e.item,this.update({isLoading:!1})}})},this.streamsnegative=e=>{APP.log(\"render Stream timeline\");let t=Object(s.clone)(this.parent.search);t.section=\"negative\",t.limit=5,t.group_service=!1;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&(i+=a>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,a++);this.xhrStream=APP.apiPost({path:\"stream\"+i,success:e=>{this.itemsnegative=e.item,this.update()}})}}))},144:function(e,t,i){\"use strict\";i.r(t);var s=i(47);i(1).tag2(\"shareofvoice\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE</b> <br> <span class=\"f14 a141\">Comparison among source channel </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){s.default.bind(this)()}))},47:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i(11).default.get(\"channels\",{}),o=Object.values(a).reduce((function(e,t){return e[t.name]=t.color,e}),{}),l={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};t.default=function(){var e=this;this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=function(){var t=e.parent.component;t.shareofvoice=!0,9===Object(s.filter)(t,(function(e){return e})).length&&e.parent.updateid();var i=Object(s.clone)(e.parent.search);i.is_total=null,e.update({isLoading:!0}),e.xhr=APP.apiGet({path:\"stream/share-of-voice\",data:i,success:function(t){t=t.items,t=Object(s.orderBy)(t,[\"count\"],[\"desc\"]);var i=[];for(var a in t){var c;c={y:t[a].count,z:l[a],name:t[a].name,color:o[t[a].name],colorval:o[a]},i.push(c)}e.update({isLoading:!1}),Highcharts.chart(\"var-donut\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.y}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:e.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:i}]})}})}}}}]);","extractedComments":[]}