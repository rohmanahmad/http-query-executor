{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{244:function(t,e,s){s(0).tag2(\"buzzgeodistributionpage\",'<div class=\"col-md-12 mg-t-20\"> <span class=\"panel-body header-title mg-t-70\"> <span class=\"tx-tittle-infg\"> BUZZ GEO DISTRIBUTION</span> </span> <div class=\"body\" id=\"sentimentbuzgeo\" riot-style=\"height: {heightval}px;\"></div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.heightval=(window.innerHeight-200)/2,this.update()}),this.render=()=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject();let e=[],s=[],a=[];async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(s){e=s,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){s=e,t()}))}],()=>{this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...t,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=_.map(t,(function(t){let e=null;return null!=t&&s.features&&(a=getProvince(s.features,t.lat||0,t.lon||0),_.isEmpty(a)||a&&(e={\"hc-key\":a.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:a.NAME_1,value:t.count})),e}));e=_.reduce(e,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var i=[];_.each(e,(t,e)=>{i.push(t)}),e=i,Highcharts.mapChart(\"sentimentbuzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},colorAxis:{dataClasses:[{color:\"#C40401\"}]},colorAxis:{min:0,stops:[[0,\"#d5dbde\"],[.5,\"#7f8d96\"],[1,\"#384d5a\"]]},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#85c4b5\"}}}]}),this.update({isLoading:!1})}})})}}))},245:function(t,e,s){s(0).tag2(\"buzzvolume\",'<div style=\"margin-right: 0px;margin-left: 0px;\"> <div class=\"pd-x-25 mg-r--1\"> <h1 class=\"tx-30 tx-uppercase tx-tittle-infg tx-semibold tx-spacing-1 mg-t-20\">BUZZ VOLUME </h1> <h1 class=\"tx-40 tx-light tx-tittle-infg mg-b-0\">{this.sValue[\\'total\\'] ? this.sValue[\\'total\\'].formatMoney(0) : 0}</h1> </div> <div class=\"container\"> <div class=\"row\"> <div class=\"col-md-12\"> <h3 class=\"progress-title tx-greent-infg\">POSITIVE ({this.sValue[\\'positive\\'] ? this.sValue[\\'positive\\'].formatMoney(0) : 0}) </h3> <div class=\"progress positive\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'positive\\'] < 10 ? 10 :this.persentasedata[\\'positive\\']}%; background:#66ae9b;\"> <span class=\"progress-icon fa fa-thumbs-o-up\"></span> <div class=\"progress-value\"><span>{this.persentasedata[\\'positive\\']}</span>%</div> </div> </div> <h3 class=\"progress-title tx-red-infg\">NEGATIVE ({this.sValue[\\'negative\\'] ? this.sValue[\\'negative\\'].formatMoney(0) : 0})</h3> <div class=\"progress negative\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'negative\\'] < 10 ? 10 : this.persentasedata[\\'negative\\']}%; background:#dc8c81;\"> <span class=\"progress-icon fa fa-thumbs-o-down\"></span> <div class=\"progress-value\"><span>{this.persentasedata[\\'negative\\']}</span>%</div> </div> </div> <h3 class=\"progress-title tx-orange-infg\">NEUTRAL ({this.sValue[\\'neutral\\'] ? this.sValue[\\'neutral\\'].formatMoney(0) : 0})</h3> <div class=\"progress neutral\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'neutral\\'] < 10 ? 10 : this.persentasedata[\\'neutral\\']}%; background:#eaa25c;\"> <span class=\"progress-icon fa fa-question-circle\"></span> <div class=\"progress-value\"><span id=\"{this.persentasedata[\\'neutral\\']}\"> {this.persentasedata[\\'neutral\\']}</span>%</div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.sValue=[],this.persentasedata=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.on(\"mount\",()=>{let t=(window.innerHeight-200)/2;this.heightval=t-30,window.innerWidth<500?this.bdRadius=50:this.bdRadius=100,this.update()}),this.render=()=>{this.update_data(),this.renderchartdefault()},this.update_data=()=>{APP.log(\"sentiment : update data\");let t=_.clone(this.parent.search);this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{const e=(t=t.items).negative?parseInt(t.negative):0,s=t.positive?parseInt(t.positive):0,a=t.neutral?parseInt(t.neutral):0;return this.total=e+s+a,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:parseFloat(this.valueNegative.toFixed(1)),positive:parseFloat(this.valuePositive.toFixed(1)),neutral:parseFloat(this.valueNeutral.toFixed(1))},this.isLoading=!1,this.sValue=t,this.update(),!1}}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.renderchartdefault=()=>{}}))}}]);","extractedComments":[]}