{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{90:function(t,a,s){\"use strict\";s.r(a);s(16);s(0).tag2(\"top-hastag\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP HASHTAGS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer pd-y-15 bg-transparent\" if=\"{total != 0}\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"table table-striped mg-b-0\"> <thead> </thead> <tbody> <tr each=\"{o,i in items}\"> <td class=\"b-t-0 cursor-pointers\" onclick=\"{tophastagsvalue}\">#{o._id.tag}</td> <td class=\"displaytable\"> {o.count.toLocaleString({ minimumFractionDigits: 2 })}</br> <span class=\"tx-11\"> Mention</span> </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p>No data found, please input another dates</p> </span> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.isLoadingword=!0,this.chacheTophastag={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.tophastagsvalue=t=>{t.item.o._id.tag},this.render=t=>{this.chacheTophastag={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"top hastags : update menuId\"),null==t){var a=this.refs.menuValue.dataProjects[0].id.toString();(s=_.clone(this.parent.search)).project=a,this.valprj=a}else{_.find(this.times,{selected:!0});var s;(s=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheTophastag[s.project]){var e=this.chacheTophastag[s.project];this.items=e.items,this.loadtoltiphashtag(this.items),this.total=e.items,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/hashtags\",data:s,success:function(t){this.isExist&&(this.chacheTophastag[s.project]=t,this.items=t.items,this.loadtoltiphashtag(this.items),this.total=t.items.length,this.update({isLoading:!1}))}.bind(this)});this.currentProjectId=t},this.hasthag={},this.loadtoltiphashtag=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3)},this.downloadcsv=()=>{var t=this.chacheTophastag[Number(this.valprj)].items.map(t=>({count:t.count,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+this.valprj,!0)},this.on(\"unmount\",()=>{this.isExist=!1,this.chacheTophastag=null,this.chacheTophastagword=null,this.items=null,this.word=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheTophastag,delete this.chacheTophastagword,delete this.items,delete this.word,delete this.search}),this.on(\"mount\",()=>{this.xhr=null})}))},92:function(t,a,s){\"use strict\";s.r(a);var e=s(10),i=s.n(e);s(0).tag2(\"topmention-daily\",'<div class=\"card\"> <menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTION TIME</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\" id=\"{valprj}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in day and time\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height530\" id=\"topmentionstime\" if=\"{!notdata}\"> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.charttoptime=null,this.currentProjectId=null,this.isExist=!0,this.cacheTopmention={},this.cacheTopmentionval={},this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"average-daily: render\"),this.cacheTopmention={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"average-daily: updatemenu\"),null==t){var a=this.refs.menuValue.dataProjects[0].id.toString();(s=_.clone(this.parent.search)).project=a,this.valprj=a}else{_.find(this.times,{selected:!0});var s;(s=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.cacheTopmention[s.project]){var e=this.cacheTopmention[s.project];this.update({isLoading:!1}),this.dataChart(e,t)}else this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top-mentions-time\",data:s,success:t=>{t=t.items,this.isExist&&(this.cacheTopmention[s.project]=t,this.dataChart(t,s.project),setTimeout(()=>{this.update({isLoading:!1})},500))}});this.currentProjectId=t},this.dataChart=(t,a)=>{let s=[];for(const a in t){let e=_.result(t,a,\"\");s.push([new Date(a.substring(0,10)).getTime(),e.jam,e.count])}if(0===(t=s.length))return this.notdata=!0,!1;this.update({notdata:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.cacheTopmentionval[Number(a)]=s,(this.charttoptime=i()(\"topmentionstime\")).addSeries({color:\"#38a1f2\",data:s})},this.downloadcsv=()=>{let t=Number(this.valprj);var a;(a=this.cacheTopmentionval[t].map((t,a)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}))).length>0&&APP.downloadcsv(a,\"\"+(\"Top_Mention_time_\"+t),!0)},this.on(\"unmount\",()=>{this.isExist=!1,this.cacheTopmention=null,delete this.cacheTopmention,this.xhr&&this.xhr.abort(),this.charttoptime&&this.charttoptime.spacing&&(this.charttoptime.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.on(\"mount\",()=>{this.xhr=null})}))}}]);","extractedComments":[]}