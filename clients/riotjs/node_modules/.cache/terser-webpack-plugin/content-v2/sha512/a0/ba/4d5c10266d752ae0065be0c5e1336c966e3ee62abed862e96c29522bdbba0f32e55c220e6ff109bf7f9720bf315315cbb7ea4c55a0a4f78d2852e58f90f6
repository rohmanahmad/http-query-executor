{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{158:function(i,t,a){\"use strict\";a.r(t);a(8),a(157),a(46);var e=a(0);a(1).tag2(\"prdash-stream-timeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagging pagination=\"{pagination}\"></pagging> <div><i class=\" pull-right pointer refres-streams\" onclick=\"{reload}\"><a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"><i class=\"fa fa-refresh\"></i></a> </i> </div> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{filter}\"> <div if=\"{filter}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <prdash-stream-modal ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></prdash-stream-modal> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{items}\" id=\"setvaleu{_id}\"> <div if=\"{isLoadingset(_id)}\" class=\"loadersentiment\"></div> <div class=\"col-xs-12 holder-timeline {_id} \"> <div class=\"row nomargin {_id}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{user.name}</a></br> </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {service} -{moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{images != undefined && images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{text.substring(0,255)+\\'...\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#SmDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> <div class=\"tanggal\" style=\"margin-top:20px\"> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Tags: </div> <div class=\"tagsprdasboardAdd\" if=\"{!settotal[_id] || settotal[_id] == 0}\"> - </div> <div class=\"tagsprdasboard\" each=\"{o,i in tagvalue[_id]}\" if=\"{settotal[_id] > 0}\">{o}</div> </div> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Newstrend: </div> <div class=\"tagsprdasboardAdd\" if=\"{newstrend == ⁗ ⁗ || newstrend == undefined}\"> - </div> <div class=\"tagsprdasboard\" if=\"{newstrend}\">{newstrend}</div> </div> <div class=\"col-md-4\"> <div class=\"buttons-act\" style=\"right:-65%;position: relative;\"> <div class=\"button-single1 {net:(sentiment != null) && sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(sentiment != null) && sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(sentiment != null) && sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(i){this.userLoadingSentiment;const t=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:i=>{this.update({Loading:!0}),t.query.page=(i-1)*t.query.limit,t.render()}},this.changeLimit=i=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),i.preventDefault(),this.query.limit=parseInt(i.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=i=>this.userLoadingSentiment===i,this.imgmodalf=i=>{this.imgmodal=i.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update()})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof i.cb&&i.cb()},this.setSentiment=i=>{APP.log(\"prdash-stream: setSentiment\");let t=i.target.id,a=i.item._id;this.userLoadingSentiment=a,this.search.streamid=a,this.search.sentiment=t,APP.apiGet({path:\"prdash/update_sentiment\",data:this.search,success:function(i){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.userLoadingSentiment=void 0,this.saveData(),this.render()}.bind(this)})},this.delete=i=>{APP.log(\"prdash-stream: delete\");i.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let t=i.item._id;this.search.streamid=t,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(i){$(\"#setvaleu\"+t).fadeOut(1600),this.saveData()}.bind(this)}),this.update()})},this.detailStream=i=>{APP.log(\"prdash-stream: detailStream\"),this.refs.streamdetail.render(i.item)},this.render=()=>{APP.log(\"prdash-stream: render\");let i=this,t=this.parent.search;t.limit=this.query.limit,t.page=this.query.page,APP.apiGet({path:\"prdash/streams\",data:t,success:function(t){i.items=t.item,this.total=this.items.length,this.loadTags(i.items),i.pagination.pages=Math.ceil(t.total/this.query.limit),i.isLoading=!1,this.update()}.bind(this)}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.tagvalue={},this.settotal={},this.loadTags=i=>{Object(e.each)(i,(function(i,a){i.tags&&(t.tagvalue[i._id]=i.tags,t.settotal[i._id]=t.tagvalue[i._id].length)}))},this.reload=()=>{this.isLoading=!0,this.render()}}))},159:function(i,t,a){\"use strict\";a.r(t);a(82),a(155),a(46);var e=a(0);a(1).tag2(\"prdashtimeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\" style=\"padding: 0\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagination pagination=\"{pagination}\"></pagination> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <modal-stream ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></modal-stream> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{o,i in items}\" id=\"setvaleu{rid}\"> <div class=\"col-xs-12 holder-timeline {rid} \"> <div class=\"row nomargin {rid}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{o.media_name}</a></br> </div> <div class=\"content \" style=\"text-align: justify ; min-height: 0px; \"> {o.title} </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {o.service} -{moment(o.date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{o.images != undefined && o.images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{o.summary.substring(0,1000)+\\'\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#StreamsDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(i){this.userLoadingSentiment,this.array=!1;const t=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:i=>{this.update({Loading:!0}),t.query.page=(i-1)*t.query.limit,t.render()}},this.changeLimit=i=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),i.preventDefault(),this.query.limit=parseInt(i.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=i=>this.userLoadingSentiment===i,this.imgmodalf=i=>{this.imgmodal=i.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update(),console.log(APP.apiprdashboard)})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof i.cb&&i.cb()},this.detailStream=i=>{this.refs.streamdetail.isLoading=!0,APP.log(\"prdash-stream: detailStream\");let t=this.parent.search;t.limit=this.query.limit,t.page=this.query.page,APP.apiGetPR({path:\"report.php?action=get\",data:t,success:function(t){this.refs.streamdetail.render(i.item.o),this.isLoading=!1,this.update()}.bind(this)})},this.render=()=>{APP.log(\"prdash-stream: render\");let i=this,t=this.parent.search;t.limit=this.query.limit,t.page=this.query.page,APP.apiGetPR({path:\"report.php?action=lists\",data:t,success:function(a){APP.apiGetPR({path:\"report.php?action=get\",data:t,success:function(t){var s=a.items;if(a=Object(e.map)(s,i=>{let a=null;return a={rid:i.rid,date_format:moment(i.date_mod).format(\"YYYY-MM-DD HH\"),title:t.items[0].title,media_name:t.items[0].media_name,service:t.items[0].service,summary:t.items[0].summary,service:t.items[0].service},a}),this.pagination.page)var d=(this.pagination.page-1)*this.query.limit,n=d+this.query.limit;this.parent.refs.prsentiment.render(a.length),i.items=a.slice(d,n),this.total=this.items.length,this.pagination.pages=Math.ceil(a.length/this.query.limit),i.isLoading=!1,i.update()}.bind(i)})}}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.reload=()=>{this.isLoading=!0,this.render()}}))},160:function(i,t,a){a(1).tag2(\"prdash-total\",'<nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-12 nav-item sentiment nav-space active positive\"> <a class=\"nav-link\"><span class=\"garis\"><h1>{total}</h1> <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\"><h1>Total Streams</h1></span></a> </li> </li> </ul> </nav>',\"\",\"\",(function(i){this.render=i=>{this.total=i,this.update()}}))}}]);","extractedComments":[]}