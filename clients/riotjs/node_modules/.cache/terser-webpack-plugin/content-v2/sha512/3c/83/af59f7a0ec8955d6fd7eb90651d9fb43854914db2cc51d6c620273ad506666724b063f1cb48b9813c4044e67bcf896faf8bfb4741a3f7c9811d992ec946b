{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{126:function(t,e,a){\"use strict\";a.r(e);var s=a(0),i=a(3),r=a.n(i);a(1).tag2(\"chartsentimenttotal\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS CONVERSATION AND SENTIMENT </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height400 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"chartSentimenttotal\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.Loader=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentiment=[{color:\"#466CA4\",id:\"negative,positive,neutral\",name:\"All\",no:1},{color:\"#0f8212\",id:\"positive\",name:\"Positive\",no:2},{color:\"#eb3737\",id:\"negative\",name:\"Negative\",no:3},{color:\"#f3bc25\",id:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(s.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const e=Object(s.find)(this.times,{selected:!0}).id;let a=Object(s.clone)(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var i=[];async.each(this.sentiment,(t,e)=>{if(!this.isExist)return!1;a.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:a=>{a=a.items;let r=[];r=(a=Object(s.sortBy)(a,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),r.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:r}),e()}},(t,e,a)=>{console.log({x:t,y:e,z:a})},e),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimenttotal\";this.update({nodata:this.nodata}),this.chart=r()(t,e,\"#000\");for(var a=0;a<=i.length-1;a++)this.chart.addSeries(i[a])}this.update({Loader:!1}),Object(s.isFunction)(t)&&t()})},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},127:function(t,e,a){\"use strict\";a.r(e);var s=a(0);a(1).tag2(\"chart-share\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SHARE OF STREAM </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstream\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstream\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:14px;'> \"+this.point.name+\"</br>\"+numeral(this.point.percentage).format(\"0,0.[00]\").replace(\".\",\",\")+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let t=Object(s.clone)(this.parent.search);t.is_total=null,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash?(this.fontcolor=!0,this.sizelegend=\"20px\",p(\"section\")?t.section=p(\"section\"):t.section=null):(this.fontcolor=!1,this.sizelegend=\"11px\"),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){t=t.items;let e=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const s in t){let i={};i={y:t[s].count,name:s,color:a[s]},e.push(i)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0}),this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}