{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{471:function(e,t,a){\"use strict\";a.r(t);var i=a(0),r=a(19),s=a.n(r),n=(a(9),a(5));a(1).tag2(\"trend-by-education\",'<div class=\"card shadow-base bd-0 border-radius-10\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> DATA BERDASARKAN PENDIDIKAN </h6> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Trend By Education\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter position-relative\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <refresh-button cb=\"{refresError}\" if=\"{isLoadingerror}\"></refresh-button> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12 height400 d-none\" id=\"charttrendbyeducation\"></div> <div class=\"col-12 height400\" id=\"charttrendbyeducation_bar\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const a={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\",this.colors=[\"#ff660080\",\"#57e38980\",\"#ff414180\",\"#ffff3e80\",\"#ff990080\",\"#9ade0080\",\"#00910080\",\"#d76cff80\",\"#9eabb080\",\"#cccccc80\"],this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(a[e]),this.render()},this.render=e=>{let a={...this.parent.search,filter_by:this.currentFilter};a.is_total=null;let r=this.colors;this.update({isLoading:!0});let o=[];Object(n.d)([function(e){$.getJSON(\"/assets/data/kategori-pendidikan.json\",(function(t){o=t,e()}))}],()=>{this.xhr=APP.apiGet({path:\"kemnaker/education\",data:a,success:t=>{Object(i.isFunction)(e)&&e();const a=t.items;Object(i.sumBy)(a,\"count\");let n=Object(i.map)(a,e=>{let t={},a=e._id.education?Object(i.toUpper)(e._id.education):\"\";const r=void 0!==o[a]?o[a]:null;return null!=r?(t.centerPie=!0,t.y_vacancy=e.count,t.y_applicant=e.count_applicant,t.y_company=e.count_company,t.y=t.y_applicant+t.y_vacancy,t.y_real=t.y,t.name=r,t.realName=r,t):null}).filter(e=>null!==e);const c=[];n.forEach(e=>{void 0===c[e.name]?c[e.name]=e:(c[e.name].y_vacancy+=e.y_vacancy,c[e.name].y_applicant+=e.y_applicant,c[e.name].y_company+=e.y_company,c[e.name].y+=e.y,c[e.name].y_real+=e.y_real),c[e.name].isZero=0==c[e.name].y_vacancy});let d=0;n.length=0,Object.keys(c).forEach(e=>{n.push(c[e]),c[e].groupId=d,c[e].color=this.colors[d],c[e].dataLabels={enabled:!1,distance:-15*d},d++});if(0===n.length)return void this.update({notdata:!0,isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy();Object(i.map)(n,e=>e.color);this.items=n;let h=[],l=[],p=[];n.forEach(e=>{e.y;const t=e.y_vacancy,a=e.y_applicant;e.y_company;t>0&&h.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy,color:r[e.groupId]}),a>0&&h.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant,color:r[e.groupId]}),l.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy,color:r[e.groupId]}),p.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant,color:r[e.groupId]})}),this.itemsDrill=h;var u=this.chartpie=s()(\"charttrendbyeducation\");u.addSeries({data:n,size:\"35%\",dataLabels:{distance:-50}}),u.addSeries({data:h,size:\"50%\",innerSize:\"75%\",dataLabels:{distance:15}});let m=[{data:l},{data:p}];Highcharts.chart(\"charttrendbyeducation_bar\",{chart:{type:\"bar\"},title:{text:\"Stacked bar chart\"},xAxis:{categories:this.items.map(e=>e.name?e.name:\"tidak spesifik\"),labels:{useHTML:!0}},yAxis:{min:0,labels:{enabled:!1},title:{enabled:!1}},legend:{reversed:!0,enabled:!1},exporting:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1,formatter:function(){return(this.y?this.y.formatMoney(0):0)+\" \"+this.point.name}}}},series:m}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(e)&&e()}})})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let a=Object(i.filter)(datachannels,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},472:function(e,t,a){\"use strict\";a.r(t);var i=a(0),r=a(19),s=a.n(r);a(9);a(1).tag2(\"trend-by-gender\",'<div class=\"card shadow-base bd-0 border-radius-10\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> DATA BERDASARKAN JENIS KELAMIN </h6> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Trend By Gender\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter position-relative\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <refresh-button cb=\"{refresError}\" if=\"{isLoadingerror}\"></refresh-button> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12 height400 d-none\" id=\"charttrendbygender\"></div> <div class=\"col-12 height400\" id=\"charttrendbygender_bar\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const a={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\";let r=[\"Facebook\",\"Twitter\",\"Instagram\",\"Video\",\"Portal\",\"Forums\",\"Blogs\"].map(e=>({name:e,count:0}));this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(a[e]),this.render()},this.colors=[\"#ff660080\",\"#57e38980\",\"#ff414180\",\"#ffff3e80\",\"#ff990080\",\"#9ade0080\",\"#00910080\",\"#d76cff80\",\"#9eabb080\",\"#cccccc80\"],this.render=e=>{let a={...this.parent.search,filter_by:this.currentFilter};a.is_total=null;this.colors;this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"kemnaker/gender\",data:a,success:t=>{Object(i.isFunction)(e)&&e();const a=t.items;Object(i.sumBy)(a,\"count\");let r=0,n=Object(i.map)(a,e=>{let t={centerPie:!0};t.y_vacancy=e.count,t.y_applicant=e.count_applicant,t.y_company=e.count_company,t.y=t.y_applicant+t.y_vacancy,t.y_real=t.y;let a=e._id.gender?parseInt(e._id.gender):0;a=isNaN(a)?0:a;let i=\"\";switch(a){case 1:i=\"Pria\",t.color=\"#475aab\",t.genderId=1;break;case 2:i=\"Wanita\",t.color=\"#a23636\",t.genderId=2;break;case 3:i=\"Pria/Wanita\",t.color=\"#7947c0\",t.genderId=3;break;default:i=\"Tanpa Spesifikasi\",t.color=\"#9e9e9e\",t.genderId=0}return t.name=i,t.realName=i,t.isZero=0==e.count,t.dataLabels={enabled:!1,distance:-20-15*r},r++,t});if(0===n.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy();Object(i.map)(n,e=>e.color);this.items=n;let o=[],c=[],d=[];n.forEach(e=>{e.y;const t=e.y_vacancy,a=e.y_applicant;e.y_company;let i=\"#9e9e9e\",r=\"#9e9e9e\";switch(e.genderId){case 1:i=\"#7389e2\",r=\"#8d9feb\";break;case 2:i=\"#e27272\",r=\"#e98080\";break;case 3:i=\"#a078d8\",r=\"#bc9ef3\"}o.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy,color:i}),o.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant,color:r}),c.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy}),d.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant})}),this.itemsDrill=o;var h=this.chartpie=s()(\"charttrendbygender\");h.addSeries({data:n,size:\"35%\",dataLabels:{distance:-50}}),h.addSeries({data:o,size:\"50%\",innerSize:\"75%\",dataLabels:{distance:15}});let l=[{data:c},{data:d}];Highcharts.chart(\"charttrendbygender_bar\",{chart:{type:\"bar\"},title:{text:\"Stacked bar chart\"},xAxis:{categories:this.items.map(e=>e.name?Object(i.startCase)(Object(i.toLower)(e.name)):\"tidak spesifik\"),labels:{useHTML:!0}},yAxis:{min:0,labels:{enabled:!1},title:{enabled:!1}},legend:{reversed:!0,enabled:!1},exporting:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!0,formatter:function(){return(this.y?this.y.formatMoney(0):0)+\" \"+this.point.name}}}},series:l}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let a=Object(i.filter)(r,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},473:function(e,t,a){\"use strict\";a.r(t);var i=a(0),r=a(19),s=a.n(r);a(9);a(1).tag2(\"trend-by-source\",'<div class=\"card shadow-base bd-0 border-radius-10\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> DATA BERDASARKAN SUMBER DATA </h6> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Trend By Source\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter position-relative\"> <refresh-button cb=\"{refresError}\" if=\"{isLoadingerror}\"></refresh-button> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12 height400 d-none\" id=\"charttrendbysource2\"></div> <div class=\"col-12 height400\" id=\"charttrendbysource_bar\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const a={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\";let r=[\"Facebook\",\"Twitter\",\"Instagram\",\"Video\",\"Portal\",\"Forums\",\"Blogs\"].map(e=>({name:e,count:0})),n={facebook:\"#425F9C\",twitter:\"#00ACEE\",instagram:\"#9212c2\",linkedin:\"#0a66c2\",youtube:\"#ff0000\"},o={facebook:\"#425F9C\",twitter:\"#00ACEE\",instagram:\"#9212c2\",linkedin:\"#0a66c2\",youtube:\"#ff0000\"},c={facebook:\"#425F9C\",twitter:\"#00ACEE\",instagram:\"#9212c2\",linkedin:\"#0a66c2\",youtube:\"#ff0000\"};this.colors=[\"#ff660080\",\"#57e38980\",\"#ff414180\",\"#ffff3e80\",\"#ff990080\",\"#9ade0080\",\"#00910080\",\"#d76cff80\",\"#9eabb080\",\"#cccccc80\"],this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(a[e]),this.render()},this.render=e=>{let a={...this.parent.search,filter_by:this.currentFilter};a.is_total=null;this.colors;this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"kemnaker/source\",data:a,success:t=>{Object(i.isFunction)(e)&&e();const a=t.items;Object(i.sumBy)(a,\"count\");let r=0,d=Object(i.map)(a,e=>{let t={centerPie:!0};t.y_vacancy=e.count,t.y_applicant=e.count_applicant,t.y_company=e.count_company,t.y=t.y_applicant+t.y_vacancy,t.y_real=t.y,t.source=e._id.source,t.color=n[e._id.source];let a=e._id.source?Object(i.startCase)(Object(i.toLower)(e._id.source)):\"\";return t.name=a,t.groupId=r,t.realName=a,t.isZero=0==e.count,t.dataLabels={enabled:!1,distance:-20-15*r},r++,t});if(0===d.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy();Object(i.map)(d,e=>e.color);this.items=d;let h=[],l=[],p=[];d.forEach(e=>{e.y;const t=e.y_vacancy,a=e.y_applicant;e.y_company;t>0&&h.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy,color:n[e.source]}),a>0&&h.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant,color:n[e.source]}),l.push({name:\"Lowongan \"+e.realName,y:t,y_real:e.y_vacancy,color:c[e.source]}),p.push({name:\"Pelamar \"+e.realName,y:a,y_real:e.y_applicant,color:o[e.source]})}),this.itemsDrill=h;var u=this.chartpie=s()(\"charttrendbysource2\");u.addSeries({data:d,size:\"35%\",dataLabels:{distance:-50}}),u.addSeries({data:h,size:\"50%\",innerSize:\"75%\",dataLabels:{distance:15}});let m=[{data:l},{data:p}];Highcharts.chart(\"charttrendbysource_bar\",{chart:{type:\"bar\"},title:{text:\"Stacked bar chart\"},xAxis:{categories:this.items.map(e=>e.name?Object(i.startCase)(Object(i.toLower)(e.name)):\"tidak spesifik\"),labels:{useHTML:!0}},yAxis:{min:0,labels:{enabled:!1},title:{enabled:!1}},legend:{reversed:!0,enabled:!1},exporting:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!0,formatter:function(){return(this.y?this.y.formatMoney(0):0)+\" \"+this.point.name}}}},series:m}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let a=Object(i.filter)(r,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},543:function(e,t,a){\"use strict\";a.r(t);var i=a(0),r=a(19),s=a.n(r);a(9);a(1).tag2(\"trend-by-level\",'<div class=\"card shadow-base bd-0 border-radius-10\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> LEVEL </h6> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Trend By Level\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter position-relative\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <refresh-button cb=\"{refresError}\" if=\"{isLoadingerror}\"></refresh-button> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12 height400\" id=\"charttrendbylevel\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const a={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\",this.colors=[\"#ff660080\",\"#57e38980\",\"#ff414180\",\"#ffff3e80\",\"#ff990080\",\"#9ade0080\",\"#00910080\",\"#d76cff80\",\"#9eabb080\",\"#cccccc80\"],this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(a[e]),this.render()},this.render=e=>{let a={...this.parent.search,filter_by:this.currentFilter};a.is_total=null;this.colors;this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"kemnaker/level\",data:a,success:t=>{Object(i.isFunction)(e)&&e();const a=t.items;Object(i.sumBy)(a,\"count\");let r=Object(i.map)(a,e=>{let t={};return t.y=e.count,t.name=e.level,t.color=e.color,t.isZero=0==e.count,t});if(0===r.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),r=Object(i.orderBy)(r,[\"y\"],[\"desc\"]);Object(i.map)(r,e=>e.color);this.items=r,(this.chartpie=s()(\"charttrendbylevel\")).addSeries({data:r,innerSize:\"50%\"}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let a=Object(i.filter)(datachannels,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},544:function(e,t,a){\"use strict\";a.r(t);var i=a(0),r=a(19),s=a.n(r);a(9);a(1).tag2(\"trend-by-position\",'<div class=\"card shadow-base bd-0 border-radius-10\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> POSITION </h6> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Trend By Position\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter position-relative\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <refresh-button cb=\"{refresError}\" if=\"{isLoadingerror}\"></refresh-button> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12 height400\" id=\"charttrendbyposition\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const a={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\",this.colors=[\"#ff660080\",\"#57e38980\",\"#ff414180\",\"#ffff3e80\",\"#ff990080\",\"#9ade0080\",\"#00910080\",\"#d76cff80\",\"#9eabb080\",\"#cccccc80\"];let r=[\"Facebook\",\"Twitter\",\"Instagram\",\"Video\",\"Portal\",\"Forums\",\"Blogs\"].map(e=>({name:e,count:0}));this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(a[e]),this.render()},this.render=e=>{let a={...this.parent.search,filter_by:this.currentFilter};a.is_total=null;this.colors;this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"kemnaker/position\",data:a,success:t=>{Object(i.isFunction)(e)&&e();const a=t.items;Object(i.sumBy)(a,\"count\");let r=Object(i.map)(a,e=>{let t={};return t.y=e.count,t.name=e.position,t.color=e.color,t.isZero=0==e.count,t});if(0===r.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),r=Object(i.orderBy)(r,[\"y\"],[\"desc\"]);Object(i.map)(r,e=>e.color);this.items=r,(this.chartpie=s()(\"charttrendbyposition\")).addSeries({data:r,innerSize:\"50%\"}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let a=Object(i.filter)(r,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))}}]);","extractedComments":[]}