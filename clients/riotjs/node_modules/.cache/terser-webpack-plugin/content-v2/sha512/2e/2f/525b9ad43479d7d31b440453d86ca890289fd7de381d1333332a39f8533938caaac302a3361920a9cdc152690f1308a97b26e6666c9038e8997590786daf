{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{16:function(t,e,i){i(0).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(e){e.preventDefault();var i=e.target.id;_.each(this.checkeddata,(t,e)=>{t.id==i?t.selected=!0:t.selected=!1}),t.cb(i)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=_.filter(t,(function(t){return t.checked}));_.each(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))},44:function(t,e,i){i(0).tag2(\"sentiment-composition\",'<div class=\"btn {name} btn-icon mg-r-0 {active:selected} mg-t-10 {name}mg-r height60 {mgl10} widthsentiment cursor-pointer displayinlineflex\" each=\"{sentiment}\" id=\"sent\" onclick=\"{selectSentiment}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"35\" height=\"35\" class=\"center displayinitial mg-t-10 mg-l-10\"> <span class=\"mg-l-20 mg-t-20 hiddenmax500\">{name}</span> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"../assets/img/svg/thumbs-up-grey.png\",mgl10:\"mg-r-10\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"../assets/img/svg/thumbs-down-grey.png\",mgl10:\"mg-r-10\"},{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\"../assets/img/svg/help-grey.png\",mgl10:\"mg-l-10\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{APP.log(\"sentiment : render\")},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}}}))},83:function(t,e,i){\"use strict\";i.r(e);i(18);i(0).tag2(\"competitive-share-of-voice\",'<div class=\"no-gutters widget-1\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bb-1 pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SHARE OF VOICE</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height300 \" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null;var e=this;this.render=t=>{var e=this;setTimeout((function(){APP.log(\"share of voice  : render\"),e.setChart(t)}),1e3)},this.setChart=t=>{APP.log(\"share of voice  : setChart\");let i=_.clone(this.parent.search);i.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0,notdata:!1}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:i,success:i=>{if(_.isFunction(t)&&t(),0===(i=i).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});var a=i.items;a=a.map((function(t,e){var a=t.count/i.total*100;return{name:t.brand,y:parseFloat(a.toFixed(1)),totalvalue:t.count.formatMoney(0),color:t.color}})),this.items=a,this.isExist&&(this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy(),Highcharts.chart(\"shareofvoice\",{chart:{type:\"pie\",options3d:{enabled:!0,alpha:45}},title:{text:\"\"},subtitle:{text:\"\"},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h6>{point.name}</h6></th></tr><tr><th>Total : {point.totalvalue} </th><td>({point.y} %)</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{pie:{innerSize:100,depth:45,dataLabels:{formatter:function(){return\"<span style='font-size:12px; color:#333;'> \"+this.point.name+\"</br>\"+this.point.totalvalue+\" ( \"+this.point.y+\" % ) </span>\"},useHTML:!0},minSize:200},series:{cursor:\"pointer\",events:{click:function(t){var i=JSON.parse(localStorage.projects),a=_.filter(i,(e,i)=>e.key_name==t.point.name),s=a?a[0].key_id:\"\";e.parent.detailmentions(null,null,null,null,null,null,t.point.name,s)}}}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},series:[{name:\"Persentase\",data:a}]}),this.update({isLoading:!1}))}})},this.downloadcsv=()=>{var t=this.items.map(t=>({brand:t.name,count:t.y,persentase:t.totalvalue}));t.length>0&&APP.downloadcsv(t,\"share_of_voice_competition_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))}}]);","extractedComments":[]}