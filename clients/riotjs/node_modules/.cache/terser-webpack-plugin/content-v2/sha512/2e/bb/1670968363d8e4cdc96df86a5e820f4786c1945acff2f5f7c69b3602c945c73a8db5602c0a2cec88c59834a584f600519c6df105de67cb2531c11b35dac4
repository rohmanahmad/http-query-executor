{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{160:function(e,t,r){r(0).tag2(\"infographicheader\",'<div class=\"row mb-4 desktopshow\"> <div class=\"col-md-7 col-7 pr-0 mg-t-10\"> <div class=\"row\"> <div class=\"col-md-1 col-1 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu\"> <div class=\"dropdown mg-b-1\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus icon-project-infg\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker2\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-4 col-4 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 border-topmenu\"> <div class=\"row\"> <div class=\"col-md-5 col-6 py-2 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 py-2 px-1\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> </div> </div> </div> <div class=\"col-md-1 col-1 p-0 a141 text-center f14 cursor-pointer\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10cursor-pointer height55 cursor-pointer\"> <b>Go</b> </button> </div> </div> </div> <div class=\"col-md-5 col-5 mt1\"> <div class=\"row pd-l-18\"> <div class=\"col-md-12 col-12 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"search-wrapper\"> <input type=\"text\" class=\"header-search f13 pd-10\" placeholder=\" &#xF002; Type to Search\" name=\"search\" ref=\"valuekey\" onclick=\"{searchfokus}\"> </div> </div> </div> </div> </div> <div class=\"row mb-4 d-block d-sm-none\"> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m\" width=\"100%\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate2\"> </div> </div> </div> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m1\" width=\"100%\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate2\"> </div> </div> </div> <div class=\"col-5 py-3 p-1 a141 text-center f10\"> <div class=\"row border-topmenu m-0 height40 pd-filter-bot-infg\"> <div class=\"col-md-5 col-6 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 p-0\"> <span class=\"{a9a : checkedval} off-mobile\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> <label class=\"switch\"> <input type=\"checkbox\"> <span class=\"slider round\"></span> </label> <span class=\"{a9a : !checkedval} on-mobile\" riot-style=\"font-weight: {bold : checkedval};\">ON</span> </div> </div> </div> <div class=\"col-1 py-3 p-1 a141 text-center f10\" onclick=\"{Gosend}\"> <div class=\"row border-topmenu m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu height40 pd-t-7r\"> <b>Go</b> </div> </div> </div> </div> </div> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-2 text-center pl-1\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <div class=\"dropdown dropdonw-mobile-infg\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus a141\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg mobile\" style=\"left: -11px !important;\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-10 text-center\"> <div class=\"row\"> <div class=\"col-md-6 offset-md-6 a141 pb-2 f14\" style=\"border-bottom: 1px solid #818080\"> <i class=\"fa fa-search\" aria-hidden=\"true\"></i> &nbsp; <input type=\"text\" class=\"header-search f13\" placeholder=\"Type to Search\" name=\"search\" style=\"border:none;\" ref=\"valuekey2\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.searchText=\"\",this.searchResult=[],this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[],this.on(\"mount\",()=>{$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"}),this.project(),this.update()}),this.Gosend=e=>{e.preventDefault();var t=this.refs.startdate.value?moment(this.refs.startdate.value).format(\"YYYY-MM-DD\"):moment(this.refs.startdate2.value).format(\"YYYY-MM-DD\"),r=this.refs.enddate.value?moment(this.refs.enddate.value).format(\"YYYY-MM-DD\"):moment(this.refs.enddate2.value).format(\"YYYY-MM-DD\");t=\"Invalid date\"!=t?t:localStorage.since,r=\"Invalid date\"!=r?r:localStorage.until;let s=this.refs.valuekey.value?this.refs.valuekey.value:this.refs.valuekey2.value;this.parent.search.since=t,this.parent.search.until=r,this.parent.search.q=s,this.parent.search.filterbot=this.checkedval,this.parent.render()},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:e=>{localStorage.setItem(\"projects\",JSON.stringify(e)),this.norequestProject(e)}})},this.norequestProject=e=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var t=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);e=this.reArrangeRecent(e,t);var r=_.map(e,(function(e,t){return{id:e.key_id,date:moment(e.key_start_date).format(\"DD MMMM YYYY\"),name:e.key_name,color:e.key_color,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}}));_.map(e,(function(e){return{id:e.key_id,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}}));this.selectedProject=!1,r.forEach((e,r)=>{t.indexOf(e.id)>-1?(e.checked=!0,this.selectedProject||(this.selectedProject=e,breadCrumb.project=e)):e.checked=!1,this.projects.push(e)}),this.recentProject=this.projects.slice(0,9),this.update()}},this.reArrangeRecent=(e,t)=>{let r=-1;if(e.some((function(e,s){if(t.indexOf(e.key_id)>=0&&r<0)return r=s,s})),r>0){let t=e[r];delete e[r],e.unshift(t),e=e.filter(e=>!!e),localStorage.setItem(\"projects\",JSON.stringify(e))}return e},this.searchProject=e=>{this.searchResult=[];let t=e.target.value;_.each(this.projects,e=>{e.name.toLowerCase().indexOf(t.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(e)}),t.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)}}))}}]);","extractedComments":[]}