{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{110:function(t,e,a){\"use strict\";a.r(e);var i=a(1),s=a.n(i);a(0).tag2(\"chart-stream\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> STREAM OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstream\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{if(\"analysis/my-stream..\"==APP.currentHash||\"stream..\"==APP.currentHash){this.update({tombolrefres:!0});var e=2}else e=4;this.nodata=!0,APP.log(\"chart streams : render\");const a=this.parent.refs.channel.channels,i=_.filter(a,(function(t){return t.selected})),r=_.find(this.times,{selected:!0}).id;let n=_.clone(this.parent.search);n.type=r,n.group_service=\"false\",\"domain/infographic..\"==APP.currentHash&&(n.project=APP.currentProject),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var o=[];async.eachLimit(i,10,(t,a)=>{if(!this.isExist)return!1;n.service_category=t.id;var i=APP.apiGet({path:\"mentions\",data:n,success:i=>{let s=[];i=i.items,s=(i=_.sortBy(i,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),o.push({id:\"response\",shadow:!1,name:t.name,lineWidth:e,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),a()}},a);this.ajaxChannels.push(i)},()=>{if(!this.nodata){const t=\"chartstream\";if(this.update({nodata:this.nodata}),\"domain/infographic..\"==APP.currentHash)var e=\"#333\";for(var a=this.chart=s()(t,r,e),i=0;i<=o.length-1;i++)a.addSeries(o[i])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},113:function(t,e,a){a(0).tag2(\"chart-share\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SHARE OF STREAM </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstream\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstream\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:14px;'> \"+this.point.name+\"</br>\"+numeral(this.point.percentage).format(\"0,0.[00]\").replace(\".\",\",\")+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash?(this.fontcolor=!0,this.sizelegend=\"20px\",p(\"section\")?t.section=p(\"section\"):t.section=null):(this.fontcolor=!1,this.sizelegend=\"11px\"),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){t=t.items;let e=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const i in t){let s={};s={y:t[i].count,name:i,color:a[i]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0}),this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},118:function(t,e,a){\"use strict\";a.r(e);var i=a(1),s=a.n(i);a(0).tag2(\"chartsentimenttotal\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS CONVERSATION AND SENTIMENT </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height400 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"chartSentimenttotal\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.Loader=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentiment=[{color:\"#466CA4\",id:\"negative,positive,neutral\",name:\"All\",no:1},{color:\"#0f8212\",id:\"positive\",name:\"Positive\",no:2},{color:\"#eb3737\",id:\"negative\",name:\"Negative\",no:3},{color:\"#f3bc25\",id:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const e=_.find(this.times,{selected:!0}).id;let a=_.clone(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var i=[];async.each(this.sentiment,(t,e)=>{if(!this.isExist)return!1;a.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:a=>{a=a.items;let s=[];s=(a=_.sortBy(a,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),e()}},(t,e,a)=>{console.log({x:t,y:e,z:a})},e),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimenttotal\";this.update({nodata:this.nodata}),this.chart=s()(t,e,\"#000\");for(var a=0;a<=i.length-1;a++)this.chart.addSeries(i[a])}this.update({Loader:!1}),_.isFunction(t)&&t()})},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},126:function(t,e,a){\"use strict\";a.r(e);var i=a(1),s=a.n(i);a(0).tag2(\"sentiment-positive-negative\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS POSITIVE AND NEGATIVE </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartSentimentpositivenegative\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#0f8212\",id:\"positive\",name:\"Positive\"},{color:\"#eb3737\",id:\"negative\",name:\"Negative\"}],this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\");const a=_.find(this.times,{selected:!0}).id;e.type=a,this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var i=[];async.each(this.sentiment,(t,a)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),a()}.bind(this)},a);this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,a,\"#333\"),r=0;r<=i.length-1;r++)e.addSeries(i[r])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},149:function(t,e,a){a(0).tag2(\"chart-top-streams\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP STREAM TIME </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"topstream\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.createChart=t=>{const e=t.newData||[];if(e[0].data.length<=0)return!1;Highcharts.setOptions({global:{useUTC:!0}});const a=Highcharts.chart(\"topstream\",{chart:{type:\"bubble\",zoomType:\"xy\",marginBottom:40,marginRight:0,plotHeight:150,chartHeight:150,renderTo:\"buble_of_mention\"},colors:[\"#8ec8db\"],legend:{enabled:!1},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#bbbbbb\",gridLineDashStyle:\"dot\",minTickInterval:864e5,title:{text:null},labels:{formatter:function(){return\"<b>\"+Highcharts.dateFormat(\"%e. %b\",this.value)+\"</b> \"},style:{fontSize:\"15px\"}},plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:65,label:{rotation:0,y:60,style:{fontStyle:\"italic\"},text:\"Safe fat intake 65g/day\"},zIndex:3}]},yAxis:{startOnTick:!1,endOnTick:!1,type:\"datetime\",title:{text:\"\"},labels:{formatter:function(){return(this.value>24?24:this.value)+\":00\"},style:{fontSize:\"15px\"}},maxPadding:.2,plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:50,label:{align:\"right\",style:{fontStyle:\"italic\"},text:\"\",x:-10},zIndex:3}]},navigation:{buttonOptions:{enabled:!1}},tooltip:{formatter:function(){return\"<b>\"+moment(this.key).format(\"YYYY-MMM-DD\")+\"</b> at <b>\"+this.y+\".00</b> <br /> <b>\"+this.point.z+\"</b> mentions\"}},plotOptions:{bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:e});if(a){const t=a&&a.series&&a.series[0]&&a.series[0].data&&a.series[0].data?a.series[0].data:[],e=_.maxBy(t,t=>t&&t.z?t.z:{}),i=e&&e.z?parseInt(e.z):0,s=_.findIndex(t,t=>t.z===i);a.tooltip.refresh(t[s])}},this.render=()=>{APP.log(\"chart streams time : render\");let t=_.clone(this.parent.search);t.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0}),this.xhrtopstreams=APP.apiGet({path:\"mentions/top-mentions-time\",data:t,success:function(t){t=t.items?t.items:t;let e=[];for(const a in t){let i=t[a];e.push([new Date(a).getTime(),i.jam,i.count])}0===(t=e.length)?this.notdata=!0:this.update({notdata:!1});const a=[{color:\"#1D91B7\",data:e}];this.createChart({newData:a}),this.update({isLoading:!1})}.bind(this)}),this.xhrtopstreams.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}