{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{223:function(e,t,i){\"use strict\";i.r(t),function(){var e=new Error(\"Cannot find module 'Components/extras/date-picker.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/extras/breadcrumb.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/health-index/total.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/health-index/summary.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/health-index/sentiment-per-channel.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/health-index/interaction-metric.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/health-index/average-daily-mention.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),i(1).tag2(\"healthindexaccount\",'<breadcrumb current=\"Dashboard Digital Helath Index\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DIGITAL HEALTH INDEX</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"totalbuzzer\" style=\" padding-right: 0px;\"> <totalhealtindex ref=\"totalbuzzer\"></totalhealtindex> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <summarydigitalhelat ref=\"summarydigitalhelat\"></summarydigitalhelat> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <sentimentchannels ref=\"sentimenperchannels\"></sentimentchannels> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <interactionmetric ref=\"interctionmetric\"></interactionMetric> </div> <div class=\"col-md-6 mg-t-20\"> <averagedailymentions ref=\"averagedailymention\"></averagedailymentions> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(e){this.search={since:null,until:null,project:null,service_category:null},this.getAPI=()=>{APP.log(\"healt-index-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let e=this.search,t=(this.refs,this);async.parallel({index:function(t){APP.apiGet({path:\"health\",data:e,success:function(e,i){t(null,e)}})},sentiment:function(t){APP.apiGet({path:\"health/sentiment\",data:e,success:function(e){t(null,e)}})}},(e,i)=>{null!=i.index.items.twitter||null!=i.index.items.facebook||null!=i.index.items.instagram?(t.load=!1,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),t.isLoading=!1,t.update()):(t.isLoading=!1,t.load=!0,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),t.update())})},this.updateDate=(e,t)=>{APP.log(\"healt-index-account: updateDate\"),this.refs.totalbuzzer.isLoading=!0,this.refs.summarydigitalhelat.isLoading=!0,this.refs.sentimenperchannels.isLoading=!0,this.refs.interctionmetric.isLoading=!0,this.refs.averagedailymention.isLoading=!0,this.search.since=e,this.search.until=t,setTimeout(()=>{this.getAPI()},1e3)},this.on(\"mount\",()=>{APP.log(\"healt-index-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"health-index-r10\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)})}))},224:function(e,t,i){\"use strict\";i.r(t);var n=i(0);!function(){var e=new Error(\"Cannot find module 'Components/indosat/source-of-mention-negative-pie.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/indosat/source-of-mention-positive-pie.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/infographic/report/channel-sentiment.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/infographic/report/filter-form.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),i(1).tag2(\"dasboardindosat\",'<div class=\"container-fluid\" style=\"background: white;\"> <div class=\"row\"> <div class=\"col-md-12 panel\" style=\"padding:20px;\"> <filter-form ref=\"filter_form\"></filter-form> </div> </div> <div class=\"row\" style=\"margin-top:30px;\"> <div class=\"col-md-12\"> <channel-sentiment cb=\"{updateChannel}\" ref=\"channel\" id=\"targetDiv\"></channel-sentiment> </div> </div> <sourceofmentionpositivepie ref=\"sourcemention_positivepie\"></sourceofmentionpositivepie> <sourceofmentionnegativepie ref=\"sourcemention_negativepie\"></sourceofmentionnegativepie> </div>',\"\",\"\",(function(e){this.dataProjects=[],this.nameproject={},this.active=!1,this.data=localStorage.nameprj,this.updateData=JSON.parse(localStorage.getItem(\"projects\")),this.search={since:null,until:null,project:null},this.channels=null,this.projectList=[],APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:e=>{this.projectList=e}}).done(()=>{APP.log(\"project request done\")}),this.on(\"mount\",()=>{if(this.search.since=localStorage.since.replace(/%20/g,\" \"),this.search.until=localStorage.until.replace(/%20/g,\" \"),document.projectCompetition=p(\"competition\")?p(\"competition\").split(\",\").filter(e=>e&&e.length>0).toString():\"\",this.competitionProjects=document.projectCompetition.split(\",\").map(e=>parseInt(e)),APP.log(\"domaint infographic: mount\"),urlStream.trigger(\"changeUrl\",\"domain/indosatreport\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),p(\"q\")&&(document.keyword=decodeURIComponent(\"\"+p(\"q\")),this.search.q=document.keyword),p(\"domain\")&&(this.search.domain=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(document.author=decodeURIComponent(\"\"+p(\"author\")),this.search.author=document.author),p(\"filterbot\")&&(document.filterbot=0==p(\"filterbot\")?\"\":decodeURIComponent(\"\"+p(\"filterbot\")),this.search.filterbot=document.filterbot),localStorage.prj=p(\"project\"),p(\"since\")){const e=decodeURIComponent(\"\"+p(\"since\"));this.search.since=e.substring(0,10),localStorage.since=e.substring(0,10)}if(p(\"until\")){const e=decodeURIComponent(\"\"+p(\"until\"));localStorage.until=e.substring(0,10),this.search.until=e.substring(0,10)}setTimeout(()=>{const e=this.channels=this.refs.channel.getChannelSelected(),t=Object(n.map)(e,e=>e.id);this.search.service_category=t.join(\",\"),this.update(),this.project(),this.render()},500)}),this.render=()=>{setTimeout(()=>{this.refs.channel.render(),this.refs.sourcemention_positivepie.render(),this.refs.sourcemention_negativepie.render(),this.setTotal()},1e3)},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.search.project=p(\"project\")?p(\"project\"):\"undefined\",this.search.group_service=\"true\",this.search.section=\"\";let e={};this.xhr=APP.apiGet({path:\"mentions\",data:this.search,success:e=>{this.refs.channel.updateCount(e.items)}}),this.xhr.readyState&&(this.refs.channel.updateCount(e),this.update())},this.projectsetting=()=>{window.location=\"#domain/infographic?project=\"+localStorage.prjId},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:e=>{localStorage.setItem(\"projects\",JSON.stringify(e)),this.norequestProject(e)}})},this.norequestProject=e=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var t=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=t.split(\",\").map(Number);Object(n.map)(e,(function(e){return{id:e.key_id,date:moment(e.key_start_date).format(\"DD MMMM YYYY\"),name:e.key_name,color:e.key_color,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}})).forEach(e=>{i.indexOf(e.id)>-1?e.checked=!0:e.checked=!1,this.dataProjects.push(e)}),this.nameproject[t]=this.dataProjects,this.nameprj=Object(n.filter)(this.dataProjects,(function(e){return e.checked})),this.data=this.nameprj[0].name,this.updateData=Object(n.sortBy)(this.dataProjects,[function(e){return!e.checked}]),this.update()}},this.updateFilter=e=>{this.search=e,setTimeout(function(){const e=this.search.project,t=this.search.since,i=this.search.until;localStorage.prj=e,localStorage.since=t,localStorage.until=i,this.render(),this.update()}.bind(this),100)}}))}}]);","extractedComments":[]}