{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{252:function(e,t,a){a(0).tag2(\"login\",'<div class=\"d-flex align-items-center justify-content-center bg-br-primary ht-100v\" style=\"background: #f4f8f9\"> <div class=\"overlay-body d-flex align-items-center justify-content-center\"> <div class=\"login-wrapper wd-300 wd-xs-350 pd-25 pd-xs-40 bg-white rounded shadow-base\" style=\" box-shadow: 0px 10px 20px 4px rgba(0, 0, 0, 0.10) !important;\"> <div class=\"signin-logo tx-center tx-28 tx-bold tx-inverse\"><span class=\"tx-normal\"></span> Welcome !</span> </div> <div class=\"tx-center mg-b-60\">Sign in to your account</div> <form id=\"checkform\" method=\"post\" onsubmit=\"{login}\"> <div class=\"input-group mg-t-20\"> <span class=\"input-group-addon\"><i class=\"ion ion-ios-email-outline tx-16 lh-0 op-6\"></i></span> <input type=\"text\" class=\"form-control\" name=\"username\" ref=\"username\" placeholder=\"Enter your username\"> </div> <div class=\"input-group mg-t-20\"> <span class=\"input-group-addon\"><i class=\"ion ion-ios-locked-outline tx-16 lh-0 op-6\"></i></span> <input type=\"password\" class=\"form-control\" name=\"password\" ref=\"password\" placeholder=\"Enter your password\"> </div> <button type=\"submit\" class=\"btn btn-info btn-block cursor-pointer mg-t-20\">Sign in</button> </form> </div> </div> </div>',\"\",\"\",(function(e){this.on(\"mount\",()=>{$(\"body\").attr(\"class\",\"auth-page height-auto bg-custom\"),this.refs.username.focus(),urlStream.trigger(\"changeUrl\",\"#login\"),localStorage.clear()}),this.login=e=>{e.preventDefault(),APP.forceLogin=!1;const t=this.refs.username.value,a=this.refs.password.value;\"\"!=t&&\"\"!=a?$.ajax({url:APP.apiUrl+\"auth/login \",method:\"post\",data:{username:t,password:a},dataType:\"json\",success:function(e){const t=e.data,a=_.result(t,\"client_projects[0].key_id\"),i=JSON.stringify(_.result(t,\"package.channels\",\"1,2,3,4,5,6,7,8\")),s=_.result(t,\"package.records.max_date\");localStorage.setItem(\"package\",JSON.stringify(t.package)),localStorage.setItem(\"channels\",i),localStorage.setItem(\"maxdate\",s),localStorage.setItem(\"level\",t.level),null!=s?(localStorage.setItem(\"since\",moment(s).subtract(3,\"d\").format(\"YYYY-MM-DD\")),localStorage.setItem(\"until\",moment(s).format(\"YYYY-MM-DD\"))):(localStorage.setItem(\"since\",moment().subtract(3,\"d\").format(\"YYYY-MM-DD\")),localStorage.setItem(\"until\",moment().format(\"YYYY-MM-DD\"))),localStorage.setItem(\"userid\",t.id),localStorage.setItem(\"clientid\",t.clientid),localStorage.removeItem(\"projects\"),localStorage.removeItem(\"images\"),localStorage.removeItem(\"name\"),Auth.login({token:t.token,level:t.level,projects:_.map(t.project,(function(e){return{id:e.key_id,date:moment(e.time_add).format(\"DD MMMM YYYY\"),name:e.key_name,index:e.index}})),name:t.name});let o=0;$.ajaxSetup({beforeSend:function(e,t){e.setRequestHeader(\"Authorization\",\"Bearer \"+Auth.getToken())},statusCode:{401:function(e){o<1&&(swal({text:\"Invalid User or Password\"},()=>{APP.goTo(\"/\")}),o++)}}}),APP.forceLogin=!1,APP.goTo(\"/summary?project=\"+a)},error:function(e,t,a){var i=e.responseJSON.message;swal({title:\"Alert\",text:i,type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}),APP.error(e)}}):swal(\"Oops...\",\"Invalid credential\",\"warning\")}}))},65:function(e,t,a){\"use strict\";a.r(t);a(66),a(67),a(24);a(0).tag2(\"main\",'<div class=\"br-header-falidasi bg-orange\" if=\"{validasimaxstream}\"> <div class=\"pd-r-20 pd-l-20 pd-b-10\"> You\\'ve been reached maximal <b>streams of mention</b> limit for your package. To add more keywords please <a data-toggle=\"modal\" data-target=\"#Headercontact\" target=\"_blank\" class=\"cursor-pointer contact-us\"> contact us </a> </div> </div> <leftside if=\"{!buzzerTracking && !healthindex}\" riot-style=\"{lefside}\"></leftside> <header if=\"{!buzzerTracking && !healthindex}\"></header> <div id=\"content\" class=\"{br-mainpanel:rightside} {rightside:!rightside} {bg-white:infographic} bg-grey-100 mode-opacity {mg-t-110:validasimaxstream}\"> </div> <sendmail></sendmail>','main .rightside,[data-is=\"main\"] .rightside{ margin-left: 0px; padding-top: 0px; }',\"\",(function(e){this.infographic=!1,this.on(\"mount\",()=>{if(APP.log(\"main : mount\"),localStorage.setItem(\"token\",p(\"token\")),this.changeClass(),this.changeLeft(),localStorage.maxdate)var e=localStorage.maxdate;null!=e&&\"\"!=e&&\"null\"!=e?(this.lefside=\"padding-top : 60px\",this.rightside=\"padding-top : 60px\",this.validasimaxstream=!0):(this.lefside=\"padding-top : 60px\",this.rightside=\"padding-top : 0px\",this.validasimaxstream=!1),this.update()}),maxStreams.on(\"maxstreams\",e=>{if(JSON.parse(localStorage.getItem(\"package\")))JSON.parse(localStorage.getItem(\"package\")).records.max_streams;this.update()});menu.on(\"togglecollapse\",e=>{menu.menuText=$(\".menu-item-label\"),e?($(\".show-sub + .br-menu-sub\").slideUp(),menu.menuText.addClass(\"op-lg-0-force\"),$(\".br-sideleft\").one(\"transitionend\",(function(e){menu.menuText.addClass(\"d-lg-none\")}))):($(\".show-sub + .br-menu-sub\").slideDown(),$(\".br-sideleft\").one(\"transitionend\",(function(e){menu.menuText.removeClass(\"op-lg-0-force\"),menu.menuText.removeClass(\"d-lg-none\")})))}),menuleft.on(\"show-left\",e=>{this.changeLeft(e),this.update()}),this.changeLeft=e=>{if(e)var t=\"fixed-leftside pace-done fixed-header show-left \"+localStorage.sidebar;else t=\"fixed-leftside pace-done fixed-header \"+localStorage.sidebar;setTimeout((function(){$(\"body\").attr(\"class\",t)}),100),this.update()},menu.on(\"sidebar\",()=>{this.sidebar=localStorage.sidebar+\" \"+localStorage.showLeft,this.changeClass(this.sidebar),this.update()}),this.changeClass=function(e){void 0!==e&&\"\"!==e||void 0===(e=localStorage.sidebar)&&(e=\"\");let t=e.indexOf(\"collapsed-menu\")>=0;menu.trigger(\"togglecollapse\",t),$(\"body\").attr(\"class\",\"fixed-leftside pace-done fixed-header \"+e)},urlStream.on(\"changeUrl\",e=>{APP.log(\"main : changeurl trigger\"),this.currentUrlStream=e,\"buzzer-tracking\"==this.currentUrlStream&&(this.buzzerTracking=!0,this.rightside=!1),\"health-index\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"domain/infographic\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"domain/indosatreport\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"infographic\"!=this.currentUrlStream&&\"competition/infographic\"!=this.currentUrlStream||(this.healthindex=!0,this.rightside=!1,this.infographic=!0),this.update()})}))}}]);","extractedComments":[]}