{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{232:function(t,e,a){\"use strict\";a.r(e);var i=a(14),s=a(0);a(1).tag2(\"twitter-trends\",'<breadcrumb current=\"Dashboard Summary\" mode=\"pd-roject\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 pd-b-50\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Twitter {this.getFormatArea()} Trendings</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker type=\"single\" cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.since}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"> </date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-4 mg-t-10\" each=\"{doc in topItems}\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> <span data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"since: {doc.range.since} <br>until: {doc.range.until}\"> {doc.title} </span> </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row bb-1\" each=\"{o in doc.items}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-3\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-4\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> <div class=\"row\" if=\"{(doc.items || []).length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\" onclick=\"{showAll}\"> Show All </button> </div> </div> </div> <div class=\"col-md-4 mg-t-10\" each=\"{x in datalength}\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> {x.title} </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row bb-1\" each=\"{o in items[x.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-3\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-4\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> <div class=\"row\" if=\"{(items[x.date] || []).length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\" ref=\"{x.date}\" onclick=\"{showAll}\"> Show All </button> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-md-12 text-center bold pd-10\"> <button class=\"btn btn-primary cursor-pointer\" onclick=\"{functions.loadMore}\"> Load More </button> </div> </div> <div id=\"show-all-modal\" class=\"modal fade effect-flip-scale\"> <div class=\"modal-dialog modal-md pd-b-10\" role=\"document\" if=\"{modalConfig}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header\"> <h6> Trending In {modalConfig.area} </h6> <button type=\"button\" class=\"close float-right\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">Ã—</span> </button> </div> <div class=\"modal-body\" style=\"height: 500px; min-width: 380px; overflow: scroll;\"> <div class=\"row\"> <div class=\"col-12 pd-b-10 bb-1\"> <span class=\"badge badge-info mg-r-20 float-left pd-5\"> From : {modalConfig.range[0]} </span> <span class=\"badge badge-primary float-left pd-5\"> Until: {modalConfig.range[1]} </span> </div> </div> <div class=\"row\" if=\"{allItems}\" each=\"{o in allItems[modalConfig.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-1\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-1\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> </div> </div> </div> </div> </div>','twitter-trends .hc-25,[data-is=\"twitter-trends\"] .hc-25{ height: 25px; } twitter-trends .add-more,[data-is=\"twitter-trends\"] .add-more{ margin-top: 150px; height: 100px; } twitter-trends .min-h-content,[data-is=\"twitter-trends\"] .min-h-content{ min-height: 400px; } twitter-trends .min-h-100,[data-is=\"twitter-trends\"] .min-h-100{ min-height: 100%; }',\"\",(function(t){this.area=\"indonesia\",this.isLoading=!0,this.xhr=[],this.datalength=[],this.items=[];const e=[{name:\"now\",title:\"A Minutes Ago\",range:{since:moment().subtract(10,\"m\").format(\"YYYY-MM-DD HH:mm\"),until:moment().format(\"YYYY-MM-DD HH:mm\")},items:[]},{name:\"15m\",title:\"15-25 Minutes Ago\",range:{since:moment().subtract(25,\"m\").format(\"YYYY-MM-DD HH:mm\"),until:moment().subtract(15,\"m\").format(\"YYYY-MM-DD HH:mm\")},items:[]},{name:\"30m\",title:\"30-40 Minutes Ago\",range:{since:moment().subtract(40,\"m\").format(\"YYYY-MM-DD HH:mm\"),until:moment().subtract(30,\"m\").format(\"YYYY-MM-DD HH:mm\")},items:[]}];this.topItems=e.map(t=>t),this.allItems={},this.modalConfig={date:\"\",range:[],area:\"\"};this.isValidDate=(t,e)=>moment(e).diff(moment(t),\"h\")<=23;const a=function(t){return 0===t?{formatted:0,original:0}:t>1e3?{formatted:numeral(t).format(\"0.0 a\").toUpperCase(),original:t}:Math.floor(t)===t?{formatted:parseFloat(numeral(t).format(\"0.[00]\")),original:t}:{formatted:parseFloat(t.toFixed(2)),original:t}};this.getFormatArea=()=>{let t=this.getArea();return t.charAt(0).toUpperCase()+t.slice(1)},this.getArea=()=>Object(i.getAllUrlParams)(window.location.href).area||\"indonesia\",this.reset=()=>{this.datalength=[],this.items=[],this.topItems=e.map(t=>t),this.update()},this.updateDate=t=>{t=t||localStorage.getItem(\"since\");const e=moment().format(\"YYYY-MM-DD\");this.currentCursor=0,this.startDate=moment(t).set({h:23,m:0,s:0}),this.isNow=e===this.startDate.clone().format(\"YYYY-MM-DD\"),this.reset(),this.functions.getTrendingNow(),this.functions.getTrending15m(),this.functions.getTrending30m(),this.functions.loadMore(),this.update()},this.showAll=(t,e)=>{$(\"#show-all-modal\").modal(\"show\");const i=e?t:Object(s.result)(t.item,\"x.id\",\"\"),o=e?t:Object(s.result)(t.item,\"doc.range\",{}),d=e?t:Object(s.result)(t.item,\"doc.name\",\"\");let r=[];i?r=[moment(i).format(\"DD, MMM YYYY HH:00\"),moment(i).format(\"DD, MMM YYYY HH:59\")]:o&&(r=[o.since,o.until]),this.modalConfig={date:i||d,range:r,area:this.getArea()},this.update();let n={area:this.getArea(),showall:\"yes\",trending_date_since:r[0],trending_date_until:r[1]},l=!1;(i&&!this.allItems[i]||o&&o.since&&!this.allItems[d])&&(l=!0),l&&this.getTrendingData(\"trendings/twitter/custom\",n).then(t=>{const e=t.map(t=>(t.count=a(t.count),t));i?this.allItems[i]=e:o&&(this.allItems[d]=e),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},this.getTrendingData=(t,e)=>new Promise((a,i)=>{APP.apiGet({path:t,data:e,success:(t,e,i)=>{const s=t.items||t;a(s)},error:t=>{i(t)}})}),this.functions={getTrendingNow:()=>{this.getTrendingData(\"trendings/twitter/now\",{area:this.getArea(),limit:10}).then(t=>{this.topItems[0].items=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},getTrending15m:()=>{this.getTrendingData(\"trendings/twitter/15m\",{area:this.getArea(),limit:10}).then(t=>{this.topItems[1].items=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},getTrending30m:()=>{this.getTrendingData(\"trendings/twitter/30m\",{area:this.getArea(),limit:10}).then(t=>{this.topItems[2].items=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},getTrendingCustom:t=>{const e=t.date.format(\"YYYY-MM-DD HH:00\"),i=t.date.format(\"YYYY-MM-DD HH:59\");this.datalength.push({...t,date:e}),this.getTrendingData(\"trendings/twitter/custom\",{trending_date_since:e,trending_date_until:i,area:this.getArea(),limit:10}).then(t=>{this.items[e]=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},loadMore:()=>{for(let t=1;t<=3;t++){this.currentCursor+=1;let t={id:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"YYYY-MM-DD HH:mm\"),date:this.startDate.clone().subtract(this.currentCursor,\"h\"),title:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"DD, MMM YYYY HH:mm\")};1===this.currentCursor&&(t={id:this.startDate.clone().format(\"YYYY-MM-DD HH:mm\"),date:this.startDate.clone(),title:this.startDate.clone().format(\"DD, MMM YYYY HH:mm\")}),this.functions.getTrendingCustom(t)}}},this.on(\"mount\",()=>{let t=Object(i.getAllUrlParams)(window.location.href);menuActive.trigger(\"activated\",[\"subTrendings.twitter.\"+t.area]),this.xhr=[];let e=localStorage.getItem(\"since\"),a=localStorage.getItem(\"until\");this.isValidDate(e,a)||(e=moment().format(\"YYYY-MM-DD\"),a=moment().format(\"YYYY-MM-DD\")),$('[data-toggle=\"tooltip\"]').tooltip()}),this.on(\"unmount\",()=>{if(this.xhr)for(const t of this.xhr)t.abort()})}))}}]);","extractedComments":[]}