{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{17:function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"detaimention\",'<div class=\"modal-content\"> <div class=\"modal-header pd-y-20 pd-x-25\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\">DETAIL MENTIONS</h6> <button type=\"button\" class=\"close cursor-pointer\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">Ã—</span> </button> </div> <div class=\"modal-body pd-25\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <p class=\"mg-b-20 ws-5 tx-17 tx-lato tx-gray-800\">{valkeyword}</p> <div class=\"row row-sm\"> <div class=\"col-sm-6 col-lg-6\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/profit-chart.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL MENTIONS</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalmention ? totalmention.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-6 col-lg-6 mg-t-20 mg-sm-t-0\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/social-people.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL REACH</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalreach ? totalreach.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/positive-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">POSITIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentpositive ? totalsentimentpositive.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/negative-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEGATIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentnegative ? totalsentimentnegative.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4 mg-t-20 mg-sm-t-0 \"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/help-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEUTRAL</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentneutral ? totalsentimentneutral.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <p class=\"mg-t-20 mg-b-0 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">Top Keywords</p> <p class=\"mg-t-0 mg-b-10 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">\" {valtopthreeword} \"</p> <div class=\"row mg-t-20 detailMentions\" id=\"detail-mentions\"> <div class=\"col-md-12 pd-0\"> <div class=\"card widget-5\"> <div class=\"list-group list-group-flush \"> <div class=\"ripple-loader\" style=\"max-height: 250px;\" if=\"{isLoadingStreams}\"></div> <a class=\"list-group-item list-group-item-action media detail\" each=\"{o, i in itemsdetail}\"> <img alt=\"\" class=\"imageclass\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" alt=\"\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" name=\"{o.user.name}\"> <img alt=\"\" class=\"imageclass\" if=\"{!o.user.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" width=\"20\" onerror=\"{reqExImg}\" name=\"{o.user.name}\" alt=\"\"> <div class=\"media-body scrollhidden\"> <div class=\"msg-top\"> <span class=\"cursor-pointer\" id=\"{o.source}\" onclick=\"{opennewtab}\">{o.user.real_name ? o.user.real_name : o.user.name} </span> <span><i class=\"icon ion-calendar\"></i> {o.date_format}</span> </div> <div class=\"\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\" style=\"font-size: 1em !important;\"></i> {o.service} <p class=\"msg-summary textjustify mg-t-5\"> {o.text}</p> </div> </div> </a> </div> </div> </div> </div> </div> <div class=\"modal-footer\" style=\"justify-content: space-between;\"> <span class=\"\"><a class=\"cursor-pointer colorblue\" onclick=\"{downloadmentions}\">Download data</a></span> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div>',\"\",\"\",(function(t){this.totalmention=0,this.totalreach=0,this.idname=\"\",this.isLoadingStreams=!1,this.opennewtab=t=>{let e=t.target.id;window.open(e,\"_blank\")},this.reachmention=t=>{this.totalreach=0,(t=t).compare=!0,t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"summary/potential-reach\"+e,data:this.dataretweet,success:t=>{this.totalreach=t.items.potential_reach,this.isLoading=!1,this.update()}})},this.totalsentiment=t=>{t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"mentions/sentiment-count\"+e,data:this.dataretweet,success:t=>{this.totalsentimentpositive=t.items.positive,this.totalsentimentnegative=t.items.negative,this.totalsentimentneutral=t.items.neutral,this.update()}})},this.modalsentimentvalue=(t,e,i,a,s,o,r,l,n,d,c,h)=>{if(this.update({isLoading:!0}),this.query.page=0,this.pagination.page=1,this.valkeyword=[],this.valuekey={},null==t)var p=localStorage.since.replace(/%20/g,\" \"),g=localStorage.until.replace(/%20/g,\" \");else if(\"monthly\"==h){p=localStorage.since.replace(/%20/g,\" \"),g=localStorage.until.replace(/%20/g,\" \");this.valuekey.valsince=\"Date : \"+moment(p).format(\"LL\")+\" - \"+moment(g).format(\"LL\")}else{p=t,g=t;this.valuekey.valsince=\"Date : \"+moment(g).format(\"LL\")}if(o&&(this.valuekey.valspecificdate=\"Time : \"+o+\":00:00\"),null==l||null==l)var m=_.clone(this.parent.search.project);else{m=l;this.valuekey.valueprj=\"Project : \"+r}if(null==e?e=_.clone(this.parent.search.section):(e=e,this.valuekey.valsection=\"Section : \"+e),null==i)i=_.clone(this.parent.search.service_category),this.idname=\"Twitter\";else{if(1==(i=i))var v=\"Facebook\";if(2==i)v=\"Twitter\";if(3==i)v=\"News\";if(4==i)v=\"Blogs\";if(5==i)v=\"Forum\";if(6==i)v=\"Video\";if(7==i)v=\"Instagram\";this.idname=v,this.valuekey.valchannels=\"Service Category : \"+v}null==a?a=\"\":c?(this.valuekey.nameval=r+\" : \"+a,a=\"\"):(a=a,this.valuekey.nameval=r+\" : \"+a),null==s?s=\"\":(s=s,this.valuekey.valkey=r+\" : \"+s),_.each(this.valuekey,(t,e)=>{_.isEmpty(t)||this.valkeyword.push(t)}),this.valkeyword=this.valkeyword.join(\",\").replace(/,/g,\", \"),this.totalmention=0;let u=_.clone(this.parent.search);this.dataretweet={},c&&(n&&(this.dataretweet.stream_ids=n),d&&(this.dataretweet.share_ids=d)),o&&(u.specific_date=p+\" \"+o+\":00:00\"),u.since=p,u.until=g,u.section=e,u.service_category=i,u.q=s,u.author=a,u.project=m,u.page=this.query.page,u.accurate=\"yes\",o&&(u.specific_date=p+\" \"+o+\":00:00\"),this.search=u,u.filterbot=\"false\",this.detaimentions(u),this.totalsentiment(u),this.search=u,\"positive\"==r||\"negative\"==r?this.topthreeword(u):(this.threeval=!1,this.valtopthreeword=\"\",this.update({valtopthreeword:{}}))},this.topthreeword=t=>{this.threeval=!0,this.topthreewordvalue=[],t.nocache=!1,t.remove_cache=!1,APP.apiGet({path:\"mentions/sentiment-words\",data:t,success:t=>{_.each(t,(t,e)=>{if(!_.isEmpty(t)){let e=t.keyword;this.topthreewordvalue.push(e)}});var e=this.topthreewordvalue.join(\", \").replace(/,/g,\", \");e.length>0?this.valtopthreeword=e:this.threeval=!1,this.update()}})},this.detaimentions=t=>{t.pagination=\"yes\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"stream\"+e,data:this.dataretweet,success:(e,i,a)=>{\"Twitter\"==this.idname?(this.reachmention(t),this.isLoadingStreams=!1):(this.totalreach=0,this.isLoading=!1,this.isLoadingStreams=!1),this.itemsdetail=e.item,this.totalmention=e.total,this.pagination.pages=Math.ceil(e.total/this.query.limit),$(\"#detail-mentions\").animate({scrollTop:0},500),this.update()}})},this.query={limit:10,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({isLoadingStreams:!0}),this.query.page=(t-1)*this.query.limit,this.search.page=this.query.page,this.detaimentions(this.search),window.innerWidth>500&&$(\"#detail-mentions\").animate({scrollTop:0},500)}},this.downloadmentions=()=>{const t=\"stream/download?type=daily&token=\"+localStorage.AuthToken;let e=_.clone(this.parent.search);var i=APP.apiUrl+t;for(let t in e)e[t]&&e[t].length>0&&(i+=`&${t}=${e[t]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")}}))},180:function(t,e,i){i(0).tag2(\"audient-infographic\",'<div class=\"card shadow-base overflow-hidden bd-0 mg-t-20\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"><i class=\"fa fa-users mg-r-5 iconcolor\" aria-hidden=\"true\"></i> AUDIENCE DEMOGRAPHIC</h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Estimated gender of the authors of your mentions based on their name\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height252\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height269\" id=\"shareofvoiceAudient\" if=\"{!notdata}\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-6 mg-t-1 mg-sm-t-0\"> <div class=\"card height230\"> <div class=\"card-body\"> <p> <i class=\"fa fa-male tx-100 lh-1 pd-t-0 tx-black mg-t-10\"></i> </p> <span class=\"tx-medium tx-inverse tx-32 mg-r-0 lh-1\"> <p class=\"tx-30 mg-b-0\">Male</p> <p class=\"tx-70 mg-b-0 mg-t-8\">{male ? male.formatMoney(0) : 0}% </p> </span> </div> </div> </div> <div class=\"col-6\"> <div class=\"card br-1-black height230\"> <div class=\"card-body\"> <p> <i class=\"fa fa-female tx-100 lh-1 pd-t-0 tx-black mg-t-10\"></i> </p> <span class=\"tx-medium tx-inverse tx-32 mg-r-0 lh-1\"> <p class=\"tx-30 mg-b-0\">Female </p> <p class=\"tx-70 mg-b-0 mg-t-8\">{female ? female.formatMoney(0) : 0}% </p> </span> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=()=>{APP.log(\"chart share VOICE : render\");let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/profile-genders\",data:t,success:t=>{let e=t.genders,i=t.total.original?t.total.original:0,a=e.female?e.female:0,s=e.male?e.male:0;this.female=100/i*a,this.male=100/i*s,0!==t.genders.length?(this.update({notdata:!1}),this.update({isLoading:!1})):this.notdata=!0}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},181:function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"buzz-geo-distribution\",'<div class=\"card md-t-20\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your chosen keyword come from\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"buzzgeo\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=t=>{APP.log(\"buzzgeo : render\");let i=this.parent.search;i.group_service=\"false\",i.service_category&&\"\"!=i.service_category||(i.service_category=\"1,2,3,4,5,6,7,8\");let a=[],s=[],o=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){s=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...i,limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=_.map(t,(function(t){let e=null;return null!=t&&s.features&&(o=getProvince(s.features,t.lat||0,t.lon||0),_.isEmpty(o)||o&&(e={\"hc-key\":o.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:o.NAME_1,value:t.count})),e}));e=_.reduce(e,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var i=[];_.each(e,(t,e)=>{i.push(t)}),e=i,this.items=e,Highcharts.mapChart(\"buzzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#58cabb\"}}}]}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{let t=this.items.map((t,e)=>({Provinsi:t.hasc,count:t.value})).filter(t=>null!=t.Provinsi);t.length>0&&APP.downloadcsv(t,\"Buzz_Geo_Distributor_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},182:function(t,e,i){\"use strict\";i.r(e);var a=i(12),s=i.n(a),o=i(10),r=i.n(o);i(6);i(0).tag2(\"everagemention\",'<div class=\"card\"> <div class=\"card-header d-flex justify-content-between align-items-center\"> <span class=\"card-title tx-uppercase tx-12 mg-b-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row\"> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:charteverage} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{everage}\"> <img src=\"assets/img/image/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTIONS TIME </a> </li> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:!charteverage} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{toptime}\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTIONS </a> </li> </ul> </span> <span class=\"pull-right cursor-default\"><img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"></span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-0\" if=\"{charteverage && isLoading}\"> </div> <div class=\"ripple-loader \" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height620 textcenter mg-t-20\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620 textcenter mg-t-20\" if=\"{notdata1}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620\" id=\"chartstreamtop\" if=\"{charteverage && !notdata}\"> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620\" id=\"chartdailyaverage\" if=\"{!charteverage && !notdata1}\"> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.charttoptime=null,this.chartaveragedaily=null,this.isLoading=!0,this.notdata=!1,this.notdata1=!1,this.xhr=null,this.tombolrefres=!1,this.charteverage=!0,this.fontcolor=!1,this.everage=t=>{this.update({isLoading:!0,charteverage:!0}),this.render()},this.toptime=t=>{APP.log(\"chart streams time : render\");let i=_.clone(this.parent.search);i.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0,charteverage:!1}),this.xhrtopstreams=APP.apiGet({path:\"mentions/average-daily-mentions\",data:i,success:t=>{t=t.items;let e=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const a in t){let s=t[a];for(const t in s)e.push({x:i[t],y:parseInt(a-1),total:s[t],z:s[t]})}if(0===(t=_.filter(e,(function(t){return 0!=t.total})).length))return this.notdata1=!0,this.notdata=!1,this.isLoading=!1,void this.update();this.update({notdata1:!1,notdata:!1}),this.chartaveragedaily&&this.chartaveragedaily.spacing&&this.chartaveragedaily.destroy(),this.everagevalue=e,(this.chartaveragedaily=s()(\"chartdailyaverage\")).addSeries({color:\"#38a1f2\",data:e}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.render=t=>{if(this.xhr=APP.log(\"chart Average daily  : render\"),!this.charteverage)return void this.toptime();let i=_.clone(this.parent.search);i.type=null,this.update({isLoading:!0}),this.xhraverage=APP.apiGet({path:\"mentions/top-mentions-time\",data:i,success:e=>{_.isFunction(t)&&t(),e=e.items;let i=[];for(const t in e){let a=_.result(e,t,\"\");i.push([new Date(t.substring(0,10)).getTime(),a.jam,a.count])}if(0===i.length)return this.notdata=!0,this.notdata1=!1,this.isLoading=!1,void this.update();this.update({notdata:!1,notdata1:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.topstreamvalue=i,(this.charttoptime=r()(\"chartstreamtop\")).addSeries({color:\"#38a1f2\",data:i}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.downloadcsv=()=>{var t=\"\",e=\"\";if(this.charteverage)e=\"Top_Mention_time_\",t=this.topstreamvalue.map((t,e)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}));else{e=\"Average_daily_Mentions_\";let i={0:\"sun\",1:\"mon\",2:\"tue\",3:\"wed\",4:\"thu\",5:\"fri\",6:\"sat\"},a={0:\"00-05\",1:\"06-11\",2:\"12-17\",3:\"18-23\"};t=this.everagevalue.map((t,e)=>({Hari:i[t.x],Jam:a[t.y],Count:t.total}))}t.length>0&&APP.downloadcsv(t,\"\"+(e+p(\"project\")),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhraverage=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhraverage&&this.xhraverage.abort(),this.charttoptime&&this.charttoptime.spacing&&(this.charttoptime.destroy(),APP.log(\"chart streams : destroy chart\")),this.chartaveragedaily&&this.chartaveragedaily.spacing&&(this.chartaveragedaily.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},21:function(t,e,i){i(0).tag2(\"filtervalue\",'<div class=\"row\" if=\"{filtervalue}\"> <div class=\"col-md-12 mg-t-10\"> <div class=\"widget-2 showAndHide\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\"row\"> <label class=\"col-sm-2 form-control-label mg-t-10\"> <span class=\"tx-danger\"></span> Active Filters : </label> <div class=\"col-sm-10 heighselect2 form-layout\"> <div class=\"box-inner-filter\"> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in serviceCategory}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{saveServiceCategory}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Channel : {o.name}</span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in tagingkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefiltertaging}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Taging : {o} </span> </div> </a> </div> <i class=\"fa fa-chevron-down pull-right mg-t-10 cursor-pointer\" if=\"{tombolShow}\" onclick=\"{showlistfilter}\"></i> </div> </div> </div> </div> </div> </div> <div class=\"col-md-12 widget-2 transition-fade-parents hideAndShow\" style=\"display:none\"> <div class=\"filterdropdown\"> <div class=\"card overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\" heighselect2 form-layout\"> <label class=\"col-sm-12 form-control-label pd-l-0 pd-r-0 mg-b-0\"><span class=\"tx-danger\"></span> Keywords <span class=\"pd-5 pull-right cursor-default \"> <i class=\"fa fa-chevron-up cursor-pointer\" onclick=\"{hiddenlistfilter}\"></i></span> </label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Domain</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Author</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Taging</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in tagingkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefiltertaging}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Taging : {o}</span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Channel</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in serviceCategory}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{saveServiceCategory}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Channel : {o.name}</span> </div> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.filtervalue=!1,this.showdropfilter=!1,this.saveshowdropdown=!1,this.tombolShow=!1,this.getServiceCategory=t=>(t=t.split(\",\").map(t=>parseInt(t)),this.parent.services.filter(e=>t.includes(e.id))),this.updateFilter=t=>{t.filter_name?(this._id=t._id,this.namefiltervalue=t.filter_name,this.namefilter=[\"name : \"+t.filter_name],this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.serviceCategory=t.filter_service_category?this.getServiceCategory(t.filter_service_category):null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.tagingkeyword=t.filter_taging?t.filter_taging.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"],this.filtervalue=!0):(this.parent.updatefilternamenews=!0,this.filtervalue=!0,this.serviceCategory=t.filter_service_category?this.getServiceCategory(t.filter_service_category):null,this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.tagingkeyword=t.filter_taging?t.filter_taging.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"]),this.update(),setTimeout(function(){var t,i;i=[],setTimeout(()=>{for(t=0;t<$(\".maxwidth\").length;t++)i.push($(\".maxwidth\")[t].scrollWidth);var a=_.sumBy(i,(function(t){return t})),s=$(\".box-inner-filter\")[0].scrollWidth-20;e.tombolShow=s<=a,e.update()}),$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500),this.parent.render(),this.update()}.bind(this),100)},this.savefilterkey=t=>{const e=t.item.o;$(\"#\"+e).hide(500),this.parent.search.q=\"\",this.keywordfilter=null,this.parent.refs.filterval.keyword=\"\",this.update(),this.parent.render()},this.saveServiceCategory=t=>{const e=t.item.o.id;var i=this.parent.services.filter(t=>t.selected).filter(t=>t.id!=e);this.parent.services.forEach((t,i)=>{t.id==e&&(this.parent.services[i].selected=!1)}),this.serviceCategory=i,this.parent.search.service_category=i.map(t=>t.id).join(\",\"),localStorage.setItem(\"filter_service_category\",this.parent.search.service_category),this.update(),this.parent.render()},this.savefilterdomain=t=>{const e=t.item.o;var i=_.filter(this.domainkeyword,t=>t!=e);this.parent.search.domain=i.join(\",\"),this.parent.refs.filterval.domain=i.join(\",\"),this.domainkeyword=i,this.update(),this.parent.render()},this.savefilterauthor=t=>{const e=t.item.o;var i=_.filter(this.authorkeyword,t=>t!=e);this.parent.search.author=i.join(\",\"),this.parent.refs.filterval.author=i.join(\",\"),this.authorkeyword=i,this.update(),this.parent.render()},this.savefiltertaging=t=>{const e=t.item.o;var i=_.filter(this.tagingkeyword,t=>t!=e);this.parent.search.taging=i.join(\",\"),this.parent.refs.filterval.taging=i.join(\",\"),this.tagingkeyword=i,this.update(),this.parent.render()},this.showlistfilter=()=>{setTimeout((function(){$(\".showAndHide\").hide(500),$(\".hideAndShow\").show(500)}),1),this.update()},this.hiddenlistfilter=()=>{this.saveshowdropdown=!1,setTimeout((function(){$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500)}),1)};var e=this}))}}]);","extractedComments":[]}