{"code":"!function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=24)}([function(t,e,i){\n/* Riot v3.13.0, @license MIT */\n!function(t){\"use strict\";function e(t,e){return(e||document).querySelector(t)}var i,a,s=[],o={},r=[\"ref\",\"data-ref\"],n=\"http://www.w3.org/2000/svg\",l=/^xlink:(\\w+)/,c=\"undefined\"==typeof window?void 0:window,d=/^on/,h=/([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,m={viewbox:\"viewBox\",preserveaspectratio:\"preserveAspectRatio\"},u=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,p=0|(c&&c.document||{}).documentMode;function g(t){return\"svg\"===t?document.createElementNS(n,t):document.createElement(t)}function v(t,e,i){var a=l.exec(e);a&&a[1]?t.setAttributeNS(\"http://www.w3.org/1999/xlink\",a[1],i):t.setAttribute(e,i)}var f,b,y={},x=!1;c&&(f=g(\"style\"),b=e(\"style[type=riot]\"),v(f,\"type\",\"text/css\"),b?(b.id&&(f.id=b.id),b.parentNode.replaceChild(f,b)):document.head.appendChild(f),a=(i=f).styleSheet);var w={styleNode:i,add:function(t,e){y[e]=t,x=!0},inject:function(){if(c&&x){x=!1;var t=Object.keys(y).map((function(t){return y[t]})).join(\"\\n\");a?a.cssText=t:i.innerHTML=t}},remove:function(t){delete y[t],x=!0}},_=function(){var t=[\"case\",\"default\",\"do\",\"else\",\"in\",\"instanceof\",\"prefix\",\"return\",\"typeof\",\"void\",\"yield\"],e=t.reduce((function(t,e){return t+e.slice(-1)}),\"\"),i=/^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/,a=/[$\\w]/;function s(t,e){for(;--e>=0&&/\\s/.test(t[e]););return e}return function(o,r){var n=/.*/g,l=n.lastIndex=r++,c=n.exec(o)[0].match(i);if(c){var d=l+c[0].length,h=o[l=s(o,l)];if(l<0||~\"[{(,;:?=|&!^~>%*/\".indexOf(h))return d;if(\".\"===h)\".\"===o[l-1]&&(r=d);else if(\"+\"===h||\"-\"===h)(o[--l]!==h||(l=s(o,l))<0||!a.test(o[l]))&&(r=d);else if(~e.indexOf(h)){for(var m=l+1;--l>=0&&a.test(o[l]););~t.indexOf(o.slice(l+1,m))&&(r=d)}}return r}}(),k=function(t){var e,i,a=/\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,s=a.source+\"|\"+/(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source+\"|\"+/\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,o=RegExp(\"[\\\\x00-\\\\x1F<>a-zA-Z0-9'\\\",;\\\\\\\\]\"),r=/(?=[[\\]()*+?.^$|])/g,n=a.source+\"|\"+/(\\/)(?![*\\/])/.source,l={\"(\":RegExp(\"([()])|\"+n,\"g\"),\"[\":RegExp(\"([[\\\\]])|\"+n,\"g\"),\"{\":RegExp(\"([{}])|\"+n,\"g\")},c=[\"{\",\"}\",\"{\",\"}\",/{[^}]*}/,/\\\\([{}])/g,/\\\\({)|{/g,RegExp(\"\\\\\\\\(})|([[({])|(})|\"+n,\"g\"),\"{ }\",/^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,/(^|[^\\\\]){=[\\S\\s]*?}/],d=void 0,h=[];function m(t){return t}function u(t,e){return e||(e=h),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?\"g\":\"\")}function p(t){if(\"{ }\"===t)return c;var e=t.split(\" \");if(2!==e.length||o.test(t))throw new Error('Unsupported brackets \"'+t+'\"');return(e=e.concat(t.replace(r,\"\\\\\").split(\" \")))[4]=u(e[1].length>1?/{[\\S\\s]*?}/:c[4],e),e[5]=u(t.length>3?/\\\\({|})/g:c[5],e),e[6]=u(c[6],e),e[7]=RegExp(\"\\\\\\\\(\"+e[3]+\")|([[({])|(\"+e[3]+\")|\"+n,\"g\"),e[8]=t,e}function g(t){return t instanceof RegExp?e(t):h[t]}function v(t){(t||(t=\"{ }\"))!==h[8]&&(h=p(t),e=\"{ }\"===t?m:u,h[9]=e(c[9])),d=t}return g.split=function(t,e,i){i||(i=h);var a,s,o,r,n,c,d=[],m=i[6],u=[],p=\"\";for(s=o=m.lastIndex=0;a=m.exec(t);){if(c=m.lastIndex,r=a.index,s){if(a[2]){var g=a[2],v=l[g],f=1;for(v.lastIndex=c;a=v.exec(t);)if(a[1]){if(a[1]===g)++f;else if(!--f)break}else v.lastIndex=y(a.index,v.lastIndex,a[2]);m.lastIndex=f?t.length:v.lastIndex;continue}if(!a[3]){m.lastIndex=y(r,c,a[4]);continue}}a[1]||(b(t.slice(o,r)),o=m.lastIndex,(m=i[6+(s^=1)]).lastIndex=o)}return t&&o<t.length&&b(t.slice(o)),d.qblocks=u,d;function b(t){p&&(t=p+t,p=\"\"),e||s?d.push(t&&t.replace(i[5],\"$1\")):d.push(t)}function y(i,a,s){return s&&(a=_(t,i)),e&&a>i+2&&(n=\"⁗\"+u.length+\"~\",u.push(t.slice(i,a)),p+=t.slice(o,i)+n,o=a),a}},g.hasExpr=function(t){return h[4].test(t)},g.loopKeys=function(t){var e=t.match(h[9]);return e?{key:e[1],pos:e[2],val:h[0]+e[3].trim()+h[1]}:{val:t.trim()}},g.array=function(t){return t?p(t):h},Object.defineProperty(g,\"settings\",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,\"brackets\",{set:v,get:function(){return d},enumerable:!0}),i=t,v(e)},get:function(){return i}}),g.settings=\"undefined\"!=typeof riot&&riot.settings||{},g.set=v,g.skipRegex=_,g.R_STRINGS=a,g.R_MLCOMMS=/\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,g.S_QBLOCKS=s,g.S_QBLOCK2=n,g}(),P=function(){var t={};function e(e,o){return e?(t[e]||(t[e]=function(t){var e=function(t){var e,i=k.split(t.replace(a,'\"'),1),o=i.qblocks;if(i.length>2||i[0]){var r,l,c=[];for(r=l=0;r<i.length;++r)(e=i[r])&&(e=1&r?n(e,1,o):'\"'+e.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\r\\n?|\\n/g,\"\\\\n\").replace(/\"/g,'\\\\\"')+'\"')&&(c[l++]=e);e=l<2?c[0]:\"[\"+c.join(\",\")+'].join(\"\")'}else e=n(i[1],0,o);return o.length&&(e=e.replace(s,(function(t,e){return o[e].replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\")}))),e}(t);return\"try{return \"!==e.slice(0,11)&&(e=\"return \"+e),new Function(\"E\",e+\";\")}(e))).call(o,i.bind({data:o,tmpl:e})):e}function i(t,i){t.riotData={tagName:i&&i.__&&i.__.tagName,_riot_id:i&&i._riot_id},e.errorHandler?e.errorHandler(t):\"undefined\"!=typeof console&&\"function\"==typeof console.error&&(console.error(t.message),console.log(\"<%s> %s\",t.riotData.tagName||\"Unknown tag\",this.tmpl),console.log(this.data))}e.hasExpr=k.hasExpr,e.loopKeys=k.loopKeys,e.clearCache=function(){t={}},e.errorHandler=null;var a=/\\u2057/g,s=/\\u2057(\\d+)~/g,o=/^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/,r={\"(\":/[()]/g,\"[\":/[[\\]]/g,\"{\":/[{}]/g};function n(t,e,i){if(t=t.replace(/\\s+/g,\" \").trim().replace(/\\ ?([[\\({},?\\.:])\\ ?/g,\"$1\")){for(var a,s=[],n=0;t&&(a=t.match(o))&&!a.index;){var l,c,d=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=a[2]?i[a[2]].slice(1,-1).trim().replace(/\\s+/g,\" \"):a[1];c=(a=d.exec(t))[1];)m(c,d);c=t.slice(0,a.index),t=RegExp.rightContext,s[n++]=h(c,1,l)}t=n?n>1?\"[\"+s.join(\",\")+'].join(\" \").trim()':s[0]:h(t,e)}return t;function m(e,i){var a,s=1,o=r[e];for(o.lastIndex=i.lastIndex;a=o.exec(t);)if(a[0]===e)++s;else if(!--s)break;i.lastIndex=s?t.length:o.lastIndex}}var l='\"in this?this:'+(\"object\"!=typeof window?\"global\":\"window\")+\").\",c=/[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,d=/^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;function h(t,e,i){var a;return t=t.replace(c,(function(t,e,i,s,o){return i&&(s=a?0:s+t.length,\"this\"!==i&&\"global\"!==i&&\"window\"!==i?(t=e+'(\"'+i+l+i,s&&(a=\".\"===(o=o[s])||\"(\"===o||\"[\"===o)):s&&(a=!d.test(o.slice(s)))),t})),a&&(t=\"try{return \"+t+\"}catch(e){E(e,this)}\"),i?t=(a?\"function(){\"+t+\"}.call(this)\":\"(\"+t+\")\")+'?\"'+i+'\":\"\"':e&&(t=\"function(v){\"+(a?t.replace(\"return \",\"v=\"):\"v=(\"+t+\")\")+';return v||v===0?v:\"\"}.call(this)'),t}return e.version=k.version=\"v3.0.8\",e}(),A=function(t){t=t||{};var e={},i=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(i,a){return\"function\"==typeof a&&(e[i]=e[i]||[]).push(a),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,a){if(\"*\"!=i||a)if(a)for(var s,o=e[i],r=0;s=o&&o[r];++r)s==a&&o.splice(r--,1);else delete e[i];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,i){return t.on(e,(function a(){t.off(e,a),i.apply(t,arguments)}))},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(a){var s,o,r,n=arguments,l=arguments.length-1,c=new Array(l);for(r=0;r<l;r++)c[r]=n[r+1];for(s=i.call(e[a]||[],0),r=0;o=s[r];++r)o.apply(t,c);return e[\"*\"]&&\"*\"!=a&&t.trigger.apply(t,[\"*\",a].concat(c)),t},enumerable:!1,writable:!1,configurable:!1}}),t};function j(t,e){return Object.getOwnPropertyDescriptor(t,e)}function S(t){return void 0===t}function L(t,e){var i=j(t,e);return S(t[e])||i&&i.writable}function T(t){for(var e,i=1,a=arguments,s=a.length;i<s;i++)if(e=a[i])for(var o in e)L(t,o)&&(t[o]=e[o]);return t}function C(t){return Object.create(t)}var z=T(C(k.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0});function I(t,e){return[].slice.call((e||document).querySelectorAll(t))}function E(){return document.createTextNode(\"\")}function M(t,e){t.style.display=e?\"\":\"none\",t.hidden=!e}function O(t,e){return t.getAttribute(e)}function D(t,e){t.removeAttribute(e)}function N(t,e,i){if(i){var a=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns=\"'+n+'\">'+e+\"</svg>\",\"application/xml\").documentElement,!0);t.appendChild(a)}else t.innerHTML=e}function R(t,e){if(t)for(var i;i=h.exec(t);)e(i[1].toLowerCase(),i[2]||i[3]||i[4])}function $(){return document.createDocumentFragment()}function F(t,e,i){t.insertBefore(e,i.parentNode&&i)}function B(t){return Object.keys(t).reduce((function(e,i){return e+\" \"+i+\": \"+t[i]+\";\"}),\"\")}function Y(t,e,i){if(t){var a,s=e(t,i);if(!1===s)return;for(t=t.firstChild;t;)a=t.nextSibling,Y(t,e,s),t=a}}var U=Object.freeze({$$:I,$:e,createDOMPlaceholder:E,mkEl:g,setAttr:v,toggleVisibility:M,getAttr:O,remAttr:D,setInnerHTML:N,walkAttrs:R,createFrag:$,safeInsert:F,styleObjectToString:B,walkNodes:Y});function H(t){return S(t)||null===t}function G(t){return H(t)||\"\"===t}function q(t){return\"function\"==typeof t}function V(t){return t&&\"object\"==typeof t}function W(t){var e=t.ownerSVGElement;return!!e||null===e}function J(t){return Array.isArray(t)||t instanceof Array}function K(t){return u.test(t)}function Z(t){return\"string\"==typeof t}var X=Object.freeze({isBlank:G,isFunction:q,isObject:V,isSvg:W,isWritable:L,isArray:J,isBoolAttr:K,isNil:H,isString:Z,isUndefined:S});function Q(t,e){return-1!==t.indexOf(e)}function tt(t,e){for(var i=t?t.length:0,a=0;a<i;a++)e(t[a],a);return t}function et(t,e){return t.slice(0,e.length)===e}var it,at=(it=-1,function(){return++it});function st(t,e,i,a){return Object.defineProperty(t,e,T({value:i,enumerable:!1,writable:!1,configurable:!0},a)),t}function ot(t){return t.replace(/-(\\w)/g,(function(t,e){return e.toUpperCase()}))}function rt(t){console&&console.warn&&console.warn(t)}var nt=Object.freeze({contains:Q,each:tt,getPropDescriptor:j,startsWith:et,uid:at,defineProperty:st,objectCreate:C,extend:T,toCamel:ot,warn:rt});function lt(t,e,i,a,s){var o=t[e],r=J(o),n=!S(s);if(!o||o!==i)if(!o&&a)t[e]=[i];else if(o)if(r){var l=o.indexOf(i);if(l===s)return;-1!==l&&o.splice(l,1),n?o.splice(s,0,i):o.push(i)}else t[e]=[o,i];else t[e]=i}function ct(t){return t.tagName&&o[O(t,\"data-is\")||O(t,\"data-is\")||t.tagName.toLowerCase()]}function dt(t,e){var i=ct(t),a=!e&&O(t,\"data-is\");return a&&!P.hasExpr(a)?a:i?i.name:t.tagName.toLowerCase()}function ht(){return this.parent?T(C(this),this.parent):this}var mt=/<yield\\b/i,ut=/<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/gi,pt=/<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/gi,gt=/<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/gi,vt={tr:\"tbody\",th:\"tr\",td:\"tr\",col:\"colgroup\"},ft=p&&p<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;function bt(t,i,a){var s=t&&t.match(/^\\s*<([-\\w]+)/),o=s&&s[1].toLowerCase(),r=g(a?\"svg\":\"div\");return t=function(t,e){if(!mt.test(t))return t;var i={};return e=e&&e.replace(pt,(function(t,e,a){return i[e]=i[e]||a,\"\"})).trim(),t.replace(gt,(function(t,e,a){return i[e]||a||\"\"})).replace(ut,(function(t,i){return e||i||\"\"}))}(t,i),ft.test(o)?r=function(t,i,a){var s=\"o\"===a[0],o=s?\"select>\":\"table>\";if(t.innerHTML=\"<\"+o+i.trim()+\"</\"+o,o=t.firstChild,s)o.selectedIndex=-1;else{var r=vt[a];r&&1===o.childElementCount&&(o=e(r,o))}return o}(r,t,o):N(r,t,a),r}var yt=/^on/;function xt(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function wt(t,e,i){var a=this.__.parent,s=this.__.item;if(!s)for(;a&&!s;)s=a.__.item,a=a.__.parent;if(L(i,\"currentTarget\")&&(i.currentTarget=t),L(i,\"target\")&&(i.target=i.srcElement),L(i,\"which\")&&(i.which=i.charCode||i.keyCode),i.item=s,e.call(this,i),z.autoUpdate&&!i.preventUpdate){var o=xt(this);o.isMounted&&o.update()}}function _t(t,e,i,a){var s,o=wt.bind(a,i,e);i[t]=null,s=t.replace(d,\"\"),Q(a.__.listeners,i)||a.__.listeners.push(i),i[\"__riot-events__\"]||(i[\"__riot-events__\"]={}),i[\"__riot-events__\"][t]&&i.removeEventListener(s,i[\"__riot-events__\"][t]),i[\"__riot-events__\"][t]=o,i.addEventListener(s,o,!1)}function kt(t,e,i,a){var s=re(t,e,i),o=e.tagName||dt(e.root,!0),r=xt(a);return st(s,\"parent\",r),s.__.parent=a,lt(r.tags,o,s),r!==a&&lt(a.tags,o,s),s}function Pt(t,e,i,a){if(J(t[e])){var s=t[e].indexOf(i);-1!==s&&t[e].splice(s,1),t[e].length?1!==t[e].length||a||(t[e]=t[e][0]):delete t[e]}else t[e]===i&&delete t[e]}function At(t,e){var i,a,s=E(),o=E(),r=$();for(this.root.insertBefore(s,this.root.firstChild),this.root.appendChild(o),this.__.head=a=s,this.__.tail=o;a;)i=a.nextSibling,r.appendChild(a),this.__.virts.push(a),a=i;e?t.insertBefore(r,e.__.head):t.appendChild(r)}function jt(t,e){if(e.parentNode){var i=$();At.call(t,i),e.parentNode.replaceChild(i,e)}}function St(t){if(!this.root||!O(this.root,\"virtualized\")){var e,i=t.dom,a=function(t){return t?(t=t.replace(\"riot-\",\"\"),m[t]&&(t=m[t]),t):null}(t.attr),s=Q([\"show\",\"hide\"],a),r=t.root&&\"VIRTUAL\"===t.root.tagName,n=this.__.isAnonymous,l=i&&(t.parent||i.parentNode),c=z.keepValueAttributes,d=\"style\"===a,h=\"class\"===a,u=\"value\"===a;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),r&&jt(t,t.root));else{if(t.update)return t.update();var g=s&&!n?ht.call(this):this,f=!G(e=P(t.expr,g)),b=V(e);if(b&&(h?e=P(JSON.stringify(e),this):d&&(e=B(e))),!t.attr||t.wasParsedOnce&&!1!==e&&(f||u&&(!u||c))||D(i,O(i,t.attr)?t.attr:a),t.bool&&(e=!!e&&a),t.isRtag)return function(t,e,i){var a,s=t.tag||t.dom._tag,r=(s?s.__:{}).head,n=\"VIRTUAL\"===t.dom.tagName;s&&t.tagName===i?s.update():(s&&(n&&(a=E(),r.parentNode.insertBefore(a,r)),s.unmount(!0)),Z(i)&&(t.impl=o[i],t.impl&&(t.tag=s=kt(t.impl,{root:t.dom,parent:e,tagName:i},t.dom.innerHTML,e),tt(t.attrs,(function(t){return v(s.root,t.name,t.value)})),t.tagName=i,s.mount(),n&&jt(s,a||s.root),e.__.onUnmount=function(){var t=s.opts.dataIs;Pt(s.parent.tags,t,s),Pt(s.__.parent.tags,t,s),s.unmount()})))}(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!b||h||d||s)){if(f||(e=\"\"),!a)return e+=\"\",void(l&&(t.parent=l,\"TEXTAREA\"===l.tagName?(l.value=e,p||(i.nodeValue=e)):i.nodeValue=e));switch(!0){case q(e):y=a,yt.test(y)&&_t(a,e,i,this);break;case s:M(i,\"hide\"===a?!e:e);break;default:t.bool&&(i[a]=e),u&&i.value!==e?i.value=e:f&&!1!==e&&v(i,a,e),d&&i.hidden&&M(i,!1)}var y}}}}function Lt(t){tt(t,St.bind(this))}function Tt(t,e,i,a,s){if(!t||!i){var o=t?ht.call(this):e||this;tt(s,(function(t){t.expr&&St.call(o,t.expr),a[ot(t.name).replace(\"riot-\",\"\")]=t.expr?t.expr.value:t.value}))}}function Ct(t){if(!t){var e=Object.keys(o);return e+Ct(e)}return t.filter((function(t){return!/[^-\\w]/.test(t)})).reduce((function(t,e){return t+',[data-is=\"'+e.trim().toLowerCase()+'\"]'}),\"\")}function zt(t,e){var i=this.name,a=this.tmpl,s=this.css,r=this.attrs,n=this.onCreate;return o[i]||(It(i,a,s,r,n),o[i].class=this.constructor),ne(t,i,e,this),s&&w.inject(),this}function It(t,e,i,a,s){return q(a)&&(s=a,/^[\\w-]+\\s?=/.test(i)?(a=i,i=\"\"):a=\"\"),i&&(q(i)?s=i:w.add(i,t)),t=t.toLowerCase(),o[t]={name:t,tmpl:e,attrs:a,fn:s},t}function Et(t,e,i,a,s){return i&&w.add(i,t),o[t]={name:t,tmpl:e,attrs:a,fn:s},t}function Mt(t,e,i){var a,s,o=[];if(w.inject(),(V(e)||q(e))&&(i=e,e=0),a=Z(t)?(t=\"*\"===t?s=Ct():t+Ct(t.split(/, */)))?I(t):[]:t,\"*\"===e){if(e=s||Ct(),a.tagName)a=I(e,a);else{var r=[];tt(a,(function(t){return r.push(I(e,t))})),a=r}e=0}return function t(a){if(a.tagName){var s,r=O(a,\"data-is\");e&&r!==e&&(r=e,v(a,\"data-is\",e)),(s=ne(a,r||a.tagName.toLowerCase(),q(i)?i():i))&&o.push(s)}else a.length&&tt(a,t)}(a),o}var Ot={},Dt=Ot.__global_mixin={},Nt=0;function Rt(t,e,i){if(V(t))Rt(\"__\"+Nt+++\"__\",t,!0);else{var a=i?Dt:Ot;if(!e){if(S(a[t]))throw new Error(\"Unregistered mixin: \"+t);return a[t]}a[t]=q(e)?T(e.prototype,a[t]||{})&&e:T(a[t]||{},e)}}function $t(){return tt(s,(function(t){return t.update()}))}function Ft(t){return w.remove(t),delete o[t]}var Bt=Object.freeze({Tag:zt,tag:It,tag2:Et,mount:Mt,mixin:Rt,update:$t,unregister:Ft,version:\"v3.13.0\"});function Yt(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return tt(e,(function(e){var i,a,s=[],o=[\"init\",\"__proto__\"];e=Z(e)?Rt(e):e,i=q(e)?new e:e;var r=Object.getPrototypeOf(i);do{s=s.concat(Object.getOwnPropertyNames(a||i))}while(a=Object.getPrototypeOf(a||i));tt(s,(function(e){if(!Q(o,e)){var a=j(i,e)||j(r,e),s=a&&(a.get||a.set);!t.hasOwnProperty(e)&&s?Object.defineProperty(t,e,a):t[e]=q(i[e])?i[e].bind(t):i[e]}})),i.init&&i.init.bind(t)(t.opts)})),t}function Ut(t,e){var i,a=this.parent;a&&(J(i=a.tags[t])?i.splice(e,0,i.splice(i.indexOf(this),1)[0]):lt(a.tags,t,this))}function Ht(t,e){for(var i,a=this.__.head,s=$();a;)if(i=a.nextSibling,s.appendChild(a),(a=i)===this.__.tail){s.appendChild(a),t.insertBefore(s,e.__.head);break}}function Gt(t,e,i){var a={};return a[t.key]=e,t.pos&&(a[t.pos]=i),a}function qt(t,e){t.splice(e,1),this.unmount(),Pt(this.parent,this,this.__.tagName,!0)}function Vt(t){var e=this;tt(Object.keys(this.tags),(function(i){Ut.apply(e.tags[i],[i,t])}))}function Wt(t,e,i){i?Ht.apply(this,[t,e]):F(t,this.root,e.root)}function Jt(t,e,i){i?At.apply(this,[t,e]):F(t,this.root,e.root)}function Kt(t,e){e?At.call(this,t):t.appendChild(this.root)}function Zt(t,e,i){var a=\"string\"!=typeof O(t,\"no-reorder\")||D(t,\"no-reorder\"),s=O(t,\"key\"),r=!!s&&P.hasExpr(s),n=dt(t),l=o[n],c=t.parentNode,d=E(),h=ct(t),m=O(t,\"if\"),u=[],p=t.innerHTML,g=!o[n],v=\"VIRTUAL\"===t.tagName,f=[];return D(t,\"each\"),D(t,\"key\"),(i=P.loopKeys(i)).isLoop=!0,m&&D(t,\"if\"),c.insertBefore(d,t),c.removeChild(t),i.update=function(){i.value=P(i.val,e);var o=i.value,c=$(),b=!J(o)&&!Z(o),y=d.parentNode,x=[],w=b&&!!o;if(y){b&&(o=o?Object.keys(o).map((function(t){return Gt(i,o[t],t)})):[]);var _=0;tt(o,(function(d,k){var A=k-_,j=!w&&i.key?Gt(i,d,k):d;if(!m||P(m,T(C(e),j))){var S=function(t,e,i,a){return t?a?P(t,i):e[t]:e}(s,d,j,r),L=!b&&a&&\"object\"==typeof d||s,z=f.indexOf(S),I=-1===z,E=!I&&L?z:A,M=u[E],O=A>=f.length,D=L&&I||!L&&!M||!u[A];D?((M=re(l,{parent:e,isLoop:!0,isAnonymous:g,tagName:n,root:t.cloneNode(g),item:j,index:A},p)).mount(),O?Kt.apply(M,[c||y,v]):Jt.apply(M,[y,u[A],v]),O||f.splice(A,0,j),u.splice(A,0,M),h&&lt(e.tags,n,M,!0)):E!==A&&L&&((s||Q(o,f[E]))&&(Wt.apply(M,[y,u[A],v]),u.splice(A,0,u.splice(E,1)[0]),f.splice(A,0,f.splice(E,1)[0])),i.pos&&(M[i.pos]=A),!h&&M.tags&&Vt.call(M,A)),T(M.__,{item:j,index:A,parent:e}),x[A]=S,D||M.update(j)}else _++})),function(t,e,i){for(var a=e.length,s=t.length-i;a>s;)a--,qt.apply(e[a],[e,a])}(o,u,_),f=x.slice(),y.insertBefore(c,d)}},i.unmount=function(){tt(u,(function(t){t.unmount()}))},i}var Xt={init:function(t,e,i,a){return this.dom=t,this.attr=i,this.rawValue=a,this.parent=e,this.hasExp=P.hasExpr(a),this},update:function(){var t=this.value,e=this.parent&&xt(this.parent),i=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?P(this.rawValue,this.parent):this.rawValue,!G(t)&&e&&Pt(e.refs,t,i),!G(this.value)&&Z(this.value)?(e&&lt(e.refs,this.value,i,null,this.parent.__.index),this.value!==t&&v(this.dom,this.attr,this.value)):D(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=i)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&xt(this.parent);!G(this.value)&&e&&Pt(e.refs,this.value,t)}};function Qt(t,e,i,a){return C(Xt).init(t,e,i,a)}function te(t){tt(t,(function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()}))}var ee={init:function(t,e,i){D(t,\"if\"),T(this,{tag:e,expr:i,stub:E(),pristine:t});var a=t.parentNode;return a.insertBefore(this.stub,t),a.removeChild(t),this},update:function(){this.value=P(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ae.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&Lt.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),te(this.expressions||[])}};function ie(t,e,i){return C(ee).init(t,e,i)}function ae(t,e){var i=this,a=[];return Y(t,(function(s){var o,r,n=s.nodeType;if((e||s!==t)&&(3===n&&\"STYLE\"!==s.parentNode.tagName&&P.hasExpr(s.nodeValue)&&a.push({dom:s,expr:s.nodeValue}),1===n)){var l=\"VIRTUAL\"===s.tagName;if(o=O(s,\"each\"))return l&&v(s,\"loopVirtual\",!0),a.push(Zt(s,i,o)),!1;if(o=O(s,\"if\"))return a.push(ie(s,i,o)),!1;if((o=O(s,\"data-is\"))&&P.hasExpr(o))return a.push({isRtag:!0,expr:o,dom:s,attrs:[].slice.call(s.attributes)}),!1;if(r=ct(s),l&&(O(s,\"virtualized\")&&s.parentElement.removeChild(s),r||O(s,\"virtualized\")||O(s,\"loopVirtual\")||(r={tmpl:s.outerHTML})),r&&(s!==t||e)){var c=O(s,\"data-is\");if(!l||c)return c&&l&&rt('Virtual tags shouldn\\'t be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511'),a.push(kt(r,{root:s,parent:i},s.innerHTML,i)),!1;v(s,\"virtualized\",!0);var d=re({tmpl:s.outerHTML},{root:s,parent:i},s.innerHTML);a.push(d)}se.apply(i,[s,s.attributes,function(t,e){e&&a.push(e)}])}})),a}function se(t,e,i){var a=this;tt(e,(function(e){if(!e)return!1;var s,o=e.name,n=K(o);Q(r,o)&&\"yield\"!==t.tagName.toLowerCase()?s=Qt(t,a,o,e.value):P.hasExpr(e.value)&&(s={dom:t,expr:e.value,attr:o,bool:n}),i(e,s)}))}function oe(t){var e=this.__.isAnonymous;st(this,\"isMounted\",t),e||(t?this.trigger(\"mount\"):(this.trigger(\"unmount\"),this.off(\"*\"),this.__.wasCreated=!1))}function re(t,e,i){void 0===t&&(t={}),void 0===e&&(e={});var a,o=e.context||{},r=e.opts||{},n=e.parent,l=e.isLoop,c=!!e.isAnonymous,d=z.skipAnonymousTags&&c,h=e.item,m=e.index,u=t.tmpl,p=[],g=e.root,f=e.tagName||dt(g),b=\"virtual\"===f,y=!b&&!u;return y||l&&c?a=g:(b||(g.innerHTML=\"\"),a=bt(u,i,W(g))),d||A(o),t.name&&g._tag&&g._tag.unmount(!0),st(o,\"__\",{impl:t,root:g,skipAnonymous:d,implAttrs:[],isAnonymous:c,instAttrs:[],innerHTML:i,tagName:f,index:m,isLoop:l,isInline:y,item:h,parent:n,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[[\"isMounted\",!1],[\"_riot_id\",at()],[\"root\",g],[\"opts\",r,{writable:!0,enumerable:!0}],[\"parent\",n||null],[\"tags\",{}],[\"refs\",{}],[\"update\",function(t){return function(t,e,i){var a=t.__,s={},o=t.isMounted&&!a.skipAnonymous;return a.isAnonymous&&a.parent&&T(t,a.parent),T(t,e),Tt.apply(t,[a.isLoop,a.parent,a.isAnonymous,s,a.instAttrs]),o&&t.isMounted&&q(t.shouldUpdate)&&!t.shouldUpdate(e,s)||(T(t.opts,s),o&&t.trigger(\"update\",e),Lt.call(t,i),o&&t.trigger(\"updated\")),t}(o,t,p)}],[\"mixin\",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Yt.apply(void 0,[o].concat(t))}],[\"mount\",function(){return function(t,e,i,a){var s=t.__,o=s.root;o._tag=t,se.apply(s.parent,[o,o.attributes,function(e,i){!s.isAnonymous&&Xt.isPrototypeOf(i)&&(i.tag=t),e.expr=i,s.instAttrs.push(e)}]),R(s.impl.attrs,(function(t,e){s.implAttrs.push({name:t,value:e})})),se.apply(t,[o,s.implAttrs,function(t,e){e?i.push(e):v(o,t.name,t.value)}]),Tt.apply(t,[s.isLoop,s.parent,s.isAnonymous,a,s.instAttrs]);var r=Rt(\"__global_mixin\");if(r&&!s.skipAnonymous)for(var n in r)r.hasOwnProperty(n)&&t.mixin(r[n]);if(s.impl.fn&&s.impl.fn.call(t,a),s.skipAnonymous||t.trigger(\"before-mount\"),tt(ae.apply(t,[e,s.isAnonymous]),(function(t){return i.push(t)})),t.update(s.item),!s.isAnonymous&&!s.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(st(t,\"root\",o),!s.skipAnonymous&&t.parent){var l=xt(t.parent);l.one(l.isMounted?\"updated\":\"mount\",(function(){oe.call(t,!0)}))}else oe.call(t,!0);return t.__.wasCreated=!0,t}(o,a,p,r)}],[\"unmount\",function(t){return function(t,e,i){var a=t.__,o=a.root,r=s.indexOf(t),n=o.parentNode;if(a.skipAnonymous||t.trigger(\"before-unmount\"),R(a.impl.attrs,(function(t){et(t,\"riot-\")&&(t=t.slice(\"riot-\".length)),D(o,t)})),t.__.listeners.forEach((function(t){Object.keys(t[\"__riot-events__\"]).forEach((function(e){t.removeEventListener(e,t[\"__riot-events__\"][e])}))})),-1!==r&&s.splice(r,1),a.parent&&!a.isAnonymous){var l=xt(a.parent);a.isVirtual?Object.keys(t.tags).forEach((function(e){return Pt(l.tags,e,t.tags[e])})):Pt(l.tags,a.tagName,t)}return t.__.virts&&tt(t.__.virts,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),te(i),tt(a.instAttrs,(function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()})),e?N(o,\"\"):n&&n.removeChild(o),a.onUnmount&&a.onUnmount(),t.isMounted||oe.call(t,!0),oe.call(t,!1),delete o._tag,t}(o,t,p)}]].reduce((function(t,e){var i=e[0],a=e[1],s=e[2];return st(o,i,a,s),t}),T(o,h))}function ne(t,e,i,a){var r,n=o[e],l=o[e].class,c=a||(l?C(l.prototype):{}),d=t._innerHTML=t._innerHTML||t.innerHTML,h=T({root:t,opts:i,context:c},{parent:i?i.parent:null});return n&&t&&(r=re(n,h,d)),r&&r.mount&&(r.mount(!0),Q(s,r)||s.push(r)),r}var le=z,ce={tmpl:P,brackets:k,styleManager:w,vdom:s,styleNode:w.styleNode,dom:U,check:X,misc:nt,tags:Object.freeze({arrayishAdd:lt,getTagName:dt,inheritParentProps:ht,mountTo:ne,selectTags:Ct,arrayishRemove:Pt,getTag:ct,initChildTag:kt,moveChildTag:Ut,makeReplaceVirtual:jt,getImmediateCustomParentTag:xt,makeVirtual:At,moveVirtual:Ht,unmountAll:te,createIfDirective:ie,createRefDirective:Qt})},de=zt,he=It,me=Et,ue=Mt,pe=Rt,ge=$t,ve=Ft,fe=A,be=T({},Bt,{observable:A,settings:le,util:ce});t.settings=le,t.util=ce,t.Tag=de,t.tag=he,t.tag2=me,t.mount=ue,t.mixin=pe,t.update=ge,t.unregister=ve,t.version=\"v3.13.0\",t.observable=fe,t.default=be,Object.defineProperty(t,\"__esModule\",{value:!0})}(e)},function(t,e,i){\"use strict\";t.exports=function(t,e,i,a){if(0==a)var s=!1;else s=!0;var o=36e5,r=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(o=864e5,r=\"MMMM DD, YYYY\"):\"monthly\"==e&&(o=2592e6,r=\"MMMM YYYY\"),i)var n=i;else n=\"#868ba1\";return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\",marginTop:50},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:o,title:{text:null},labels:{style:{color:n}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:n},formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")}}},exporting:{enabled:!0},tooltip:{formatter:function(){return[moment(this.x).format(r),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{series:{fillColor:{},cursor:\"pointer\",point:{events:{click:function(i){var a=moment(this.category).format(\"YYYY-MM-DD\"),s=moment(this.x).format(\"HH\");renderchart.trigger(t,a,this.series.userOptions.valnameid,s,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:o}},legend:{enabled:s},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},function(t,e,i){i(0).tag2(\"breadcrumb\",'<div class=\"br-pageheader\" style=\" background-color: #dee2e6; padding:0px ;\"> </div>',\"\",\"\",(function(t){this.selectedProject=!1,this.breadCrumb=t=>{this.dataBreadCrumb=t,this.update()},this.render=()=>{this.update()},this.byProject=()=>{},breadCrumb.on(\"update\",t=>{this.dataBreadCrumb=t}),this.modeProject=()=>{void 0!==breadCrumb.project&&(this.dataBreadCrumb=[{link:\"#\",title:\"Projects\"},{link:\"#\",title:breadCrumb.project.name}],this.selectedProject=breadCrumb.project,this.update())},breadCrumb.on(\"modeProject\",()=>{this.modeProject()}),this.on(\"mount\",()=>{\"project\"==t.mode&&this.modeProject()})}))},function(t,e,i){i(0).tag2(\"date-picker\",'<div ref=\"datepicker\" class=\" color-grey-600 pull-right border-radius-10 d-sm-block no-shadow cursor-pointer\"> <i class=\"ion-calendar margin-right-10 cursor-pointer\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5 cursor-pointer\"></i> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{const e=this.refs.datepicker;var i=moment(t.since),a=moment(t.until);const s=t.type||\"range\";var o=localStorage.maxdate;let r={startDate:i,endDate:a,minYear:parseInt(moment().subtract(2,\"y\").format(\"YYYY\")),ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}};\"single\"===s&&(r.singleDatePicker=!0),o&&\"null\"!==o&&\"undefined\"!==o&&(r.maxDate=moment(o)),$(e).daterangepicker(r,(function(i,a){\"function\"==typeof t.cb&&t.cb(i.format(\"YYYY-MM-DD\"),a.format(\"YYYY-MM-DD\")),localStorage.since=i.format(\"YYYY-MM-DD\"),localStorage.until=a.format(\"YYYY-MM-DD\"),\"single\"===s?$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")):$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+a.format(\"MMMM D, YYYY\"))})),\"single\"===s?$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")):$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+a.format(\"MMMM D, YYYY\")),$(e).show(),\"function\"==typeof t.cb&&t.cb(i.format(\"YYYY-MM-DD\"),a.format(\"YYYY-MM-DD\")),this.maxdateavailable()}),this.maxdateavailable=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:function(t){localStorage.setItem(\"maxdate\",t),this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}i.r(e);var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,i,s;return e=t,(i=[{key:\"check\",value:function(){return this.getToken()}},{key:\"login\",value:function(t){this.name=null,this.level=null,this.projects=null,t.token&&this.setToken(t.token),t.name&&(this.name=t.name),t.projects&&(this.projects=t.projects),t.level&&(this.level=t.level),localStorage.setItem(\"AuthData\",JSON.stringify(t))}},{key:\"releaseFromStorage\",value:function(){if(!localStorage.getItem(\"AuthData\"))return!1;var t=JSON.parse(localStorage.getItem(\"AuthData\"));this.login(t)}},{key:\"user\",value:function(t){var e=[\"name\",\"level\",\"projects\"];return this[t]&&e.indexOf(e)?this[t]:t?void 0:{name:this.name,level:this.level,projects:this.projects}}},{key:\"logout\",value:function(){localStorage.removeItem(\"AuthToken\")}},{key:\"setToken\",value:function(t){localStorage.setItem(\"AuthToken\",t)}},{key:\"getToken\",value:function(){var t=new RegExp(\"[?&]token=([^&#]*)\").exec(window.location.href);return null!=t?(localStorage.clear(),t[1]||0):localStorage.getItem(\"AuthToken\")}}])&&a(e.prototype,i),s&&a(e,s),t}();e.default=new s},function(t,e,i){i(0).tag2(\"pagging\",'<div class=\" align-items-center justify-content-center pull-right mg-t-20\"> <ul class=\"pagination pagination-basic pagination-rounded mg-b-0\"> <li class=\"page-item {opts.pagination.page <=1 ? \\'disabled\\' : \\'\\'} hidden-xs-down\"> <a class=\"page-link\" href=\"#\" onclick=\"{first}\" aria-label=\"First\"><i class=\"fa fa-angle-double-left\"></i></a> </li> <li class=\"page-item {opts.pagination.page <=1 ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" onclick=\"{back}\" aria-label=\"Previous\"><i class=\"fa fa-angle-left\"></i></a> </li> <li class=\"page-item \" if=\"{opts.pagination.page > 1}\"> <a class=\"page-link\" onclick=\"{back}\" href=\"#\">{opts.pagination.page - 1}</a> </li> <li class=\"page-item active\"> <a class=\"page-link \">{opts.pagination.page}</a> </li> <li class=\"page-item hidden-xs-down\" if=\"{opts.pagination.page < opts.pagination.pages}\"> <a class=\"page-link\" href=\"#\" onclick=\"{forward}\">{opts.pagination.page + 1}</a> </li> <li class=\"page-item {opts.pagination.page>= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" aria-label=\"Next\" onclick=\"{forward}\"><i class=\"fa fa-angle-right\"></i></a> </li> <li class=\"page-item hidden-xs-down {opts.pagination.page>= opts.pagination.pages ? \\'disabled\\' : \\'\\'}\"> <a class=\"page-link\" href=\"#\" onclick=\"{last}\" aria-label=\"Last\"><i class=\"fa fa-angle-double-right\"></i></a> </li> </ul> </div>',\"\",\"\",(function(t){this.on(\"update\",()=>{t.pagination||(t.pagination={pages:1,page:1})}),this.on(\"page\",e=>{\"function\"==typeof t.pagination.cb&&t.pagination.cb(e)}),this.forward=e=>{e.preventDefault(),t.pagination.page<t.pagination.pages&&(t.pagination.page++,this.trigger(\"page\",t.pagination.page))},this.back=e=>{e.preventDefault(),t.pagination.page>1&&(t.pagination.page--,this.trigger(\"page\",t.pagination.page))},this.first=e=>{e.preventDefault(),1!==t.pagination.page&&(t.pagination.page=1,this.trigger(\"page\",t.pagination.page))},this.last=e=>{e.preventDefault(),t.pagination.page!==t.pagination.pages&&(t.pagination.page=t.pagination.pages,this.trigger(\"page\",t.pagination.page))}}))},function(t,e,i){i(0).tag2(\"tombol-refres\",'<div class=\"refres-error\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 cursor-pointer tombol-refres\" onclick=\"{reload}\"><i class=\"mg-r-5 icon ion-ios-refresh-outline\"></i> Refresh</button> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{}),this.reload=()=>{t.cb(\"data\")}}))},function(t,e,i){i(0).tag2(\"header-menu\",'<ul class=\"nav nav-tabs nav-tabs-style-r10 nav-justified tx-13\" role=\"tablist\"> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:prj}\" href=\"#setting/project-update?project={localStorage.prj}\" role=\"tab\">DETAILS</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:acc}\" href=\"#setting/account?project={localStorage.prj}\" role=\"tab\">FB FANPAGES</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:sn}\" href=\"#setting/spike-notification?project={localStorage.prj}\" role=\"tab\">NOTIFICATIONS</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:info}\" href=\"#setting/infographic?project={localStorage.prj}\" role=\"tab\">INFOGRAPHIC</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:am}\" href=\"#setting/author-marker?project={localStorage.prj}\" role=\"tab\">AUTHOR MARKER</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:bc}\" href=\"#setting/buzzer-account?project={localStorage.prj}\" role=\"tab\">BUZZER ACCOUNTS</a> </li> <li class=\"nav-item\"> <a class=\"nav-link pd-y-10 settings {active:fl}\" href=\"#setting/filterlist?project={localStorage.prj}\" role=\"tab\">SAVED FILTERS</a> </li> </ul>',\"\",\"\",(function(t){$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()})),this.active=!1,this.on(\"mount\",()=>{}),menu.on(\"nameproject\",t=>{this.data=_.filter(t,(function(t){return t.checked})),this.update()}),urlStream.on(\"changeUrl\",t=>{this.act=t,\"setting/project-update\"==this.act&&(this.prj=!0),\"setting/account\"==this.act&&(this.acc=!0),\"setting/spike-notification\"==this.act&&(this.sn=!0),\"setting/infographic\"==this.act&&(this.info=!0),\"setting/author-marker\"==this.act&&(this.am=!0),\"setting/buzzer-account\"==this.act&&(this.bc=!0),\"setting/addfilterlist\"!=this.act&&\"setting/editfilterlist\"!=this.act&&\"setting/filterlist\"!=this.act||(this.fl=!0),this.update()})}))},function(t,e,i){i(0).tag2(\"group-competitive\",'<div id=\"modaldemo1\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header pd-x-20\"> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\" if=\"{opts.types != \\'comparison\\'}\">Combine Project</h6> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\" if=\"{opts.types === \\'comparison\\'}\">Comparison Project</h6> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\" class=\"cursor-pointer\">×</span> </button> </div> <div class=\"modal-body pd-t-0 pd-r-50 pd-b-50 pd-l-50 \"> <div class=\"row row-sm mg-t-20\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <div class=\"row row-sm\"> <label class=\"ckbox marginmodal cursor-pointer\" each=\"{o, i in recentProject}\"> <input type=\"checkbox\" checked=\"{o.checked}\" class=\"checkactive cursor-pointer\" riot-value=\"{o.id}\" onchange=\"{changeProjects}\"><span> {o.name} </span> </label> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\" onclick=\"{group}\">Save changes</button> <button type=\"button\" class=\"btn btn-outline-warning mg-b-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.dataProject=[],this.searchText=\"\",this.recentTemp=[],this.recentProject=[],this.searchResult=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.isLoading=!1,this.on(\"mount\",()=>{APP.log(\"group-by : mount\"),this.getproject()}),this.getproject=()=>{null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{t=JSON.parse(localStorage.getItem(\"projects\"));if(\"domain/infographic\"==this.currentUrlStream){let t=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=p(\"competition\");var e=_.concat(t,i?i.split(\",\"):[]).map(Number)}else{e=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number)}_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc,keyItemkeyWord:t.key_item_keyword}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.recentProject=_.sortBy(this.dataProjects,[function(t){return t.name}]),this.update()},menu.on(\"nameproject\",function(t){this.dataProjects=t,this.update()}.bind(this)),this.group=t=>{urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()}),1==p(\"project\").split(\",\").length&&localStorage.setItem(\"Project_devault\",p(\"project\"));let e=$(\".checkactive:checked\").val(),i=[];if(null!=e){if($(\".checkactive:checked\").each((function(t){i.push($(this).attr(\"value\"))})),\"domain/infographic\"==this.currentUrlStream){i=i;var a=\"\",s=\"\",o=0;for(let t in i)i[t]&&\"\"!=i[t]&&(0==o?a=\"\"+encodeURIComponent(i[t]):1==o?s+=\"\"+encodeURIComponent(i[t]):o>1&&(s+=\",\"+encodeURIComponent(i[t])),o++);window.location=s?\"#\"+this.currentUrlStream+\"?project=\"+a+\"&competition=\"+s:\"#\"+this.currentUrlStream+\"?project=\"+a}else i=_.orderBy(i,[1],[\"desc\"]),window.location=\"#\"+this.currentUrlStream+\"?project=\"+i.join(\",\");this.update()}else swal({title:\"error\",text:\"Projects can not be empty. Please select one or more projects.\",type:\"error\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})},this.changeProjects=t=>{this.datafilprj=[],t.preventDefault();const e=t.item.o.id,i=_.filter(this.dataProjects,(function(t,i){return t.id!=e}));_.filter(this.dataProjects,(function(t,i){return t.id==e})).forEach(t=>{t.checked=!t.checked,this.datafilprj.push(t)});const a=_.concat(i,this.datafilprj);this.dataProjects=_.sortBy(a,[function(t){return t.name}]),this.update()},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.dataProjects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()})}))},function(t,e,i){i(0).tag2(\"filter\",'<form id=\"myFormid\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"card {shadow-base:opts.namefilter == \\'true\\'} borderbottom0\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center height42\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/filter-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> FILTER </h6> <span class=\"colorblue cursor-pointer\" onclick=\"{reset}\"><a class=\" borderbottom\"> Reset Filter</a></span> </div> <div class=\"card-body pd-20\"> <div class=\"row \"> <div class=\"col-md-12\"> <div class=\"form-group mg-b-0\"> <div class=\"dropdown\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" onclick=\"{resetSearch}\" class=\"btn btn-outline-dark wd-100p\" data-toggle=\"dropdown\"> <span class=\" \"> <i class=\"fa fa-folder-open\"></i> Load Saved Filters</span> </a> <div class=\"dropdown-menu dropdown-menu-header\" style=\" width:100%;\"> <div class=\"form-group mg-5\"> <label for=\"peas\"></label> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Filter\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{o,i in recentProject}\" class=\"cursor-pointer\"> <a onclick=\"{activefilter}\" id=\"{o._id}\"> <i class=\"{ion-checkmark:o.checked==true}\"></i> {o.filter_name} </a> </li> </ul> <hr class=\"mg-5\"> <a href=\"#setting/filterlist?project={localStorage.prjId}\" class=\" see-more cursor-pointer\"> <i class=\"fa fa-arrow-right pull-right pd-5 mg-t-2\"> </i><span class=\"pull-right pd-5\"> Manage Filter </span> </a> </div> </div> </div> </div> </div> <div class=\"row mg-t-10 mb-1\" id=\"hiddenDiv\"> <div class=\"col-md-12\" if=\"{opts.page == ⁗summary⁗}\"> <div class=\"form-group mb-1\"> <label class=\"form-control-label\" for=\"inputfocusnameauthor\">Filter By Channel :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from selected channel\">?</span> </div> <div class=\"row\"> <div class=\"col-6 pr-0 pl-0\" each=\"{service in parent.services}\"> <div class=\"form-check\"> <input class=\"form-check-input\" type=\"checkbox\" onclick=\"{() => toggleService(service.id)}\" riot-value=\"{service.id}\" style=\"margin-left: 0px;\" checked=\"{service.selected}\"> <label class=\"form-check-label\"> {service.name} </label> </div> </div> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputfocusnameauthor\">Filter By Text :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" ref=\"keyword\" riot-value=\"{keyword}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputdomain\">Filter By Domain : <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain domains. To include more than one domain in your search please use the following operators: AND, OR, NOT e.g: NOT facebook.com AND NOT twitter.com - shows entries that do not come from Facebook nor Twitter\">?</span> <input type=\"text\" class=\"form-control\" id=\"inputdomain\" placeholder=\"\" ref=\"domain\" riot-value=\"{domain}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Author : <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain authors. To include more than one domain in your search please use the following operators: AND, OR, NOT e.g: Prama Aditya OR Hendro - shows only entries that come from authors name containing \" prama aditya or hendro>?</span> <input type=\"text\" class=\"form-control\" placeholder=\"\" id=\"inputauthor\" ref=\"author\" riot-value=\"{author}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Taging: <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain tagins. To include more than one taging in your search please use the following operators: AND, OR, NOT e.g: Prama Aditya OR Hendro - shows only entries that come from authors name containing \" prama aditya or hendro>?</span> <input type=\"text\" class=\"form-control\" placeholder=\"\" id=\"inputtaging\" ref=\"taging\" riot-value=\"{taging}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Time: <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"showing data with specific time frame\">?</span> <div class=\"input-group mb-3\"> <input class=\"form-control\" id=\"inputtimesince\" ref=\"timesince\" riot-value=\"{timesince}\" type=\"{\\'time\\'}\"> <span class=\"input-group-text\" style=\"width: 50px; text-align: center;\"> - </span> <input class=\"form-control\" id=\"inputtimeuntil\" ref=\"timeuntil\" riot-value=\"{timetime}\" type=\"{\\'time\\'}\"> </div> </div> </div> <div class=\"col-sm-12 mg-sm-t-0\"> <label class=\"ckbox\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show entries from marked authors. By default, mentions from marked authors are hidden and not calculated in analysis\">?</span> <input type=\"checkbox\" checked=\"{checkeds}\" class=\"exc\" id=\"hide-marker\"><span> Hide Marked Author </span> </label> </div> </div> <div class=\"form-layout-footer mg-t-10\"> <button type=\"submit\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 cursor-pointer\">Apply Filter</button> </div> </div> <div class=\"card-footer tx-12 pd-y-15 bg-transparent\" if=\"{opts.namefilter == \\'true\\'}\"> <div class=\"row \"> <div class=\"col-md-12\"> <div class=\"btn btn-outline-secondary btn-block cursor-pointer\" data-toggle=\"modal\" data-target=\"#modaldemo3\" onclick=\"{inputfocus}\">Save Filter</div> </div> </div> </div> </div> </form>',\"\",\"\",(function(t){this.checkeds=!1,this.error=!1,this.showdiv=!0,this.isSerchingProject=!1,this.isShowingRecent=!1,this.namefilter=\"No Filter\",this.searchResult=[],this.searchText=\"\",this.taging=\"\",this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.toggleService=t=>{this.parent.services.forEach((e,i)=>{e.id==t&&(this.parent.services[i].selected=!this.parent.services[i].selected)})},this.getService=()=>{let t=this.parent.services.filter(t=>1==t.selected);return t.length>0?t.map(t=>t.id).join(\",\"):\"\"},this.loadService=t=>{t=t.split(\",\").map(t=>parseInt(t)),this.parent.services.forEach((e,i)=>{t.includes(e.id)?this.parent.services[i].selected=!0:this.parent.services[i].selected=!1})},this.kirim=e=>{$(\"#modalfilterlist\").modal(\"toggle\"),e.preventDefault(),this.setSearchValues();var i=$(\".exc:checked\").val();this.parent.search.q=this.refs.keyword.value,this.parent.search.domain=this.refs.domain.value,this.parent.search.author=this.refs.author.value,this.parent.search.taging=this.refs.taging.value,\"summary\"==t.page&&(this.parent.search.service_category=this.getService()),null==i?(this.parent.search.filterbot=!1,this.checkeds=!1):(this.parent.search.filterbot=!0,this.checkeds=!0),this.update();var a={filter_filterbot:null!=i,filter_keywords:this.refs.keyword.value,filter_author:this.refs.author.value,filter_domain:this.refs.domain.value,filter_taging:this.refs.taging.value};\"summary\"==t.page&&(a.filter_service_category=this.getService()),this.parent.updateFilter(a)},this.reset=()=>{$(\"#modalfilterlist\").modal(\"toggle\"),document.getElementById(\"myFormid\").reset(),this.unsetSearchValues(),this.parent.search.q=\"\",this.parent.search.domain=\"\",this.parent.search.author=\"\",this.parent.search.taging=\"\",this.parent.search.filterbot=!1,this.refs.timesince.value=\"\",this.refs.timeuntil.value=\"\",p(\"author\")&&(window.location=\"#stream?project=\"+p(\"project\")),this.checkeds=!1,this.taging=\"\",this.domain=\"\",this.author=\"\",this.keyword=\"\",this.timesince=\"\",this.timeuntil=\"\",this.update({keyword:\"\",domain:\"\",author:\"\",taging:\"\",timesince:\"\",timeuntil:\"\"}),this.parent.resetFilter()},this.on(\"mount\",()=>{this.getfilterlistvalue()}),this.inputfocus=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.activefilter=t=>{t.preventDefault(),$(\"#modalfilterlist\").modal(\"toggle\"),this.mapFilter=[];var e=t.item.o._id,i=_.map(this.data,(t,i)=>{const a={},s=t._id;return a.checked=s==e,a._id=t._id,a.filter_name=t.filter_name,a});const a=_.orderBy(i,[\"checked\"],[\"desc\"]);this.recentProject=a.slice(0,9);let s=(APP.currentProject?APP.currentProject.split(\",\"):\"\")[0];this.update(),APP.apiGet({path:\"bookmark-filter/list/\"+e+\"?project=\"+s,success:t=>{this.checkeds=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot,this.keyword=t.filter_keywords,this.author=t.filter_author,this.domain=t.filter_domain,this.namefilter=t.filter_name,this.parent.search.q=t.filter_keywords,this.parent.search.domain=t.filter_domain,this.parent.search.author=t.filter_author,this.parent.search.filterbot=t.filter_filterbot,this.parent.colorblue=!1,this.update(),this.parent.updateFilter(t)}})},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()},this.getfilterauthor=t=>{this.author=t,this.update()},this.getDefaultSearchValues=()=>{if(this.keyword=localStorage.filter_keyword,this.domain=localStorage.filter_domain,this.author=localStorage.filter_author,this.taging=localStorage.filter_taging,this.timesince=localStorage.filter_timesince,this.timetime=localStorage.filter_timeuntil,\"summary\"==t.page){let t=localStorage.filter_service_category;t&&\"\"!=t&&this.loadService(t)}},this.unsetSearchValues=()=>{localStorage.setItem(\"filter_keyword\",\"\"),localStorage.setItem(\"filter_domain\",\"\"),localStorage.setItem(\"filter_author\",\"\"),localStorage.setItem(\"filter_taging\",\"\"),localStorage.setItem(\"filter_timesince\",\"\"),localStorage.setItem(\"filter_timeuntil\",\"\"),localStorage.setItem(\"filter_service_category\",\"\")},this.setSearchValues=()=>{localStorage.setItem(\"filter_keyword\",this.refs.keyword.value),localStorage.setItem(\"filter_domain\",this.refs.domain.value),localStorage.setItem(\"filter_author\",this.refs.author.value),localStorage.setItem(\"filter_taging\",this.refs.taging.value),localStorage.setItem(\"filter_timesince\",this.refs.timesince.value),localStorage.setItem(\"filter_timeuntil\",this.refs.timeuntil.value),\"summary\"==t.page&&localStorage.setItem(\"filter_service_category\",this.getService())},this.getfilterlistvalue=()=>{if(APP.log(\"project : project\"),this.update({isLoading:!0}),this.getDefaultSearchValues(),APP.currentProject){let t=(APP.currentProject?APP.currentProject.split(\",\"):\"\")[0];APP.apiGet({path:\"bookmark-filter/list\",data:{project:t},success:t=>{t=_.orderBy(t,[\"_id\"],[\"desc\"]);this.recentProject=t.slice(0,9),this.mapData=t,t.length<4&&(this.nextdisable=!0),this.data=t,this.total=t.length,this.update({isLoading:!1})}})}},this.removelist=t=>{var e=t.item.o._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this list filter?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiGet({path:\"bookmark-filter/remove/\"+e,success:function(t){this.getfilterlistvalue()}.bind(this)})})},this.savefilter=t=>{t.preventDefault(),name=this.parent.updatenamefilter;var e=this.refs.keyword.value,i=this.refs.domain.value,a=this.refs.author.value;if(!(s=$(\".exc:checked\").val()))var s=!1;if(name){var o={name:name,keywords:e,domain:i,author:a,filterbot:s,service_category:this.getService()};APP.apiPost({path:\"bookmark-filter/create?project=\"+p(\"project\"),data:o,success:t=>{this.error=!1,this.getfilterlistvalue(),$(\"#modaldemo3\").modal(\"toggle\"),APP.success(\"sukses\",()=>{if(this.parent.updateFilter){var t={filter_filterbot:s,filter_keywords:e,filter_author:a,filter_domain:i,filter_service_category:this.getService()};this.parent.updateFilter(t),this.parent.updatefilternamenews=!1}this.update()})}})}else this.error=!0,this.update()},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp),this.unsetSearchValues()},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.data,t=>{t.filter_name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.updatevaluekey=t=>{this.keyword=t.keywords,this.domain=t.domain,this.author=t.author,this.checkeds=\"true\"==t.filterbot,this.update()}}))},function(t,e,i){\"use strict\";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}t.exports=function(t){var e;return Highcharts.setOptions({global:{useUTC:!0}}),new Highcharts.Chart((a(e={chart:{backgroundColor:\"none\",renderTo:t,type:\"bubble\",zoomType:\"xy\",plotHeight:150,chartHeight:150,margin:[20,30,60,60]},colors:[\"#8ec8db\"],legend:{enabled:!1},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#bbbbbb\",gridLineDashStyle:\"dot\",minTickInterval:864e5,title:{text:null},labels:{formatter:function(){return\"<b>\"+Highcharts.dateFormat(\"%e. %b\",this.value)+\"</b> \"}},plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:65,label:{rotation:0,y:60,style:{fontStyle:\"italic\"},text:\"Safe fat intake 65g/day\"},zIndex:3}]},yAxis:{startOnTick:!1,endOnTick:!1,type:\"datetime\",title:{text:\"\"},labels:{formatter:function(){return(this.value>24?24:this.value)+\":00\"}},maxPadding:.2,plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:50,label:{align:\"right\",style:{fontStyle:\"italic\"},text:\"\",x:-10},zIndex:3}]},plotOptions:{series:{cursor:\"pointer\",events:{click:function(e){var i=e.point.y;i=i>=9?i:\"0\"+i,rendercharttoptime.trigger(t,moment(e.point.x).format(\"YYYY-MM-DD\"),i)}}}},navigation:{buttonOptions:{enabled:!1}},tooltip:{formatter:function(){return\"<b>\"+moment(this.key).format(\"YYYY-MMM-DD\")+\"</b> at <b>\"+this.y+\".00</b> <br /> <b>\"+this.point.z+\"</b> mentions\"}},exporting:{enabled:!1}},\"legend\",{enabled:!1}),a(e,\"credits\",{enabled:!1}),e))}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"serviceCategory\",(function(){return a}));var a=[{id:1,name:\"Facebook\",idname:\"facebook\",selected:!0},{id:2,name:\"Twitter\",idname:\"twitter\",selected:!0},{id:3,name:\"Portal\",idname:\"portal\",selected:!0},{id:4,name:\"blog\",selected:!0},{id:5,name:\"Forum\",idname:\"forum\",selected:!0},{id:6,name:\"Video\",idname:\"vidio\",selected:!0},{id:7,name:\"Instagram\",idname:\"image\",selected:!0}]},function(t,e,i){\"use strict\";t.exports=function(t){return Highcharts.setOptions({global:{useUTC:!0}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"bubble\",zoomType:\"xy\",marginBottom:60,marginRight:10,margin:[40,30,40,75]},colors:[\"#1D91B7\",\"#55ADC9\",\"#7DC4DB\",\"#AEDCEB\"],title:{text:\"\"},xAxis:{categories:[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],min:0,max:6,title:{text:\"\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative;'> \"+numeral(this.point.z).format(\"0a\")+\"</span>\"}}},bubble:{minSize:10,maxSize:40}},tooltip:{formatter:function(){return\"<strong>\"+this.total+\"</strong> mentions\"}},yAxis:{categories:[\"00 - 05\",\"06 - 11\",\"12 - 17\",\"18 - 23\"],min:0,max:3,title:{text:\"\"}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1}})}},function(t,e,i){i(0).tag2(\"sentiment\",'<a href=\"#\" each=\"{sentiment}\" class=\"btn {name} btn-icon mg-r-5 {active:selected} mg-t-10 {name}mg-r mg-r-10 widthsentiment\" id=\"sent\" onclick=\"{selectSentiment}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"45\" height=\"45\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-7\">{name}</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</p> <p class=\"mg-t-m-10\" if=\"{isLoading}\"><img src=\"../assets/img/loading.svg\" width=\"20\" height: 12></img> </p> </a>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\"../assets/img/svg/help-grey.png\"},{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"../assets/img/svg/thumbs-up-grey.png\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"../assets/img/svg/thumbs-down-grey.png\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{if(p(\"valsection\")){let t=p(\"valsection\").split(\",\");_.map(this.sentiment,e=>(t.indexOf(e.id)>-1?e.selected=!0:e.selected=!1,e))}APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.section=null,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){t=t.items,this.sValue=t,this.isLoading=!1,this.update()}.bind(this)})},this.update_dataneutrla=t=>{this.sValue.neutral=this.sValue.neutral+t,this.update()},this.update_datapositive=t=>{this.sValue.positive=this.sValue.positive+t,this.update()},this.update_datanegative=t=>{this.sValue.negative=this.sValue.negative+t,this.update()},this.remove_dataneutrla=t=>{this.sValue.neutral=this.sValue.neutral+t,this.update()},this.remove_datapositive=t=>{this.sValue.positive=this.sValue.positive+t,this.update()},this.remove_datanegative=t=>{this.sValue.negative=this.sValue.negative+t,this.update()}}))},function(t,e,i){i(0).tag2(\"channel\",'<a href=\"#\" class=\"btn All btn-icon mg-r-5 {active:allSelected} mg-t-10 mg-r-10 widthchannels \" onclick=\"{selectAllChannel}\"> <img alt=\"\" src=\"../assets/img/svg/globe.png\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\">ALL</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"../assets/img/loading.svg\" width=\"20\"></img> </p> </a> <a href=\"#\" class=\"btn {name} btn-icon mg-r-5 {active:selected} mg-t-10 mg-r-10 widthchannels {disabled:!checked}\" each=\"{channels}\" onclick=\"{selectChannel}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\"> {name}</p> <p class=\"tx-14 mg-t-m-10 \" if=\"{!isLoading}\">{count ? count.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"../assets/img/loading.svg\" width=\"20\"></img> </p> </a>',\"\",\"\",(function(t){function e(){var t=$(\"#channels\").width(),e=(t-80)/8;if(t<673)e=64;for(var i=document.getElementsByClassName(\"widthchannels\"),a=0;a<i.length;a++)i[a].style.width=e+\"px\";var s=($(\"#sentiment\").width()-30)/3,o=document.getElementsByClassName(\"widthsentiment\");for(a=0;a<o.length;a++)o[a].style.width=s+\"px\"}this.isLoading=!0,this.total=0,this.allSelected=!0,this.idTO=null,this.channels=[{id:1,name:\"Facebook\",idname:\"Facebook\",selected:!1,checked:!1,icon:\"../assets/img/svg/facebook-grey3.png\",color:\"#425f9c\",count:0,act:\"fb\"},{id:2,name:\"Twitter\",idname:\"Twitter\",selected:!1,checked:!1,icon:\"../assets/img/svg/twitter-grey.png\",color:\"#00acee\",count:0,act:\"twitter\"},{id:4,name:\"Blogs\",idname:\"Blogs\",selected:!1,checked:!1,icon:\"../assets/img/svg/blogs-grey.png\",color:\"#fe6800\",count:0,act:\"blog\"},{id:5,name:\"Forum\",idname:\"Forum\",selected:!1,checked:!1,icon:\"../assets/img/svg/chat-grey.png\",color:\"#eeb64f\",count:0,act:\"forum\"},{id:3,name:\"News\",idname:\"News\",selected:!1,checked:!1,icon:\"../assets/img/svg/news-grey.png\",color:\"#39d44c\",count:0,act:\"news\"},{id:6,name:\"Video\",idname:\"vidio\",selected:!1,checked:!1,icon:\"../assets/img/svg/youtube-grey.png\",color:\"#ff0400\",count:0,act:\"video\"},{id:7,name:\"Instagram\",idname:\"image\",selected:!1,checked:!1,icon:\"../assets/img/svg/instagram-grey.png\",color:\"#9b2db6\",count:0,act:\"photo\"}],this.on(\"mount\",()=>{this.getavailableChannel(),this.validateChannel(),this.update({total:_.sumBy(this.channels,\"count\")}),e()}),this.updateRenderSentiment=()=>{let t=_.clone(this.parent.search);t.group_service=\"true\",t.service_category=null,APP.apiGet({path:\"mentions\",data:t,success:t=>{this.updateCount(t.items),this.isLoading=!1,this.update()}})},this.getavailableChannel=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(t){t=t&&t.length>0?t:\"1,2,3,4,5,6,7,8\",localStorage.setItem(\"channels\",t),this.maxkeyword=t,this.update()}.bind(this)})},this.validateChannel=()=>{var t=localStorage.channels;if(t||localStorage.clear(),t){var e=[],i=_.each(t,t=>{const i=_.findIndex(this.channels,[\"id\",parseInt(t)]);i>-1&&(this.channels[i].checked=!0,this.channels[i].selected=!0),e.push(this.channels[i])}),a=_.filter(i,(function(t){return t.selected}));const s=_.map(a,t=>t.id);this.parent.search.service_category=s.join(\",\"),this.parent.search.group_service=!1}else{e=[];_.each(this.channels,t=>{t.checked=!0,t.selected=!0,e.push(t)})}},this.selectAllChannel=t=>{t.preventDefault(),clearTimeout(this.idTO);const e=this.allSelected=!this.allSelected;this.channels=_.map(this.channels,t=>(t.selected=e,t)),this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},1250)},this.selectChannel=t=>{if(t.preventDefault(),t.item.checked){clearTimeout(this.idTO),t.item.selected=!t.item.selected;const e=_.filter(this.channels,(function(t){return t.checked})),i=_.find(e,{selected:!1});this.allSelected=!i,this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},500)}},this.channelSelected=()=>{if(\"function\"==typeof t.cb){const e=this.getChannelSelected();t.cb(e)}},this.getChannelSelected=()=>_.filter(this.channels,t=>t.selected),this.updateCount=t=>{e();let i=!1;this.parent.refs.sentiment.sentiment.map(t=>t.selected).indexOf(!0)<0&&(i=!0);for(let e in this.channels){const a=this.channels[e].id;this.channels[e].name;this.channels[e].count=0;for(let s in t)s==a&&(this.channels[e].count=i?0:t[s])}const a=_.filter(this.channels,(function(t){return t.selected}));this.total=_.sumBy(a,\"count\"),maxStreams.trigger(\"maxstreams\",this.total),i&&(this.total=0),this.isLoading=!1,this.update()},this.on(\"mount\",()=>{this.update({total:_.sumBy(this.channels,\"count\")})}),menu.on(\"sidebar\",t=>{setTimeout(()=>{e()},1e3)}),window.onload=function(){e()},window.onresize=function(){e()}}))},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"getAllUrlParams\",(function(){return a}));var a=function(t){var e=t?t.split(\"?\")[1]:window.location.search.slice(1),i={};if(e)for(var a=(e=e.split(\"#\")[0]).split(\"&\"),s=0;s<a.length;s++){var o=a[s].split(\"=\"),r=o[0],n=void 0===o[1]||o[1];if(r=r.toLowerCase(),\"string\"==typeof n&&(n=n.toLowerCase()),r.match(/\\[(\\d+)?\\]$/)){var l=r.replace(/\\[(\\d+)?\\]/,\"\");if(i[l]||(i[l]=[]),r.match(/\\[\\d+\\]$/)){var c=/\\[(\\d+)\\]/.exec(r)[1];i[l][c]=n}else i[l].push(n)}else i[r]?i[r]&&\"string\"==typeof i[r]?(i[r]=[i[r]],i[r].push(n)):i[r].push(n):i[r]=n}return i}},function(t,e,i){i(0).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(e){e.preventDefault();var i=e.target.id;_.each(this.checkeddata,(t,e)=>{t.id==i?t.selected=!0:t.selected=!1}),t.cb(i)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=_.filter(t,(function(t){return t.checked}));_.each(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"detaimention\",'<div class=\"modal-content\"> <div class=\"modal-header pd-y-20 pd-x-25\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\">DETAIL MENTIONS</h6> <button type=\"button\" class=\"close cursor-pointer\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">×</span> </button> </div> <div class=\"modal-body pd-25\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <p class=\"mg-b-20 ws-5 tx-17 tx-lato tx-gray-800\">{valkeyword}</p> <div class=\"row row-sm\"> <div class=\"col-sm-6 col-lg-6\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/profit-chart.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL MENTIONS</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalmention ? totalmention.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-6 col-lg-6 mg-t-20 mg-sm-t-0\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/social-people.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL REACH</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalreach ? totalreach.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/positive-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">POSITIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentpositive ? totalsentimentpositive.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/negative-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEGATIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentnegative ? totalsentimentnegative.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4 mg-t-20 mg-sm-t-0 \"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/help-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEUTRAL</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentneutral ? totalsentimentneutral.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <p class=\"mg-t-20 mg-b-0 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">Top Keywords</p> <p class=\"mg-t-0 mg-b-10 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">\" {valtopthreeword} \"</p> <div class=\"row mg-t-20 detailMentions\" id=\"detail-mentions\"> <div class=\"col-md-12 pd-0\"> <div class=\"card widget-5\"> <div class=\"list-group list-group-flush \"> <div class=\"ripple-loader\" style=\"max-height: 250px;\" if=\"{isLoadingStreams}\"></div> <a class=\"list-group-item list-group-item-action media detail\" each=\"{o, i in itemsdetail}\"> <img alt=\"\" class=\"imageclass\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" alt=\"\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" name=\"{o.user.name}\"> <img alt=\"\" class=\"imageclass\" if=\"{!o.user.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" width=\"20\" onerror=\"{reqExImg}\" name=\"{o.user.name}\" alt=\"\"> <div class=\"media-body scrollhidden\"> <div class=\"msg-top\"> <span class=\"cursor-pointer\" id=\"{o.source}\" onclick=\"{opennewtab}\">{o.user.real_name ? o.user.real_name : o.user.name} </span> <span><i class=\"icon ion-calendar\"></i> {o.date_format}</span> </div> <div class=\"\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\" style=\"font-size: 1em !important;\"></i> {o.service} <p class=\"msg-summary textjustify mg-t-5\"> {o.text}</p> </div> </div> </a> </div> </div> </div> </div> </div> <div class=\"modal-footer\" style=\"justify-content: space-between;\"> <span class=\"\"><a class=\"cursor-pointer colorblue\" onclick=\"{downloadmentions}\">Download data</a></span> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div>',\"\",\"\",(function(t){this.totalmention=0,this.totalreach=0,this.idname=\"\",this.isLoadingStreams=!1,this.opennewtab=t=>{let e=t.target.id;window.open(e,\"_blank\")},this.reachmention=t=>{this.totalreach=0,(t=t).compare=!0,t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"summary/potential-reach\"+e,data:this.dataretweet,success:t=>{this.totalreach=t.items.potential_reach,this.isLoading=!1,this.update()}})},this.totalsentiment=t=>{t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"mentions/sentiment-count\"+e,data:this.dataretweet,success:t=>{this.totalsentimentpositive=t.items.positive,this.totalsentimentnegative=t.items.negative,this.totalsentimentneutral=t.items.neutral,this.update()}})},this.modalsentimentvalue=(t,e,i,a,s,o,r,n,l,c,d,h)=>{if(this.update({isLoading:!0}),this.query.page=0,this.pagination.page=1,this.valkeyword=[],this.valuekey={},null==t)var m=localStorage.since.replace(/%20/g,\" \"),u=localStorage.until.replace(/%20/g,\" \");else if(\"monthly\"==h){m=localStorage.since.replace(/%20/g,\" \"),u=localStorage.until.replace(/%20/g,\" \");this.valuekey.valsince=\"Date : \"+moment(m).format(\"LL\")+\" - \"+moment(u).format(\"LL\")}else{m=t,u=t;this.valuekey.valsince=\"Date : \"+moment(u).format(\"LL\")}if(o&&(this.valuekey.valspecificdate=\"Time : \"+o+\":00:00\"),null==n||null==n)var p=_.clone(this.parent.search.project);else{p=n;this.valuekey.valueprj=\"Project : \"+r}if(null==e?e=_.clone(this.parent.search.section):(e=e,this.valuekey.valsection=\"Section : \"+e),null==i)i=_.clone(this.parent.search.service_category),this.idname=\"Twitter\";else{if(1==(i=i))var g=\"Facebook\";if(2==i)g=\"Twitter\";if(3==i)g=\"News\";if(4==i)g=\"Blogs\";if(5==i)g=\"Forum\";if(6==i)g=\"Video\";if(7==i)g=\"Instagram\";this.idname=g,this.valuekey.valchannels=\"Service Category : \"+g}null==a?a=\"\":d?(this.valuekey.nameval=r+\" : \"+a,a=\"\"):(a=a,this.valuekey.nameval=r+\" : \"+a),null==s?s=\"\":(s=s,this.valuekey.valkey=r+\" : \"+s),_.each(this.valuekey,(t,e)=>{_.isEmpty(t)||this.valkeyword.push(t)}),this.valkeyword=this.valkeyword.join(\",\").replace(/,/g,\", \"),this.totalmention=0;let v=_.clone(this.parent.search);this.dataretweet={},d&&(l&&(this.dataretweet.stream_ids=l),c&&(this.dataretweet.share_ids=c)),o&&(v.specific_date=m+\" \"+o+\":00:00\"),v.since=m,v.until=u,v.section=e,v.service_category=i,v.q=s,v.author=a,v.project=p,v.page=this.query.page,v.accurate=\"yes\",o&&(v.specific_date=m+\" \"+o+\":00:00\"),this.search=v,v.filterbot=\"false\",this.detaimentions(v),this.totalsentiment(v),this.search=v,\"positive\"==r||\"negative\"==r?this.topthreeword(v):(this.threeval=!1,this.valtopthreeword=\"\",this.update({valtopthreeword:{}}))},this.topthreeword=t=>{this.threeval=!0,this.topthreewordvalue=[],t.nocache=!1,t.remove_cache=!1,APP.apiGet({path:\"mentions/sentiment-words\",data:t,success:t=>{_.each(t,(t,e)=>{if(!_.isEmpty(t)){let e=t.keyword;this.topthreewordvalue.push(e)}});var e=this.topthreewordvalue.join(\", \").replace(/,/g,\", \");e.length>0?this.valtopthreeword=e:this.threeval=!1,this.update()}})},this.detaimentions=t=>{t.pagination=\"yes\";var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"stream\"+e,data:this.dataretweet,success:(e,i,a)=>{\"Twitter\"==this.idname?(this.reachmention(t),this.isLoadingStreams=!1):(this.totalreach=0,this.isLoading=!1,this.isLoadingStreams=!1),this.itemsdetail=e.item,this.totalmention=e.total,this.pagination.pages=Math.ceil(e.total/this.query.limit),$(\"#detail-mentions\").animate({scrollTop:0},500),this.update()}})},this.query={limit:10,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({isLoadingStreams:!0}),this.query.page=(t-1)*this.query.limit,this.search.page=this.query.page,this.detaimentions(this.search),window.innerWidth>500&&$(\"#detail-mentions\").animate({scrollTop:0},500)}},this.downloadmentions=()=>{const t=\"stream/download?type=daily&token=\"+localStorage.AuthToken;let e=_.clone(this.parent.search);var i=APP.apiUrl+t;for(let t in e)e[t]&&e[t].length>0&&(i+=`&${t}=${e[t]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")}}))},function(t,e,i){\"use strict\";t.exports=function(t,e){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"total : {point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{series:{events:{click:function(t){var e=t.point.name;\"Facebook\"==e&&(e=1),\"Twitter\"==e&&(e=2),\"Instagram\"==e&&(e=7),\"Video\"==e&&(e=6),\"Forum\"==e&&(e=5),\"News\"==e&&(e=3),\"Portal\"==e&&(e=4),renderchartpie.trigger(\"socialshareofvoice\",e)}}},pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,allowOverlap:!0,format:\"<b>{point.name}<br> {point.percentage:.1f} %\",style:{}}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1}})}},function(t,e,i){\"use strict\";t.exports=function(t,e,i){var a=36e5,s=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(a=864e5,s=\"MMMM DD, YYYY\"):\"monthly\"==e&&(a=2592e6,s=\"MMMM YYYY\"),i);else;Highcharts.setOptions({global:{useUTC:!1}});var o=new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,margin:[30,40,80,40]},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,minTickInterval:a,title:{text:null},labels:{rotation:45,style:{}},crosshair:{width:1,color:\"#aaa\"}},yAxis:[{gridLineWidth:0,labels:{formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00a\").replace(\".00\",\"\")},style:{color:\"#e27c73\"}},title:{text:\"\",style:{color:\"#e27c73\"}}},{gridLineWidth:1,title:{text:\"\",style:{color:\"#66ae9b\"}},labels:{formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00a\").replace(\".00\",\"\")},style:{color:\"#66ae9b\"}},opposite:!0}],exporting:{enabled:!1},tooltip:{formatter:function(){return[this.y.formatMoney(0)+\" \"+this.series.name,\" on \",moment(this.x).format(s)].join(\"\")},style:{}},plotOptions:{series:{cursor:\"pointer\",events:{click:function(t){var i=moment(t.point.x).format(\"YYYY-MM-DD\"),a=moment(t.point.x).format(\"HH\");renderchart.trigger(\"chartSentimentpositivenegative\",i,this.name,a,e)}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:a,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}});return o}},function(t,e,i){\"use strict\";var a,s,o,r,n,l=i(63),c=i.n(l),d=/^.+?\\/\\/+[^\\/]+/,h=\"undefined\"!=typeof window&&window,m=\"undefined\"!=typeof document&&document,u=h&&history,p=h&&(u.location||h.location),g=A.prototype,v=m&&m.ontouchstart?\"touchstart\":\"click\",f=c()(),b=!1,y=!1,x=[],w=0;function _(t){return t.split(/[/?#]/)}function k(t,e){var i=e.replace(/\\?/g,\"\\\\?\").replace(/\\*/g,\"([^/?#]+?)\").replace(/\\.\\./,\".*\"),a=new RegExp(\"^\"+i+\"$\"),s=t.match(a);if(s)return s.slice(1)}function P(t){var e,i,s;e=C,i=1,a=function(){clearTimeout(s),s=setTimeout(e,i)},h.addEventListener(\"popstate\",a),h.addEventListener(\"hashchange\",a),m.addEventListener(v,z),t&&C(!0)}function A(){this.$=[],c()(this),f.on(\"stop\",this.s.bind(this)),f.on(\"emit\",this.e.bind(this))}function j(t){return t.replace(/^\\/|\\/$/,\"\")}function S(t){return\"string\"==typeof t}function L(t){return(t||p.href).replace(d,\"\")}function T(t){return\"#\"===s[0]?(t||p.href||\"\").split(s)[1]||\"\":(p?L(t):t||\"\").replace(s,\"\")}function C(t){var e=0===w;if(!(3<=w)&&(w++,x.push((function(){var e=T();(t||e!==o)&&(f.trigger(\"emit\",e),o=e)})),e)){for(var i;i=x.shift();)i();w=0}}function z(t){if(!(1!==t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&\"A\"!==e.nodeName;)e=e.parentNode;!e||\"A\"!==e.nodeName||e.hasAttribute(\"download\")||!e.hasAttribute(\"href\")||e.target&&\"_self\"!==e.target||-1===e.href.indexOf(p.href.match(d)[0])||e.href!==p.href&&(e.href.split(\"#\")[0]===p.href.split(\"#\")[0]||\"#\"!==s[0]&&0!==L(e.href).indexOf(s)||\"#\"===s[0]&&e.href.split(s)[0]!==p.href.split(s)[0]||!I(T(e.href),e.title||m.title))||t.preventDefault()}}function I(t,e,i){return u?(t=s+j(t),e=e||m.title,i?u.replaceState(null,e,t):u.pushState(null,e,t),m.title=e,y=!1,C(),y):f.trigger(\"emit\",T(t))}g.m=function(t,e,i){!S(t)||e&&!S(e)?e?this.r(t,e):this.r(\"@\",t):I(t,e,i||!1)},g.s=function(){this.off(\"*\"),this.$=[]},g.e=function(t){this.$.concat(\"@\").some((function(e){var i=(\"@\"===e?r:n)(j(t),j(e));if(void 0!==i)return this.trigger.apply(null,[e].concat(i)),y=!0}),this)},g.r=function(t,e){\"@\"!==t&&(t=\"/\"+j(t),this.$.push(t)),this.on(t,e)};var E=new A,M=E.m.bind(E);M.create=function(){var t=new A,e=t.m.bind(t);return e.stop=t.s.bind(t),e},M.base=function(t){s=t||\"#\",o=T()},M.exec=function(){C(!0)},M.parser=function(t,e){t||e||(r=_,n=k),t&&(r=t),e&&(n=e)},M.query=function(){var t={};return(p.href||o).replace(/[?&](.+?)=([^&]*)/g,(function(e,i,a){t[i]=a})),t},M.stop=function(){b&&(h&&(h.removeEventListener(\"popstate\",a),h.removeEventListener(\"hashchange\",a),m.removeEventListener(v,z)),f.trigger(\"stop\"),b=!1)},M.start=function(t){b||(h&&(\"interactive\"===document.readyState||\"complete\"===document.readyState?P(t):document.onreadystatechange=function(){\"interactive\"===document.readyState&&setTimeout((function(){P(t)}),1)}),b=!0)},M.base(),M.parser(),e.a=M},function(t,e,i){i(0).tag2(\"filtervalue\",'<div class=\"row\" if=\"{filtervalue}\"> <div class=\"col-md-12 mg-t-10\"> <div class=\"widget-2 showAndHide\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\"row\"> <label class=\"col-sm-2 form-control-label mg-t-10\"> <span class=\"tx-danger\"></span> Active Filters : </label> <div class=\"col-sm-10 heighselect2 form-layout\"> <div class=\"box-inner-filter\"> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in serviceCategory}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{saveServiceCategory}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Channel : {o.name}</span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> <a class=\"btn btn-primary btn-with-icon maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in tagingkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefiltertaging}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Taging : {o} </span> </div> </a> </div> <i class=\"fa fa-chevron-down pull-right mg-t-10 cursor-pointer\" if=\"{tombolShow}\" onclick=\"{showlistfilter}\"></i> </div> </div> </div> </div> </div> </div> <div class=\"col-md-12 widget-2 transition-fade-parents hideAndShow\" style=\"display:none\"> <div class=\"filterdropdown\"> <div class=\"card overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\" heighselect2 form-layout\"> <label class=\"col-sm-12 form-control-label pd-l-0 pd-r-0 mg-b-0\"><span class=\"tx-danger\"></span> Keywords <span class=\"pd-5 pull-right cursor-default \"> <i class=\"fa fa-chevron-up cursor-pointer\" onclick=\"{hiddenlistfilter}\"></i></span> </label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Domain</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Author</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Taging</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in tagingkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefiltertaging}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Taging : {o}</span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Channel</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in serviceCategory}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{saveServiceCategory}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Channel : {o.name}</span> </div> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.filtervalue=!1,this.showdropfilter=!1,this.saveshowdropdown=!1,this.tombolShow=!1,this.getServiceCategory=t=>(t=t.split(\",\").map(t=>parseInt(t)),this.parent.services.filter(e=>t.includes(e.id))),this.updateFilter=t=>{t.filter_name?(this._id=t._id,this.namefiltervalue=t.filter_name,this.namefilter=[\"name : \"+t.filter_name],this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.serviceCategory=t.filter_service_category?this.getServiceCategory(t.filter_service_category):null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.tagingkeyword=t.filter_taging?t.filter_taging.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"],this.filtervalue=!0):(this.parent.updatefilternamenews=!0,this.filtervalue=!0,this.serviceCategory=t.filter_service_category?this.getServiceCategory(t.filter_service_category):null,this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.tagingkeyword=t.filter_taging?t.filter_taging.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"]),this.update(),setTimeout(function(){var t,i;i=[],setTimeout(()=>{for(t=0;t<$(\".maxwidth\").length;t++)i.push($(\".maxwidth\")[t].scrollWidth);var a=_.sumBy(i,(function(t){return t})),s=$(\".box-inner-filter\")[0].scrollWidth-20;e.tombolShow=s<=a,e.update()}),$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500),this.parent.render(),this.update()}.bind(this),100)},this.savefilterkey=t=>{const e=t.item.o;$(\"#\"+e).hide(500),this.parent.search.q=\"\",this.keywordfilter=null,this.parent.refs.filterval.keyword=\"\",this.update(),this.parent.render()},this.saveServiceCategory=t=>{const e=t.item.o.id;var i=this.parent.services.filter(t=>t.selected).filter(t=>t.id!=e);this.parent.services.forEach((t,i)=>{t.id==e&&(this.parent.services[i].selected=!1)}),this.serviceCategory=i,this.parent.search.service_category=i.map(t=>t.id).join(\",\"),localStorage.setItem(\"filter_service_category\",this.parent.search.service_category),this.update(),this.parent.render()},this.savefilterdomain=t=>{const e=t.item.o;var i=_.filter(this.domainkeyword,t=>t!=e);this.parent.search.domain=i.join(\",\"),this.parent.refs.filterval.domain=i.join(\",\"),this.domainkeyword=i,this.update(),this.parent.render()},this.savefilterauthor=t=>{const e=t.item.o;var i=_.filter(this.authorkeyword,t=>t!=e);this.parent.search.author=i.join(\",\"),this.parent.refs.filterval.author=i.join(\",\"),this.authorkeyword=i,this.update(),this.parent.render()},this.savefiltertaging=t=>{const e=t.item.o;var i=_.filter(this.tagingkeyword,t=>t!=e);this.parent.search.taging=i.join(\",\"),this.parent.refs.filterval.taging=i.join(\",\"),this.tagingkeyword=i,this.update(),this.parent.render()},this.showlistfilter=()=>{setTimeout((function(){$(\".showAndHide\").hide(500),$(\".hideAndShow\").show(500)}),1),this.update()},this.hiddenlistfilter=()=>{this.saveshowdropdown=!1,setTimeout((function(){$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500)}),1)};var e=this}))},function(t,e,i){\"use strict\";t.exports=function(t,e,i){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"bar\"},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{categories:e,title:{text:null},labels:{style:{color:\"#333\",fontSize:\"18px\"}}},yAxis:{max:100,labels:{overflow:\"justify\",formatter:function(){return\"\".concat(this.value,\"%\")}},title:{text:\"\"}},tooltip:{formatter:function(){var t=parseInt(i[this.key]);return\"<span style='z-index:0;position:relative;'> \".concat((this.y/100*t).formatMoney(2),\" mentions </span>\")},followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(t){var e=parseInt(i[this.key]);return\"<span style='z-index:0;position:relative;font-size:18px;'> \"+this.y.formatMoney(2)+\"% (\"+(this.y/100*e).formatMoney(0)+\")</span>\"}}}},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},credits:{enabled:!1}})}},function(t,e,i){!function(e){\"use strict\";var i=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\")},parseExtension:e,mimeType:function(t){var i=e(t).toLowerCase();return(a=\"application/font-woff\",{woff:a,woff2:a,ttf:\"application/font-truetype\",eot:\"application/vnd.ms-fontobject\",png:\"image/png\",jpg:\"image/jpeg\",jpeg:\"image/jpeg\",gif:\"image/gif\",tiff:\"image/tiff\",svg:\"image/svg+xml\"})[i]||\"\";var a},dataAsUrl:function(t,e){return\"data:\"+e+\";base64,\"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var i=window.atob(t.toDataURL().split(\",\")[1]),a=i.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=i.charCodeAt(o);e(new Blob([s],{type:\"image/png\"}))}))}(t)},resolveUrl:function(t,e){var i=document.implementation.createHTMLDocument(),a=i.createElement(\"base\");i.head.appendChild(a);var s=i.createElement(\"a\");return i.body.appendChild(s),a.href=e,s.href=t,s.href},getAndEncode:function(t){n.impl.options.cacheBust&&(t+=(/\\?/.test(t)?\"&\":\"?\")+(new Date).getTime());return new Promise((function(e){var i,a=new XMLHttpRequest;if(a.onreadystatechange=function(){if(4!==a.readyState)return;if(200!==a.status)return void(i?e(i):o(\"cannot fetch resource: \"+t+\", status: \"+a.status));var s=new FileReader;s.onloadend=function(){var t=s.result.split(/,/)[1];e(t)},s.readAsDataURL(a.response)},a.ontimeout=function(){i?e(i):o(\"timeout of 30000ms occured while fetching resource: \"+t)},a.responseType=\"blob\",a.timeout=3e4,a.open(\"GET\",t,!0),a.send(),n.impl.options.imagePlaceholder){var s=n.impl.options.imagePlaceholder.split(/,/);s&&s[1]&&(i=s[1])}function o(t){console.error(t),e(\"\")}}))},uid:(t=0,function(){return\"u\"+(\"0000\"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise((function(i){setTimeout((function(){i(e)}),t)}))}},asArray:function(t){for(var e=[],i=t.length,a=0;a<i;a++)e.push(t[a]);return e},escapeXhtml:function(t){return t.replace(/#/g,\"%23\").replace(/\\n/g,\"%0A\")},makeImage:function(t){return new Promise((function(e,i){var a=new Image;a.onload=function(){e(a)},a.onerror=i,a.src=t}))},width:function(t){var e=i(t,\"border-left-width\"),a=i(t,\"border-right-width\");return t.scrollWidth+e+a},height:function(t){var e=i(t,\"border-top-width\"),a=i(t,\"border-bottom-width\");return t.scrollHeight+e+a}};var t;function e(t){var e=/\\.([^\\.\\/]*?)$/g.exec(t);return e?e[1]:\"\"}function i(t,e){var i=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(i.replace(\"px\",\"\"))}}(),a=function(){var t=/url\\(['\"]?([^'\"]+?)['\"]?\\)/g;return{inlineAll:function(t,i,o){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(a).then((function(e){var a=Promise.resolve(t);return e.forEach((function(t){a=a.then((function(e){return s(e,t,i,o)}))})),a}))},shouldProcess:e,impl:{readUrls:a,inline:s}};function e(e){return-1!==e.search(t)}function a(e){for(var a,s=[];null!==(a=t.exec(e));)s.push(a[1]);return s.filter((function(t){return!i.isDataUrl(t)}))}function s(t,e,a,s){return Promise.resolve(e).then((function(t){return a?i.resolveUrl(t,a):t})).then(s||i.getAndEncode).then((function(t){return i.dataAsUrl(t,i.mimeType(e))})).then((function(a){return t.replace(function(t){return new RegExp(\"(url\\\\(['\\\"]?)(\"+i.escape(t)+\")(['\\\"]?\\\\))\",\"g\")}(e),\"$1\"+a+\"$3\")}))}}(),s=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join(\"\\n\")}))},impl:{readAll:t}};function t(){return Promise.resolve(i.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{i.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log(\"Error while reading CSS rules from \"+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return a.shouldProcess(t.style.getPropertyValue(\"src\"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return a.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue(\"src\")}}}}}(),o=function(){return{inlineAll:function e(s){return s instanceof Element?function(t){var e=t.style.getPropertyValue(\"background\");return e?a.inlineAll(e).then((function(e){t.style.setProperty(\"background\",e,t.style.getPropertyPriority(\"background\"))})).then((function(){return t})):Promise.resolve(t)}(s).then((function(){return s instanceof HTMLImageElement?t(s).inline():Promise.all(i.asArray(s.childNodes).map((function(t){return e(t)})))})):Promise.resolve(s)},impl:{newImage:t}};function t(t){return{inline:function(e){return i.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||i.getAndEncode).then((function(e){return i.dataAsUrl(e,i.mimeType(t.src))})).then((function(e){return new Promise((function(i,a){t.onload=i,t.onerror=a,t.src=e}))}))}}}}(),r={imagePlaceholder:void 0,cacheBust:!1},n={toSvg:l,toPng:function(t,e){return c(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return c(t,e=e||{}).then((function(t){return t.toDataURL(\"image/jpeg\",e.quality||1)}))},toBlob:function(t,e){return c(t,e||{}).then(i.canvasToBlob)},toPixelData:function(t,e){return c(t,e||{}).then((function(e){return e.getContext(\"2d\").getImageData(0,0,i.width(t),i.height(t)).data}))},impl:{fontFaces:s,images:o,util:i,inliner:a,options:{}}};function l(t,e){return function(t){void 0===t.imagePlaceholder?n.impl.options.imagePlaceholder=r.imagePlaceholder:n.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?n.impl.options.cacheBust=r.cacheBust:n.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,a,s){return s||!a||a(e)?Promise.resolve(e).then((function(t){return t instanceof HTMLCanvasElement?i.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(t){return o(e,t,a)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(a).then(s).then(o).then(r).then((function(){return e})):e;function a(){var a,s;a=window.getComputedStyle(t),s=e.style,a.cssText?s.cssText=a.cssText:function(t,e){i.asArray(t).forEach((function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))}))}(a,s)}function s(){[\":before\",\":after\"].forEach((function(a){!function(a){var s=window.getComputedStyle(t,a),o=s.getPropertyValue(\"content\");if(\"\"===o||\"none\"===o)return;var r=i.uid();e.className=e.className+\" \"+r;var n=document.createElement(\"style\");n.appendChild(function(t,e,a){var s=\".\"+t+\":\"+e,o=a.cssText?function(t){var e=t.getPropertyValue(\"content\");return t.cssText+\" content: \"+e+\";\"}(a):function(t){return i.asArray(t).map((function(e){return e+\": \"+t.getPropertyValue(e)+(t.getPropertyPriority(e)?\" !important\":\"\")})).join(\"; \")+\";\"}(a);return document.createTextNode(s+\"{\"+o+\"}\")}(r,a,s)),e.appendChild(n)}(a)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute(\"value\",t.value)}function r(){e instanceof SVGElement&&(e.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),e instanceof SVGRectElement&&[\"width\",\"height\"].forEach((function(t){var i=e.getAttribute(t);i&&e.style.setProperty(t,i)})))}}(e,t)})):Promise.resolve();function o(e,a,s){var o=e.childNodes;return 0===o.length?Promise.resolve(a):r(a,i.asArray(o),s).then((function(){return a}));function r(e,i,a){var s=Promise.resolve();return i.forEach((function(i){s=s.then((function(){return t(i,a)})).then((function(t){t&&e.appendChild(t)}))})),s}}}(t,e.filter,!0)})).then(d).then(h).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+\"px\");e.height&&(t.style.height=e.height+\"px\");e.style&&Object.keys(e.style).forEach((function(i){t.style[i]=e.style[i]}));return t})).then((function(a){return function(t,e,a){return Promise.resolve(t).then((function(t){return t.setAttribute(\"xmlns\",\"http://www.w3.org/1999/xhtml\"),(new XMLSerializer).serializeToString(t)})).then(i.escapeXhtml).then((function(t){return'<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">'+t+\"</foreignObject>\"})).then((function(t){return'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"'+e+'\" height=\"'+a+'\">'+t+\"</svg>\"})).then((function(t){return\"data:image/svg+xml;charset=utf-8,\"+t}))}(a,e.width||i.width(t),e.height||i.height(t))}))}function c(t,e){return l(t,e).then(i.makeImage).then(i.delay(100)).then((function(a){var s=function(t){var a=document.createElement(\"canvas\");if(a.width=e.width||i.width(t),a.height=e.height||i.height(t),e.bgcolor){var s=a.getContext(\"2d\");s.fillStyle=e.bgcolor,s.fillRect(0,0,a.width,a.height)}return a}(t);return s.getContext(\"2d\").drawImage(a,0,0),s}))}function d(t){return s.resolveAll().then((function(e){var i=document.createElement(\"style\");return t.appendChild(i),i.appendChild(document.createTextNode(e)),t}))}function h(t){return o.inlineAll(t).then((function(){return t}))}t.exports=n}()},function(t,e,i){\"use strict\";i.r(e),function(t){var e=i(0),a=i.n(e),s=i(20),o=i(26),r=i(4),n=(i(65),i(194));function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null==i)return;var a,s,o=[],r=!0,n=!1;try{for(i=i.call(t);!(r=(a=i.next()).done)&&(o.push(a.value),!e||o.length!==e);r=!0);}catch(t){n=!0,s=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw s}}return o}(t,e)||function(t,e){if(!t)return;if(\"string\"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===i&&t.constructor&&(i=t.constructor.name);if(\"Map\"===i||\"Set\"===i)return Array.from(t);if(\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function g(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var v=new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.currentLayout=null,this.apiurldonwloadreport=\"https://ping.r10.co/\",this.apiDomain=\"https://api.ripple10.com\",this.appInfographicUrl=\"http://localhost:5000/competitive/infographic?project=<project>&from=<sdate>00%3A00%3A00&to=<ndate>23%3A59%3A59&filterBot=0&v2=yes&token=<tmp_token>&uid=<userid>\",this.appInfographicBrandUrl=\"http://localhost:5000/infographic?project=<project>&from=<sdate>00%3A00%3A00&to=<ndate>23%3A59%3A59&filterBot=0&v2=yes&token=<tmp_token>&uid=<userid>\",this.appCCUrl=\"http://localhost:5000/monitor?rid=<prj>&screen=<no>&ccv2=yes&token=<tmp_token>\",this.appStaticToken=\"f5e0771d078aedf5a6d4c117becabc98\",this.apiUrl=\"https://api.ripple10.com/api/v2/\",this.apiprdashboard=\"http://startup.ripple10.com/v1/\",this.appid=\"147890702621380\",this.apiImage=\"https://s3.ripple10.com/\",this.forceLogin=!1,this.currentProject=null,this.currentHash=null,this.currentTag=null,this.apiuploadimag=t.env.API_UPLOAD_IMAGE,this.isDev=\"true\"===localStorage.getItem(\"DEBUG\")}var l,d,m;return l=e,(d=[{key:\"init\",value:function(){var t=this;if(this.log(\"init...\"),r.default.check()){r.default.releaseFromStorage();var e=0;$.ajaxSetup({tryCount:0,retryLimit:3,retryInterval:2e3,beforeSend:function(t,e){t.setRequestHeader(\"Authorization\",\"Bearer \"+r.default.getToken()),p(\"since\")?localStorage.setItem(\"since\",moment(decodeURIComponent(p(\"since\"))).format(\"YYYY-MM-DD\")):localStorage.since||localStorage.setItem(\"since\",moment().subtract(7,\"d\").format(\"YYYY-MM-DD\")),p(\"until\")?localStorage.setItem(\"until\",moment(decodeURIComponent(p(\"until\"))).format(\"YYYY-MM-DD\")):localStorage.until||localStorage.setItem(\"until\",moment().format(\"YYYY-MM-DD\"))},statusCode:{401:function(t){e<1&&(v.forceLogin=!0,r.default.logout(),v.goTo(\"/login\"),e++,localStorage.removeItem(\"until\"),localStorage.removeItem(\"since\"),localStorage.removeItem(\"url\"),localStorage.removeItem(\"level\"),localStorage.removeItem(\"App_version\"),localStorage.clear())}},complete:function(t){var e=t.getResponseHeader(\"Authorization\");if(null!=e)try{var i=e.split(\" \");r.default.setToken(i[1])}catch(t){}}})}_.each(o,(function(e){i(198)(\"./\"+e.import),Object(s.a)(e.hash,(function(i){t.currentHash=e.hash,\"login\"==e.hash?v.setLayout(\"login\"):e.auth&&r.default.check()?(v.setLayout(e.layout),t.currentTag&&_.isFunction(t.currentTag.unmount)&&t.currentTag.unmount(),t.currentTag=a.a.mount(document.getElementById(\"content\"),e.tag)[0]):(localStorage.clear(),t.goTo(\"login\"))}))})),Object(s.a)(\"/\",(function(){if(r.default.check())if(0===r.default.projects.length)v.goTo(\"setting/project-setup\");else{var t=_.orderBy(r.default.projects,[\"index\"],[\"asc\"])[0].id,e=JSON.parse(localStorage.getItem(\"package\")).menu[0];\"summary\"==e?v.goTo(\"summary?project=\"+t):\"mentions\"==e?v.goTo(\"mentions?project=\"+t):\"authors\"==e?v.goTo(\"authors?project=\"+t):\"analysis\"==e?v.goTo(\"analysis/my-stream?project=\"+t):\"comparison\"==e?v.goTo(\"comparison?project=\"+t):(\"infographic\"==e||\"pr_dashboard\"==e||\"project-settings\"==e||null==e)&&v.goTo(\"setting/project-update?project=\"+t)}else v.goTo(\"login\")})),Object(s.a)(\"/logout\",(function(){r.default.logout(),v.goTo(\"/\"),t.goTo(\"login\"),localStorage.clear()})),s.a.start(!0),localStorage.setItem(\"app_version\",n.a)}},{key:\"goTo\",value:function(t){Object(s.a)(t)}},{key:\"setLayout\",value:function(t){this.currentLayout!=t&&a.a.mount(\"body\",t)}},{key:\"getProject\",value:function(){if(0!=r.default.projects.length)return this.currentProject?this.currentProject:_.head(r.default.projects).id}},{key:\"getname\",value:function(){return _.head(r.default.projects).name}},{key:\"downloadcsv\",value:function(t,e,i){var a=\"object\"!=u(t)?JSON.parse(t):t,s=\"\";if(s+=e+\"\\r\\n\\n\",i){var o=\"\";for(var r in a[0])o+=r+\",\";s+=(o=o.slice(0,-1))+\"\\r\\n\"}for(var n=0;n<a.length;n++){for(var r in o=\"\",a[n])o+='\"'+(a[n][r]?a[n][r]:\"0\")+'\",';o.slice(0,o.length-1),s+=o+\"\\r\\n\"}if(\"\"!=s){var l=\"Report_\";l+=e.replace(/ /g,\"_\");var c=\"data:text/csv;charset=utf-8,\"+s,d=document.createElement(\"a\");d.href=c,d.style=\"visibility:hidden\",d.download=l+\".csv\",document.body.appendChild(d),d.click(),document.body.removeChild(d)}else alert(\"Invalid data\")}},{key:\"donwloadXLS\",value:function(t,e,i){var a=[];a.push(e),$.each(t,(function(t,e){var i=[];$.each(e,(function(t,e){i.push(e)})),a.push(i)}));var s=i+\".xlsx\",o=i;\"undefined\"!=typeof console&&console.log(new Date);var r=XLSX.utils.book_new(),n=XLSX.utils.aoa_to_sheet(a);XLSX.utils.book_append_sheet(r,n,o),\"undefined\"!=typeof console&&console.log(new Date),XLSX.writeFile(r,s),\"undefined\"!=typeof console&&console.log(new Date)}},{key:\"patchDateFormat\",value:function(t,e){var i=localStorage.filter_timesince,a=localStorage.filter_timeuntil,s={},o=t.split(\"?\")[0];if(t.indexOf(\"?\")>-1){for(var r in s=(t.split(\"?\")[1]||\"\").split(\"&\").map((function(t){return t.split(\"=\")})).reduce((function(t,e){var i=h(e,2),a=i[0],s=i[1];return t[a]=s,t}),{}),t=o+\"?\",s)\"since\"===r?i&&(s.since=moment(s.since).format(\"YYYY-MM-DD\")+\" \"+i):\"until\"===r&&a&&(s.until=moment(s.until).format(\"YYYY-MM-DD\")+\" \"+a);t+=Object.keys(s).map((function(t){return t+\"=\"+encodeURIComponent(s[t])})).join(\"&\")}for(var n in e)\"since\"===n?i&&(e.since=moment(e.since).format(\"YYYY-MM-DD\")+\" \"+i):\"until\"===n&&a&&(e.until=moment(e.until).format(\"YYYY-MM-DD\")+\" \"+a);return{url:t,data:e}}},{key:\"apiGet\",value:function(t,e){var i=this.patchDateFormat(v.apiUrl+t.path,t.data),a={url:i.url,method:\"get\",data:i.data,dataType:\"json\"};return t.error?a.error=function(e,i,a){t.error(e,i,a)}:a.error=function(t,i,a){v.error(t,e)},t.success&&(a.success=function(e,i,a){t.parse_data?t.success(e,a):t.success(e.data,a)}),$.ajax(a)}},{key:\"apiGetPR\",value:function(t){var e=this.patchDateFormat(v.apiUrl+t.path,t.data),i={url:e.url,method:\"get\",data:e.data,dataType:\"json\"};return t.error?i.error=function(e,i,a){t.error(e,i,a)}:i.error=function(t,e,i){v.error(t)},t.success&&(i.success=function(e,i,a){t.success(e)}),$.ajax(i)}},{key:\"apiPost\",value:function(t){var e=this.patchDateFormat(v.apiUrl+t.path,t.data),i={url:e.url,method:\"post\",data:e.data,dataType:\"json\",error:function(t,e,i){v.error(t)}};return t.error?i.error=function(e,i,a){t.error(e,i,a)}:i.error=function(t,e,i){401==e?console.log(\"this is login failure\"):v.error(t)},t.success&&(i.success=function(e,i,a){t.parse_data?t.success(e):t.success(e.data,i,a)}),$.ajax(i)}},{key:\"apiUpload\",value:function(t){var e=this.patchDateFormat(v.apiUrl+t.path,t.data),i={url:e.url,method:\"put\",data:e.data,processData:!1,contentType:!1,error:function(t,e,i){v.error(t)}};return t.error?i.error=function(e,i,a){t.error(e,i,a)}:i.error=function(t,e,i){401==e?console.log(\"this is login failure\"):v.error(t)},t.success&&(i.success=function(e,i,a){t.parse_data?t.success(e):t.success(e.data,i,a)}),$.ajax(i)}},{key:\"apiPut\",value:function(t){var e=this.patchDateFormat(v.apiUrl+t.path,t.data),i={url:e.url,method:\"put\",data:e.data,dataType:\"json\",error:function(t,e,i){v.error(t)}};t.success&&(i.success=function(e){var i=e.data;error.trigger(\"responseput\",i),t.success(i)}),$.ajax(i)}},{key:\"error\",value:function(t,e){if(402==t.status&&(this.forceLogin=!0,r.default.logout(),v.goTo(\"/\"),this.goTo(\"login\")),400==t.status&&$.notify(t.responseJSON.message,\"info\"),401==t.status)return null;if(menu.trigger(\"response\",t.responseJSON),this.forceLogin)return!1;if(\"abort\"==t.statusText)return!1;t.status&&401==t.status&&(this.forceLogin=!0,r.default.logout(),v.goTo(\"/\"),this.goTo(\"login\"));var i=\"Oops error...\",a=!1;t.responseJSON&&t.responseJSON.message?(i=t.responseJSON.message,_.isObject(t.responseJSON.message)?i=t.responseJSON.message.message+\"<br>\"+t.responseJSON.message.file:i.indexOf(\"Limit\")>-1&&(a=!0)):t.statusText?i=t.statusText:t.responseText&&(i=t.responseText),0==t.status&&\"abort\"!=t.statusText?i=\"Please check your connection\":404==t.status&&(i=\"Please check your API\"),a?_.isFunction(e)&&e():$.notify(i,\"info\")}},{key:\"success\",value:function(t,e){swal({title:\"Success\",text:t.message,type:\"success\",confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0},e)}},{key:\"animationFadeIn\",value:function(){$(\".fade\").each((function(t){setTimeout(function(){$(this).addClass(\"in\")}.bind(this),100)}))}},{key:\"log\",value:function(){if(this.isDev){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];(t=console).log.apply(t,[\"[LOG]\"].concat(i))}}},{key:\"popupMessage\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c({title:\"Warning!\",text:t,type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0},e);return swal(i)}}])&&g(l.prototype,d),m&&g(l,m),e}()),f=a.a.observable();v.init(),window.Auth=r.default,window.APP=v,window.Streams=f,window.PERMISSION=null,window.pageLimit=10,window.urlStream=a.a.observable(),window.menu=a.a.observable(),window.menuleft=a.a.observable(),window.NameProfile=a.a.observable(),window.maxStreams=a.a.observable(),window.menuActive=a.a.observable(),window.breadCrumb=a.a.observable(),window.renderchart=a.a.observable(),window.renderchartpie=a.a.observable(),window.rendercharttoptime=a.a.observable(),window.error=a.a.observable(),window.p=function(t){var e=new RegExp(\"[?&]\"+t+\"=([^&#]*)\").exec(window.location.href);return null==e?null:e[1]||0},Number.prototype.formatMoney=function(t,e,i){var a=this,s=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?\",\":e,i=null==i?\".\":i,a<0?\"-\":\"\"),o=parseInt(a=Math.abs(+a||0).toFixed(t))+\"\",r=(r=o.length)>3?r%3:0;return s+(r?o.substr(0,r)+i:\"\")+o.substr(r).replace(/(\\d{3})(?=\\d)/g,\"$1\"+i)+(t?e+Math.abs(a-o).toFixed(t).slice(2):\"\")}}.call(this,i(195))},function(t,e,i){i(0).tag2(\"sendmail\",'<div id=\"Headercontact\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg animated fadeInDown\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header pd-x-20\"> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\">Contact Us</h6> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\" class=\"cursor-pointer\">×</span> </button> </div> <div class=\"modal-body pd-10 d-block \"> <form class=\"form-horizontal\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"row mg-b-25\"> <div class=\"col-md-12\"> <div class=\"form-group\" style=\"display:none\"> <label class=\"form-control-label\">Username :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" ref=\"username\" class=\"form-control\" riot-value=\"{username}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\">Username :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusname\" placeholder=\"\" ref=\"subject\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\">Content :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <textarea type=\"text\" class=\"form-control height100\" id=\"inputfocusnamecontent\" placeholder=\"\" ref=\"content\"></textarea> </div> </div> </div> </form> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\" onclick=\"{kirim}\">Save changes</button> <button type=\"button\" class=\"btn btn-outline-warning mg-b-0 tx-size-xs cursor-pointer\" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.getProfile()}),this.getProfile=()=>{APP.apiGet({path:\"profile/global-settings/get-profile\",success:function(t){this.username=t.user_name,this.update()}.bind(this)})},this.kirim=t=>{var e={subject:this.refs.subject.value,content:this.refs.content.value};APP.apiPost({path:\"profile/contact-us\",data:e,success:function(t){APP.success(t,(function(){}))}})}}))},function(t){t.exports=JSON.parse('[{\"hash\":\"health-index-r10..\",\"tag\":\"healthindexaccount\",\"import\":\"modules/bracket-plus/healtindex/healthindexaccount.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"health-index..\",\"tag\":\"healtindex10\",\"import\":\"modules/bracket-plus/healtindex/healtindex10.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"buzzer-tracking-r10..\",\"tag\":\"buzzertracking\",\"import\":\"modules/bracket-plus/buzzertracking/buzzertracking.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"buzzer-tracking..\",\"tag\":\"buzzertracking10\",\"import\":\"modules/bracket-plus/buzzertracking/buzzertracking10.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"project..\",\"tag\":\"project\",\"import\":\"modules/bracket-plus/projects/project.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"project/add..\",\"tag\":\"project-form\",\"import\":\"modules/bracket-plus/projects/project-form.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"mentions..\",\"tag\":\"dashboarmentions\",\"import\":\"modules/bracket-plus/mentions/dashboar-mentions.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting\",\"tag\":\"setting\",\"import\":\"modules/bracket-plus/setting/setting.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"analysis/my-stream..\",\"tag\":\"my-stream\",\"import\":\"modules/bracket-plus/analysis/my-stream.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"comparison..\",\"tag\":\"competitive\",\"import\":\"modules/bracket-plus/analysis/competitive.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"pr-dashboard..\",\"tag\":\"advanced-dashboard\",\"import\":\"modules/bracket-plus/advanced-analysis/advanced-dashboard.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/prdashboard..\",\"tag\":\"prdashboard\",\"import\":\"modules/bracket-plus/advanced-analysis/prdashboard.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"command-center..\",\"tag\":\"command-center\",\"import\":\"modules/bracket-plus/command-center/command-center.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"test\",\"tag\":\"test\",\"import\":\"modules/bracket-plus/test.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"login\",\"tag\":\"login\",\"layout\":\"login\",\"import\":\"modules/bracket-plus/main/login.tag\"},{\"hash\":\"change-password..\",\"tag\":\"change-password\",\"import\":\"modules/bracket-plus/setting/change-password.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project-setup..\",\"tag\":\"project-setup\",\"import\":\"modules/bracket-plus/setting/project-setup.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project-update..\",\"tag\":\"project-update\",\"import\":\"modules/bracket-plus/setting/project-update.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/account..\",\"tag\":\"account\",\"import\":\"modules/bracket-plus/setting/account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/facebook..\",\"tag\":\"facebook\",\"import\":\"modules/bracket-plus/setting/facebook.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/spike-notification..\",\"tag\":\"spike-notification\",\"import\":\"modules/bracket-plus/setting/spike-notification.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/infographic..\",\"tag\":\"infographic\",\"import\":\"modules/bracket-plus/setting/infographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/author-marker..\",\"tag\":\"author-marker\",\"import\":\"modules/bracket-plus/setting/author-marker.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/buzzer-account..\",\"tag\":\"buzzer-account\",\"import\":\"modules/bracket-plus/setting/buzzer-account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"correction..\",\"tag\":\"correction\",\"import\":\"modules/bracket-plus/correction/Correction.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"download..\",\"tag\":\"download\",\"import\":\"modules/bracket-plus/downloads/download.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"downloadcsv..\",\"tag\":\"downloadcsv\",\"import\":\"modules/bracket-plus/downloads/DownloadCSV.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"report/charts..\",\"tag\":\"downloadcharts\",\"import\":\"modules/bracket-plus/downloads/downloadcharts.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"domain/infographic..\",\"tag\":\"domaininfographic\",\"import\":\"modules/bracket-plus/domain-infographic/infographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"domain/indosatreport..\",\"tag\":\"dasboardindosat\",\"import\":\"modules/bracket-plus/domain/dasboarindosat.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"infographic..\",\"tag\":\"infographicmybrand\",\"import\":\"modules/bracket-plus/infographic/infographicmybrand.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"competition/infographic..\",\"tag\":\"competitioninfographic\",\"import\":\"modules/bracket-plus/infographic/competitioninfographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/global-setting..\",\"tag\":\"global-setting\",\"import\":\"modules/bracket-plus/setting/global-setting.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/filterlist..\",\"tag\":\"filterlist\",\"import\":\"modules/bracket-plus/setting/filterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/taginglist..\",\"tag\":\"taginglist\",\"import\":\"modules/bracket-plus/setting/taginglist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/addfilterlist..\",\"tag\":\"addfilterlist\",\"import\":\"modules/bracket-plus/setting/addfilterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/editfilterlist..\",\"tag\":\"aditfilterlist\",\"import\":\"modules/bracket-plus/setting/editfilterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project..\",\"tag\":\"setting-project\",\"import\":\"modules/bracket-plus/setting/setting-project.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"summary..\",\"tag\":\"dashboardsummary\",\"import\":\"modules/bracket-plus/summary/dashboard-summary.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"authors..\",\"tag\":\"dashboard-author\",\"import\":\"modules/bracket-plus/author/dashboard-author.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"trendings/twitter..\",\"tag\":\"twitter-trends\",\"import\":\"modules/bracket-plus/trendings/twitter-trends.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"trendings/google-search..\",\"tag\":\"google-trends\",\"import\":\"modules/bracket-plus/trendings/google-trends.tag\",\"layout\":\"main\",\"auth\":true}]')},function(t,e,i){\"use strict\";t.exports=function(t,e){var i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==e?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,a=\"MMMM YYYY\"),Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\",marginTop:50},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:\"#ccc\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#ccc\"},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(a),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{series:{cursor:\"pointer\",point:{events:{click:function(){var i=this,a=JSON.parse(localStorage.projects),s=_.filter(a,(function(t,e){return t.key_name==i.series.name})),o=moment(event.point.x).format(\"YYYY-MM-DD\"),r=moment(event.point.x).format(\"HH\"),n=s?s[0].key_id:\"\";\"hourly\"==e&&renderchart.trigger(t,o,null,null,null,null,r,this.series.name,n,null,null,null,null),\"daily\"==e&&renderchart.trigger(t,o,null,null,null,null,null,this.series.name,n,null,null,null,null),\"monthly\"==e&&renderchart.trigger(t,o,null,null,null,null,null,this.series.name,n,null,null,null,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:4}},marker:{lineWidth:1,radius:1},pointInterval:i,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},function(t,e,i){\"use strict\";t.exports=function(t,e){var i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==e?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,a=\"MMMM YYYY\"),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\"},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:\"#ccc\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#ccc\"},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!0},tooltip:{formatter:function(){return[moment(this.x).format(a),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:4}},marker:{lineWidth:1,radius:1},pointInterval:i,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},function(t,e,i){\"use strict\";t.exports=function(t,e,i,a){var s=36e5,o=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(s=864e5,o=\"MMMM DD, YYYY\"):\"monthly\"==e&&(s=2592e6,o=\"MMMM YYYY\"),i)var r=i;else r=\"#868ba1\";Highcharts.setOptions({global:{useUTC:!1}});var n=new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\",marginTop:50},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:s,title:{text:null},labels:{style:{color:r}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:r},formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")}}},exporting:{enabled:!0},tooltip:{followPointer:!0,formatter:function(t){var e=this.x,i=this.series.name,a=(this.series.chart,this.y),s=p(\"project\")?p(\"project\"):APP.getProject().toString();s.split(\",\").map(Number);if(\"positive\"==this.series.name.toLowerCase()||\"negative\"==this.series.name.toLowerCase()){var r={project:s,since:moment(this.x).format(\"YYYY-MM-DD\"),until:moment(this.x).format(\"YYYY-MM-DD\"),section:this.series.name.toLowerCase(),nocache:!1,remove_cache:!1};APP.apiGet({path:\"mentions/sentiment-words\",data:r,success:function(s){var r=[];_.each(s,(function(t,e){r.push(t.keyword)})),this.arr=r.join(\",\"),t.label.attr({text:moment(e).format(o)+\"<br> \"+a+\" \"+i+\"<br>word : \"+this.arr})}})}else setTimeout((function(){t.label.attr({text:moment(e).format(o)+\"<br> \"+a+\" \"+i})}),500);return\"waiting collection the data..\"}},plotOptions:{series:{fillColor:{},cursor:\"pointer\",point:{events:{click:function(i){var a=this.series.name.toLowerCase(),s=\"all\"==a?\"negative,positive,neutral\":a,o=moment(this.category).format(\"YYYY-MM-DD\"),r=moment(this.x).format(\"HH\");renderchart.trigger(t,o,s,r,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:s}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}});return setTimeout((function(){$(\"li\").click((function(){}))}),1e3),n}},function(t,e,i){\"use strict\";t.exports=function(t,e){var i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==e?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,a=\"MMMM YYYY\"),Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\",marginTop:50},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:\"#ccc\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#ccc\"},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(a),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{spline:{dataLabels:{enabled:!0}}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},function(t,e,i){\"use strict\";t.exports=function(t,e,i){var a=864e5,s=\"MMMM DD, YYYY\";Highcharts.setOptions({global:{useUTC:!1}});var o=new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,margin:[30,40,80,40]},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,minTickInterval:a,title:{text:null},labels:{rotation:45,style:{}},crosshair:{width:1,color:\"#aaa\"}},yAxis:[{gridLineWidth:0,labels:{formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00a\").replace(\".00\",\"\")},style:{color:\"rgb(60, 120, 175)\"}},title:{text:\"\",style:{color:\"rgb(60, 120, 175)\"}}},{gridLineWidth:1,title:{text:\"\",style:{color:\"rgb(240, 176, 0)\"}},labels:{formatter:function(){return numeral(null!==this.value?this.value:\"0\").format(\"0.00a\").replace(\".00\",\"\")},style:{color:\"rgb(240, 176, 0)\"}},opposite:!0}],exporting:{enabled:!1},tooltip:{formatter:function(){return[this.y.formatMoney(0)+\" \"+this.series.name,\" on \",moment(this.x).format(s)].join(\"\")},style:{}},plotOptions:{series:{cursor:\"pointer\",events:{click:function(t){}},pointPadding:0,groupPadding:.2},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:a,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}});return o}},function(t,e,i){i(0).tag2(\"stream-html\",'<div ref=\"textdetail\"></div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{APP.log(\"stream-html: mount\"),this.refs.textdetail.innerHTML=t.text})}))},function(t,e,i){i(0).tag2(\"engagement-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"engagemetrics\"></div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.engchart={},this.reload=()=>{this.update({isLoading:!0});let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})}},(function(t,i){e.render(i.index),e.update({isLoading:!1})}))},this.render=t=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-engagementmetric : render\");for(var e=Highcharts.chart(\"engagemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,height:350,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Engagement Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Conversation Rate\"},labels:{format:\"{value:,.1f} \"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Applause Rate\"},labels:{format:\"{value:,.1f} \"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>share/re-tweet :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});e.series.length>0;)e.series[0].remove();let i=[];_.forEach(t,(function(t){i.push({name:t.username,data:[{x:t.commentsCount/t.postsCount,y:t.likesCount/t.postsCount,z:t.sharesCount/t.postsCount,name:t.username,service:t.service}]})})),i=_.sortBy(i,t=>t.data[0].z).reverse(),async.each(i,(t,i)=>{e.addSeries(t),i()})}}))},function(t,e,i){i(0).tag2(\"influence-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"influencemetrics\"></div> </div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\"> <div>No data found, please input another dates</div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.infchart={},this.reload=()=>{this.update({isLoading:!0});let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})},sentiment:function(t){APP.apiPost({path:\"health/buzzersentiment\"+i,data:s,success:function(e){t(null,e)}})}},(function(t,i){e.render(i.index,i.sentiment),e.update({isLoading:!1})}))},this.render=(t,e)=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-influencermetrics : render\");for(var i=Highcharts.chart(\"influencemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Influence Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Positive Sentiment Rate\"},labels:{format:\"{value}%\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Share / Retweets\"},labels:{format:\"{value}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>positive sentiments rate :</th><td>{point.x:.2f} %</td></tr><tr><th>share/re-tweet :</th><td>{point.y}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"a: {point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});i.series.length>0;)i.series[0].remove();let a=[];_.forEach(e,(function(e){let i=0,s=0;for(let a=0;a<t.length;a++)if(t[a].username===e.username&&t[a].service===e.service){i=t[a].sharesCount,s=t[a].postsCount;break}a.push({name:e.username,service:e.service,data:[{x:e.positiveCount/s*100,y:i,z:i,name:e.username,service:e.service}]})})),a=_.sortBy(a,t=>t.data[0].z).reverse(),async.each(a,(t,e)=>{i.addSeries(t),e()})}}))},function(t,e,i){i(0).tag2(\"reach-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"reachmetrics\"></div> </div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.intechart={},this.reload=()=>{this.isLoading=!0;let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})}},(function(t,i){e.isLoading=!1,e.render(i.index),e.update({isLoading:!1})}))},this.render=t=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-reachmetrics : render\");for(var e=Highcharts.chart(\"reachmetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Reach Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Followers/Friends\"},labels:{format:\"{value:,.1f}\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Post\"},labels:{format:\"{value:,.1f}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>followers :</th><td>{point.x:,.1f}</td></tr><tr><th>posts :</th><td>{point.y:,.1f}</td></tr><tr><th>potential_reach :</th><td>{point.z:,.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});e.series.length>0;)e.series[0].remove();let i=[];_.forEach(t,(function(t){t.followers>0&&i.push({name:t.username,data:[{x:t.followers,y:t.postsCount,z:t.potentialReach,name:t.username,service:t.service}]})})),i=_.sortBy(i,t=>t.data[0].z).reverse(),async.each(i,(t,i)=>{e.addSeries(t),i()})}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"buzzer-stream-timeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\" style=\"padding: 0\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagging pagination=\"{pagination}\"></pagging> <div><i class=\" pull-right pointer refres-streams\" onclick=\"{reload}\"><a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"><i class=\"fa fa-refresh\"></i></a> </i> </div> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{opts.loading}\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0 && !opts.loading}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No data found, please input another dates </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{filter}\"> <div if=\"{filter}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div if=\"{isLoad && !isLoading}\" class=\"loader\"></div> <div if=\"{!opts.loading}\" class=\"panel bg-transparent row nomargin\" each=\"{items}\" id=\"setvaleu{_id}\"> <div if=\"{isLoadingset(_id)}\" class=\"loadersentiment\"></div> <div class=\"col-xs-12 holder-timeline {_id} \"> <div class=\"row nomargin {_id}\"> <div class=\"inblock vertical-top col-md-2 col-xs-3 col-lg-2\"> <div class=\"custom-width\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar !=⁗ ⁗}\" class=\"img-circle img-custom-width\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <img alt=\"\" riot-src=\"\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" if=\"{user.avatar === ⁗ ⁗}\" class=\"img-circle img-custom-width\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> </div> </div> <div class=\"inblock maxwidth85 col-md-10 col-xs-9\"> <div class=\"nama full95block\"> <a href=\"{source}\" target=\"_blank\">{user.name}</a> </div> <div class=\"content full95block \"> {text} </div> <br> <div class=\"tanggal full95block \"> {moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} - {service} </div> <div class=\"tanggal full95block \"> <div class=\"hidden-md hidden-lg hidden-sm\" if=\"{service === \\'facebook\\' && this.DH != 0 || service ===\\'twitter\\' && this.DH != 0 || service ===\\'instagram\\' && this.DH != 0}\"> <div id=\"{\\'likes_\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Likes {this.likes[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-heart\"></i> {this.likes[_id]} </div> <div id=\"{\\'reply\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Reply {this.reply[_id]}\" data-placement=\"top\" style=\"float:left;margin:0px 10px;\"> <i class=\"fa fa-reply\"></i> {this.reply[_id]} </div> <div id=\"{\\'repost\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Repost {this.repost[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-retweet\"></i> {this.repost[_id]} </div> </div> </div> <div class=\"tanggal full95block \" style=\"margin-top:25px\"> <div class=\"hidden-xs\" if=\"{service === \\'facebook\\' && this.DH != 0 || service ===\\'twitter\\' && this.DH != 0 || service ===\\'instagram\\' && this.DH != 0}\"> <div id=\"{\\'likes_\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Likes {this.likes[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-heart\"></i> {this.likes[_id]} </div> <div id=\"{\\'reply\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Reply {this.reply[_id]}\" data-placement=\"top\" style=\"float:left;margin:0px 10px;\"> <i class=\"fa fa-reply\"></i> {this.reply[_id]} </div> <div id=\"{\\'repost\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Repost {this.repost[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-retweet\"></i> {this.repost[_id]} </div> </div> <div class=\"buttons-act\" style=\"bottom: 2px;\"> <div class=\"button-single5\" if=\"{service === \\'twitter\\'}\"> <i onclick=\"{integrasi}\" class=\"fa {ivocon:!is_connect_sociomile} {active:is_connect_sociomile} cursor \" id=\"sociomile\"></i> </div> <div class=\"button-single1 {net:sentiment.value === 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> </div> <div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <pagging pagination=\"{pagination}\"></pagging> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.userLoadingSentiment;const e=this;this.likes={},this.reply={},this.repost={},this.loadMetrics=t=>{async.eachSeries(t,(function(t,i){const a=t._id,s=t.postid,o=e.parent.search.since,r=e.parent.search.until;s&&APP.apiGet({path:\"stream/metric?project=\"+(p(\"project\")?p(\"project\"):APP.getProject()),data:{postid:s,since:o,until:r},success:function(t){e.likes[a]=numeral(t.likes).format(\"0.00 a\").replace(\".00\",\"\"),e.reply[a]=numeral(t.reply).format(\"0.00 a\").replace(\".00\",\"\"),e.repost[a]=numeral(t.repost).format(\"0.00 a\").replace(\".00\",\"\"),$('[data-toggle=\"tooltip_'+a+'\"]').tooltip(),setTimeout(()=>{$('[data-toggle=\"tooltip_'+a+'\"]').tooltip()},2e3),e.update()}}),i()}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"buzzer-stream-timeline : changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",(function(){APP.log(\"buzzer-stream-timeline : mount\"),this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()})),this.integrasi=t=>{APP.log(\"buzzer integrate stream\");var e=t.item.service;let i=t.item._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:function(t,e,i){APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()}.bind(this),success:function(t){APP.log(\"success integrated to sociomile\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.update()},this.setSentiment=t=>{APP.log(\"buzzer-stream-timeline : setSentiment\");let e=t.target.id,i=t.item._id;this.userLoadingSentiment=i,this.search.streamid=i,this.search.sentiment=e,APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:function(t){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.render()}.bind(this)})},this.delete=t=>{APP.log(\"buzzer-stream-timeline : delete\");t.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(t){$(\"#setvaleu\"+e).fadeOut(1600)}.bind(this)}),this.update()})},this.render=()=>{APP.log(\"buzzer-stream-timeline : render\");const t=_.find(this.times,{selected:!0});let e=this.parent.search;e.type=t,e.limit=this.query.limit,e.page=this.query.page;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&\"buzzer_twitter\"!=t&&\"buzzer_facebook\"!=t&&\"buzzer_instagram\"!=t&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"stream\"+i,data:this.parent.DataBuzzer,success:function(t){this.items=t.item,this.total=this.items.length,this.pagination.pages=Math.ceil(t.total/this.query.limit),this.loadMetrics(this.items),this.userLoadingSentiment=void 0,this.isLoad=!1,this.isLoading=!1,this.Loading=!1,this.update()}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()}}))},function(t,e,i){i(0).tag2(\"buzzer-summary-brand\",'<div class=\"panel\"> <div class=\"table-responsive\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <table class=\"table table-responsive\"> <tr class=\"tr td th toptable\"> <td class=\"vertical-middle\" style=\"width:25%\">Brands</td> <td class=\"vertical-middle\" style=\"width:10%\"><i class=\"ion-compose\"></i> Post</td> <td class=\"vertical-middle\" style=\"width:15%\"><i class=\"ion-chatboxes\"></i> Comment</td> <td class=\"vertical-middle\" style=\"width:20%\"><i class=\"ion-android-share\"></i> Retweet/Share</td> <td class=\"vertical-middle\" style=\"width:30%\"><i class=\"ion-star\"></i> Favorite clicks/Likes</td> </tr> </table> <div riot-style=\"width:100%; max-height:{heightsMax}px; overflow:auto;\"> <table class=\"table table-responsive\" style=\"margin-top:0px; cursor: ns-resize;margin-bottom: 0px;\"> <tr each=\"{item in items}\" class=\"tr td th\"> <td class=\"vertical-middle\" style=\"width:25%\"><strong><i class=\"fa fa-{item.service}\"></i>&nbsp;{item.username}</strong></td> <td class=\"vertical-middle\" style=\"width:10%\">{numeral(item.postsCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:15%\">{numeral(item.commentsCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:20%\">{numeral(item.sharesCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:30%\">{numeral(item.likesCount).format(\\'0,0\\')}</td> </tr> <tr each=\"{item in dataSummary}\" class=\"tr td th\"> <td class=\"vertical-middle\" style=\"width:25%\"><strong><i class=\"fa fa-{item.service}\"></i>&nbsp;{item.username}</strong></td> <td class=\"vertical-middle\" style=\"width:10%\">{numeral(item.postsCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:15%\">{numeral(item.commentsCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:20%\">{numeral(item.sharesCount).format(\\'0,0\\')}</td> <td class=\"vertical-middle\" style=\"width:30%\">{numeral(item.likesCount).format(\\'0,0\\')}</td> </tr> </table> </div> </div>',\"\",\"\",(function(t){this.heightsMax=450,this.items=[],this.summary={},this.render=(t,e)=>{APP.log(\"buzzer-summary : render\");let i=0,a=0,s=0,o=0,r=0,n=0;_.forEach(t,(function(t){i+=t.postsCount,s+=t.potentialReach,o+=t.likesCount,r+=t.commentsCount,n+=t.sharesCount})),_.forEach(e,(function(t){a+=t.positive_count}));let l={};l.positiveSentiment=a/i,l.reach=s,l.applause=o/i,l.conversation=r/i,l.amplification=n/i;var c=_.map(this.parent.refs.buzzerpicker.items,(function(t,e){return t})),d=_.map(t,(function(t,e){return t.username+t.service})),h=c[0],m=c[1],u=c[2],p=_.concat(h,m,u),g=(_.filter(p,(function(t){return t.check})),_.filter(p,(function(t){return t.check}))),v=[];_.forEach(g,t=>{d.indexOf(t.username+t.service)>-1?t.ids=0:t.ids=1,v.push(t)}),this.dataSummary=_.filter(g,(function(t){return t.ids})),this.update({items:t,summary:l}),this.total=t.length}}))},function(t,e,i){i(0).tag2(\"chart-buzzer-summary\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(summary.reach).format(\\'0.0a\\').toUpperCase()}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\" style=\"white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\">POTENTIAL REACH</div> </div> </div> </div> </div> </div> <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(summary.positiveSentiment).format(\\'0.0%\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\" style=\"white-space: nowrap; overflow: hidden;text-overflow: ellipsis;\">POSITIVE SENTIMENT RATE</div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600 \" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(summary.applause).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">APPLAUSE </div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(summary.conversation).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">CONVERSATION </div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(summary.amplification).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">AMPLIFICATION </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items=[],this.summary={},this.render=(t,e)=>{APP.log(\"buzzer-summary : render\");let i=0,a=0,s=0,o=0,r=0,n=0;_.forEach(t,(function(t){i+=parseInt(t.postsCount),parseInt(t.potentialReach)>0&&(s+=parseInt(t.potentialReach)),o+=parseInt(t.likesCount),r+=parseInt(t.commentsCount),n+=parseInt(t.sharesCount)})),_.forEach(e,(function(t){a+=parseInt(t.positiveCount)}));let l={};l.positiveSentiment=a/i,l.positiveSentiment=_.isFinite(l.positiveSentiment)?l.positiveSentiment:0,l.reach=s,l.applause=o/i,l.conversation=r/i,l.amplification=n/i,this.update({items:t,summary:l})}}))},function(t,e,i){i(0).tag2(\"buzzer-picker\",'<div class=\" pull-right\"> <nav class=\"navbar navbar-light halfwidth2\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\" id=\"pointer\"> <li class=\"col-xs-6 nav-item sentiment nav-space active positive\"> <a class=\"nav-link\" data-toggle=\"modal\" data-target=\"#buzzerModal\"><span class=\"garis\"> Buzzer </span></a> </li> <li class=\"col-xs-6 nav-item sentiment nav-space active negative\"> <a class=\"nav-link\" onclick=\"{DonwloadCSV}\"><span class=\"garis\"> Download </span></a> </li> </ul> </nav> </div> <div class=\"modal fade\" id=\"buzzerModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <h4>Buzzers List</h4> <div class=\"row\"> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_twit\" checked=\"{gritem.twitter}\" onclick=\"{toggleAll}\"> <label for=\"c_twit\"><strong>All Twitter Buzzers</strong></label> </div> <div each=\"{item in items.twitter}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"ctw_{item.username}\" onclick=\"{toggle}\"> <label for=\"ctw_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_fb\" checked=\"{gritem.facebook}\" onclick=\"{toggleAll}\"> <label for=\"c_fb\"><strong>All Facebook Buzzers</strong></label> </div> <div each=\"{item in items.facebook}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cfb_{item.username}\" onclick=\"{toggle}\"> <label for=\"cfb_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_ig\" checked=\"{gritem.instagram}\" onclick=\"{toggleAll}\"> <label for=\"c_ig\"><strong>All Instagram Buzzers</strong></label> </div> <div each=\"{item in items.instagram}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cig_{item.username}\" onclick=\"{toggle}\"> <label for=\"cig_{item.username}\">{item.username}</label> </div> </div> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer\" data-dismiss=\"modal\">Close</div> <div id=\"addprojectaccount\" class=\"accsaved pointer\" onclick=\"{saveData}\" data-dismiss=\"modal\">Save</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items={twitter:[],facebook:[],instagram:[]},this.gritem={twitter:!0,facebook:!0,instagram:!0},this.setItems=t=>{APP.log(\"buzzer-picker: setItems\");let e={twitter:[],facebook:[],instagram:[]};_.forEach(t,(function(t){\"twitter\"===t.service&&e.twitter.push({username:t.username,check:!0,service:\"twitter\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0}),\"facebook\"===t.service&&e.facebook.push({username:t.username,check:!0,service:\"facebook\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0}),\"instagram\"===t.service&&e.instagram.push({username:t.username,check:!0,service:\"instagram\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0})})),this.items=e,this.saveData()},this.saveData=()=>{APP.log(\"buzzer-picker: saveData\"),\"function\"==typeof t.cb&&t.cb(this.items)},this.toggle=t=>{APP.log(\"buzzer-picker: toggle\");let e=t.item.item;switch(e.check=!e.check,t.srcElement.id.substring(0,3)){case\"ctw\":this.gritem.twitter=!1;break;case\"cfb\":this.gritem.facebook=!1;break;case\"cig\":this.gritem.instagram=!1}this.update()},this.toggleAll=t=>{switch(APP.log(\"buzzer-picker: toggleAll\"),t.srcElement.id){case\"c_twit\":_.forEach(this.items.twitter,(function(e){e.check=t.srcElement.checked})),this.gritem.twitter=!this.gritem.twitter;break;case\"c_fb\":_.forEach(this.items.facebook,(function(e){e.check=t.srcElement.checked})),this.gritem.facebook=!this.gritem.facebook;break;case\"c_ig\":_.forEach(this.items.instagram,(function(e){e.check=t.srcElement.checked})),this.gritem.instagram=!this.gritem.instagram}this.update()},this.DonwloadCSV=()=>{this.parent.downloadcsv()}}))},function(t,e,i){i(0).tag2(\"chart-summary\",'<div class=\"\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600 txtcenter\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(items.reach).format(\\'0.0a\\').toUpperCase()}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\" style=\"white-space: nowrap; overflow: hidden;text-overflow: ellipsis;\">POTENTIAL REACH</div> </div> </div> </div> </div> </div> <div class=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600 txtcenter\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(items.positiveSentiment).format(\\'0.0%\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\" style=\"white-space: nowrap; overflow: hidden;text-overflow: ellipsis;\">POSITIVE SENTIMENT RATE</div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600 txtcenter\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(items.applause).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">APPLAUSE </div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(items.conversation).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">CONVERSATION </div> </div> </div> </div> </div> </div> <div class=\"col-lg-2 col-md-2 col-sm-6 col-xs-12\"> <div class=\"row\"> <div class=\"panel bg-white\"> <div class=\"panel-body padding-15-20\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"clearfix\"> <div class=\"txtcenter\"> <div class=\"color-teal-500 font-size-18 font-roboto font-weight-600\" data-toggle=\"counter\" data-start=\"0\" data-from=\"0\" data-to=\"1230\" data-speed=\"500\" data-refresh-interval=\"10\">{numeral(items.amplification).format(\\'0,0.0\\')}</div> </div> </div> <div class=\"font-size-10 clearfix color-blue-grey-300 font-weight-600\"> <div class=\"txtcenter\">AMPLIFICATION </div> </div> </div> </div> </div> </div> </div> </div> </div> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"panel\"> <div if=\"{isLoading}\" class=\"loader\"></div> <table class=\"table table-responsive panel\"> <tr class=\"tr td th toptable\"> <th></th> <th><i class=\"fa fa-twitter\" aria-hidden=\"true\"> </i> Twitter </th> <th><i class=\"fa fa-facebook\" aria-hidden=\"true\"></i> Facebook </th> <th><i class=\"fa fa-instagram\" aria-hidden=\"true\"></i> Instagram <a class=\"btn btn-outline1 btn-info1 btn-sm pull-right\" onclick=\"{reload}\"><i class=\"fa fa-refresh\"></i></a></th> </tr> <tr class=\"tr td th\"> <td class=\"vertical-middle\"><i class=\"fa fa-envelope-o\"></i> Post</td> <td class=\"vertical-middle\">{items.twitter?numeral(items.twitter.postsCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.facebook?numeral(items.facebook.postsCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.instagram?numeral(items.instagram.postsCount).format(\\'0,0\\'):0}</td> </tr> <tr class=\"tr td th difcol\"> <td class=\"vertical-middle\"><i class=\"fa fa-comments-o\"></i> Comment</td> <td class=\"vertical-middle\">{items.twitter?numeral(items.twitter.commentsCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.facebook?numeral(items.facebook.commentsCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.instagram?numeral(items.instagram.commentsCount).format(\\'0,0\\'):0}</td> </tr> <tr class=\"tr td th\"> <td class=\"vertical-middle\"><i class=\"fa fa-refresh\"></i> Retweet/Share</td> <td class=\"vertical-middle\">{items.twitter?numeral(items.twitter.sharesCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.facebook?numeral(items.facebook.sharesCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.instagram?numeral(items.instagram.sharesCount).format(\\'0,0\\'):0}</td> </tr> <tr class=\"tr td th difcol\"> <td class=\"vertical-middle\"><i class=\"fa fa-heart\"></i> Favorite clicks/Likes</td> <td class=\"vertical-middle\">{items.twitter?numeral(items.twitter.likesCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.facebook?numeral(items.facebook.likesCount).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.instagram?numeral(items.instagram.likesCount).format(\\'0,0\\'):0}</td> </tr> <tr class=\"tr td th\"> <td class=\"vertical-middle\"><i class=\"fa fa-user\"></i> Unique User </td> <td class=\"vertical-middle\">{items.twitter?numeral(items.twitter.uniqueUsers).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.facebook?numeral(items.facebook.uniqueUsers).format(\\'0,0\\'):0}</td> <td class=\"vertical-middle\">{items.instagram?numeral(items.instagram.uniqueUsers).format(\\'0,0\\'):0}</td> </tr> </table> </div>',\"\",\"\",(function(t){this.items=[],this.reload=()=>{this.isLoading=!0,this.update({isLoading:!0});let t=this.parent.search,e=this;async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.render(i.index,i.sentiment),e.update({isLoading:!1})}))},this.render=(t,e)=>{APP.log(\"health-summary: render\");let i=t.twitter?t.twitter.postsCount:0;i+=t.facebook?t.facebook.postsCount:0,i+=t.instagram?t.instagram.postsCount:0;let a=e.twitter?e.twitter.positiveCount:0;a+=e.facebook?e.facebook.positiveCount:0,a+=e.instagram?e.instagram.positiveCount:0,t.positiveSentiment=a/i,APP.log(\"items -> \"+t.positiveSentiment),t.positiveSentiment=_.isFinite(t.positiveSentiment)?t.positiveSentiment:0,APP.log(\"items -> \"+t.positiveSentiment);let s=t.twitter?t.twitter.followerTotal:0;s+=t.facebook?t.facebook.followerTotal:0,s+=t.instagram?t.instagram.followerTotal:0,t.reach=s;let o=t.twitter?t.twitter.likesCount:0;o+=t.facebook?t.facebook.likesCount:0,o+=t.instagram?t.instagram.likesCount:0,t.applause=o/i;let r=t.twitter?t.twitter.commentsCount:0;r+=t.facebook?t.facebook.commentsCount:0,r+=t.instagram?t.instagram.commentsCount:0,t.conversation=r/i;let n=t.twitter?t.twitter.sharesCount:0;n+=t.facebook?t.facebook.sharesCount:0,n+=t.instagram?t.instagram.sharesCount:0,t.amplification=n/i,this.update({items:t})}}))},function(t,e,i){i(0).tag2(\"chart-sentiment-channel\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div id=\"sentimentchannel\" class=\" bg-white\" style=\"margin-top:0px\"></div> </div>',\"\",\"\",(function(t){this.items=[],this.chart={},this.reload=()=>{this.isLoading=!0,this.update({isLoading:!0});let t=this.parent.search,e=this;async.parallel({sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.render(i.sentiment),e.update({isLoading:!1})}))},this.render=t=>{APP.log(\"health-sentiment-channel: render\");var e=Highcharts.chart(\"sentimentchannel\",{chart:{type:\"column\"},title:{text:\"Sentiment Per Channel\"},xAxis:{categories:[\"Twitter\",\"Facebook\",\"Instagram\",\"Overall\"]},colors:[\"#A3C85E\",\"#F3D760\",\"#E16976\"],yAxis:{min:0,title:{text:\"\"}},legend:{enabled:!0},credits:{enabled:!1},tooltip:{pointFormat:'<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:\"percent\"}},exporting:{enabled:!1},series:[{name:\"Positive\",pointWidth:55,data:[0,0,0,0]},{name:\"Neutral\",pointWidth:55,data:[0,0,0,0]},{name:\"Negative\",data:[0,0,0,0],pointWidth:55}]});let i=t.twitter?t.twitter.positiveCount:0,a=t.facebook?t.facebook.positiveCount:0,s=t.instagram?t.instagram.positiveCount:0;e.series[0].setData([i,a,s,i+a+s]),i=t.twitter?t.twitter.neutralCount:0,a=t.facebook?t.facebook.neutralCount:0,s=t.instagram?t.instagram.neutralCount:0,e.series[1].setData([i,a,s,i+a+s]),i=t.twitter?t.twitter.negativeCount:0,a=t.facebook?t.facebook.negativeCount:0,s=t.instagram?t.instagram.negativeCount:0,e.series[2].setData([i,a,s,i+a+s]),this.update({items:t})}}))},function(t,e,i){i(0).tag2(\"chart-tweet-density\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <p class=\"text-light padding-top-10\"><center><strong style=\"font-size:17px;\">Average Daily Mention<i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i></strong></center> </p> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"chartdensity\"></div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.chdensity={},this.reload=()=>{this.update({isLoading:!0}),this.render()},this.render=()=>{this.update({notdata:!1}),APP.log(\"health-tweet-density: render\");var t=Highcharts.chart(\"chartdensity\",{chart:{type:\"bubble\",zoomType:\"xy\",marginBottom:20,marginRight:10,plotHeight:150,chartHeight:150},colors:[\"#1D91B7\",\"#55ADC9\",\"#7DC4DB\",\"#AEDCEB\"],title:{text:\"\"},title:{text:\"\"},xAxis:{categories:[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],min:0,max:6,title:{text:\"\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative;'> \"+numeral(this.point.z).format(\"0a\")+\"</span>\"}}},bubble:{minSize:3,maxSize:50}},tooltip:{formatter:function(){return\"<strong>\"+this.series.xAxis.categories[this.point.x]+\"</strong> at <strong>\"+this.series.yAxis.categories[this.point.y]+\"</strong><br><atrong>\"+numeral(this.point.z).format(\"0.00\")+\"</strong> mentions\"}},yAxis:{categories:[\"00 - 05\",\"06 - 11\",\"12 - 17\",\"18 - 23\"],min:0,max:3,title:{text:\"\"}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{color:\"#1D91B7\",data:[]}]});let e=this.parent.search;e.limit=10,APP.apiGet({path:\"mentions/average-daily-mentions\",data:e,success:function(e){let i=[],a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const t in e){let s=e[t];for(const e in s)i.push({x:a[e],y:parseInt(t-1),total:s[e],z:s[e]})}var s=_.filter(i,(function(t){return 0!=t.total})).length;this.update({isLoading:!1}),0===s?this.update({notdata:!0}):this.update({notdata:!1}),t.series[0].setData(i)}.bind(this)})}}))},function(t,e,i){i(0).tag2(\"chart-interaction-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"interactionrate\"></div> </div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div>',\"\",\"\",(function(t){this.items=[],this.intechart={},this.reload=()=>{this.isLoading=!0,this.update({isLoading:!0});let t=this.parent.search,e=this;async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})}},(function(t,i){e.render(i.index),e.update({isLoading:!1})}))},this.render=t=>{this.update({notdata:!1});t.amplification;APP.log(\"health-interaction-metric: render\");var e=Highcharts.chart(\"interactionrate\",{chart:{type:\"bubble\",plotBorderWidth:1,height:350,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Interaction Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"\"},labels:{format:\" \"},plotLines:[{}]},exporting:{enabled:!1},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"\"},labels:{format:\" \"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3>{point.country}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>amplification rate :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:100}},series:[{name:\"Twitter\",color:\"#1DA1F2\",data:[{x:69,y:90,z:0,name:\"Tw\",country:\"Twitter\"}]},{name:\"Facebook\",color:\"#3B5998\",data:[{x:100,y:110,z:0,name:\"Fb\",country:\"Facebook\"}]},{name:\"Instagram\",color:\"#C3317E\",data:[{x:86,y:30,z:0,name:\"Ig\",country:\"Instagram\"}]},{name:\"Overall\",color:\"#aaa\",data:[{x:86.5,y:80,z:0,name:\"All\",country:\"Overall\"}]}]});let i=t.twitter?t.twitter.postsCount:1,a=t.facebook?t.facebook.postsCount:1,s=t.instagram?t.instagram.postsCount:1,o=t.twitter?t.twitter.commentsCount:0,r=t.twitter?t.twitter.likesCount:0,n=t.twitter?t.twitter.sharesCount:0;e.series[0].setData([{x:o/i,y:r/i,z:n/i,name:\"Tw\",country:\"Twitter\"}]);let l=t.facebook?t.facebook.commentsCount:0,c=t.facebook?t.facebook.likesCount:0,d=t.facebook?t.facebook.sharesCount:0;e.series[1].setData([{x:l/a,y:c/a,z:d/a,name:\"FB\",country:\"Facebook\"}]);let h=t.instagram?t.instagram.commentsCount:0,m=t.instagram?t.instagram.likesCount:0,u=t.instagram?t.instagram.sharesCount:0;e.series[2].setData([{x:h/s,y:m/s,z:u/s,name:\"IG\",country:\"Instagram\"}]);let p=(o+l+h)/(i+a+s),g=(r+c+m)/(i+a+s),v=(n+d+u)/(i+a+s);e.series[3].setData([{x:p,y:g,z:v,name:\"ALL\",country:\"Overall\"}])}}))},function(t,e,i){i(0).tag2(\"sentiment-composition\",'<div class=\"btn {name} btn-icon mg-r-0 {active:selected} mg-t-10 {name}mg-r height60 {mgl10} widthsentiment cursor-pointer displayinlineflex\" each=\"{sentiment}\" id=\"sent\" onclick=\"{selectSentiment}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"35\" height=\"35\" class=\"center displayinitial mg-t-10 mg-l-10\"> <span class=\"mg-l-20 mg-t-20 hiddenmax500\">{name}</span> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"../assets/img/svg/thumbs-up-grey.png\",mgl10:\"mg-r-10\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"../assets/img/svg/thumbs-down-grey.png\",mgl10:\"mg-r-10\"},{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\"../assets/img/svg/help-grey.png\",mgl10:\"mg-l-10\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{APP.log(\"sentiment : render\")},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chart-stream-metions\",'<div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> STREAM OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a href=\"#\" onclick=\"{selectTime}\" class=\"btn {active:selected}\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\" mg-l-10 mg-t-7 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\"> ? </span> </div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter\" if=\"{nodata}\"> <div class=\"no-gutters tx-center textcenter mg-t-0 height400\"> No data found, please input another dates </div> </div> <div class=\"ripple-loader \" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter\" if=\"{!nodata}\"> <div class=\"row no-gutters tx-center height400\" id=\"chartstream\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{APP.log(\"chart streams : render\");const e=this.parent&&this.parent.refs&&this.parent.refs.channel&&this.parent.refs.channel.channels,i=_.filter(e,(function(t){return t.selected})),a=_.find(this.times,{selected:!0}).id;let o=_.clone(this.parent.search);o.type=a,o.group_service=\"false\",this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy(),this.nodata=!0;var r=[];async.eachLimit(i,10,(t,e)=>{if(!this.isExist)return!1;o.service_category=t.id;var i=APP.apiGet({path:\"mentions\",data:o,success:i=>{i=i.items;let a=[];a=(i=_.sortBy(i,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),a.length>0&&(this.nodata=!1),r.push({id:\"response\",shadow:!1,name:t.name,valnameid:t.id,lineWidth:1,color:t.color,type:\"areaspline\",totaldata:_.sumBy(a,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:a}),e()}},e);this.ajaxChannels.push(i)},()=>{if(this.update({isLoading:!1}),this.nodata)console.log(\"no data\");else{const t=\"chartstream\";this.update({nodata:this.nodata,isLoading:!1});let o=\"#868ba1\";r=_.orderBy(r,[\"totaldata\"],[\"desc\"]),this.data=r;for(var e=this.chart=s()(t,a,o),i=0;i<=r.length-1;i++)e.addSeries(r[i])}_.isFunction(t)&&t()})},500)},this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\"),s=_.result(e,\"Twitter[0].count\",0),o=_.result(e,\"Facebook[0].count\",0),r=_.result(e,\"Instagram[0].count\",0),n=_.result(e,\"News[0].count\",0),l=_.result(e,\"Blogs[0].count\",0),c=_.result(e,\"Video[0].count\",0),d=_.result(e,\"Forum[0].count\",0),h=s+o+r+n+l+c+d;a.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),twitter:s,facebook:o,instagram:r,news:n,blogs:l,video:c,forum:d,total:h})}a.length>0&&APP.downloadcsv(a,\"Stream_of_mentions_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"my-filter\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"col-xs-12 filter\" style=\"height: 350px;\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\" riot-value=\"{keyword}\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\" riot-value=\"{domain}\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\" riot-value=\"{author}\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-2\" class=\"exc\" value=\"true\" checked=\"{checked:checked}\"> <label for=\"checkbox-inline-2\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div style=\"margin-top:10px\"> <button class=\"accsaved pointer\" id=\"addprojectaccount\" type=\"submit\"> Show Result </button> <button class=\"addprojectaccount pointer \" id=\"cancel\" onclick=\"{reset}\"> Reset Filter </button> </div> </div> </form>',\"\",\"\",(function(t){this.kirim=t=>{t.preventDefault(),console.log(\"submit\"),t.preventDefault();var e=$(\".exc:checked\").val();this.parent.search.q=this.refs.internet.value,this.parent.search.domain=this.refs.domain.value,this.parent.search.author=this.refs.author.value,this.parent.search.filterbot=null!=e&&$(\".exc:checked\").val(),this.update(),this.parent.updateFilter()},this.reset=()=>{document.getElementById(\"myForm\").reset(),this.parent.search.q=\"\",this.parent.search.domain=\"\",this.parent.search.author=\"\",this.parent.resetFilter()},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()}}))},function(t,e,i){i(0).tag2(\"totalbuzzer\",'<a each=\"{sentiment}\" class=\"btn totalbuzzer btn-icon mg-r-5 mg-t-10 widtbuzzer totalbuzzer shadow-base\" id=\"sent\"> <span class=\" pull-right cursor-default totalbuzzername\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{tooltip}\">?</span> <img riot-src=\"{icon}\" width=\"15\" height=\"15\" class=\"mg-r-5\"> <span class=\"tx-roboto tx-bold\" style=\"color: #868ba1;\"> {name}</span> </i> <h6 if=\"{!isLoading}\" class=\"mg-t-5 colorblack\">{summary[brand]? summary[brand].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</h6> <h6 if=\"{isLoading}\"> <img src=\"../assets/img/loading.svg\" width=\"20\" height: 4 class=\"mg-t-5\"></img> </h6> <p class=\"mg-t-m-10\" if=\"{!isLoading}\" riot-style=\"color:{itemsEnd[coloricon]}\"><i class=\"{itemsEnd[fonticon]}\"></i> {itemsEnd[brand] ? Math.abs(itemsEnd[brand]).toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0} %</p> </a>',\"\",\"\",(function(t){function e(){if(window.innerWidth>500){$(\"#totalbuzzer\").css({\"padding-right\":\"0px\"});var t=$(\"#totalbuzzer\").width(),e=(t-50)/5;if(t<1066)e=203.2;for(var i=document.getElementsByClassName(\"widtbuzzer\"),a=0;a<i.length;a++)i[a].style.width=e+\"px\"}else{$(\"#totalbuzzer\").css({\"padding-right\":\"10px\"});for(i=document.getElementsByClassName(\"widtbuzzer\"),a=0;a<i.length;a++)i[a].style.width=\"100%\"}}function i(t,e){if(0===e&&t>0)return{data:100,icon:\"fa fa-caret-up\",color:\"#90ee7e\"};if(0===e&&0===t)return{data:0,icon:\"fa fa-minus\",color:\"#d2dc35\"};if(0===t)return{data:100,icon:\"fa fa-caret-down\",color:\"#dc3545\"};let i=\"\",a=\"\";return t>e?(i=\"fa fa-caret-up\",a=\"#90ee7e\"):t===e?(i=\"fa fa-minus\",a=\"#d2dc35\"):(i=\"fa fa-caret-down\",a=\"#dc3545\"),{data:(t-e)/e*100,icon:i,color:a}}this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.itemsEnd=[],this.items=[],this.summary={},this.sentiment=[{id:\"neutral\",total:null,name:\"POTENTIAL REACH\",selected:!0,color:\"count-txt color-orange-500\",icon:\"assets/img/image/potential-grey.png\",fonticon:\"reachicon\",coloricon:\"reachcolor\",brand:\"reach\",tooltip:\"Potential reach is the estimated number of people that could have had contact with social media mentions from your buzzer(s). Potential Reach is based on the number buzzers, the number of their followers/subscribers/friends and the typical visibility percentage for the selected social networks (this percentage describes how many of their friends / followers on average actually see their posts)\"},{id:\"positive\",total:null,name:\"POSITIVE SENTIMENT RATE\",selected:!0,color:\"count-txt color-green-500\",icon:\"assets/img/svg/thumbs-up-grey.png\",fonticon:\"sentimenticon\",coloricon:\"sentimentcolor\",brand:\"positiveSentiment\",tooltip:\"The number mentions with potentially positive sentiment\"},{id:\"negative\",total:null,name:\"APPLAUSE RATE\",selected:!0,color:\"count-txt color-red-500\",icon:\"assets/img/image/love-grey.png\",fonticon:\"applauseicon\",coloricon:\"applausecolor\",brand:\"applause\",tooltip:\"The number of approval actions, or virtual “applause,” you get from your audience per social media post, including likes, thumbs-ups, favorites, etc.\"},{id:\"neutral\",total:null,name:\"CONVERSATION RATE \",selected:!0,color:\"count-txt color-orange-500\",icon:\"assets/img/image/chats-grey.png\",fonticon:\"conversationicon\",coloricon:\"conversationcolor\",brand:\"conversation\",tooltip:\"The number of conversations going on per social media post. On Facebook and Instagram, this will be comments. On Twitter, it’s replies\"},{id:\"positive\",total:null,name:\"AMPLIFICATION RATE\",selected:!0,color:\"count-txt color-green-500\",icon:\"assets/img/image/retweet-grey.png\",fonticon:\"amplificationicon\",coloricon:\"amplificationcolor\",brand:\"amplification\",tooltip:\"The number of shares on average for each social media post. On Facebook this will be shares. On Twitter, it’s retweets\"}],this.on(\"mount\",()=>{this.parent.search.section=null,e()}),this.render=()=>{APP.log(\"buzzer-summary : render\"),Promise.all([this.renderDataStart(),this.renderDataEnd()]).then(()=>{this.totaljumlahrnd()}).catch(t=>{this.isLoading=!1,APP.error(t)})},this.renderDataStart=()=>new Promise((t,e)=>{this.getData(_.clone(this.parent.search)).then(e=>{let i=this.formatData(e);this.update({summary:i}),t(!0)}).catch(e)}),this.renderDataEnd=()=>{let t=_.clone(this.parent.search),e=moment(t.since).startOf(\"day\"),i=moment(t.until).endOf(\"day\");var a=(i-e+1)/864e5;return t.since=e.subtract(a,\"day\").format(\"YYYY-MM-DD\"),t.until=i.subtract(a,\"day\").format(\"YYYY-MM-DD\"),new Promise((e,i)=>{this.getData(t).then(t=>{let i=this.formatData(t);this.update({itemsEnd:i}),e(!0)}).catch(i)})},this.getData=t=>new Promise((function(e,i){t.nocache=\"false\",t.remove_cache=\"false\",t.pagination=\"no\",t.page=0,t.limit=0;var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(a+=s>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,s++);var o={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};APP.apiPost({path:\"buzzers/summary\"+a,data:o,success:function(t){e(t)},error:function(t){i(t)}})})),this.formatData=t=>({positiveSentiment:t.positive_post_rate,reach:t.potential_reach,applause:t.applause_rate,conversation:t.conversation_rate,amplification:t.amplification_rate}),this.totaljumlahrnd=()=>{let t=this.summary,e=this.itemsEnd,a={};const s=i(t.positiveSentiment||0,e.positiveSentiment||0),o=i(t.reach||0,e.reach||0),r=i(t.applause||0,e.applause||0),n=i(t.conversation||0,e.conversation||0),l=i(t.amplification||0,e.amplification||0);a.positiveSentiment=s.data,a.sentimenticon=s.icon,a.sentimentcolor=s.color,a.reach=o.data,a.reachicon=o.icon,a.reachcolor=o.color,a.applause=r.data,a.applauseicon=r.icon,a.applausecolor=r.color,a.conversation=n.data,a.conversationicon=n.icon,a.conversationcolor=n.color,a.amplification=l.data,a.amplificationicon=l.icon,a.amplificationcolor=l.color,this.update({itemsEnd:a,isLoading:!1})},menu.on(\"sidebar\",t=>{setTimeout(()=>{e()},1e3)}),window.onload=function(){e()},window.onresize=function(){e()}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"summarybuzzer\",'<div class=\"row no-gutters widget-1\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-body pd-0 bd-color-gray-lighter \"> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 \"> <th scope=\"col\" class=\"pd-y-5 \">USERNAME</th> <th scope=\"col\" class=\"wd-10p pd-y-5 \">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5\">POT REACH</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">POSITIVE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">AMPLIFICATION</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right \">CONVERSATION</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right \">APPLAUSE</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right \">REGULAR POST</th> </tr> </thead> <tbody> <tr class=\"fontsizetr mg-t-20\" each=\"{o,i in items}\"> <td data-label=\"USERNAME\" class=\"r10-pd-r-20 valign-middle\"> <i class=\"{o.service === \\'twitter\\' ? \\'fa fa-twitter\\' : o.service === \\'facebook\\' ? \\'fa fa-facebook\\' : \\'fa fa-instagram\\'}\"></i> &nbsp; {o.username} </td> <td data-label=\"FOLLOWERS\" class=\" r10-pd-r-20 valign-middle tx-right \"> {o.followers.formatted} </td> <td data-label=\"POT REACH\" class=\" r10-pd-r-20 valign-middle tx-right\"> {o.potentialReach.formatted} </td> <td data-label=\"POSITIVE\" class=\" r10-pd-r-20 valign-middle tx-right\"> {o.positiveCount.formatted} </td> <td data-label=\"AMPLIFICATION\" class=\" r10-pd-r-20 valign-middle text-right\"> {o.amplification.formatted} </td> <td data-label=\"CONVERSATION\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.conversation.formatted} </td> <td data-label=\"APPLAUSE\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.applause.formatted} </td> <td data-label=\"REGULAR POST\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.postsCount.formatted} </td> </tr> </tbody> </table> </div> <div class=\"card-footer textcenter d-block\" if=\"{total == 0}\"> <span class=\"textcenter\">NO DATA</span> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body pull-left\"> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items=[],this.summary={};var e=this;this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({isLoading:!0}),e.query.page=t,e.render()}},this.changeLimit=t=>{APP.log(\"buzzer-stat : changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()};const i=function(t){return 0===t?{formatted:0,original:0}:t>1e3?{formatted:numeral(t).format(\"0.0 a\"),original:t}:Math.floor(t)===t?{formatted:parseFloat(numeral(t).format(\"0.[00]\")),original:t}:{formatted:parseFloat(t.toFixed(2)),original:t}};this.on(\"mount\",(function(){APP.log(\"buzzer-stat : mount\"),this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()})),this.setBuzzerStatList=function(t){let a=[];t.length>0&&(a=t.map(t=>({service:t.service,username:t.username,followers:i(t.followers),potentialReach:i(t.potential_reach),positiveCount:i(t.positive_count),amplification:i(t.amplification),conversation:i(t.conversation),applause:i(t.applause),postsCount:i(t.regular_post_count),neutralCount:i(t.neutral_count),negativeCount:i(t.negative_count),commentsCount:i(t.comments_count),sharesCount:i(t.shares_count),likesCount:i(t.likes_count),post_original_count:t.regular_post_count})),a=_.orderBy(a,\"post_original_count\",\"desc\")),e.total=t.length,e.update({items:a,isLoading:!1})},this.render=()=>{APP.log(\"buzzer-stat : render\");let e=this.parent.search;e.useDetail=!0,e.nocache=\"false\",e.remove_cache=\"false\",e.limit=this.query.limit,e.page=this.query.page||1;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&\"buzzer_twitter\"!=t&&\"buzzer_facebook\"!=t&&\"buzzer_instagram\"!=t&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"buzzers/stats\"+i,data:this.parent.DataBuzzer,success:function(e){this.setBuzzerStatList(_.result(e,\"items\",[])),this.total=e.items.length,this.pagination.pages=Math.ceil(e.total/this.query.limit),this.userLoadingSentiment=void 0,this.isLoad=!1,this.isLoading=!1,this.parent.totalBuzzer=e.total;let i=e.items.filter(t=>\"twitter\"===t.service).map(t=>t.username),a=e.items.filter(t=>\"facebook\"===t.service).map(t=>t.username),s=e.items.filter(t=>\"instagram\"===t.service).map(t=>t.username);this.parent.buzzerCurrentPage={buzzer_twitter:i?i.join(\",\"):\"\",buzzer_facebook:a?a.join(\",\"):\"\",buzzer_instagram:s?s.join(\",\"):\"\"},this.update(),\"function\"==typeof t.cb&&t.cb(this.items)}.bind(this)})}}))},function(t,e,i){i(0).tag2(\"buzzer-picker\",'<div class=\" pull-right\"> <nav class=\"navbar navbar-light halfwidth2\"> </nav> </div> <div class=\"modal fade\" id=\"buzzerModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog modal-lg width750\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <h4>Buzzers List</h4> <div class=\"row\"> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_twit\" checked=\"{gritem.twitter}\" onclick=\"{toggleAll}\"> <label for=\"c_twit\"><strong>All Twitter Buzzers</strong></label> </div> <div each=\"{item in items.twitter}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"ctw_{item.username}\" onclick=\"{toggle}\"> <label for=\"ctw_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_fb\" checked=\"{gritem.facebook}\" onclick=\"{toggleAll}\"> <label for=\"c_fb\"><strong>All Facebook Buzzers</strong></label> </div> <div each=\"{item in items.facebook}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cfb_{item.username}\" onclick=\"{toggle}\"> <label for=\"cfb_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_ig\" checked=\"{gritem.instagram}\" onclick=\"{toggleAll}\"> <label for=\"c_ig\"><strong>All Instagram Buzzers</strong></label> </div> <div each=\"{item in items.instagram}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cig_{item.username}\" onclick=\"{toggle}\"> <label for=\"cig_{item.username}\">{item.username}</label> </div> </div> </div> <div class=\"modal-footer pd-b-0\"> <button type=\"button\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 tx-size-xs\" data-dismiss=\"modal\" onclick=\"{saveData}\">Save changes</button> <button type=\"button\" class=\"btn btn-outline-warning mg-b-0 tx-size-xs\" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items={twitter:[],facebook:[],instagram:[]},this.gritem={twitter:!0,facebook:!0,instagram:!0},this.setItems=t=>{APP.log(\"buzzer-picker: setItems\");let e={twitter:[],facebook:[],instagram:[]};_.forEach(t,(function(t){\"twitter\"===t.service&&e.twitter.push({username:t.username,check:!0,service:\"twitter\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0,potentialReach:0,positiveCount:0}),\"facebook\"===t.service&&e.facebook.push({username:t.username,check:!0,service:\"facebook\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0,potentialReach:0,positiveCount:0}),\"instagram\"===t.service&&e.instagram.push({username:t.username,check:!0,service:\"instagram\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0,potentialReach:0,positiveCount:0})})),this.items=e,this.saveData()},this.saveData=()=>{APP.log(\"buzzer-picker: saveData\"),\"function\"==typeof t.cb&&t.cb(this.items)},this.toggle=t=>{APP.log(\"buzzer-picker: toggle\");let e=t.item.item;switch(e.check=!e.check,t.srcElement.id.substring(0,3)){case\"ctw\":this.gritem.twitter=!1;break;case\"cfb\":this.gritem.facebook=!1;break;case\"cig\":this.gritem.instagram=!1}this.update()},this.toggleAll=t=>{switch(APP.log(\"buzzer-picker: toggleAll\"),t.srcElement.id){case\"c_twit\":_.forEach(this.items.twitter,(function(e){e.check=t.srcElement.checked})),this.gritem.twitter=!this.gritem.twitter;break;case\"c_fb\":_.forEach(this.items.facebook,(function(e){e.check=t.srcElement.checked})),this.gritem.facebook=!this.gritem.facebook;break;case\"c_ig\":_.forEach(this.items.instagram,(function(e){e.check=t.srcElement.checked})),this.gritem.instagram=!this.gritem.instagram}this.update()},this.DonwloadCSV=()=>{this.parent.downloadcsv()}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"streambuzzer\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-danger rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{delete}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{!isLoading && total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div if=\"{isLoadingset(_id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar || \\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\\' + user.name}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"{source}\" target=\"_blank\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right\"><i class=\"icon ion-calendar\"></i> {date}</p> </h6> <div lass=\"tx-12\"> <span class=\"metricsentimentone\"> <a href=\"{source}\" target=\"_blank\"><i class=\"cursor-pointer fa fa-share-alt\" aria-hidden=\"true\"></i> {service}</a> </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"likes {likes ? likes.formatMoney(0) : 0}\"> <i class=\" fa fa-thumbs-o-up\" aria-hidden=\"true\"></i> {likes ? likes.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"replies {shares ? shares.formatMoney(0) : 0}\"> <i class=\" fa fa-share-square-o\" aria-hidden=\"true\"></i> {shares ? shares.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"comments {comments ? comments.formatMoney(0) : 0}\"> <i class=\" fa fa-commenting-o\" aria-hidden=\"true\"></i> {comments ? comments.formatMoney(0) : 0} </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 textjustify\">{text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-10\"> <label class=\"ckbox pull-left mg-t-20 pd-r-20\"> <input type=\"checkbox\" checked=\"{checked}\" class=\"facebook\" onclick=\"{selectId}\"><span></span> </label> <div class=\"media-body mg-t-min-10\"> <div class=\"btn btn-outline-danger rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{delete}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></div> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.userLoadingSentiment,this.abrvNumber=function(t){let e=1e6,i=1e9,a=\"\",s=\"\";if(t<1e3)return t.toLocaleString(\"en\",{maximumFractionDigits:1});if(t>=1e3&&t<e)s=parseFloat(t/1e3).toString().slice(0,4),a=\"K\";else if(t>=e&&t<i)s=parseFloat(t/e).toString().slice(0,4),a=\"M\";else{if(!(t>=1e9))return t;{let e=t.toString().length-(i.toString().length-1);s=e>4?parseFloat(t/i).toString().slice(0,4):t.toString().slice(0,e).replace(/\\B(?=(\\d{3})+(?!\\d))/g,\".\"),a=\"B\"}}return s.toString().replace(/\\.$/,\"\")+\" \"+a};const e=this;this.likes={},this.reply={},this.repost={},this.items=[],this.total=0,this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.dataStreams=[],this.selectAll=()=>{var t;1===$(\".facebook:checked\").length?(t=this.items)&&t.forEach(t=>{t.checked=!0,this.dataStreams.push(t)}):(t=this.items)&&t.forEach(t=>{t.checked=!1,this.dataStreams.push(t)});this.update()},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({isLoading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"buzzer-stream-timeline : changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,this.update(),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",(function(){APP.log(\"buzzer-stream-timeline : mount\"),this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()})),this.integrasi=t=>{APP.log(\"buzzer integrate stream\");var e=t.item.service;let i=t.item._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:function(t,e,i){APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()}.bind(this),success:function(t){APP.log(\"success integrated to sociomile\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.update()},this.setSentiment=t=>{APP.log(\"buzzer-stream-timeline : setSentiment\");let e=t.target.id,i=t.item._id;this.userLoadingSentiment=i,this.search.streamid=i,this.search.sentiment=e,APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:function(t){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.render()}.bind(this)})},this.delete=t=>{APP.log(\"buzzer-stream-timeline : delete\");t.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(t){$(\"#setvaleu\"+e).fadeOut(1600)}.bind(this)}),this.update()})},this.render=()=>{APP.log(\"buzzer-stream-timeline : render\");const t=_.find(this.times,{selected:!0});let e=this.parent.search;e.useDetail=!1,e.type=t,e.limit=this.query.limit,e.pagination=\"yes\",e.page=this.query.page/e.limit+1;var i=\"\",a=0;if(0===e.buzzer_instagram.length&&0===e.buzzer_twitter.length&&0===e.buzzer_facebook.length)return this.isLoading=!1,this.Loading=!1,this.userLoadingSentiment=void 0,this.isLoad=!1,this.update(),!1;for(let t in e)e[t]&&\"\"!=e[t]&&\"buzzer_twitter\"!=t&&\"buzzer_facebook\"!=t&&\"buzzer_instagram\"!=t&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"buzzers/streams\"+i,data:this.parent.buzzerCurrentPage,success:function(t){this.items=t.items,this.total=this.items.length,this.pagination.pages=Math.ceil(t.pagination.total/this.query.limit),this.userLoadingSentiment=void 0,this.isLoad=!1,this.isLoading=!1,this.Loading=!1,this.update()}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()}}))},function(t,e,i){i(0).tag2(\"reachmecric\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullseye-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> REACH METRICS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"reachmetrics\" data-highcharts-chart=\"35\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.items=[],this.intechart={},this.render=t=>{if(t=t.map(t=>(t.followers&&t.followers.original&&(t.followers=t.followers.original),t.sharesCount&&t.sharesCount.original&&(t.sharesCount=t.sharesCount.original),t.potentialReach&&t.potentialReach.original&&(t.potentialReach=t.potentialReach.original),t.positiveCount&&t.positiveCount.original&&(t.positiveCount=t.positiveCount.original),t.amplification&&t.amplification.original&&(t.amplification=t.amplification.original),t.conversation&&t.conversation.original&&(t.conversation=t.conversation.original),t.applause&&t.applause.original&&(t.applause=t.applause.original),t.postsCount&&t.postsCount.original&&(t.postsCount=t.postsCount.original),t)),this.notdata=!1,0===t.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),APP.log(\"buzzer-reachmetrics : render\");var e=Highcharts.chart(\"reachmetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,height:400,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Followers/Friends\"},labels:{format:\"{value:,.1f}\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Post\"},labels:{format:\"{value:,.1f}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>followers :</th><td>{point.x:,.1f}</td></tr><tr><th>posts :</th><td>{point.y:,.1f}</td></tr><tr><th>potential_reach :</th><td>{point.z:,.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});async.each(e.series,(t,e)=>{t.remove(),e()});let i=[];async.eachLimit(t,10,(t,e)=>{i.push({name:t.username,data:[{x:t.followers||0,y:t.postsCount||0,z:t.potentialReach||0,name:t.username||0,service:t.service||0}]}),e()},()=>{if(i=_.sortBy(i,t=>t.data[0].z).reverse(),0===i.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),Highcharts.chart(\"reachmetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,height:400,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Followers/Friends\"},labels:{format:\"{value:,.1f}\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Post\"},labels:{format:\"{value:,.1f}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>followers :</th><td>{point.x:,.1f}</td></tr><tr><th>posts :</th><td>{point.y:,.1f}</td></tr><tr><th>potential_reach :</th><td>{point.z:,.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:i})}),this.update({isLoading:!1})}}))},function(t,e,i){i(0).tag2(\"influence-metric\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> INFLUENCE METRICS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"influencemetrics\" data-highcharts-chart=\"35\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.items=[],this.infchart={},this.render=t=>{if(t=t.map(t=>(t.followers&&t.followers.original&&(t.followers=t.followers.original),t.sharesCount&&t.sharesCount.original&&(t.sharesCount=t.sharesCount.original),t.potentialReach&&t.potentialReach.original&&(t.potentialReach=t.potentialReach.original),t.positiveCount&&t.positiveCount.original&&(t.positiveCount=t.positiveCount.original),t.amplification&&t.amplification.original&&(t.amplification=t.amplification.original),t.conversation&&t.conversation.original&&(t.conversation=t.conversation.original),t.applause&&t.applause.original&&(t.applause=t.applause.original),t.postsCount&&t.postsCount.original&&(t.postsCount=t.postsCount.original),t)),this.notdata=!1,0===t.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),APP.log(\"buzzer-influencermetrics : render\");let e=t.map(t=>({name:t.username,service:t.service,data:[{x:t.positiveCount/t.postsCount*100,y:t.sharesCount,z:t.sharesCount,name:t.username,service:t.service}]}));if(e=_.sortBy(e,t=>t.data[0].z).reverse(),0===e.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),Highcharts.chart(\"influencemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,height:400,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Positive Sentiment Rate\"},labels:{format:\"{value}%\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Share / Retweets\"},labels:{format:\"{value}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>positive sentiments rate :</th><td>{point.x:.2f} %</td></tr><tr><th>share/re-tweet :</th><td>{point.y}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"a: {point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:e}),this.update({isLoading:!1})}}))},function(t,e,i){i(0).tag2(\"engagement-metric\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\">ENGAGEMENT METRICS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"engagemetrics\" data-highcharts-chart=\"35\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.items=[],this.engchart={},this.render=t=>{if(APP.log(\"buzzer-engagement-metric rendered\"),t=t.map(t=>(t.followers&&t.followers.original&&(t.followers=t.followers.original),t.sharesCount&&t.sharesCount.original&&(t.sharesCount=t.sharesCount.original),t.potentialReach&&t.potentialReach.original&&(t.potentialReach=t.potentialReach.original),t.positiveCount&&t.positiveCount.original&&(t.positiveCount=t.positiveCount.original),t.amplification&&t.amplification.original&&(t.amplification=t.amplification.original),t.conversation&&t.conversation.original&&(t.conversation=t.conversation.original),t.applause&&t.applause.original&&(t.applause=t.applause.original),t.postsCount&&t.postsCount.original&&(t.postsCount=t.postsCount.original),t.likesCount&&t.likesCount.original&&(t.likesCount=t.likesCount.original),t.negativeCount&&t.negativeCount.original&&(t.negativeCount=t.negativeCount.original),t.neutralCount&&t.neutralCount.original&&(t.neutralCount=t.neutralCount.original),t.commentsCount&&t.commentsCount.original&&(t.commentsCount=t.commentsCount.original),t)),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.notdata=!1,0===t.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1});let e=t.map(t=>({name:t.username,data:[{x:t.commentsCount/t.postsCount,y:t.likesCount/t.postsCount,z:t.sharesCount/t.postsCount,name:t.username,service:t.service}]}));if(e=_.sortBy(e,t=>t.data[0].z).reverse(),0===e.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),Highcharts.chart(\"engagemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Conversation Rate\"},labels:{format:\"{value:,.1f} \"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Applause Rate\"},labels:{format:\"{value:,.1f} \"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>share/re-tweet :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:e}),this.update({isLoading:!1})}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"stream-timeline\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15 cursor-pointer\" for=\"selectall\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\" id=\"selectall\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-danger rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading}\" each=\"{o in items}\" id=\"setvaleu{o._id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(o._id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-20\"> <img alt=\"\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\" if=\"{!o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\';\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"tx-inverse\">{o.user.real_name ? o.user.real_name : o.user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {o.date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"metricsentimentone cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {o.service} <span if=\"{o.is_community}\"> - community</span></a> </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"likes {o.details.likes ? o.details.likes.formatMoney(0) : 0}\"> <i class=\" fa fa-thumbs-o-up\" aria-hidden=\"true\"></i> {o.details.likes ? o.details.likes.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"replies {o.details.shares ? o.details.shares.formatMoney(0) : 0}\"> <i class=\" fa fa-share-square-o\" aria-hidden=\"true\"></i> {o.details.shares ? o.details.shares.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"comments {o.details.comments ? o.details.comments.formatMoney(0) : 0}\"> <i class=\" fa fa-commenting\" aria-hidden=\"true\"></i> {o.details.comments ? o.details.comments.formatMoney(0) : 0} </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"view {o.details.views ? o.details.views.formatMoney(0) : 0}\"> <i class=\" fa fa-eye\" aria-hidden=\"true\"></i> {o.details.views ? o.details.views.formatMoney(0) : 0} </span> </div> </div> </div> <blockquote class=\"blockquote bd-l bd-5 pd-l-20 tx-12\" if=\"{o.parent && o.parent.text}\"> <p class=\"mg-b-5 tx-gray-600\">{o.parent.text}</p> <footer class=\"blockquote-footer tx-12\"><a href=\"{o.source}\" target=\"_blank\">Original Post</a></footer> </blockquote> <p class=\"{tx-17:opts.corection == \\'true\\'} mg-b-25 {tx-inverse:opts.corection == \\'true\\'} {color222:opts.corection == \\'false\\'} textjustify\" onclick=\"{imgmodalprofile}\"> <span> <img alt=\"\" if=\"{o.image != \\'\\' && o.image != null}\" riot-src=\"{o.image}\" class=\"imagestreams cursor-pointer \" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalprofile}\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> </span> <span class=\"original-text\">{o.text.length > 500 ? o.text.substring(0,500) + \\'...\\' : o.text} </span> </p> <span if=\"{(o.tags ? o.tags.length : 0) > 0 || tagingvalue[o._id]}\" class=\"showtags_{o._id}\"><i class=\"fa fa-folder-o\"></i> Taging : <a class=\"btn btn-teals btn-with-icon btn-block wd-max-content\" id=\"{o._id}\"> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o2.id}{o._id} valtags_{o._id}\" each=\"{o2,i in o.tags}\" id=\"showtaging\"> <span class=\"pd-x-10\"> {o2.name}</span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o2.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o2.id},{o._id}\"></i> </span> </div> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o3.id}{o._id} valtags_{o._id}\" each=\"{o3,i in valuetag[o._id]}\" id=\"showtaging\"> <span class=\"pd-x-10\"> {o3.name} </span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o3.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o3.id},{o._id}\"></i> </span> </div> </a> </span> <div class=\"media align-items-center pull-right mg-t-10\"> <input type=\"checkbox\" checked=\"{o.checked}\" class=\"facebook cursor-pointer checkedtransform mg-t-20\" id=\"check_{o._id}\" onclick=\"{selectId}\"><span></span> <div class=\"media-body mg-t-min-10\"> <div class=\"btn btn-outline-danger rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:o.is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0 mg-l-0\"></i></div> <div class=\"dropdown btn btn-outline-teal rounded-circle cursor-pointer pull-right mg-r-10 active btncircletaging40\"> <i class=\"dropbtn fa fa-bookmark\"></i> <div class=\"dropdown-content mg-t-20 left\"> <ul class=\"list-group list-group-striped\"> <li class=\"list-group-item rounded-top-0 pd-0 b-0-white\"> <div class=\"input-group\"> <input type=\"text\" class=\"form-control borderinputaddtag\" placeholder=\"Search for...\" onkeyup=\"{searchTaging}\" ref=\"inputtag\"> <span class=\"input-group-btn\"> <button class=\"btn bd btn-white tx-gray-600 cursor-pointer addtaging\" onclick=\"{addtagscolection}\" type=\"button\" id=\"{o._id}\"><i class=\"fa fa-plus\" id=\"{o._id}\"></i></button> </span> </div> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in datatagingvalue}\" if=\"{!listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in listtagingvalue}\" if=\"{listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <div class=\"group-more\"></div> </ul> </div> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-20\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-danger rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.userLoadingSentiment,this.xhr=null;const e=this;this.dataStreams=[],this.datatagingvalue=[],this.tagingvalue={},this.valuetag={},this.addselectval={},this.addtagscolection=t=>{let e=localStorage.clientid;const i=t.target.id;this.nametaging&&APP.apiPost({path:\"tags/create\",data:{name:this.nametaging,client_id:e},success:t=>{t?(this.listdatacolection=t,this.tagingvalue[i]=!0,this.valuetag[i]?this.valuetag[i]=_.concat(this.valuetag[i],[{name:t.name,id:t._id}]):this.valuetag[i]=[{name:t.name,id:t._id}],APP.apiPut({path:\"tags/update/stream\",data:{id:t._id,streamid:i},success:e=>{$.notify(\"Tag : ' \"+t.name+\" ' has been added from list successfully\",\"info\")}})):$.notify(\"Tag \"+t.name+\" has been previously added\",\"error\"),this.update()},error:t=>{$.notify(\"Tag \"+data.name+\" has been previously added\",\"error\")}})},this.delettagcolection=t=>{let e=localStorage.clientid;const i=t.target.id;APP.apiPut({path:\"tags/remove\",data:{id:i,client_id:e},success:function(e){setTimeout(()=>{$(\"#delete_\"+i).remove()},1),$.notify(\"Tag \"+t.item.list.name+\" has been deleted from list successfully\",\"delete\")}})},this.rendertags=t=>{let e=localStorage.clientid;APP.apiGet({path:\"tags\",data:{q:\"\",client_id:e},success:t=>{this.listtagingvalue=(t||[]).slice(0,4),this.listtag=!0,this.update()}})},this.eventaging=t=>{if(!t)return null;let e=t.target.id.replace(/,/g,\"\");const i=(t.target.id||\"\").split(\",\"),a=i[0],s=i[1];this.addselectval[a]=!1,this.update(),$(\".devault_\"+e).remove(),APP.apiPut({path:\"tags/remove/stream\",data:{id:a,streamid:s},success:function(e){$.notify(\"remove tanging name : \"+(t.item.o2?t.item.o2.name:t.item.o3?t.item.o3.name:\"\"),\"delete\")},error:t=>{}}),$(\".valtags_\"+s).length<=0&&($(\".showtags_\"+s).hide(),this.tagingvalue[s]=!1,this.update())},this.searchTaging=t=>{let e=localStorage.clientid;const i=t.target.value.length,a=t.target.value;this.nametaging=a,this.listtag=!1,i>=2&&APP.apiGet({path:\"tags\",data:{q:a,client_id:e},success:t=>{this.datatagingvalue=t,this.update()}}),i<=0&&(this.listtag=!0,this.update())},this.addtaging=t=>{if($(\".devault_\"+t.target.id.replace(/,/g,\"\")).length<1){const e=t.target.id.split(\",\"),i=e[0],a=e[1];this.valuetag[a]?this.addselectval[i]||(this.valuetag[a]=_.concat(this.valuetag[a],[{name:t.item.list.name,id:i}])):this.valuetag[a]=[{name:t.item.list.name,id:i}],$(\".showtags_\"+a).show(),this.tagingvalue[a]=!0,this.addselectval[i]=!0,this.update(),APP.apiPut({path:\"tags/update/stream\",data:{id:i,streamid:a},success:function(e){$.notify(\"Tag : \"+t.item.list.name+\" has been added successfully\",\"info\")}})}else $.notify(\"Tag : ' \"+t.item.list.name+\" ' has been previously added \",\"info\")},this.ontotal=0,this.idtotal={},this.showForm=t=>{const e=t.item.o._id;this.error=!1,this.jumalahtotal=this.ontotal+1,this.ontotal=this.jumalahtotal,this.idtotal[this.jumalahtotal]=e,this.idtotal[this.jumalahtotal-1]==e?this.hiddenForm[e]?this.hiddenForm[e]=!1:this.hiddenForm[e]=!0:(this.hiddenForm[e]=!0,this.hiddenForm[this.idtotal[this.jumalahtotal-1]]=!1),setTimeout((function(){}),1),this.update()},this.updateKeyword=t=>{const e=t.item.o._id,i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.refs.sentimentValue.value,s=this.refs.inputValue.value,o={project:i,type:a,value:s};s?APP.apiGet({path:\"stream/correction/append\",data:o,success:t=>{$.notify(\"Sentiment changed to \"+a,\"info\"),this.hiddenForm[e]=!1,this.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0,isLoading:!0}),this.query.page=(t-1)*this.query.limit,this.render(),window.innerWidth>500&&$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalprofile=t=>{this.modalName=t.item.o.user.name,this.imgmodal=t.item.o.image},this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",()=>{this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()}),this.integrasi=t=>{t.preventDefault(),APP.log(\"integrate stream\");var e=t.item.o.service;let i=t.item.o._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.o.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()},success:t=>{APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+i+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}})},this.valueidcheck={},this.setSentiment=t=>{t.preventDefault(),APP.log(\"setting sentiment\");let e=t.target.id,i=t.item.o._id;this.search.streamid=i,this.search.sentiment=e,$(\"#setvaleu\"+i+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #\"+e).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:a=>{if($.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.valueidcheck[i])var s=this.valueidcheck[i];else s=t.item.o.sentiment.value;0!=s&&null!=s||this.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==e&&this.parent.refs.sentiment.update_dataneutrla(1),1==s&&this.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==e&&this.parent.refs.sentiment.update_datapositive(1),-1==s&&this.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==e&&this.parent.refs.sentiment.update_datanegative(1);var o=\"positive\"===e?1:(e=\"negative\")?-1:0;this.valueidcheck[i]=o,this.userLoadingSentiment=void 0,this.update()}})},this.deletes=t=>{t.preventDefault(),APP.log(\"deleting stream\");let e=t.item.o._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,parse_data:!0,success:t=>{$(\"#setvaleu\"+e).fadeOut(1),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})};const i=function(){APP.apiGet({path:\"projects\",data:{project:p(\"project\"),selected_fields:\"key_word\"},success:function(t){if(t.length>0){let i=t[0].key_word.split(\",\");i=i.map(t=>t.trim()).filter(t=>t.length>1),e.parent.search&&e.parent.search.q&&i.push(e.parent.search.q),$(\".original-text\").each((function(t,e){let a=$(e).html();for(let t of i)a=a.replace(new RegExp(`\\\\b${t}\\\\b`,\"gi\"),`<b style=\"color: #1caf9a;\">${t.toUpperCase()}</b>`);$(e).html(a)}))}}})};this.render=()=>{APP.log(\"render Stream timeline\"),this.valuetag={};const e=_.find(this.times,{selected:!0}),a=_.map(this.parent.channels,t=>t.id);let s=this.parent.search;s.type=e,s.limit=this.query.limit,s.page=this.query.page,s.pagination=\"yes\",s.useDetail=!0,s.service_category=a.join(\",\");var o=\"\",r=0;for(let t in s)s[t]&&\"\"!=s[t]&&(o+=r>0?`&${t}=${encodeURIComponent(s[t])}`:`?${t}=${encodeURIComponent(s[t])}`,r++);this.xhr=APP.apiPost({path:\"stream\"+o,success:(e,a,s)=>{var o=e.item;o&&(o=o.map(t=>(t.checked=!1,t))),this.items=o,this.total=this.items.length,this.pagination.pages=Math.ceil(e.total/this.query.limit),this.rendertags(o),this.isLoad=!1,this.Loading=!1,this.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),i(),setTimeout(()=>{this.update({isLoading:!1})},500),t.corection}})},this.selectAll=()=>{var t;1===$(\".facebook:checked\").length?(t=this.items)&&(t=t.map(t=>(t.checked=!0,t))):(t=this.items)&&(t=t.map(t=>(t.checked=!1,t)));this.update()},this.dataStrm=[],this.selectId=t=>{var e=t.item.o._id;this.items.forEach(t=>{t._id===e&&(t.checked=!t.checked),this.dataStrm.push(t)})},this.globalupdate=t=>{t.preventDefault(),this.dataId=[],(s=this.items)&&((s=_.filter(s,(function(t){return t.checked}))).forEach(t=>{t.checked&&this.dataId.push(t._id)}),this.IdData=this.dataId.toString(\",\"));var e=APP.currentProject,i=this.IdData,a=t.target.id;if(i)if(\"sociomile\"==a){var s={streamid:i};APP.apiPost({path:\"stream/sociomile?project=\"+e,data:s,error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.update()},success:t=>{APP.success(\"Stream moved to Sociomile\",()=>{});var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t+\" #sociomile\").addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\")}),this.update()}})}else{s={stream_ids:i,sentiment:a};\"delete\"==a?swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiPost({path:\"stream/correction?project=\"+e,data:s,parse_data:!0,success:t=>{var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t).fadeOut(100)}),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})}):APP.apiPost({path:\"stream/correction?project=\"+e,data:s,parse_data:!0,success:t=>{var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #\"+a).addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\")}),APP.success(t,()=>{this.parent.refs.sentiment.update_data()})}})}},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),delete this.xhr})}))},function(t,e,i){\"use strict\";t.exports=function(t,e){return new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"column\"},title:{text:\"Stacked column chart\"},xAxis:{categories:[\"Apples\",\"Oranges\",\"Pears\",\"Grapes\",\"Bananas\"]},yAxis:{min:0,title:{text:\"Total fruit consumption\"}},tooltip:{pointFormat:'<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:\"percent\"}}})}},function(t,e,i){\"use strict\";i.r(e);var a=i(23),s=i.n(a);i(8);i(0).tag2(\"filter-form\",'<form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"form-layout form-layout-1\"> <div class=\"row mg-b-25\"> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Project :</label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"project\" riot-value=\"{project}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Since :</label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"since\" riot-value=\"{parent.search.since}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Until : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"until\" riot-value=\"{parent.search.until}\" style=\"color: #58cabb;\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Keyword : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"internet\" placeholder=\"by keyword\" style=\"color: #58cabb;\" riot-value=\"{keyword}\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Domain : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"domain\" placeholder=\"by domain\" style=\"color: #58cabb;\" riot-value=\"{domain}\"> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-group\"> <label class=\"form-control-label\">Author : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"author\" placeholder=\"by author\" style=\"color: #58cabb;\" riot-value=\"{author}\"> </div> </div> <div class=\"col-lg-1\"> <div class=\"form-group\"> <label class=\"form-control-label\">Filter bot : </label> <input class=\"form-control\" type=\"text\" name=\"firstname\" id=\"input-text\" ref=\"filterbot\" placeholder=\"filterbot\" style=\"color: #58cabb;\" riot-value=\"{checkeds}\"> </div> </div> <div class=\"col-lg-2\"> <div class=\"form-layout-footer mg-t-20\"> <button class=\"btn btn-info cursor-pointer\" type=\"submit\">Show Result</button> </div> </div> <div class=\"col-lg-3\"> <div class=\"form-layout-footer mg-t-20\"> <div class=\"form-group mg-b-0\"> <div class=\"dropdown\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" onclick=\"{resetSearch}\" class=\"btn btn-outline-lightblue\" data-toggle=\"dropdown\"> <span class=\" hidden-md-down\">Saved Filters ({namefilter.length > 20 ? namefilter.substring(0,20) + \\'...\\' : namefilter})</span> </a> <div class=\"dropdown-menu dropdown-menu-header\" style=\" width: max-content;\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav mg-t-m-30\"> <li each=\"{o,i in recentProject}\" class=\"cursor-pointer\"> <a onclick=\"{activefilter}\" id=\"{o._id}\"> <i class=\"{ion-checkmark:o.checked==true}\"></i> {o.filter_name} </a> </li> </ul> <hr class=\"mg-5\"> <a href=\"#setting/filterlist?project={localStorage.prjId}\" class=\" see-more cursor-pointer\"> <i class=\"fa fa-arrow-right pull-right pd-5 mg-t-2\"> </i><span class=\"pull-right pd-5\"> Manage Filter </span> </a> </div> </div> </div> </div> </div> <div class=\"col-lg-2\"> <div class=\"form-layout-footer mg-t-30\"> <group-competitive></group-competitive> <div data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</div> </group-competitive> </div> </div> </div> </form>',\"\",\"\",(function(t){this.namefilter=\"No Filter\",this.searchResult=[],this.searchText=\"\",this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10;var e=i(57);this.project=p(\"project\")?p(\"project\"):APP.getProject(),this.runcapture=()=>{async.eachLimit([\"01-channels\",\"02-positive\",\"03-negative\",\"04-neutral\",\"05-mentions\",\"06-composition\",\"07-share-of-stream\",\"08-mention-conversation\",\"09-chart-neutral\",\"10-positive-negative-sentiment\",\"11-positive-wordcloud\",\"12-negative-wordcloud\",\"13-streams-neutral\",\"14-wordcloud-all\",\"15-positive-streams\",\"16-negative-streams\",\"17-number-summary\",\"18-top-hashtags\",\"19-average-daily-mention\",\"20-top-stream-time\",\"21-most-influencers-author\",\"22-most-active-author\",\"23-buzz-volume\",\"24-share-of-voice\",\"25-table-of-mention\",\"26-source-of-mention\",\"27-positive-searchofmention\",\"28-negative-searchofmention\",\"29-total-mentions\",\"30-competition-sentiment-chart\",\"31-sentiment-competition\"],32,(t,i)=>{const a=document.getElementById(t);a?s.a.toBlob(a).then(a=>{var s=new FormData;new XMLHttpRequest;e.saveAs(a,`/tmp/${t}.png`),s.append(\"image\",a,t+\".png\"),$.ajax({url:\"upload.php\",type:\"POST\",data:s,processData:!1,contentType:!1,success:function(t,e,a){i()},error:function(t,e,i){}})}).catch(t=>{console.log(t)}):i()})},this.kirim=t=>{t.preventDefault(),p(\"token\");var e=$(\".exc:checked\").val(),i=_.clone(this.parent.search);i.project=this.refs.project.value,i.since=this.refs.since.value,i.until=this.refs.until.value,i.q=this.refs.internet.value,i.domain=this.refs.domain.value,i.author=this.refs.author.value,i.filterbot=this.refs.filterbot.value,i.filterbot=null!=e&&$(\".exc:checked\").val(),this.update(),this.parent.updateFilter(i)},this.on(\"mount\",()=>{p(\"q\")&&(this.qval=document.keyword),p(\"domain\")&&(this.domainval=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(this.authorval=document.author),p(\"filterbot\")&&(this.filterbotval=document.filterbot),this.update(),this.getfilterlist()}),this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.data,t=>{t.filter_name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.activefilter=t=>{if(t.preventDefault(),null!=APP.currentProject||null!=APP.currentProject){$(\"#modalfilterlist\").modal(\"toggle\"),this.mapFilter=[];var e=t.item.o._id,i=_.map(this.data,(t,i)=>{const a={},s=t._id;return a.checked=s==e,a._id=t._id,a.filter_name=t.filter_name,a});const a=_.orderBy(i,[\"checked\"],[\"desc\"]);this.recentProject=a.slice(0,9),this.update(),APP.apiGet({path:\"bookmark-filter/list/\"+e+\"?project=\"+APP.currentProject,success:t=>{this.checkeds=t.filter_filterbot,this.keyword=t.filter_keywords,this.author=t.filter_author,this.domain=t.filter_domain,this.namefilter=t.filter_name;var e=_.clone(this.parent.search);e.q=t.filter_keywords,e.domain=t.filter_domain,e.author=t.filter_author,e.filterbot=t.filter_filterbot,this.parent.updateFilter(e),this.update()}})}},this.getfilterlist=()=>{APP.log(\"project : project\"),this.update({isLoading:!0}),null==APP.currentProject&&null==APP.currentProject||APP.apiGet({path:\"bookmark-filter/list\",data:{project:APP.currentProject},success:t=>{t=_.orderBy(t,[\"_id\"],[\"desc\"]);this.recentProject=t.slice(0,9),this.mapData=t,t.length<4&&(this.nextdisable=!0),this.data=t,this.total=t.length,this.update({isLoading:!1})}})}}))},function(t,e,i){var a,s=s||function(t){\"use strict\";if(!(void 0===t||\"undefined\"!=typeof navigator&&/MSIE [1-9]\\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},a=e.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),s=\"download\"in a,o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\\/[\\d]+/.test(navigator.userAgent),n=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=function(t){setTimeout((function(){\"string\"==typeof t?i().revokeObjectURL(t):t.remove()}),4e4)},c=function(t){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,d,h){h||(e=c(e));var m,u=this,p=\"application/octet-stream\"===e.type,g=function(){!function(t,e,i){for(var a=(e=[].concat(e)).length;a--;){var s=t[\"on\"+e[a]];if(\"function\"==typeof s)try{s.call(t,i||t)}catch(t){n(t)}}}(u,\"writestart progress write writeend\".split(\" \"))};if(u.readyState=u.INIT,s)return m=i().createObjectURL(e),void setTimeout((function(){a.href=m,a.download=d,function(t){var e=new MouseEvent(\"click\");t.dispatchEvent(e)}(a),g(),l(m),u.readyState=u.DONE}));!function(){if((r||p&&o)&&t.FileReader){var a=new FileReader;return a.onloadend=function(){var e=r?a.result:a.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");t.open(e,\"_blank\")||(t.location.href=e),e=void 0,u.readyState=u.DONE,g()},a.readAsDataURL(e),void(u.readyState=u.INIT)}(m||(m=i().createObjectURL(e)),p)?t.location.href=m:t.open(m,\"_blank\")||(t.location.href=m);u.readyState=u.DONE,g(),l(m)}()},h=d.prototype;return\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||\"download\",i||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,i){return new d(t,e||t.name||\"download\",i)})}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content);\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */t.exports?t.exports.saveAs=s:null!==i(228)&&null!==i(229)&&(void 0===(a=function(){return s}.call(e,i,e,t))||(t.exports=a))},function(t,e,i){i(0).tag2(\"averagedailymentions\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTIONS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in date and time\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd- bd-color-gray-lighter height400 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"chartdensity\" data-highcharts-chart=\"35\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.chdensity={},this.reload=()=>{this.update({isLoading:!0}),this.render()},this.render=()=>{this.update({notdata:!1}),APP.log(\"healt-tweet-density: render\");var t=Highcharts.chart(\"chartdensity\",{chart:{type:\"bubble\",zoomType:\"xy\",plotHeight:150,chartHeight:150},colors:[\"#1D91B7\",\"#55ADC9\",\"#7DC4DB\",\"#AEDCEB\"],title:{text:\"\"},title:{text:\"\"},xAxis:{categories:[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],min:0,max:6,title:{text:\"\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative;'> \"+numeral(this.point.z).format(\"0a\")+\"</span>\"}}},bubble:{minSize:3,maxSize:50}},tooltip:{formatter:function(){return\"<strong>\"+this.series.xAxis.categories[this.point.x]+\"</strong> at <strong>\"+this.series.yAxis.categories[this.point.y]+\"</strong><br><atrong>\"+numeral(this.point.z).format(\"0.00\")+\"</strong> mentions\"}},yAxis:{categories:[\"00 - 05\",\"06 - 11\",\"12 - 17\",\"18 - 23\"],min:0,max:3,title:{text:\"\"}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{color:\"#1D91B7\",data:[]}]});let e=this.parent.search;e.limit=10,APP.apiGet({path:\"mentions/average-daily-mentions\",data:e,success:function(e){e=e.items;let i=[],a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const t in e){let s=e[t];for(const e in s)i.push({x:a[e],y:parseInt(t-1),total:s[e],z:s[e]})}var s=_.filter(i,(function(t){return 0!=t.total})).length;this.update({isLoading:!1}),0===s?this.update({notdata:!0}):this.update({notdata:!1}),t.series[0].setData(i)}.bind(this)})}}))},function(t,e,i){i(0).tag2(\"interactionmetric\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullseye-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> INTERACTION METRICS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"interactionrate\" data-highcharts-chart=\"35\"> </div> </div> </div>',\"\",\"\",(function(t){this.items=[],this.intechart={},this.isLoading=!0,this.render=t=>{this.update({isLoading:!1});t.amplification;APP.log(\"healt-interaction-metric: render\");var e=Highcharts.chart(\"interactionrate\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Interaction Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"conversation rate\"},labels:{format:\"{value:,1f} %\"},plotLines:[{}]},exporting:{enabled:!1},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"applause rate\"},labels:{format:\"{value:,1f} %\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3>{point.country}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>amplification rate :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:100}},series:[{name:\"Twitter\",color:\"#1DA1F2\",data:[{x:69,y:90,z:0,name:\"Tw\",country:\"Twitter\"}]},{name:\"Facebook\",color:\"#3B5998\",data:[{x:100,y:110,z:0,name:\"Fb\",country:\"Facebook\"}]},{name:\"Instagram\",color:\"#C3317E\",data:[{x:86,y:30,z:0,name:\"Ig\",country:\"Instagram\"}]},{name:\"Overall\",color:\"#aaa\",data:[{x:86.5,y:80,z:0,name:\"All\",country:\"Overall\"}]}]});let i=t.twitter?t.twitter.postsCount:1,a=t.facebook?t.facebook.postsCount:1,s=t.instagram?t.instagram.postsCount:1,o=t.twitter?t.twitter.commentsCount:0,r=t.twitter?t.twitter.likesCount:0,n=t.twitter?t.twitter.sharesCount:0;e.series[0].setData([{x:o/i,y:r/i,z:n/i,name:\"Tw\",country:\"Twitter\"}]);let l=t.facebook?t.facebook.commentsCount:0,c=t.facebook?t.facebook.likesCount:0,d=t.facebook?t.facebook.sharesCount:0;e.series[1].setData([{x:l/a,y:c/a,z:d/a,name:\"FB\",country:\"Facebook\"}]);let h=t.instagram?t.instagram.commentsCount:0,m=t.instagram?t.instagram.likesCount:0,u=t.instagram?t.instagram.sharesCount:0;e.series[2].setData([{x:h/s,y:m/s,z:u/s,name:\"IG\",country:\"Instagram\"}]);let p=(o+l+h)/(i+a+s),g=(r+c+m)/(i+a+s),v=(n+d+u)/(i+a+s);e.series[3].setData([{x:p,y:g,z:v,name:\"ALL\",country:\"Overall\"}])}}))},function(t,e,i){i(0).tag2(\"sentimentchannels\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SENTIMENT PER CHANNEL </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"sentimentchannel\" data-highcharts-chart=\"35\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.items=[],this.chart={},this.isLoading=!0,this.reload=()=>{this.isLoading=!0,this.update({isLoading:!0});let t=this.parent.search,e=this;async.parallel({sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.render(i.sentiment),e.update({isLoading:!1})}))},this.render=t=>{if(setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.notdata=!0,!(t.facebook||t.twitter||t.instagram))return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),APP.log(\"healt-sentiment-channel: render\");var e=Highcharts.chart(\"sentimentchannel\",{chart:{type:\"column\"},title:{text:\"\"},xAxis:{categories:[\"Twitter\",\"Facebook\",\"Instagram\",\"Overall\"]},colors:[\"#A3C85E\",\"#F3D760\",\"#E16976\"],yAxis:{min:0,title:{text:\"\"}},legend:{enabled:!0},credits:{enabled:!1},tooltip:{pointFormat:'<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:\"percent\"}},exporting:{enabled:!1},series:[{name:\"Positive\",pointWidth:55,data:[0,0,0,0]},{name:\"Neutral\",pointWidth:55,data:[0,0,0,0]},{name:\"Negative\",data:[0,0,0,0],pointWidth:55}]});let i=t.twitter?t.twitter.positiveCount:0,a=t.facebook?t.facebook.positiveCount:0,s=t.instagram?t.instagram.positiveCount:0;e.series[0].setData([i,a,s,i+a+s]),i=t.twitter?t.twitter.neutralCount:0,a=t.facebook?t.facebook.neutralCount:0,s=t.instagram?t.instagram.neutralCount:0,e.series[1].setData([i,a,s,i+a+s]),i=t.twitter?t.twitter.negativeCount:0,a=t.facebook?t.facebook.negativeCount:0,s=t.instagram?t.instagram.negativeCount:0,e.series[2].setData([i,a,s,i+a+s]),this.update({items:t,isLoading:!1})}}))},function(t,e,i){i(0).tag2(\"summarydigitalhelat\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-body pd-0 bd-color-gray-lighter \"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\" class=\"tx-10 \"></th> <th scope=\"col\" class=\"text-right\">FOLLOWERS</th> <th scope=\"col\" class=\"text-right\"> POT REACH </th> <th scope=\"col\" class=\"text-right\">POSITIVE</th> <th scope=\"col\" class=\"text-right\">AMPLIFICATION </th> <th scope=\"col\" class=\"text-right\">CONVERSATION </th> <th scope=\"col\" class=\"text-right\">APPLAUSE </th> <th scope=\"col\" class=\"text-right\">REGULAR POST </th> </tr> </thead> <tbody> <tr> <th data-label=\"SERVICE\" scope=\"row\">Facebook</th> <td data-label=\"FOLLOWERS\" class=\"text-right\">{items.facebook ? items.facebook.followerTotal.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POT REACH\" class=\"text-right\">{items[\\'reachfb\\'] ? items[\\'reachfb\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POSITIVE\" class=\"text-right\">{sent.facebook ? sent.facebook.positiveCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"AMPLIFICATION\" class=\"text-right\">{items[\\'amplificationfb\\'] ? items[\\'amplificationfb\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"CONVERSATION\" class=\"text-right\">{items[\\'conversationfb\\'] ? items[\\'conversationfb\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) :0}</td> <td data-label=\"APPLAUSE\" class=\"text-right\">{items[\\'applausefb\\'] ? items[\\'applausefb\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"REGULAR POST\" class=\"text-right\">{items.facebook ? items.facebook.postsCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> </tr> <tr> <th data-label=\"SERVICE\" scope=\"row\">Twitter</th> <td data-label=\"FOLLOWERS\" class=\"text-right\">{items.twitter ? items.twitter.followerTotal.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POT REACH\" class=\"text-right\">{items[\\'reachtw\\'] ? items[\\'reachtw\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POSITIVE\" class=\"text-right\">{sent.twitter ? sent.twitter.positiveCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"AMPLIFICATION\" class=\"text-right\">{items[\\'amplificationtw\\'] ? items[\\'amplificationtw\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"CONVERSATION\" class=\"text-right\">{items[\\'conversationtw\\'] ? items[\\'conversationtw\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) :0}</td> <td data-label=\"APPLAUSE\" class=\"text-right\">{items[\\'applausetw\\'] ? items[\\'applausetw\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"REGULAR POST\" class=\"text-right\">{items.twitter ? items.twitter.postsCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> </tr> <tr> <th data-label=\"SERVICE\" scope=\"row\">Instagram</th> <td data-label=\"FOLLOWERS\" class=\"text-right\">{items.instagram ? items.instagram.followerTotal.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POT REACH\" class=\"text-right\">{items[\\'reachig\\'] ? items[\\'reachig\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"POSITIVE\" class=\"text-right\">{sent.instagram ? sent.instagram.positiveCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"AMPLIFICATION\" class=\"text-right\">{items[\\'amplificationig\\'] ? items[\\'amplificationig\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"CONVERSATION\" class=\"text-right\">{items[\\'conversationig\\'] ? items[\\'conversationig\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) :0}</td> <td data-label=\"APPLAUSE\" class=\"text-right\">{items[\\'applauseig\\'] ? items[\\'applauseig\\'].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> <td data-label=\"REGULAR POST\" class=\"text-right\">{items.instagram ? items.instagram.postsCount.toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</td> </tr> </tbody> </table> </div> </div> <div class=\"card-footer textcenter\" if=\"{total == 0}\"> <a href=\"#\"> NO DATA</a> </div> </div> </div>',\"\",\"\",(function(t){this.items=[],this.sent=[],this.reload=()=>{this.isLoading=!0,this.update({isLoading:!0});let t=this.parent.search,e=this;async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.render(i.index,i.sentiment),e.update({isLoading:!1})}))},this.render=(t,e)=>{APP.log(\"healt-summary: render\"),this.jumlahsent=e;let i=t.twitter?t.twitter.postsCount:0;i+=t.facebook?t.facebook.postsCount:0,i+=t.instagram?t.instagram.postsCount:0;let a=t.twitter?t.twitter.postsCount:0,s=t.facebook?t.facebook.postsCount:0,o=t.instagram?t.instagram.postsCount:0,r=e.twitter?e.twitter.positiveCount:0;r+=e.facebook?e.facebook.positiveCount:0,r+=e.instagram?e.instagram.positiveCount:0,t.positiveSentiment=r/i,APP.log(\"items -> \"+t.positiveSentiment),t.positiveSentiment=_.isFinite(t.positiveSentiment)?t.positiveSentiment:0,APP.log(\"items -> \"+t.positiveSentiment);let n=t.twitter?t.twitter.followerTotal:0;t.reachtw=n;let l=t.facebook?t.facebook.followerTotal:0;t.reachfb=l;let c=t.instagram?t.instagram.followerTotal:0;t.reachig=c;let d=t.twitter?t.twitter.likesCount:0;t.applausetw=d/a;let h=t.facebook?t.facebook.likesCount:0;t.applausefb=h/s;let m=t.instagram?t.instagram.likesCount:0;t.applauseig=m/o;let u=t.twitter?t.twitter.commentsCount:0;t.conversationtw=u/a;let p=t.facebook?t.facebook.commentsCount:0;t.conversationfb=p/s;let g=t.instagram?t.instagram.commentsCount:0;t.conversationig=g/o;let v=t.twitter?t.twitter.sharesCount:0;t.amplificationtw=v/a;let f=t.facebook?t.facebook.sharesCount:0;t.amplificationfb=f/s;let b=t.instagram?t.instagram.sharesCount:0;t.amplificationig=b/o,this.update({items:t,sent:this.jumlahsent,isLoading:!1})}}))},function(t,e,i){i(0).tag2(\"totalhealtindex\",'<a each=\"{sentiment}\" class=\"btn totalbuzzer btn-icon mg-r-5 mg-t-10 widtbuzzer totalbuzzer shadow-base\" id=\"sent\"> <span class=\" pull-right cursor-default totalbuzzername\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{tooltip}\">?</span> <img riot-src=\"{icon}\" width=\"15\" height=\"15\" class=\"mg-r-5\"> <span class=\"tx-roboto tx-bold\" style=\"color: #868ba1;\"> {name} </span> </i> <h6 class=\"mg-t-5 colorblack\" if=\"{!isLoading}\">{items[brand] ? items[brand].toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0}</h6> <h6 if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" height: 4 mg-t-5></img> </h6> <p class=\"mg-t-m-10\" if=\"{!isLoading}\" riot-style=\"color:{itemsEnd[coloricon]}\"><i class=\"{itemsEnd[fonticon]}\"></i> {itemsEnd[brand] ? Math.abs(itemsEnd[brand]).toLocaleString(\\'en\\',{maximumFractionDigits: 1}) : 0} %</p> </a>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sentiment=[{id:\"neutral\",total:null,name:\"POTENTIAL REACH\",selected:!0,color:\"count-txt color-orange-500\",icon:\"assets/img/image/potential-grey.png\",fonticon:\"reachicon\",coloricon:\"reachcolor\",brand:\"reach\",tooltip:\"Potential reach is the estimated number of people that could have had contact with social media mentions from your buzzer(s). Potential Reach is based on the number buzzers, the number of their followers/subscribers/friends and the typical visibility percentage for the selected social networks (this percentage describes how many of their friends / followers on average actually see their posts)\"},{id:\"positive\",total:null,name:\"POSITIVE SENTIMENT RATE\",selected:!0,color:\"count-txt color-green-500\",icon:\"assets/img/svg/thumbs-up-grey.png\",fonticon:\"sentimenticon\",coloricon:\"sentimentcolor\",brand:\"positiveSentiment\",tooltip:\"The number mentions with potentially positive sentiment\"},{id:\"negative\",total:null,name:\"APPLAUSE RATE\",selected:!0,color:\"count-txt color-red-500\",icon:\"assets/img/image/love-grey.png\",fonticon:\"applauseicon\",coloricon:\"applausecolor\",brand:\"applause\",tooltip:\"The number of approval actions, or virtual “applause,” you get from your audience per social media post, including likes, thumbs-ups, favorites, etc.\"},{id:\"neutral\",total:null,name:\"CONVERSATION RATE \",selected:!0,color:\"count-txt color-orange-500\",icon:\"assets/img/image/chats-grey.png\",fonticon:\"conversationicon\",coloricon:\"conversationcolor\",brand:\"conversation\",tooltip:\"The number of conversations going on per social media post. On Facebook and Instagram, this will be comments. On Twitter, it’s replies\"},{id:\"positive\",total:null,name:\"AMPLIFICATION RATE\",selected:!0,color:\"count-txt color-green-500\",icon:\"assets/img/image/retweet-grey.png\",fonticon:\"amplificationicon\",coloricon:\"amplificationcolor\",brand:\"amplification\",tooltip:\"The number of shares on average for each social media post. On Facebook this will be shares. On Twitter, it’s retweets\"}],this.on(\"mount\",()=>{a()}),this.items=[],this.itemsEnd=[],this.renderenddate=()=>{let t=_.clone(this.parent.search),e=new Date(t.since),i=new Date(t.until);var a=(i-e)/864e5,s=new Date(i-24*a*60*60*1e3),o=new Date(e-24*a*60*60*1e3);t.since=moment(o).format(\"YYYY-MM-DD\"),t.until=moment(s).format(\"YYYY-MM-DD\"),async.parallel({index:e=>{APP.apiGet({path:\"health\",data:t,success:(t,i)=>{e(null,t)}})},sentiment:e=>{APP.apiGet({path:\"health/sentiment\",data:t,success:t=>{e(null,t)}})}},(t,e)=>{this.renderdataend(e.index,e.sentiment),this.update({isLoading:!1})})},this.renderdataend=(t,e)=>{t=t.items,this.update({itemsEnd:i(t,e),isLoading:!1}),this.totaljumlahrnd()},this.dataEnd=[];var e=function(t,e){if(0===e&&t>0)return[100,\"fa fa-caret-up\",\"#90ee7e\"];if(0===e&&0===t)return[0,\"fa fa-minus\",\"#d2dc35\"];if(0===t)return[100,\"fa fa-caret-down\",\"#dc3545\"];let i=\"\",a=\"\";return t>e?(i=\"fa fa-caret-up\",a=\"#90ee7e\"):t===e?(i=\"fa fa-minus\",a=\"#d2dc35\"):(i=\"fa fa-caret-down\",a=\"#dc3545\"),[(t-e)/e*100,i,a]};this.totaljumlahrnd=()=>{let t=this.items,i=this.itemsEnd,a=[];const s=e(t.positiveSentiment,i.positiveSentiment),o=s[0],r=s[1],n=s[2],l=e(t.reach,i.reach),c=l[0],d=l[1],h=l[2],m=e(t.applause,i.applause),u=m[0],p=m[1],g=m[2],v=e(t.conversation,i.conversation),f=v[0],b=v[1],y=v[2],x=e(t.amplification,i.amplification),w=x[0],_=x[1],k=x[2];a.positiveSentiment=o,a.sentimenticon=r,a.sentimentcolor=n,a.reach=c,a.reachicon=d,a.reachcolor=h,a.applause=u,a.applauseicon=p,a.applausecolor=g,a.conversation=f,a.conversationicon=b,a.conversationcolor=y,a.amplification=w,a.amplificationicon=_,a.amplificationcolor=k,this.update({itemsEnd:a,isLoading:!1})};var i=function(t,e){let i=t.twitter?t.twitter.postsCount:0;i+=t.facebook?t.facebook.postsCount:0,i+=t.instagram?t.instagram.postsCount:0;let a=e.twitter?e.twitter.positiveCount:0;a+=e.facebook?e.facebook.positiveCount:0,a+=e.instagram?e.instagram.positiveCount:0,t.positiveSentiment=a/i,t.positiveSentiment=_.isFinite(t.positiveSentiment)?t.positiveSentiment:0;let s=t.twitter?t.twitter.followerTotal:0;s+=t.facebook?t.facebook.followerTotal:0,s+=t.instagram?t.instagram.followerTotal:0,t.reach=s;let o=t.twitter?t.twitter.likesCount:0;o+=t.facebook?t.facebook.likesCount:0,o+=t.instagram?t.instagram.likesCount:0,t.applause=o/i;let r=t.twitter?t.twitter.commentsCount:0;r+=t.facebook?t.facebook.commentsCount:0,r+=t.instagram?t.instagram.commentsCount:0,t.conversation=r/i;let n=t.twitter?t.twitter.sharesCount:0;return n+=t.facebook?t.facebook.sharesCount:0,n+=t.instagram?t.instagram.sharesCount:0,t.amplification=n/i,t};function a(){var t=$(\"#totalbuzzer\").width();if(t>500){$(\"#totalbuzzer\").css({\"padding-right\":\"0px\"});var e=(t-50)/5;if(t<1066)e=203.2;for(var i=document.getElementsByClassName(\"widtbuzzer\"),a=0;a<i.length;a++)i[a].style.width=e+\"px\"}else{i=document.getElementsByClassName(\"widtbuzzer\");$(\"#totalbuzzer\").css({\"padding-right\":\"10px\"});for(a=0;a<i.length;a++)i[a].style.width=\"100%\"}}this.render=(t,e)=>{APP.log(\"healt-summary: render\"),this.renderenddate(),this.update({items:i(t,e)})},window.onload=function(){a()},window.onresize=function(){a()}}))},function(t,e,i){\"undefined\"!=typeof window&&window,t.exports=function(t){t=t||{};var e={},i=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(i,a){return\"function\"==typeof a&&(e[i]=e[i]||[]).push(a),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,a){if(\"*\"!=i||a)if(a)for(var s,o=e[i],r=0;s=o&&o[r];++r)s==a&&o.splice(r--,1);else delete e[i];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,i){return t.on(e,(function a(){t.off(e,a),i.apply(t,arguments)}))},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(a){var s,o,r,n=arguments.length-1,l=new Array(n);for(r=0;r<n;r++)l[r]=arguments[r+1];for(s=i.call(e[a]||[],0),r=0;o=s[r];++r)o.apply(t,l);return e[\"*\"]&&\"*\"!=a&&t.trigger.apply(t,[\"*\",a].concat(l)),t},enumerable:!1,writable:!1,configurable:!1}}),t}},function(t,e,i){(function(t,a){var s;\n/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */(function(){var o=\"Expected a function\",r=\"__lodash_placeholder__\",n=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]],l=\"[object Arguments]\",c=\"[object Array]\",d=\"[object Boolean]\",h=\"[object Date]\",m=\"[object Error]\",u=\"[object Function]\",p=\"[object GeneratorFunction]\",g=\"[object Map]\",v=\"[object Number]\",f=\"[object Object]\",b=\"[object RegExp]\",y=\"[object Set]\",x=\"[object String]\",w=\"[object Symbol]\",_=\"[object WeakMap]\",k=\"[object ArrayBuffer]\",P=\"[object DataView]\",A=\"[object Float32Array]\",j=\"[object Float64Array]\",S=\"[object Int8Array]\",L=\"[object Int16Array]\",T=\"[object Int32Array]\",C=\"[object Uint8Array]\",z=\"[object Uint16Array]\",I=\"[object Uint32Array]\",E=/\\b__p \\+= '';/g,M=/\\b(__p \\+=) '' \\+/g,O=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>\"']/g,R=RegExp(D.source),$=RegExp(N.source),F=/<%-([\\s\\S]+?)%>/g,B=/<%([\\s\\S]+?)%>/g,Y=/<%=([\\s\\S]+?)%>/g,U=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,H=/^\\w*$/,G=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,q=/[\\\\^$.*+?()[\\]{}|]/g,V=RegExp(q.source),W=/^\\s+/,J=/\\s/,K=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Z=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,X=/,? & /,Q=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,tt=/[()=,{}\\[\\]\\/\\s]/,et=/\\\\(\\\\)?/g,it=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,at=/\\w*$/,st=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,rt=/^\\[object .+?Constructor\\]$/,nt=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\\d*)$/,ct=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,dt=/($^)/,ht=/['\\n\\r\\u2028\\u2029\\\\]/g,mt=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",ut=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",pt=\"[\\\\ud800-\\\\udfff]\",gt=\"[\"+ut+\"]\",vt=\"[\"+mt+\"]\",ft=\"\\\\d+\",bt=\"[\\\\u2700-\\\\u27bf]\",yt=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",xt=\"[^\\\\ud800-\\\\udfff\"+ut+ft+\"\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",wt=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",_t=\"[^\\\\ud800-\\\\udfff]\",kt=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Pt=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",At=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",jt=\"(?:\"+yt+\"|\"+xt+\")\",St=\"(?:\"+At+\"|\"+xt+\")\",Lt=\"(?:\"+vt+\"|\"+wt+\")\"+\"?\",Tt=\"[\\\\ufe0e\\\\ufe0f]?\"+Lt+(\"(?:\\\\u200d(?:\"+[_t,kt,Pt].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+Lt+\")*\"),Ct=\"(?:\"+[bt,kt,Pt].join(\"|\")+\")\"+Tt,zt=\"(?:\"+[_t+vt+\"?\",vt,kt,Pt,pt].join(\"|\")+\")\",It=RegExp(\"['’]\",\"g\"),Et=RegExp(vt,\"g\"),Mt=RegExp(wt+\"(?=\"+wt+\")|\"+zt+Tt,\"g\"),Ot=RegExp([At+\"?\"+yt+\"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=\"+[gt,At,\"$\"].join(\"|\")+\")\",St+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=\"+[gt,At+jt,\"$\"].join(\"|\")+\")\",At+\"?\"+jt+\"+(?:['’](?:d|ll|m|re|s|t|ve))?\",At+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",ft,Ct].join(\"|\"),\"g\"),Dt=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+mt+\"\\\\ufe0e\\\\ufe0f]\"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],$t=-1,Ft={};Ft[A]=Ft[j]=Ft[S]=Ft[L]=Ft[T]=Ft[C]=Ft[\"[object Uint8ClampedArray]\"]=Ft[z]=Ft[I]=!0,Ft[l]=Ft[c]=Ft[k]=Ft[d]=Ft[P]=Ft[h]=Ft[m]=Ft[u]=Ft[g]=Ft[v]=Ft[f]=Ft[b]=Ft[y]=Ft[x]=Ft[_]=!1;var Bt={};Bt[l]=Bt[c]=Bt[k]=Bt[P]=Bt[d]=Bt[h]=Bt[A]=Bt[j]=Bt[S]=Bt[L]=Bt[T]=Bt[g]=Bt[v]=Bt[f]=Bt[b]=Bt[y]=Bt[x]=Bt[w]=Bt[C]=Bt[\"[object Uint8ClampedArray]\"]=Bt[z]=Bt[I]=!0,Bt[m]=Bt[u]=Bt[_]=!1;var Yt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Ut=parseFloat,Ht=parseInt,Gt=\"object\"==typeof t&&t&&t.Object===Object&&t,qt=\"object\"==typeof self&&self&&self.Object===Object&&self,Vt=Gt||qt||Function(\"return this\")(),Wt=e&&!e.nodeType&&e,Jt=Wt&&\"object\"==typeof a&&a&&!a.nodeType&&a,Kt=Jt&&Jt.exports===Wt,Zt=Kt&&Gt.process,Xt=function(){try{var t=Jt&&Jt.require&&Jt.require(\"util\").types;return t||Zt&&Zt.binding&&Zt.binding(\"util\")}catch(t){}}(),Qt=Xt&&Xt.isArrayBuffer,te=Xt&&Xt.isDate,ee=Xt&&Xt.isMap,ie=Xt&&Xt.isRegExp,ae=Xt&&Xt.isSet,se=Xt&&Xt.isTypedArray;function oe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function re(t,e,i,a){for(var s=-1,o=null==t?0:t.length;++s<o;){var r=t[s];e(a,r,i(r),t)}return a}function ne(t,e){for(var i=-1,a=null==t?0:t.length;++i<a&&!1!==e(t[i],i,t););return t}function le(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function ce(t,e){for(var i=-1,a=null==t?0:t.length;++i<a;)if(!e(t[i],i,t))return!1;return!0}function de(t,e){for(var i=-1,a=null==t?0:t.length,s=0,o=[];++i<a;){var r=t[i];e(r,i,t)&&(o[s++]=r)}return o}function he(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function me(t,e,i){for(var a=-1,s=null==t?0:t.length;++a<s;)if(i(e,t[a]))return!0;return!1}function ue(t,e){for(var i=-1,a=null==t?0:t.length,s=Array(a);++i<a;)s[i]=e(t[i],i,t);return s}function pe(t,e){for(var i=-1,a=e.length,s=t.length;++i<a;)t[s+i]=e[i];return t}function ge(t,e,i,a){var s=-1,o=null==t?0:t.length;for(a&&o&&(i=t[++s]);++s<o;)i=e(i,t[s],s,t);return i}function ve(t,e,i,a){var s=null==t?0:t.length;for(a&&s&&(i=t[--s]);s--;)i=e(i,t[s],s,t);return i}function fe(t,e){for(var i=-1,a=null==t?0:t.length;++i<a;)if(e(t[i],i,t))return!0;return!1}var be=Ae(\"length\");function ye(t,e,i){var a;return i(t,(function(t,i,s){if(e(t,i,s))return a=i,!1})),a}function xe(t,e,i,a){for(var s=t.length,o=i+(a?1:-1);a?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function we(t,e,i){return e==e?function(t,e,i){var a=i-1,s=t.length;for(;++a<s;)if(t[a]===e)return a;return-1}(t,e,i):xe(t,ke,i)}function _e(t,e,i,a){for(var s=i-1,o=t.length;++s<o;)if(a(t[s],e))return s;return-1}function ke(t){return t!=t}function Pe(t,e){var i=null==t?0:t.length;return i?Le(t,e)/i:NaN}function Ae(t){return function(e){return null==e?void 0:e[t]}}function je(t){return function(e){return null==t?void 0:t[e]}}function Se(t,e,i,a,s){return s(t,(function(t,s,o){i=a?(a=!1,t):e(i,t,s,o)})),i}function Le(t,e){for(var i,a=-1,s=t.length;++a<s;){var o=e(t[a]);void 0!==o&&(i=void 0===i?o:i+o)}return i}function Te(t,e){for(var i=-1,a=Array(t);++i<t;)a[i]=e(i);return a}function Ce(t){return t?t.slice(0,We(t)+1).replace(W,\"\"):t}function ze(t){return function(e){return t(e)}}function Ie(t,e){return ue(e,(function(e){return t[e]}))}function Ee(t,e){return t.has(e)}function Me(t,e){for(var i=-1,a=t.length;++i<a&&we(e,t[i],0)>-1;);return i}function Oe(t,e){for(var i=t.length;i--&&we(e,t[i],0)>-1;);return i}function De(t,e){for(var i=t.length,a=0;i--;)t[i]===e&&++a;return a}var Ne=je({\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ą\":\"A\",\"ā\":\"a\",\"ă\":\"a\",\"ą\":\"a\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"Ď\":\"D\",\"Đ\":\"D\",\"ď\":\"d\",\"đ\":\"d\",\"Ē\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ę\":\"E\",\"Ě\":\"E\",\"ē\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ę\":\"e\",\"ě\":\"e\",\"Ĝ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ģ\":\"G\",\"ĝ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"Ħ\":\"H\",\"ĥ\":\"h\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"Į\":\"I\",\"İ\":\"I\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"į\":\"i\",\"ı\":\"i\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"Ļ\":\"L\",\"Ľ\":\"L\",\"Ŀ\":\"L\",\"Ł\":\"L\",\"ĺ\":\"l\",\"ļ\":\"l\",\"ľ\":\"l\",\"ŀ\":\"l\",\"ł\":\"l\",\"Ń\":\"N\",\"Ņ\":\"N\",\"Ň\":\"N\",\"Ŋ\":\"N\",\"ń\":\"n\",\"ņ\":\"n\",\"ň\":\"n\",\"ŋ\":\"n\",\"Ō\":\"O\",\"Ŏ\":\"O\",\"Ő\":\"O\",\"ō\":\"o\",\"ŏ\":\"o\",\"ő\":\"o\",\"Ŕ\":\"R\",\"Ŗ\":\"R\",\"Ř\":\"R\",\"ŕ\":\"r\",\"ŗ\":\"r\",\"ř\":\"r\",\"Ś\":\"S\",\"Ŝ\":\"S\",\"Ş\":\"S\",\"Š\":\"S\",\"ś\":\"s\",\"ŝ\":\"s\",\"ş\":\"s\",\"š\":\"s\",\"Ţ\":\"T\",\"Ť\":\"T\",\"Ŧ\":\"T\",\"ţ\":\"t\",\"ť\":\"t\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"Ū\":\"U\",\"Ŭ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ų\":\"U\",\"ũ\":\"u\",\"ū\":\"u\",\"ŭ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"ź\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Œ\":\"Oe\",\"œ\":\"oe\",\"ŉ\":\"'n\",\"ſ\":\"s\"}),Re=je({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function $e(t){return\"\\\\\"+Yt[t]}function Fe(t){return Dt.test(t)}function Be(t){var e=-1,i=Array(t.size);return t.forEach((function(t,a){i[++e]=[a,t]})),i}function Ye(t,e){return function(i){return t(e(i))}}function Ue(t,e){for(var i=-1,a=t.length,s=0,o=[];++i<a;){var n=t[i];n!==e&&n!==r||(t[i]=r,o[s++]=i)}return o}function He(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function Ge(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function qe(t){return Fe(t)?function(t){var e=Mt.lastIndex=0;for(;Mt.test(t);)++e;return e}(t):be(t)}function Ve(t){return Fe(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.split(\"\")}(t)}function We(t){for(var e=t.length;e--&&J.test(t.charAt(e)););return e}var Je=je({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var Ke=function t(e){var i,a=(e=null==e?Vt:Ke.defaults(Vt.Object(),e,Ke.pick(Vt,Rt))).Array,s=e.Date,J=e.Error,mt=e.Function,ut=e.Math,pt=e.Object,gt=e.RegExp,vt=e.String,ft=e.TypeError,bt=a.prototype,yt=mt.prototype,xt=pt.prototype,wt=e[\"__core-js_shared__\"],_t=yt.toString,kt=xt.hasOwnProperty,Pt=0,At=(i=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+i:\"\",jt=xt.toString,St=_t.call(pt),Lt=Vt._,Tt=gt(\"^\"+_t.call(kt).replace(q,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ct=Kt?e.Buffer:void 0,zt=e.Symbol,Mt=e.Uint8Array,Dt=Ct?Ct.allocUnsafe:void 0,Yt=Ye(pt.getPrototypeOf,pt),Gt=pt.create,qt=xt.propertyIsEnumerable,Wt=bt.splice,Jt=zt?zt.isConcatSpreadable:void 0,Zt=zt?zt.iterator:void 0,Xt=zt?zt.toStringTag:void 0,be=function(){try{var t=Qs(pt,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}(),je=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ze=s&&s.now!==Vt.Date.now&&s.now,Xe=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Qe=ut.ceil,ti=ut.floor,ei=pt.getOwnPropertySymbols,ii=Ct?Ct.isBuffer:void 0,ai=e.isFinite,si=bt.join,oi=Ye(pt.keys,pt),ri=ut.max,ni=ut.min,li=s.now,ci=e.parseInt,di=ut.random,hi=bt.reverse,mi=Qs(e,\"DataView\"),ui=Qs(e,\"Map\"),pi=Qs(e,\"Promise\"),gi=Qs(e,\"Set\"),vi=Qs(e,\"WeakMap\"),fi=Qs(pt,\"create\"),bi=vi&&new vi,yi={},xi=So(mi),wi=So(ui),_i=So(pi),ki=So(gi),Pi=So(vi),Ai=zt?zt.prototype:void 0,ji=Ai?Ai.valueOf:void 0,Si=Ai?Ai.toString:void 0;function Li(t){if(Hr(t)&&!Er(t)&&!(t instanceof Ii)){if(t instanceof zi)return t;if(kt.call(t,\"__wrapped__\"))return Lo(t)}return new zi(t)}var Ti=function(){function t(){}return function(e){if(!Ur(e))return{};if(Gt)return Gt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Ci(){}function zi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Ii(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ei(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function Mi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function Oi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function Di(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Oi;++e<i;)this.add(t[e])}function Ni(t){var e=this.__data__=new Mi(t);this.size=e.size}function Ri(t,e){var i=Er(t),a=!i&&Ir(t),s=!i&&!a&&Nr(t),o=!i&&!a&&!s&&Xr(t),r=i||a||s||o,n=r?Te(t.length,vt):[],l=n.length;for(var c in t)!e&&!kt.call(t,c)||r&&(\"length\"==c||s&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||ro(c,l))||n.push(c);return n}function $i(t){var e=t.length;return e?t[Da(0,e-1)]:void 0}function Fi(t,e){return Po(fs(t),Ji(e,0,t.length))}function Bi(t){return Po(fs(t))}function Yi(t,e,i){(void 0!==i&&!Tr(t[e],i)||void 0===i&&!(e in t))&&Vi(t,e,i)}function Ui(t,e,i){var a=t[e];kt.call(t,e)&&Tr(a,i)&&(void 0!==i||e in t)||Vi(t,e,i)}function Hi(t,e){for(var i=t.length;i--;)if(Tr(t[i][0],e))return i;return-1}function Gi(t,e,i,a){return ta(t,(function(t,s,o){e(a,t,i(t),o)})),a}function qi(t,e){return t&&bs(e,wn(e),t)}function Vi(t,e,i){\"__proto__\"==e&&be?be(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Wi(t,e){for(var i=-1,s=e.length,o=a(s),r=null==t;++i<s;)o[i]=r?void 0:vn(t,e[i]);return o}function Ji(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function Ki(t,e,i,a,s,o){var r,n=1&e,c=2&e,m=4&e;if(i&&(r=s?i(t,a,s,o):i(t)),void 0!==r)return r;if(!Ur(t))return t;var _=Er(t);if(_){if(r=function(t){var e=t.length,i=new t.constructor(e);e&&\"string\"==typeof t[0]&&kt.call(t,\"index\")&&(i.index=t.index,i.input=t.input);return i}(t),!n)return fs(t,r)}else{var E=io(t),M=E==u||E==p;if(Nr(t))return hs(t,n);if(E==f||E==l||M&&!s){if(r=c||M?{}:so(t),!n)return c?function(t,e){return bs(t,eo(t),e)}(t,function(t,e){return t&&bs(e,_n(e),t)}(r,t)):function(t,e){return bs(t,to(t),e)}(t,qi(r,t))}else{if(!Bt[E])return s?t:{};r=function(t,e,i){var a=t.constructor;switch(e){case k:return ms(t);case d:case h:return new a(+t);case P:return function(t,e){var i=e?ms(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case A:case j:case S:case L:case T:case C:case\"[object Uint8ClampedArray]\":case z:case I:return us(t,i);case g:return new a;case v:case x:return new a(t);case b:return function(t){var e=new t.constructor(t.source,at.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new a;case w:return s=t,ji?pt(ji.call(s)):{}}var s}(t,E,n)}}o||(o=new Ni);var O=o.get(t);if(O)return O;o.set(t,r),Jr(t)?t.forEach((function(a){r.add(Ki(a,e,i,a,t,o))})):Gr(t)&&t.forEach((function(a,s){r.set(s,Ki(a,e,i,s,t,o))}));var D=_?void 0:(m?c?qs:Gs:c?_n:wn)(t);return ne(D||t,(function(a,s){D&&(a=t[s=a]),Ui(r,s,Ki(a,e,i,s,t,o))})),r}function Zi(t,e,i){var a=i.length;if(null==t)return!a;for(t=pt(t);a--;){var s=i[a],o=e[s],r=t[s];if(void 0===r&&!(s in t)||!o(r))return!1}return!0}function Xi(t,e,i){if(\"function\"!=typeof t)throw new ft(o);return xo((function(){t.apply(void 0,i)}),e)}function Qi(t,e,i,a){var s=-1,o=he,r=!0,n=t.length,l=[],c=e.length;if(!n)return l;i&&(e=ue(e,ze(i))),a?(o=me,r=!1):e.length>=200&&(o=Ee,r=!1,e=new Di(e));t:for(;++s<n;){var d=t[s],h=null==i?d:i(d);if(d=a||0!==d?d:0,r&&h==h){for(var m=c;m--;)if(e[m]===h)continue t;l.push(d)}else o(e,h,a)||l.push(d)}return l}Li.templateSettings={escape:F,evaluate:B,interpolate:Y,variable:\"\",imports:{_:Li}},Li.prototype=Ci.prototype,Li.prototype.constructor=Li,zi.prototype=Ti(Ci.prototype),zi.prototype.constructor=zi,Ii.prototype=Ti(Ci.prototype),Ii.prototype.constructor=Ii,Ei.prototype.clear=function(){this.__data__=fi?fi(null):{},this.size=0},Ei.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ei.prototype.get=function(t){var e=this.__data__;if(fi){var i=e[t];return\"__lodash_hash_undefined__\"===i?void 0:i}return kt.call(e,t)?e[t]:void 0},Ei.prototype.has=function(t){var e=this.__data__;return fi?void 0!==e[t]:kt.call(e,t)},Ei.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=fi&&void 0===e?\"__lodash_hash_undefined__\":e,this},Mi.prototype.clear=function(){this.__data__=[],this.size=0},Mi.prototype.delete=function(t){var e=this.__data__,i=Hi(e,t);return!(i<0)&&(i==e.length-1?e.pop():Wt.call(e,i,1),--this.size,!0)},Mi.prototype.get=function(t){var e=this.__data__,i=Hi(e,t);return i<0?void 0:e[i][1]},Mi.prototype.has=function(t){return Hi(this.__data__,t)>-1},Mi.prototype.set=function(t,e){var i=this.__data__,a=Hi(i,t);return a<0?(++this.size,i.push([t,e])):i[a][1]=e,this},Oi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ei,map:new(ui||Mi),string:new Ei}},Oi.prototype.delete=function(t){var e=Zs(this,t).delete(t);return this.size-=e?1:0,e},Oi.prototype.get=function(t){return Zs(this,t).get(t)},Oi.prototype.has=function(t){return Zs(this,t).has(t)},Oi.prototype.set=function(t,e){var i=Zs(this,t),a=i.size;return i.set(t,e),this.size+=i.size==a?0:1,this},Di.prototype.add=Di.prototype.push=function(t){return this.__data__.set(t,\"__lodash_hash_undefined__\"),this},Di.prototype.has=function(t){return this.__data__.has(t)},Ni.prototype.clear=function(){this.__data__=new Mi,this.size=0},Ni.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ni.prototype.get=function(t){return this.__data__.get(t)},Ni.prototype.has=function(t){return this.__data__.has(t)},Ni.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Mi){var a=i.__data__;if(!ui||a.length<199)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new Oi(a)}return i.set(t,e),this.size=i.size,this};var ta=ws(la),ea=ws(ca,!0);function ia(t,e){var i=!0;return ta(t,(function(t,a,s){return i=!!e(t,a,s)})),i}function aa(t,e,i){for(var a=-1,s=t.length;++a<s;){var o=t[a],r=e(o);if(null!=r&&(void 0===n?r==r&&!Zr(r):i(r,n)))var n=r,l=o}return l}function sa(t,e){var i=[];return ta(t,(function(t,a,s){e(t,a,s)&&i.push(t)})),i}function oa(t,e,i,a,s){var o=-1,r=t.length;for(i||(i=oo),s||(s=[]);++o<r;){var n=t[o];e>0&&i(n)?e>1?oa(n,e-1,i,a,s):pe(s,n):a||(s[s.length]=n)}return s}var ra=_s(),na=_s(!0);function la(t,e){return t&&ra(t,e,wn)}function ca(t,e){return t&&na(t,e,wn)}function da(t,e){return de(e,(function(e){return Fr(t[e])}))}function ha(t,e){for(var i=0,a=(e=ns(e,t)).length;null!=t&&i<a;)t=t[jo(e[i++])];return i&&i==a?t:void 0}function ma(t,e,i){var a=e(t);return Er(t)?a:pe(a,i(t))}function ua(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":Xt&&Xt in pt(t)?function(t){var e=kt.call(t,Xt),i=t[Xt];try{t[Xt]=void 0;var a=!0}catch(t){}var s=jt.call(t);a&&(e?t[Xt]=i:delete t[Xt]);return s}(t):function(t){return jt.call(t)}(t)}function pa(t,e){return t>e}function ga(t,e){return null!=t&&kt.call(t,e)}function va(t,e){return null!=t&&e in pt(t)}function fa(t,e,i){for(var s=i?me:he,o=t[0].length,r=t.length,n=r,l=a(r),c=1/0,d=[];n--;){var h=t[n];n&&e&&(h=ue(h,ze(e))),c=ni(h.length,c),l[n]=!i&&(e||o>=120&&h.length>=120)?new Di(n&&h):void 0}h=t[0];var m=-1,u=l[0];t:for(;++m<o&&d.length<c;){var p=h[m],g=e?e(p):p;if(p=i||0!==p?p:0,!(u?Ee(u,g):s(d,g,i))){for(n=r;--n;){var v=l[n];if(!(v?Ee(v,g):s(t[n],g,i)))continue t}u&&u.push(g),d.push(p)}}return d}function ba(t,e,i){var a=null==(t=vo(t,e=ns(e,t)))?t:t[jo($o(e))];return null==a?void 0:oe(a,t,i)}function ya(t){return Hr(t)&&ua(t)==l}function xa(t,e,i,a,s){return t===e||(null==t||null==e||!Hr(t)&&!Hr(e)?t!=t&&e!=e:function(t,e,i,a,s,o){var r=Er(t),n=Er(e),u=r?c:io(t),p=n?c:io(e),_=(u=u==l?f:u)==f,A=(p=p==l?f:p)==f,j=u==p;if(j&&Nr(t)){if(!Nr(e))return!1;r=!0,_=!1}if(j&&!_)return o||(o=new Ni),r||Xr(t)?Us(t,e,i,a,s,o):function(t,e,i,a,s,o,r){switch(i){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Mt(t),new Mt(e)));case d:case h:case v:return Tr(+t,+e);case m:return t.name==e.name&&t.message==e.message;case b:case x:return t==e+\"\";case g:var n=Be;case y:var l=1&a;if(n||(n=He),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;a|=2,r.set(t,e);var u=Us(n(t),n(e),a,s,o,r);return r.delete(t),u;case w:if(ji)return ji.call(t)==ji.call(e)}return!1}(t,e,u,i,a,s,o);if(!(1&i)){var S=_&&kt.call(t,\"__wrapped__\"),L=A&&kt.call(e,\"__wrapped__\");if(S||L){var T=S?t.value():t,C=L?e.value():e;return o||(o=new Ni),s(T,C,i,a,o)}}if(!j)return!1;return o||(o=new Ni),function(t,e,i,a,s,o){var r=1&i,n=Gs(t),l=n.length,c=Gs(e).length;if(l!=c&&!r)return!1;var d=l;for(;d--;){var h=n[d];if(!(r?h in e:kt.call(e,h)))return!1}var m=o.get(t),u=o.get(e);if(m&&u)return m==e&&u==t;var p=!0;o.set(t,e),o.set(e,t);var g=r;for(;++d<l;){h=n[d];var v=t[h],f=e[h];if(a)var b=r?a(f,v,h,e,t,o):a(v,f,h,t,e,o);if(!(void 0===b?v===f||s(v,f,i,a,o):b)){p=!1;break}g||(g=\"constructor\"==h)}if(p&&!g){var y=t.constructor,x=e.constructor;y==x||!(\"constructor\"in t)||!(\"constructor\"in e)||\"function\"==typeof y&&y instanceof y&&\"function\"==typeof x&&x instanceof x||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,i,a,s,o)}(t,e,i,a,xa,s))}function wa(t,e,i,a){var s=i.length,o=s,r=!a;if(null==t)return!o;for(t=pt(t);s--;){var n=i[s];if(r&&n[2]?n[1]!==t[n[0]]:!(n[0]in t))return!1}for(;++s<o;){var l=(n=i[s])[0],c=t[l],d=n[1];if(r&&n[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Ni;if(a)var m=a(c,d,l,t,e,h);if(!(void 0===m?xa(d,c,3,a,h):m))return!1}}return!0}function _a(t){return!(!Ur(t)||(e=t,At&&At in e))&&(Fr(t)?Tt:rt).test(So(t));var e}function ka(t){return\"function\"==typeof t?t:null==t?Vn:\"object\"==typeof t?Er(t)?Ta(t[0],t[1]):La(t):il(t)}function Pa(t){if(!mo(t))return oi(t);var e=[];for(var i in pt(t))kt.call(t,i)&&\"constructor\"!=i&&e.push(i);return e}function Aa(t){if(!Ur(t))return function(t){var e=[];if(null!=t)for(var i in pt(t))e.push(i);return e}(t);var e=mo(t),i=[];for(var a in t)(\"constructor\"!=a||!e&&kt.call(t,a))&&i.push(a);return i}function ja(t,e){return t<e}function Sa(t,e){var i=-1,s=Or(t)?a(t.length):[];return ta(t,(function(t,a,o){s[++i]=e(t,a,o)})),s}function La(t){var e=Xs(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(i){return i===t||wa(i,t,e)}}function Ta(t,e){return lo(t)&&uo(e)?po(jo(t),e):function(i){var a=vn(i,t);return void 0===a&&a===e?fn(i,t):xa(e,a,3)}}function Ca(t,e,i,a,s){t!==e&&ra(e,(function(o,r){if(s||(s=new Ni),Ur(o))!function(t,e,i,a,s,o,r){var n=bo(t,i),l=bo(e,i),c=r.get(l);if(c)return void Yi(t,i,c);var d=o?o(n,l,i+\"\",t,e,r):void 0,h=void 0===d;if(h){var m=Er(l),u=!m&&Nr(l),p=!m&&!u&&Xr(l);d=l,m||u||p?Er(n)?d=n:Dr(n)?d=fs(n):u?(h=!1,d=hs(l,!0)):p?(h=!1,d=us(l,!0)):d=[]:Vr(l)||Ir(l)?(d=n,Ir(n)?d=nn(n):Ur(n)&&!Fr(n)||(d=so(l))):h=!1}h&&(r.set(l,d),s(d,l,a,o,r),r.delete(l));Yi(t,i,d)}(t,e,r,i,Ca,a,s);else{var n=a?a(bo(t,r),o,r+\"\",t,e,s):void 0;void 0===n&&(n=o),Yi(t,r,n)}}),_n)}function za(t,e){var i=t.length;if(i)return ro(e+=e<0?i:0,i)?t[e]:void 0}function Ia(t,e,i){e=e.length?ue(e,(function(t){return Er(t)?function(e){return ha(e,1===t.length?t[0]:t)}:t})):[Vn];var a=-1;return e=ue(e,ze(Ks())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(Sa(t,(function(t,i,s){return{criteria:ue(e,(function(e){return e(t)})),index:++a,value:t}})),(function(t,e){return function(t,e,i){var a=-1,s=t.criteria,o=e.criteria,r=s.length,n=i.length;for(;++a<r;){var l=ps(s[a],o[a]);if(l){if(a>=n)return l;var c=i[a];return l*(\"desc\"==c?-1:1)}}return t.index-e.index}(t,e,i)}))}function Ea(t,e,i){for(var a=-1,s=e.length,o={};++a<s;){var r=e[a],n=ha(t,r);i(n,r)&&Ba(o,ns(r,t),n)}return o}function Ma(t,e,i,a){var s=a?_e:we,o=-1,r=e.length,n=t;for(t===e&&(e=fs(e)),i&&(n=ue(t,ze(i)));++o<r;)for(var l=0,c=e[o],d=i?i(c):c;(l=s(n,d,l,a))>-1;)n!==t&&Wt.call(n,l,1),Wt.call(t,l,1);return t}function Oa(t,e){for(var i=t?e.length:0,a=i-1;i--;){var s=e[i];if(i==a||s!==o){var o=s;ro(s)?Wt.call(t,s,1):Qa(t,s)}}return t}function Da(t,e){return t+ti(di()*(e-t+1))}function Na(t,e){var i=\"\";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=ti(e/2))&&(t+=t)}while(e);return i}function Ra(t,e){return wo(go(t,e,Vn),t+\"\")}function $a(t){return $i(Cn(t))}function Fa(t,e){var i=Cn(t);return Po(i,Ji(e,0,i.length))}function Ba(t,e,i,a){if(!Ur(t))return t;for(var s=-1,o=(e=ns(e,t)).length,r=o-1,n=t;null!=n&&++s<o;){var l=jo(e[s]),c=i;if(\"__proto__\"===l||\"constructor\"===l||\"prototype\"===l)return t;if(s!=r){var d=n[l];void 0===(c=a?a(d,l,n):void 0)&&(c=Ur(d)?d:ro(e[s+1])?[]:{})}Ui(n,l,c),n=n[l]}return t}var Ya=bi?function(t,e){return bi.set(t,e),t}:Vn,Ua=be?function(t,e){return be(t,\"toString\",{configurable:!0,enumerable:!1,value:Hn(e),writable:!0})}:Vn;function Ha(t){return Po(Cn(t))}function Ga(t,e,i){var s=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var r=a(o);++s<o;)r[s]=t[s+e];return r}function qa(t,e){var i;return ta(t,(function(t,a,s){return!(i=e(t,a,s))})),!!i}function Va(t,e,i){var a=0,s=null==t?a:t.length;if(\"number\"==typeof e&&e==e&&s<=2147483647){for(;a<s;){var o=a+s>>>1,r=t[o];null!==r&&!Zr(r)&&(i?r<=e:r<e)?a=o+1:s=o}return s}return Wa(t,e,Vn,i)}function Wa(t,e,i,a){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var r=(e=i(e))!=e,n=null===e,l=Zr(e),c=void 0===e;s<o;){var d=ti((s+o)/2),h=i(t[d]),m=void 0!==h,u=null===h,p=h==h,g=Zr(h);if(r)var v=a||p;else v=c?p&&(a||m):n?p&&m&&(a||!u):l?p&&m&&!u&&(a||!g):!u&&!g&&(a?h<=e:h<e);v?s=d+1:o=d}return ni(o,4294967294)}function Ja(t,e){for(var i=-1,a=t.length,s=0,o=[];++i<a;){var r=t[i],n=e?e(r):r;if(!i||!Tr(n,l)){var l=n;o[s++]=0===r?0:r}}return o}function Ka(t){return\"number\"==typeof t?t:Zr(t)?NaN:+t}function Za(t){if(\"string\"==typeof t)return t;if(Er(t))return ue(t,Za)+\"\";if(Zr(t))return Si?Si.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-1/0?\"-0\":e}function Xa(t,e,i){var a=-1,s=he,o=t.length,r=!0,n=[],l=n;if(i)r=!1,s=me;else if(o>=200){var c=e?null:Ns(t);if(c)return He(c);r=!1,s=Ee,l=new Di}else l=e?[]:n;t:for(;++a<o;){var d=t[a],h=e?e(d):d;if(d=i||0!==d?d:0,r&&h==h){for(var m=l.length;m--;)if(l[m]===h)continue t;e&&l.push(h),n.push(d)}else s(l,h,i)||(l!==n&&l.push(h),n.push(d))}return n}function Qa(t,e){return null==(t=vo(t,e=ns(e,t)))||delete t[jo($o(e))]}function ts(t,e,i,a){return Ba(t,e,i(ha(t,e)),a)}function es(t,e,i,a){for(var s=t.length,o=a?s:-1;(a?o--:++o<s)&&e(t[o],o,t););return i?Ga(t,a?0:o,a?o+1:s):Ga(t,a?o+1:0,a?s:o)}function is(t,e){var i=t;return i instanceof Ii&&(i=i.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),i)}function as(t,e,i){var s=t.length;if(s<2)return s?Xa(t[0]):[];for(var o=-1,r=a(s);++o<s;)for(var n=t[o],l=-1;++l<s;)l!=o&&(r[o]=Qi(r[o]||n,t[l],e,i));return Xa(oa(r,1),e,i)}function ss(t,e,i){for(var a=-1,s=t.length,o=e.length,r={};++a<s;){var n=a<o?e[a]:void 0;i(r,t[a],n)}return r}function os(t){return Dr(t)?t:[]}function rs(t){return\"function\"==typeof t?t:Vn}function ns(t,e){return Er(t)?t:lo(t,e)?[t]:Ao(ln(t))}var ls=Ra;function cs(t,e,i){var a=t.length;return i=void 0===i?a:i,!e&&i>=a?t:Ga(t,e,i)}var ds=je||function(t){return Vt.clearTimeout(t)};function hs(t,e){if(e)return t.slice();var i=t.length,a=Dt?Dt(i):new t.constructor(i);return t.copy(a),a}function ms(t){var e=new t.constructor(t.byteLength);return new Mt(e).set(new Mt(t)),e}function us(t,e){var i=e?ms(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ps(t,e){if(t!==e){var i=void 0!==t,a=null===t,s=t==t,o=Zr(t),r=void 0!==e,n=null===e,l=e==e,c=Zr(e);if(!n&&!c&&!o&&t>e||o&&r&&l&&!n&&!c||a&&r&&l||!i&&l||!s)return 1;if(!a&&!o&&!c&&t<e||c&&i&&s&&!a&&!o||n&&i&&s||!r&&s||!l)return-1}return 0}function gs(t,e,i,s){for(var o=-1,r=t.length,n=i.length,l=-1,c=e.length,d=ri(r-n,0),h=a(c+d),m=!s;++l<c;)h[l]=e[l];for(;++o<n;)(m||o<r)&&(h[i[o]]=t[o]);for(;d--;)h[l++]=t[o++];return h}function vs(t,e,i,s){for(var o=-1,r=t.length,n=-1,l=i.length,c=-1,d=e.length,h=ri(r-l,0),m=a(h+d),u=!s;++o<h;)m[o]=t[o];for(var p=o;++c<d;)m[p+c]=e[c];for(;++n<l;)(u||o<r)&&(m[p+i[n]]=t[o++]);return m}function fs(t,e){var i=-1,s=t.length;for(e||(e=a(s));++i<s;)e[i]=t[i];return e}function bs(t,e,i,a){var s=!i;i||(i={});for(var o=-1,r=e.length;++o<r;){var n=e[o],l=a?a(i[n],t[n],n,i,t):void 0;void 0===l&&(l=t[n]),s?Vi(i,n,l):Ui(i,n,l)}return i}function ys(t,e){return function(i,a){var s=Er(i)?re:Gi,o=e?e():{};return s(i,t,Ks(a,2),o)}}function xs(t){return Ra((function(e,i){var a=-1,s=i.length,o=s>1?i[s-1]:void 0,r=s>2?i[2]:void 0;for(o=t.length>3&&\"function\"==typeof o?(s--,o):void 0,r&&no(i[0],i[1],r)&&(o=s<3?void 0:o,s=1),e=pt(e);++a<s;){var n=i[a];n&&t(e,n,a,o)}return e}))}function ws(t,e){return function(i,a){if(null==i)return i;if(!Or(i))return t(i,a);for(var s=i.length,o=e?s:-1,r=pt(i);(e?o--:++o<s)&&!1!==a(r[o],o,r););return i}}function _s(t){return function(e,i,a){for(var s=-1,o=pt(e),r=a(e),n=r.length;n--;){var l=r[t?n:++s];if(!1===i(o[l],l,o))break}return e}}function ks(t){return function(e){var i=Fe(e=ln(e))?Ve(e):void 0,a=i?i[0]:e.charAt(0),s=i?cs(i,1).join(\"\"):e.slice(1);return a[t]()+s}}function Ps(t){return function(e){return ge(Bn(En(e).replace(It,\"\")),t,\"\")}}function As(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ti(t.prototype),a=t.apply(i,e);return Ur(a)?a:i}}function js(t){return function(e,i,a){var s=pt(e);if(!Or(e)){var o=Ks(i,3);e=wn(e),i=function(t){return o(s[t],t,s)}}var r=t(e,i,a);return r>-1?s[o?e[r]:r]:void 0}}function Ss(t){return Hs((function(e){var i=e.length,a=i,s=zi.prototype.thru;for(t&&e.reverse();a--;){var r=e[a];if(\"function\"!=typeof r)throw new ft(o);if(s&&!n&&\"wrapper\"==Ws(r))var n=new zi([],!0)}for(a=n?a:i;++a<i;){var l=Ws(r=e[a]),c=\"wrapper\"==l?Vs(r):void 0;n=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?n[Ws(c[0])].apply(n,c[3]):1==r.length&&co(r)?n[l]():n.thru(r)}return function(){var t=arguments,a=t[0];if(n&&1==t.length&&Er(a))return n.plant(a).value();for(var s=0,o=i?e[s].apply(this,t):a;++s<i;)o=e[s].call(this,o);return o}}))}function Ls(t,e,i,s,o,r,n,l,c,d){var h=128&e,m=1&e,u=2&e,p=24&e,g=512&e,v=u?void 0:As(t);return function f(){for(var b=arguments.length,y=a(b),x=b;x--;)y[x]=arguments[x];if(p)var w=Js(f),_=De(y,w);if(s&&(y=gs(y,s,o,p)),r&&(y=vs(y,r,n,p)),b-=_,p&&b<d){var k=Ue(y,w);return Os(t,e,Ls,f.placeholder,i,y,k,l,c,d-b)}var P=m?i:this,A=u?P[t]:t;return b=y.length,l?y=fo(y,l):g&&b>1&&y.reverse(),h&&c<b&&(y.length=c),this&&this!==Vt&&this instanceof f&&(A=v||As(A)),A.apply(P,y)}}function Ts(t,e){return function(i,a){return function(t,e,i,a){return la(t,(function(t,s,o){e(a,i(t),s,o)})),a}(i,t,e(a),{})}}function Cs(t,e){return function(i,a){var s;if(void 0===i&&void 0===a)return e;if(void 0!==i&&(s=i),void 0!==a){if(void 0===s)return a;\"string\"==typeof i||\"string\"==typeof a?(i=Za(i),a=Za(a)):(i=Ka(i),a=Ka(a)),s=t(i,a)}return s}}function zs(t){return Hs((function(e){return e=ue(e,ze(Ks())),Ra((function(i){var a=this;return t(e,(function(t){return oe(t,a,i)}))}))}))}function Is(t,e){var i=(e=void 0===e?\" \":Za(e)).length;if(i<2)return i?Na(e,t):e;var a=Na(e,Qe(t/qe(e)));return Fe(e)?cs(Ve(a),0,t).join(\"\"):a.slice(0,t)}function Es(t){return function(e,i,s){return s&&\"number\"!=typeof s&&no(e,i,s)&&(i=s=void 0),e=an(e),void 0===i?(i=e,e=0):i=an(i),function(t,e,i,s){for(var o=-1,r=ri(Qe((e-t)/(i||1)),0),n=a(r);r--;)n[s?r:++o]=t,t+=i;return n}(e,i,s=void 0===s?e<i?1:-1:an(s),t)}}function Ms(t){return function(e,i){return\"string\"==typeof e&&\"string\"==typeof i||(e=rn(e),i=rn(i)),t(e,i)}}function Os(t,e,i,a,s,o,r,n,l,c){var d=8&e;e|=d?32:64,4&(e&=~(d?64:32))||(e&=-4);var h=[t,e,s,d?o:void 0,d?r:void 0,d?void 0:o,d?void 0:r,n,l,c],m=i.apply(void 0,h);return co(t)&&yo(m,h),m.placeholder=a,_o(m,t,e)}function Ds(t){var e=ut[t];return function(t,i){if(t=rn(t),(i=null==i?0:ni(sn(i),292))&&ai(t)){var a=(ln(t)+\"e\").split(\"e\");return+((a=(ln(e(a[0]+\"e\"+(+a[1]+i)))+\"e\").split(\"e\"))[0]+\"e\"+(+a[1]-i))}return e(t)}}var Ns=gi&&1/He(new gi([,-0]))[1]==1/0?function(t){return new gi(t)}:Xn;function Rs(t){return function(e){var i=io(e);return i==g?Be(e):i==y?Ge(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $s(t,e,i,s,n,l,c,d){var h=2&e;if(!h&&\"function\"!=typeof t)throw new ft(o);var m=s?s.length:0;if(m||(e&=-97,s=n=void 0),c=void 0===c?c:ri(sn(c),0),d=void 0===d?d:sn(d),m-=n?n.length:0,64&e){var u=s,p=n;s=n=void 0}var g=h?void 0:Vs(t),v=[t,e,i,s,n,u,p,l,c,d];if(g&&function(t,e){var i=t[1],a=e[1],s=i|a,o=s<131,n=128==a&&8==i||128==a&&256==i&&t[7].length<=e[8]||384==a&&e[7].length<=e[8]&&8==i;if(!o&&!n)return t;1&a&&(t[2]=e[2],s|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?gs(c,l,e[4]):l,t[4]=c?Ue(t[3],r):e[4]}(l=e[5])&&(c=t[5],t[5]=c?vs(c,l,e[6]):l,t[6]=c?Ue(t[5],r):e[6]);(l=e[7])&&(t[7]=l);128&a&&(t[8]=null==t[8]?e[8]:ni(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=s}(v,g),t=v[0],e=v[1],i=v[2],s=v[3],n=v[4],!(d=v[9]=void 0===v[9]?h?0:t.length:ri(v[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)f=8==e||16==e?function(t,e,i){var s=As(t);return function o(){for(var r=arguments.length,n=a(r),l=r,c=Js(o);l--;)n[l]=arguments[l];var d=r<3&&n[0]!==c&&n[r-1]!==c?[]:Ue(n,c);if((r-=d.length)<i)return Os(t,e,Ls,o.placeholder,void 0,n,d,void 0,void 0,i-r);var h=this&&this!==Vt&&this instanceof o?s:t;return oe(h,this,n)}}(t,e,d):32!=e&&33!=e||n.length?Ls.apply(void 0,v):function(t,e,i,s){var o=1&e,r=As(t);return function e(){for(var n=-1,l=arguments.length,c=-1,d=s.length,h=a(d+l),m=this&&this!==Vt&&this instanceof e?r:t;++c<d;)h[c]=s[c];for(;l--;)h[c++]=arguments[++n];return oe(m,o?i:this,h)}}(t,e,i,s);else var f=function(t,e,i){var a=1&e,s=As(t);return function e(){var o=this&&this!==Vt&&this instanceof e?s:t;return o.apply(a?i:this,arguments)}}(t,e,i);return _o((g?Ya:yo)(f,v),t,e)}function Fs(t,e,i,a){return void 0===t||Tr(t,xt[i])&&!kt.call(a,i)?e:t}function Bs(t,e,i,a,s,o){return Ur(t)&&Ur(e)&&(o.set(e,t),Ca(t,e,void 0,Bs,o),o.delete(e)),t}function Ys(t){return Vr(t)?void 0:t}function Us(t,e,i,a,s,o){var r=1&i,n=t.length,l=e.length;if(n!=l&&!(r&&l>n))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,m=!0,u=2&i?new Di:void 0;for(o.set(t,e),o.set(e,t);++h<n;){var p=t[h],g=e[h];if(a)var v=r?a(g,p,h,e,t,o):a(p,g,h,t,e,o);if(void 0!==v){if(v)continue;m=!1;break}if(u){if(!fe(e,(function(t,e){if(!Ee(u,e)&&(p===t||s(p,t,i,a,o)))return u.push(e)}))){m=!1;break}}else if(p!==g&&!s(p,g,i,a,o)){m=!1;break}}return o.delete(t),o.delete(e),m}function Hs(t){return wo(go(t,void 0,Mo),t+\"\")}function Gs(t){return ma(t,wn,to)}function qs(t){return ma(t,_n,eo)}var Vs=bi?function(t){return bi.get(t)}:Xn;function Ws(t){for(var e=t.name+\"\",i=yi[e],a=kt.call(yi,e)?i.length:0;a--;){var s=i[a],o=s.func;if(null==o||o==t)return s.name}return e}function Js(t){return(kt.call(Li,\"placeholder\")?Li:t).placeholder}function Ks(){var t=Li.iteratee||Wn;return t=t===Wn?ka:t,arguments.length?t(arguments[0],arguments[1]):t}function Zs(t,e){var i,a,s=t.__data__;return(\"string\"==(a=typeof(i=e))||\"number\"==a||\"symbol\"==a||\"boolean\"==a?\"__proto__\"!==i:null===i)?s[\"string\"==typeof e?\"string\":\"hash\"]:s.map}function Xs(t){for(var e=wn(t),i=e.length;i--;){var a=e[i],s=t[a];e[i]=[a,s,uo(s)]}return e}function Qs(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return _a(i)?i:void 0}var to=ei?function(t){return null==t?[]:(t=pt(t),de(ei(t),(function(e){return qt.call(t,e)})))}:ol,eo=ei?function(t){for(var e=[];t;)pe(e,to(t)),t=Yt(t);return e}:ol,io=ua;function ao(t,e,i){for(var a=-1,s=(e=ns(e,t)).length,o=!1;++a<s;){var r=jo(e[a]);if(!(o=null!=t&&i(t,r)))break;t=t[r]}return o||++a!=s?o:!!(s=null==t?0:t.length)&&Yr(s)&&ro(r,s)&&(Er(t)||Ir(t))}function so(t){return\"function\"!=typeof t.constructor||mo(t)?{}:Ti(Yt(t))}function oo(t){return Er(t)||Ir(t)||!!(Jt&&t&&t[Jt])}function ro(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&(\"number\"==i||\"symbol\"!=i&&lt.test(t))&&t>-1&&t%1==0&&t<e}function no(t,e,i){if(!Ur(i))return!1;var a=typeof e;return!!(\"number\"==a?Or(i)&&ro(e,i.length):\"string\"==a&&e in i)&&Tr(i[e],t)}function lo(t,e){if(Er(t))return!1;var i=typeof t;return!(\"number\"!=i&&\"symbol\"!=i&&\"boolean\"!=i&&null!=t&&!Zr(t))||(H.test(t)||!U.test(t)||null!=e&&t in pt(e))}function co(t){var e=Ws(t),i=Li[e];if(\"function\"!=typeof i||!(e in Ii.prototype))return!1;if(t===i)return!0;var a=Vs(i);return!!a&&t===a[0]}(mi&&io(new mi(new ArrayBuffer(1)))!=P||ui&&io(new ui)!=g||pi&&\"[object Promise]\"!=io(pi.resolve())||gi&&io(new gi)!=y||vi&&io(new vi)!=_)&&(io=function(t){var e=ua(t),i=e==f?t.constructor:void 0,a=i?So(i):\"\";if(a)switch(a){case xi:return P;case wi:return g;case _i:return\"[object Promise]\";case ki:return y;case Pi:return _}return e});var ho=wt?Fr:rl;function mo(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||xt)}function uo(t){return t==t&&!Ur(t)}function po(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in pt(i)))}}function go(t,e,i){return e=ri(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,r=ri(s.length-e,0),n=a(r);++o<r;)n[o]=s[e+o];o=-1;for(var l=a(e+1);++o<e;)l[o]=s[o];return l[e]=i(n),oe(t,this,l)}}function vo(t,e){return e.length<2?t:ha(t,Ga(e,0,-1))}function fo(t,e){for(var i=t.length,a=ni(e.length,i),s=fs(t);a--;){var o=e[a];t[a]=ro(o,i)?s[o]:void 0}return t}function bo(t,e){if((\"constructor\"!==e||\"function\"!=typeof t[e])&&\"__proto__\"!=e)return t[e]}var yo=ko(Ya),xo=Xe||function(t,e){return Vt.setTimeout(t,e)},wo=ko(Ua);function _o(t,e,i){var a=e+\"\";return wo(t,function(t,e){var i=e.length;if(!i)return t;var a=i-1;return e[a]=(i>1?\"& \":\"\")+e[a],e=e.join(i>2?\", \":\" \"),t.replace(K,\"{\\n/* [wrapped with \"+e+\"] */\\n\")}(a,function(t,e){return ne(n,(function(i){var a=\"_.\"+i[0];e&i[1]&&!he(t,a)&&t.push(a)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(X):[]}(a),i)))}function ko(t){var e=0,i=0;return function(){var a=li(),s=16-(a-i);if(i=a,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Po(t,e){var i=-1,a=t.length,s=a-1;for(e=void 0===e?a:e;++i<e;){var o=Da(i,s),r=t[o];t[o]=t[i],t[i]=r}return t.length=e,t}var Ao=function(t){var e=kr(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(\"\"),t.replace(G,(function(t,i,a,s){e.push(a?s.replace(et,\"$1\"):i||t)})),e}));function jo(t){if(\"string\"==typeof t||Zr(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-1/0?\"-0\":e}function So(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function Lo(t){if(t instanceof Ii)return t.clone();var e=new zi(t.__wrapped__,t.__chain__);return e.__actions__=fs(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var To=Ra((function(t,e){return Dr(t)?Qi(t,oa(e,1,Dr,!0)):[]})),Co=Ra((function(t,e){var i=$o(e);return Dr(i)&&(i=void 0),Dr(t)?Qi(t,oa(e,1,Dr,!0),Ks(i,2)):[]})),zo=Ra((function(t,e){var i=$o(e);return Dr(i)&&(i=void 0),Dr(t)?Qi(t,oa(e,1,Dr,!0),void 0,i):[]}));function Io(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var s=null==i?0:sn(i);return s<0&&(s=ri(a+s,0)),xe(t,Ks(e,3),s)}function Eo(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var s=a-1;return void 0!==i&&(s=sn(i),s=i<0?ri(a+s,0):ni(s,a-1)),xe(t,Ks(e,3),s,!0)}function Mo(t){return(null==t?0:t.length)?oa(t,1):[]}function Oo(t){return t&&t.length?t[0]:void 0}var Do=Ra((function(t){var e=ue(t,os);return e.length&&e[0]===t[0]?fa(e):[]})),No=Ra((function(t){var e=$o(t),i=ue(t,os);return e===$o(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?fa(i,Ks(e,2)):[]})),Ro=Ra((function(t){var e=$o(t),i=ue(t,os);return(e=\"function\"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?fa(i,void 0,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Ra(Bo);function Bo(t,e){return t&&t.length&&e&&e.length?Ma(t,e):t}var Yo=Hs((function(t,e){var i=null==t?0:t.length,a=Wi(t,e);return Oa(t,ue(e,(function(t){return ro(t,i)?+t:t})).sort(ps)),a}));function Uo(t){return null==t?t:hi.call(t)}var Ho=Ra((function(t){return Xa(oa(t,1,Dr,!0))})),Go=Ra((function(t){var e=$o(t);return Dr(e)&&(e=void 0),Xa(oa(t,1,Dr,!0),Ks(e,2))})),qo=Ra((function(t){var e=$o(t);return e=\"function\"==typeof e?e:void 0,Xa(oa(t,1,Dr,!0),void 0,e)}));function Vo(t){if(!t||!t.length)return[];var e=0;return t=de(t,(function(t){if(Dr(t))return e=ri(t.length,e),!0})),Te(e,(function(e){return ue(t,Ae(e))}))}function Wo(t,e){if(!t||!t.length)return[];var i=Vo(t);return null==e?i:ue(i,(function(t){return oe(e,void 0,t)}))}var Jo=Ra((function(t,e){return Dr(t)?Qi(t,e):[]})),Ko=Ra((function(t){return as(de(t,Dr))})),Zo=Ra((function(t){var e=$o(t);return Dr(e)&&(e=void 0),as(de(t,Dr),Ks(e,2))})),Xo=Ra((function(t){var e=$o(t);return e=\"function\"==typeof e?e:void 0,as(de(t,Dr),void 0,e)})),Qo=Ra(Vo);var tr=Ra((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i=\"function\"==typeof i?(t.pop(),i):void 0,Wo(t,i)}));function er(t){var e=Li(t);return e.__chain__=!0,e}function ir(t,e){return e(t)}var ar=Hs((function(t){var e=t.length,i=e?t[0]:0,a=this.__wrapped__,s=function(e){return Wi(e,t)};return!(e>1||this.__actions__.length)&&a instanceof Ii&&ro(i)?((a=a.slice(i,+i+(e?1:0))).__actions__.push({func:ir,args:[s],thisArg:void 0}),new zi(a,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(s)}));var sr=ys((function(t,e,i){kt.call(t,i)?++t[i]:Vi(t,i,1)}));var or=js(Io),rr=js(Eo);function nr(t,e){return(Er(t)?ne:ta)(t,Ks(e,3))}function lr(t,e){return(Er(t)?le:ea)(t,Ks(e,3))}var cr=ys((function(t,e,i){kt.call(t,i)?t[i].push(e):Vi(t,i,[e])}));var dr=Ra((function(t,e,i){var s=-1,o=\"function\"==typeof e,r=Or(t)?a(t.length):[];return ta(t,(function(t){r[++s]=o?oe(e,t,i):ba(t,e,i)})),r})),hr=ys((function(t,e,i){Vi(t,i,e)}));function mr(t,e){return(Er(t)?ue:Sa)(t,Ks(e,3))}var ur=ys((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var pr=Ra((function(t,e){if(null==t)return[];var i=e.length;return i>1&&no(t,e[0],e[1])?e=[]:i>2&&no(e[0],e[1],e[2])&&(e=[e[0]]),Ia(t,oa(e,1),[])})),gr=Ze||function(){return Vt.Date.now()};function vr(t,e,i){return e=i?void 0:e,$s(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function fr(t,e){var i;if(\"function\"!=typeof e)throw new ft(o);return t=sn(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var br=Ra((function(t,e,i){var a=1;if(i.length){var s=Ue(i,Js(br));a|=32}return $s(t,a,e,i,s)})),yr=Ra((function(t,e,i){var a=3;if(i.length){var s=Ue(i,Js(yr));a|=32}return $s(e,a,t,i,s)}));function xr(t,e,i){var a,s,r,n,l,c,d=0,h=!1,m=!1,u=!0;if(\"function\"!=typeof t)throw new ft(o);function p(e){var i=a,o=s;return a=s=void 0,d=e,n=t.apply(o,i)}function g(t){return d=t,l=xo(f,e),h?p(t):n}function v(t){var i=t-c;return void 0===c||i>=e||i<0||m&&t-d>=r}function f(){var t=gr();if(v(t))return b(t);l=xo(f,function(t){var i=e-(t-c);return m?ni(i,r-(t-d)):i}(t))}function b(t){return l=void 0,u&&a?p(t):(a=s=void 0,n)}function y(){var t=gr(),i=v(t);if(a=arguments,s=this,c=t,i){if(void 0===l)return g(c);if(m)return ds(l),l=xo(f,e),p(c)}return void 0===l&&(l=xo(f,e)),n}return e=rn(e)||0,Ur(i)&&(h=!!i.leading,r=(m=\"maxWait\"in i)?ri(rn(i.maxWait)||0,e):r,u=\"trailing\"in i?!!i.trailing:u),y.cancel=function(){void 0!==l&&ds(l),d=0,a=c=s=l=void 0},y.flush=function(){return void 0===l?n:b(gr())},y}var wr=Ra((function(t,e){return Xi(t,1,e)})),_r=Ra((function(t,e,i){return Xi(t,rn(e)||0,i)}));function kr(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new ft(o);var i=function(){var a=arguments,s=e?e.apply(this,a):a[0],o=i.cache;if(o.has(s))return o.get(s);var r=t.apply(this,a);return i.cache=o.set(s,r)||o,r};return i.cache=new(kr.Cache||Oi),i}function Pr(t){if(\"function\"!=typeof t)throw new ft(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}kr.Cache=Oi;var Ar=ls((function(t,e){var i=(e=1==e.length&&Er(e[0])?ue(e[0],ze(Ks())):ue(oa(e,1),ze(Ks()))).length;return Ra((function(a){for(var s=-1,o=ni(a.length,i);++s<o;)a[s]=e[s].call(this,a[s]);return oe(t,this,a)}))})),jr=Ra((function(t,e){return $s(t,32,void 0,e,Ue(e,Js(jr)))})),Sr=Ra((function(t,e){return $s(t,64,void 0,e,Ue(e,Js(Sr)))})),Lr=Hs((function(t,e){return $s(t,256,void 0,void 0,void 0,e)}));function Tr(t,e){return t===e||t!=t&&e!=e}var Cr=Ms(pa),zr=Ms((function(t,e){return t>=e})),Ir=ya(function(){return arguments}())?ya:function(t){return Hr(t)&&kt.call(t,\"callee\")&&!qt.call(t,\"callee\")},Er=a.isArray,Mr=Qt?ze(Qt):function(t){return Hr(t)&&ua(t)==k};function Or(t){return null!=t&&Yr(t.length)&&!Fr(t)}function Dr(t){return Hr(t)&&Or(t)}var Nr=ii||rl,Rr=te?ze(te):function(t){return Hr(t)&&ua(t)==h};function $r(t){if(!Hr(t))return!1;var e=ua(t);return e==m||\"[object DOMException]\"==e||\"string\"==typeof t.message&&\"string\"==typeof t.name&&!Vr(t)}function Fr(t){if(!Ur(t))return!1;var e=ua(t);return e==u||e==p||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e}function Br(t){return\"number\"==typeof t&&t==sn(t)}function Yr(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ur(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Hr(t){return null!=t&&\"object\"==typeof t}var Gr=ee?ze(ee):function(t){return Hr(t)&&io(t)==g};function qr(t){return\"number\"==typeof t||Hr(t)&&ua(t)==v}function Vr(t){if(!Hr(t)||ua(t)!=f)return!1;var e=Yt(t);if(null===e)return!0;var i=kt.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof i&&i instanceof i&&_t.call(i)==St}var Wr=ie?ze(ie):function(t){return Hr(t)&&ua(t)==b};var Jr=ae?ze(ae):function(t){return Hr(t)&&io(t)==y};function Kr(t){return\"string\"==typeof t||!Er(t)&&Hr(t)&&ua(t)==x}function Zr(t){return\"symbol\"==typeof t||Hr(t)&&ua(t)==w}var Xr=se?ze(se):function(t){return Hr(t)&&Yr(t.length)&&!!Ft[ua(t)]};var Qr=Ms(ja),tn=Ms((function(t,e){return t<=e}));function en(t){if(!t)return[];if(Or(t))return Kr(t)?Ve(t):fs(t);if(Zt&&t[Zt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Zt]());var e=io(t);return(e==g?Be:e==y?He:Cn)(t)}function an(t){return t?(t=rn(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function sn(t){var e=an(t),i=e%1;return e==e?i?e-i:e:0}function on(t){return t?Ji(sn(t),0,4294967295):0}function rn(t){if(\"number\"==typeof t)return t;if(Zr(t))return NaN;if(Ur(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=Ur(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=Ce(t);var i=ot.test(t);return i||nt.test(t)?Ht(t.slice(2),i?2:8):st.test(t)?NaN:+t}function nn(t){return bs(t,_n(t))}function ln(t){return null==t?\"\":Za(t)}var cn=xs((function(t,e){if(mo(e)||Or(e))bs(e,wn(e),t);else for(var i in e)kt.call(e,i)&&Ui(t,i,e[i])})),dn=xs((function(t,e){bs(e,_n(e),t)})),hn=xs((function(t,e,i,a){bs(e,_n(e),t,a)})),mn=xs((function(t,e,i,a){bs(e,wn(e),t,a)})),un=Hs(Wi);var pn=Ra((function(t,e){t=pt(t);var i=-1,a=e.length,s=a>2?e[2]:void 0;for(s&&no(e[0],e[1],s)&&(a=1);++i<a;)for(var o=e[i],r=_n(o),n=-1,l=r.length;++n<l;){var c=r[n],d=t[c];(void 0===d||Tr(d,xt[c])&&!kt.call(t,c))&&(t[c]=o[c])}return t})),gn=Ra((function(t){return t.push(void 0,Bs),oe(Pn,void 0,t)}));function vn(t,e,i){var a=null==t?void 0:ha(t,e);return void 0===a?i:a}function fn(t,e){return null!=t&&ao(t,e,va)}var bn=Ts((function(t,e,i){null!=e&&\"function\"!=typeof e.toString&&(e=jt.call(e)),t[e]=i}),Hn(Vn)),yn=Ts((function(t,e,i){null!=e&&\"function\"!=typeof e.toString&&(e=jt.call(e)),kt.call(t,e)?t[e].push(i):t[e]=[i]}),Ks),xn=Ra(ba);function wn(t){return Or(t)?Ri(t):Pa(t)}function _n(t){return Or(t)?Ri(t,!0):Aa(t)}var kn=xs((function(t,e,i){Ca(t,e,i)})),Pn=xs((function(t,e,i,a){Ca(t,e,i,a)})),An=Hs((function(t,e){var i={};if(null==t)return i;var a=!1;e=ue(e,(function(e){return e=ns(e,t),a||(a=e.length>1),e})),bs(t,qs(t),i),a&&(i=Ki(i,7,Ys));for(var s=e.length;s--;)Qa(i,e[s]);return i}));var jn=Hs((function(t,e){return null==t?{}:function(t,e){return Ea(t,e,(function(e,i){return fn(t,i)}))}(t,e)}));function Sn(t,e){if(null==t)return{};var i=ue(qs(t),(function(t){return[t]}));return e=Ks(e),Ea(t,i,(function(t,i){return e(t,i[0])}))}var Ln=Rs(wn),Tn=Rs(_n);function Cn(t){return null==t?[]:Ie(t,wn(t))}var zn=Ps((function(t,e,i){return e=e.toLowerCase(),t+(i?In(e):e)}));function In(t){return Fn(ln(t).toLowerCase())}function En(t){return(t=ln(t))&&t.replace(ct,Ne).replace(Et,\"\")}var Mn=Ps((function(t,e,i){return t+(i?\"-\":\"\")+e.toLowerCase()})),On=Ps((function(t,e,i){return t+(i?\" \":\"\")+e.toLowerCase()})),Dn=ks(\"toLowerCase\");var Nn=Ps((function(t,e,i){return t+(i?\"_\":\"\")+e.toLowerCase()}));var Rn=Ps((function(t,e,i){return t+(i?\" \":\"\")+Fn(e)}));var $n=Ps((function(t,e,i){return t+(i?\" \":\"\")+e.toUpperCase()})),Fn=ks(\"toUpperCase\");function Bn(t,e,i){return t=ln(t),void 0===(e=i?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Yn=Ra((function(t,e){try{return oe(t,void 0,e)}catch(t){return $r(t)?t:new J(t)}})),Un=Hs((function(t,e){return ne(e,(function(e){e=jo(e),Vi(t,e,br(t[e],t))})),t}));function Hn(t){return function(){return t}}var Gn=Ss(),qn=Ss(!0);function Vn(t){return t}function Wn(t){return ka(\"function\"==typeof t?t:Ki(t,1))}var Jn=Ra((function(t,e){return function(i){return ba(i,t,e)}})),Kn=Ra((function(t,e){return function(i){return ba(t,i,e)}}));function Zn(t,e,i){var a=wn(e),s=da(e,a);null!=i||Ur(e)&&(s.length||!a.length)||(i=e,e=t,t=this,s=da(e,wn(e)));var o=!(Ur(i)&&\"chain\"in i&&!i.chain),r=Fr(t);return ne(s,(function(i){var a=e[i];t[i]=a,r&&(t.prototype[i]=function(){var e=this.__chain__;if(o||e){var i=t(this.__wrapped__),s=i.__actions__=fs(this.__actions__);return s.push({func:a,args:arguments,thisArg:t}),i.__chain__=e,i}return a.apply(t,pe([this.value()],arguments))})})),t}function Xn(){}var Qn=zs(ue),tl=zs(ce),el=zs(fe);function il(t){return lo(t)?Ae(jo(t)):function(t){return function(e){return ha(e,t)}}(t)}var al=Es(),sl=Es(!0);function ol(){return[]}function rl(){return!1}var nl=Cs((function(t,e){return t+e}),0),ll=Ds(\"ceil\"),cl=Cs((function(t,e){return t/e}),1),dl=Ds(\"floor\");var hl,ml=Cs((function(t,e){return t*e}),1),ul=Ds(\"round\"),pl=Cs((function(t,e){return t-e}),0);return Li.after=function(t,e){if(\"function\"!=typeof e)throw new ft(o);return t=sn(t),function(){if(--t<1)return e.apply(this,arguments)}},Li.ary=vr,Li.assign=cn,Li.assignIn=dn,Li.assignInWith=hn,Li.assignWith=mn,Li.at=un,Li.before=fr,Li.bind=br,Li.bindAll=Un,Li.bindKey=yr,Li.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Er(t)?t:[t]},Li.chain=er,Li.chunk=function(t,e,i){e=(i?no(t,e,i):void 0===e)?1:ri(sn(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,r=0,n=a(Qe(s/e));o<s;)n[r++]=Ga(t,o,o+=e);return n},Li.compact=function(t){for(var e=-1,i=null==t?0:t.length,a=0,s=[];++e<i;){var o=t[e];o&&(s[a++]=o)}return s},Li.concat=function(){var t=arguments.length;if(!t)return[];for(var e=a(t-1),i=arguments[0],s=t;s--;)e[s-1]=arguments[s];return pe(Er(i)?fs(i):[i],oa(e,1))},Li.cond=function(t){var e=null==t?0:t.length,i=Ks();return t=e?ue(t,(function(t){if(\"function\"!=typeof t[1])throw new ft(o);return[i(t[0]),t[1]]})):[],Ra((function(i){for(var a=-1;++a<e;){var s=t[a];if(oe(s[0],this,i))return oe(s[1],this,i)}}))},Li.conforms=function(t){return function(t){var e=wn(t);return function(i){return Zi(i,t,e)}}(Ki(t,1))},Li.constant=Hn,Li.countBy=sr,Li.create=function(t,e){var i=Ti(t);return null==e?i:qi(i,e)},Li.curry=function t(e,i,a){var s=$s(e,8,void 0,void 0,void 0,void 0,void 0,i=a?void 0:i);return s.placeholder=t.placeholder,s},Li.curryRight=function t(e,i,a){var s=$s(e,16,void 0,void 0,void 0,void 0,void 0,i=a?void 0:i);return s.placeholder=t.placeholder,s},Li.debounce=xr,Li.defaults=pn,Li.defaultsDeep=gn,Li.defer=wr,Li.delay=_r,Li.difference=To,Li.differenceBy=Co,Li.differenceWith=zo,Li.drop=function(t,e,i){var a=null==t?0:t.length;return a?Ga(t,(e=i||void 0===e?1:sn(e))<0?0:e,a):[]},Li.dropRight=function(t,e,i){var a=null==t?0:t.length;return a?Ga(t,0,(e=a-(e=i||void 0===e?1:sn(e)))<0?0:e):[]},Li.dropRightWhile=function(t,e){return t&&t.length?es(t,Ks(e,3),!0,!0):[]},Li.dropWhile=function(t,e){return t&&t.length?es(t,Ks(e,3),!0):[]},Li.fill=function(t,e,i,a){var s=null==t?0:t.length;return s?(i&&\"number\"!=typeof i&&no(t,e,i)&&(i=0,a=s),function(t,e,i,a){var s=t.length;for((i=sn(i))<0&&(i=-i>s?0:s+i),(a=void 0===a||a>s?s:sn(a))<0&&(a+=s),a=i>a?0:on(a);i<a;)t[i++]=e;return t}(t,e,i,a)):[]},Li.filter=function(t,e){return(Er(t)?de:sa)(t,Ks(e,3))},Li.flatMap=function(t,e){return oa(mr(t,e),1)},Li.flatMapDeep=function(t,e){return oa(mr(t,e),1/0)},Li.flatMapDepth=function(t,e,i){return i=void 0===i?1:sn(i),oa(mr(t,e),i)},Li.flatten=Mo,Li.flattenDeep=function(t){return(null==t?0:t.length)?oa(t,1/0):[]},Li.flattenDepth=function(t,e){return(null==t?0:t.length)?oa(t,e=void 0===e?1:sn(e)):[]},Li.flip=function(t){return $s(t,512)},Li.flow=Gn,Li.flowRight=qn,Li.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,a={};++e<i;){var s=t[e];a[s[0]]=s[1]}return a},Li.functions=function(t){return null==t?[]:da(t,wn(t))},Li.functionsIn=function(t){return null==t?[]:da(t,_n(t))},Li.groupBy=cr,Li.initial=function(t){return(null==t?0:t.length)?Ga(t,0,-1):[]},Li.intersection=Do,Li.intersectionBy=No,Li.intersectionWith=Ro,Li.invert=bn,Li.invertBy=yn,Li.invokeMap=dr,Li.iteratee=Wn,Li.keyBy=hr,Li.keys=wn,Li.keysIn=_n,Li.map=mr,Li.mapKeys=function(t,e){var i={};return e=Ks(e,3),la(t,(function(t,a,s){Vi(i,e(t,a,s),t)})),i},Li.mapValues=function(t,e){var i={};return e=Ks(e,3),la(t,(function(t,a,s){Vi(i,a,e(t,a,s))})),i},Li.matches=function(t){return La(Ki(t,1))},Li.matchesProperty=function(t,e){return Ta(t,Ki(e,1))},Li.memoize=kr,Li.merge=kn,Li.mergeWith=Pn,Li.method=Jn,Li.methodOf=Kn,Li.mixin=Zn,Li.negate=Pr,Li.nthArg=function(t){return t=sn(t),Ra((function(e){return za(e,t)}))},Li.omit=An,Li.omitBy=function(t,e){return Sn(t,Pr(Ks(e)))},Li.once=function(t){return fr(2,t)},Li.orderBy=function(t,e,i,a){return null==t?[]:(Er(e)||(e=null==e?[]:[e]),Er(i=a?void 0:i)||(i=null==i?[]:[i]),Ia(t,e,i))},Li.over=Qn,Li.overArgs=Ar,Li.overEvery=tl,Li.overSome=el,Li.partial=jr,Li.partialRight=Sr,Li.partition=ur,Li.pick=jn,Li.pickBy=Sn,Li.property=il,Li.propertyOf=function(t){return function(e){return null==t?void 0:ha(t,e)}},Li.pull=Fo,Li.pullAll=Bo,Li.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Ma(t,e,Ks(i,2)):t},Li.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Ma(t,e,void 0,i):t},Li.pullAt=Yo,Li.range=al,Li.rangeRight=sl,Li.rearg=Lr,Li.reject=function(t,e){return(Er(t)?de:sa)(t,Pr(Ks(e,3)))},Li.remove=function(t,e){var i=[];if(!t||!t.length)return i;var a=-1,s=[],o=t.length;for(e=Ks(e,3);++a<o;){var r=t[a];e(r,a,t)&&(i.push(r),s.push(a))}return Oa(t,s),i},Li.rest=function(t,e){if(\"function\"!=typeof t)throw new ft(o);return Ra(t,e=void 0===e?e:sn(e))},Li.reverse=Uo,Li.sampleSize=function(t,e,i){return e=(i?no(t,e,i):void 0===e)?1:sn(e),(Er(t)?Fi:Fa)(t,e)},Li.set=function(t,e,i){return null==t?t:Ba(t,e,i)},Li.setWith=function(t,e,i,a){return a=\"function\"==typeof a?a:void 0,null==t?t:Ba(t,e,i,a)},Li.shuffle=function(t){return(Er(t)?Bi:Ha)(t)},Li.slice=function(t,e,i){var a=null==t?0:t.length;return a?(i&&\"number\"!=typeof i&&no(t,e,i)?(e=0,i=a):(e=null==e?0:sn(e),i=void 0===i?a:sn(i)),Ga(t,e,i)):[]},Li.sortBy=pr,Li.sortedUniq=function(t){return t&&t.length?Ja(t):[]},Li.sortedUniqBy=function(t,e){return t&&t.length?Ja(t,Ks(e,2)):[]},Li.split=function(t,e,i){return i&&\"number\"!=typeof i&&no(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=ln(t))&&(\"string\"==typeof e||null!=e&&!Wr(e))&&!(e=Za(e))&&Fe(t)?cs(Ve(t),0,i):t.split(e,i):[]},Li.spread=function(t,e){if(\"function\"!=typeof t)throw new ft(o);return e=null==e?0:ri(sn(e),0),Ra((function(i){var a=i[e],s=cs(i,0,e);return a&&pe(s,a),oe(t,this,s)}))},Li.tail=function(t){var e=null==t?0:t.length;return e?Ga(t,1,e):[]},Li.take=function(t,e,i){return t&&t.length?Ga(t,0,(e=i||void 0===e?1:sn(e))<0?0:e):[]},Li.takeRight=function(t,e,i){var a=null==t?0:t.length;return a?Ga(t,(e=a-(e=i||void 0===e?1:sn(e)))<0?0:e,a):[]},Li.takeRightWhile=function(t,e){return t&&t.length?es(t,Ks(e,3),!1,!0):[]},Li.takeWhile=function(t,e){return t&&t.length?es(t,Ks(e,3)):[]},Li.tap=function(t,e){return e(t),t},Li.throttle=function(t,e,i){var a=!0,s=!0;if(\"function\"!=typeof t)throw new ft(o);return Ur(i)&&(a=\"leading\"in i?!!i.leading:a,s=\"trailing\"in i?!!i.trailing:s),xr(t,e,{leading:a,maxWait:e,trailing:s})},Li.thru=ir,Li.toArray=en,Li.toPairs=Ln,Li.toPairsIn=Tn,Li.toPath=function(t){return Er(t)?ue(t,jo):Zr(t)?[t]:fs(Ao(ln(t)))},Li.toPlainObject=nn,Li.transform=function(t,e,i){var a=Er(t),s=a||Nr(t)||Xr(t);if(e=Ks(e,4),null==i){var o=t&&t.constructor;i=s?a?new o:[]:Ur(t)&&Fr(o)?Ti(Yt(t)):{}}return(s?ne:la)(t,(function(t,a,s){return e(i,t,a,s)})),i},Li.unary=function(t){return vr(t,1)},Li.union=Ho,Li.unionBy=Go,Li.unionWith=qo,Li.uniq=function(t){return t&&t.length?Xa(t):[]},Li.uniqBy=function(t,e){return t&&t.length?Xa(t,Ks(e,2)):[]},Li.uniqWith=function(t,e){return e=\"function\"==typeof e?e:void 0,t&&t.length?Xa(t,void 0,e):[]},Li.unset=function(t,e){return null==t||Qa(t,e)},Li.unzip=Vo,Li.unzipWith=Wo,Li.update=function(t,e,i){return null==t?t:ts(t,e,rs(i))},Li.updateWith=function(t,e,i,a){return a=\"function\"==typeof a?a:void 0,null==t?t:ts(t,e,rs(i),a)},Li.values=Cn,Li.valuesIn=function(t){return null==t?[]:Ie(t,_n(t))},Li.without=Jo,Li.words=Bn,Li.wrap=function(t,e){return jr(rs(e),t)},Li.xor=Ko,Li.xorBy=Zo,Li.xorWith=Xo,Li.zip=Qo,Li.zipObject=function(t,e){return ss(t||[],e||[],Ui)},Li.zipObjectDeep=function(t,e){return ss(t||[],e||[],Ba)},Li.zipWith=tr,Li.entries=Ln,Li.entriesIn=Tn,Li.extend=dn,Li.extendWith=hn,Zn(Li,Li),Li.add=nl,Li.attempt=Yn,Li.camelCase=zn,Li.capitalize=In,Li.ceil=ll,Li.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=rn(i))==i?i:0),void 0!==e&&(e=(e=rn(e))==e?e:0),Ji(rn(t),e,i)},Li.clone=function(t){return Ki(t,4)},Li.cloneDeep=function(t){return Ki(t,5)},Li.cloneDeepWith=function(t,e){return Ki(t,5,e=\"function\"==typeof e?e:void 0)},Li.cloneWith=function(t,e){return Ki(t,4,e=\"function\"==typeof e?e:void 0)},Li.conformsTo=function(t,e){return null==e||Zi(t,e,wn(e))},Li.deburr=En,Li.defaultTo=function(t,e){return null==t||t!=t?e:t},Li.divide=cl,Li.endsWith=function(t,e,i){t=ln(t),e=Za(e);var a=t.length,s=i=void 0===i?a:Ji(sn(i),0,a);return(i-=e.length)>=0&&t.slice(i,s)==e},Li.eq=Tr,Li.escape=function(t){return(t=ln(t))&&$.test(t)?t.replace(N,Re):t},Li.escapeRegExp=function(t){return(t=ln(t))&&V.test(t)?t.replace(q,\"\\\\$&\"):t},Li.every=function(t,e,i){var a=Er(t)?ce:ia;return i&&no(t,e,i)&&(e=void 0),a(t,Ks(e,3))},Li.find=or,Li.findIndex=Io,Li.findKey=function(t,e){return ye(t,Ks(e,3),la)},Li.findLast=rr,Li.findLastIndex=Eo,Li.findLastKey=function(t,e){return ye(t,Ks(e,3),ca)},Li.floor=dl,Li.forEach=nr,Li.forEachRight=lr,Li.forIn=function(t,e){return null==t?t:ra(t,Ks(e,3),_n)},Li.forInRight=function(t,e){return null==t?t:na(t,Ks(e,3),_n)},Li.forOwn=function(t,e){return t&&la(t,Ks(e,3))},Li.forOwnRight=function(t,e){return t&&ca(t,Ks(e,3))},Li.get=vn,Li.gt=Cr,Li.gte=zr,Li.has=function(t,e){return null!=t&&ao(t,e,ga)},Li.hasIn=fn,Li.head=Oo,Li.identity=Vn,Li.includes=function(t,e,i,a){t=Or(t)?t:Cn(t),i=i&&!a?sn(i):0;var s=t.length;return i<0&&(i=ri(s+i,0)),Kr(t)?i<=s&&t.indexOf(e,i)>-1:!!s&&we(t,e,i)>-1},Li.indexOf=function(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var s=null==i?0:sn(i);return s<0&&(s=ri(a+s,0)),we(t,e,s)},Li.inRange=function(t,e,i){return e=an(e),void 0===i?(i=e,e=0):i=an(i),function(t,e,i){return t>=ni(e,i)&&t<ri(e,i)}(t=rn(t),e,i)},Li.invoke=xn,Li.isArguments=Ir,Li.isArray=Er,Li.isArrayBuffer=Mr,Li.isArrayLike=Or,Li.isArrayLikeObject=Dr,Li.isBoolean=function(t){return!0===t||!1===t||Hr(t)&&ua(t)==d},Li.isBuffer=Nr,Li.isDate=Rr,Li.isElement=function(t){return Hr(t)&&1===t.nodeType&&!Vr(t)},Li.isEmpty=function(t){if(null==t)return!0;if(Or(t)&&(Er(t)||\"string\"==typeof t||\"function\"==typeof t.splice||Nr(t)||Xr(t)||Ir(t)))return!t.length;var e=io(t);if(e==g||e==y)return!t.size;if(mo(t))return!Pa(t).length;for(var i in t)if(kt.call(t,i))return!1;return!0},Li.isEqual=function(t,e){return xa(t,e)},Li.isEqualWith=function(t,e,i){var a=(i=\"function\"==typeof i?i:void 0)?i(t,e):void 0;return void 0===a?xa(t,e,void 0,i):!!a},Li.isError=$r,Li.isFinite=function(t){return\"number\"==typeof t&&ai(t)},Li.isFunction=Fr,Li.isInteger=Br,Li.isLength=Yr,Li.isMap=Gr,Li.isMatch=function(t,e){return t===e||wa(t,e,Xs(e))},Li.isMatchWith=function(t,e,i){return i=\"function\"==typeof i?i:void 0,wa(t,e,Xs(e),i)},Li.isNaN=function(t){return qr(t)&&t!=+t},Li.isNative=function(t){if(ho(t))throw new J(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return _a(t)},Li.isNil=function(t){return null==t},Li.isNull=function(t){return null===t},Li.isNumber=qr,Li.isObject=Ur,Li.isObjectLike=Hr,Li.isPlainObject=Vr,Li.isRegExp=Wr,Li.isSafeInteger=function(t){return Br(t)&&t>=-9007199254740991&&t<=9007199254740991},Li.isSet=Jr,Li.isString=Kr,Li.isSymbol=Zr,Li.isTypedArray=Xr,Li.isUndefined=function(t){return void 0===t},Li.isWeakMap=function(t){return Hr(t)&&io(t)==_},Li.isWeakSet=function(t){return Hr(t)&&\"[object WeakSet]\"==ua(t)},Li.join=function(t,e){return null==t?\"\":si.call(t,e)},Li.kebabCase=Mn,Li.last=$o,Li.lastIndexOf=function(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var s=a;return void 0!==i&&(s=(s=sn(i))<0?ri(a+s,0):ni(s,a-1)),e==e?function(t,e,i){for(var a=i+1;a--;)if(t[a]===e)return a;return a}(t,e,s):xe(t,ke,s,!0)},Li.lowerCase=On,Li.lowerFirst=Dn,Li.lt=Qr,Li.lte=tn,Li.max=function(t){return t&&t.length?aa(t,Vn,pa):void 0},Li.maxBy=function(t,e){return t&&t.length?aa(t,Ks(e,2),pa):void 0},Li.mean=function(t){return Pe(t,Vn)},Li.meanBy=function(t,e){return Pe(t,Ks(e,2))},Li.min=function(t){return t&&t.length?aa(t,Vn,ja):void 0},Li.minBy=function(t,e){return t&&t.length?aa(t,Ks(e,2),ja):void 0},Li.stubArray=ol,Li.stubFalse=rl,Li.stubObject=function(){return{}},Li.stubString=function(){return\"\"},Li.stubTrue=function(){return!0},Li.multiply=ml,Li.nth=function(t,e){return t&&t.length?za(t,sn(e)):void 0},Li.noConflict=function(){return Vt._===this&&(Vt._=Lt),this},Li.noop=Xn,Li.now=gr,Li.pad=function(t,e,i){t=ln(t);var a=(e=sn(e))?qe(t):0;if(!e||a>=e)return t;var s=(e-a)/2;return Is(ti(s),i)+t+Is(Qe(s),i)},Li.padEnd=function(t,e,i){t=ln(t);var a=(e=sn(e))?qe(t):0;return e&&a<e?t+Is(e-a,i):t},Li.padStart=function(t,e,i){t=ln(t);var a=(e=sn(e))?qe(t):0;return e&&a<e?Is(e-a,i)+t:t},Li.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),ci(ln(t).replace(W,\"\"),e||0)},Li.random=function(t,e,i){if(i&&\"boolean\"!=typeof i&&no(t,e,i)&&(e=i=void 0),void 0===i&&(\"boolean\"==typeof e?(i=e,e=void 0):\"boolean\"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=an(t),void 0===e?(e=t,t=0):e=an(e)),t>e){var a=t;t=e,e=a}if(i||t%1||e%1){var s=di();return ni(t+s*(e-t+Ut(\"1e-\"+((s+\"\").length-1))),e)}return Da(t,e)},Li.reduce=function(t,e,i){var a=Er(t)?ge:Se,s=arguments.length<3;return a(t,Ks(e,4),i,s,ta)},Li.reduceRight=function(t,e,i){var a=Er(t)?ve:Se,s=arguments.length<3;return a(t,Ks(e,4),i,s,ea)},Li.repeat=function(t,e,i){return e=(i?no(t,e,i):void 0===e)?1:sn(e),Na(ln(t),e)},Li.replace=function(){var t=arguments,e=ln(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Li.result=function(t,e,i){var a=-1,s=(e=ns(e,t)).length;for(s||(s=1,t=void 0);++a<s;){var o=null==t?void 0:t[jo(e[a])];void 0===o&&(a=s,o=i),t=Fr(o)?o.call(t):o}return t},Li.round=ul,Li.runInContext=t,Li.sample=function(t){return(Er(t)?$i:$a)(t)},Li.size=function(t){if(null==t)return 0;if(Or(t))return Kr(t)?qe(t):t.length;var e=io(t);return e==g||e==y?t.size:Pa(t).length},Li.snakeCase=Nn,Li.some=function(t,e,i){var a=Er(t)?fe:qa;return i&&no(t,e,i)&&(e=void 0),a(t,Ks(e,3))},Li.sortedIndex=function(t,e){return Va(t,e)},Li.sortedIndexBy=function(t,e,i){return Wa(t,e,Ks(i,2))},Li.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var a=Va(t,e);if(a<i&&Tr(t[a],e))return a}return-1},Li.sortedLastIndex=function(t,e){return Va(t,e,!0)},Li.sortedLastIndexBy=function(t,e,i){return Wa(t,e,Ks(i,2),!0)},Li.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Va(t,e,!0)-1;if(Tr(t[i],e))return i}return-1},Li.startCase=Rn,Li.startsWith=function(t,e,i){return t=ln(t),i=null==i?0:Ji(sn(i),0,t.length),e=Za(e),t.slice(i,i+e.length)==e},Li.subtract=pl,Li.sum=function(t){return t&&t.length?Le(t,Vn):0},Li.sumBy=function(t,e){return t&&t.length?Le(t,Ks(e,2)):0},Li.template=function(t,e,i){var a=Li.templateSettings;i&&no(t,e,i)&&(e=void 0),t=ln(t),e=hn({},e,a,Fs);var s,o,r=hn({},e.imports,a.imports,Fs),n=wn(r),l=Ie(r,n),c=0,d=e.interpolate||dt,h=\"__p += '\",m=gt((e.escape||dt).source+\"|\"+d.source+\"|\"+(d===Y?it:dt).source+\"|\"+(e.evaluate||dt).source+\"|$\",\"g\"),u=\"//# sourceURL=\"+(kt.call(e,\"sourceURL\")?(e.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++$t+\"]\")+\"\\n\";t.replace(m,(function(e,i,a,r,n,l){return a||(a=r),h+=t.slice(c,l).replace(ht,$e),i&&(s=!0,h+=\"' +\\n__e(\"+i+\") +\\n'\"),n&&(o=!0,h+=\"';\\n\"+n+\";\\n__p += '\"),a&&(h+=\"' +\\n((__t = (\"+a+\")) == null ? '' : __t) +\\n'\"),c=l+e.length,e})),h+=\"';\\n\";var p=kt.call(e,\"variable\")&&e.variable;if(p){if(tt.test(p))throw new J(\"Invalid `variable` option passed into `_.template`\")}else h=\"with (obj) {\\n\"+h+\"\\n}\\n\";h=(o?h.replace(E,\"\"):h).replace(M,\"$1\").replace(O,\"$1;\"),h=\"function(\"+(p||\"obj\")+\") {\\n\"+(p?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(s?\", __e = _.escape\":\"\")+(o?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+h+\"return __p\\n}\";var g=Yn((function(){return mt(n,u+\"return \"+h).apply(void 0,l)}));if(g.source=h,$r(g))throw g;return g},Li.times=function(t,e){if((t=sn(t))<1||t>9007199254740991)return[];var i=4294967295,a=ni(t,4294967295);t-=4294967295;for(var s=Te(a,e=Ks(e));++i<t;)e(i);return s},Li.toFinite=an,Li.toInteger=sn,Li.toLength=on,Li.toLower=function(t){return ln(t).toLowerCase()},Li.toNumber=rn,Li.toSafeInteger=function(t){return t?Ji(sn(t),-9007199254740991,9007199254740991):0===t?t:0},Li.toString=ln,Li.toUpper=function(t){return ln(t).toUpperCase()},Li.trim=function(t,e,i){if((t=ln(t))&&(i||void 0===e))return Ce(t);if(!t||!(e=Za(e)))return t;var a=Ve(t),s=Ve(e);return cs(a,Me(a,s),Oe(a,s)+1).join(\"\")},Li.trimEnd=function(t,e,i){if((t=ln(t))&&(i||void 0===e))return t.slice(0,We(t)+1);if(!t||!(e=Za(e)))return t;var a=Ve(t);return cs(a,0,Oe(a,Ve(e))+1).join(\"\")},Li.trimStart=function(t,e,i){if((t=ln(t))&&(i||void 0===e))return t.replace(W,\"\");if(!t||!(e=Za(e)))return t;var a=Ve(t);return cs(a,Me(a,Ve(e))).join(\"\")},Li.truncate=function(t,e){var i=30,a=\"...\";if(Ur(e)){var s=\"separator\"in e?e.separator:s;i=\"length\"in e?sn(e.length):i,a=\"omission\"in e?Za(e.omission):a}var o=(t=ln(t)).length;if(Fe(t)){var r=Ve(t);o=r.length}if(i>=o)return t;var n=i-qe(a);if(n<1)return a;var l=r?cs(r,0,n).join(\"\"):t.slice(0,n);if(void 0===s)return l+a;if(r&&(n+=l.length-n),Wr(s)){if(t.slice(n).search(s)){var c,d=l;for(s.global||(s=gt(s.source,ln(at.exec(s))+\"g\")),s.lastIndex=0;c=s.exec(d);)var h=c.index;l=l.slice(0,void 0===h?n:h)}}else if(t.indexOf(Za(s),n)!=n){var m=l.lastIndexOf(s);m>-1&&(l=l.slice(0,m))}return l+a},Li.unescape=function(t){return(t=ln(t))&&R.test(t)?t.replace(D,Je):t},Li.uniqueId=function(t){var e=++Pt;return ln(t)+e},Li.upperCase=$n,Li.upperFirst=Fn,Li.each=nr,Li.eachRight=lr,Li.first=Oo,Zn(Li,(hl={},la(Li,(function(t,e){kt.call(Li.prototype,e)||(hl[e]=t)})),hl),{chain:!1}),Li.VERSION=\"4.17.21\",ne([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(t){Li[t].placeholder=Li})),ne([\"drop\",\"take\"],(function(t,e){Ii.prototype[t]=function(i){i=void 0===i?1:ri(sn(i),0);var a=this.__filtered__&&!e?new Ii(this):this.clone();return a.__filtered__?a.__takeCount__=ni(i,a.__takeCount__):a.__views__.push({size:ni(i,4294967295),type:t+(a.__dir__<0?\"Right\":\"\")}),a},Ii.prototype[t+\"Right\"]=function(e){return this.reverse()[t](e).reverse()}})),ne([\"filter\",\"map\",\"takeWhile\"],(function(t,e){var i=e+1,a=1==i||3==i;Ii.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ks(t,3),type:i}),e.__filtered__=e.__filtered__||a,e}})),ne([\"head\",\"last\"],(function(t,e){var i=\"take\"+(e?\"Right\":\"\");Ii.prototype[t]=function(){return this[i](1).value()[0]}})),ne([\"initial\",\"tail\"],(function(t,e){var i=\"drop\"+(e?\"\":\"Right\");Ii.prototype[t]=function(){return this.__filtered__?new Ii(this):this[i](1)}})),Ii.prototype.compact=function(){return this.filter(Vn)},Ii.prototype.find=function(t){return this.filter(t).head()},Ii.prototype.findLast=function(t){return this.reverse().find(t)},Ii.prototype.invokeMap=Ra((function(t,e){return\"function\"==typeof t?new Ii(this):this.map((function(i){return ba(i,t,e)}))})),Ii.prototype.reject=function(t){return this.filter(Pr(Ks(t)))},Ii.prototype.slice=function(t,e){t=sn(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Ii(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=sn(e))<0?i.dropRight(-e):i.take(e-t)),i)},Ii.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ii.prototype.toArray=function(){return this.take(4294967295)},la(Ii.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),s=Li[a?\"take\"+(\"last\"==e?\"Right\":\"\"):e],o=a||/^find/.test(e);s&&(Li.prototype[e]=function(){var e=this.__wrapped__,r=a?[1]:arguments,n=e instanceof Ii,l=r[0],c=n||Er(e),d=function(t){var e=s.apply(Li,pe([t],r));return a&&h?e[0]:e};c&&i&&\"function\"==typeof l&&1!=l.length&&(n=c=!1);var h=this.__chain__,m=!!this.__actions__.length,u=o&&!h,p=n&&!m;if(!o&&c){e=p?e:new Ii(this);var g=t.apply(e,r);return g.__actions__.push({func:ir,args:[d],thisArg:void 0}),new zi(g,h)}return u&&p?t.apply(this,r):(g=this.thru(d),u?a?g.value()[0]:g.value():g)})})),ne([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(t){var e=bt[t],i=/^(?:push|sort|unshift)$/.test(t)?\"tap\":\"thru\",a=/^(?:pop|shift)$/.test(t);Li.prototype[t]=function(){var t=arguments;if(a&&!this.__chain__){var s=this.value();return e.apply(Er(s)?s:[],t)}return this[i]((function(i){return e.apply(Er(i)?i:[],t)}))}})),la(Ii.prototype,(function(t,e){var i=Li[e];if(i){var a=i.name+\"\";kt.call(yi,a)||(yi[a]=[]),yi[a].push({name:e,func:i})}})),yi[Ls(void 0,2).name]=[{name:\"wrapper\",func:void 0}],Ii.prototype.clone=function(){var t=new Ii(this.__wrapped__);return t.__actions__=fs(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=fs(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=fs(this.__views__),t},Ii.prototype.reverse=function(){if(this.__filtered__){var t=new Ii(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ii.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Er(t),a=e<0,s=i?t.length:0,o=function(t,e,i){var a=-1,s=i.length;for(;++a<s;){var o=i[a],r=o.size;switch(o.type){case\"drop\":t+=r;break;case\"dropRight\":e-=r;break;case\"take\":e=ni(e,t+r);break;case\"takeRight\":t=ri(t,e-r)}}return{start:t,end:e}}(0,s,this.__views__),r=o.start,n=o.end,l=n-r,c=a?n:r-1,d=this.__iteratees__,h=d.length,m=0,u=ni(l,this.__takeCount__);if(!i||!a&&s==l&&u==l)return is(t,this.__actions__);var p=[];t:for(;l--&&m<u;){for(var g=-1,v=t[c+=e];++g<h;){var f=d[g],b=f.iteratee,y=f.type,x=b(v);if(2==y)v=x;else if(!x){if(1==y)continue t;break t}}p[m++]=v}return p},Li.prototype.at=ar,Li.prototype.chain=function(){return er(this)},Li.prototype.commit=function(){return new zi(this.value(),this.__chain__)},Li.prototype.next=function(){void 0===this.__values__&&(this.__values__=en(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Li.prototype.plant=function(t){for(var e,i=this;i instanceof Ci;){var a=Lo(i);a.__index__=0,a.__values__=void 0,e?s.__wrapped__=a:e=a;var s=a;i=i.__wrapped__}return s.__wrapped__=t,e},Li.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ii){var e=t;return this.__actions__.length&&(e=new Ii(this)),(e=e.reverse()).__actions__.push({func:ir,args:[Uo],thisArg:void 0}),new zi(e,this.__chain__)}return this.thru(Uo)},Li.prototype.toJSON=Li.prototype.valueOf=Li.prototype.value=function(){return is(this.__wrapped__,this.__actions__)},Li.prototype.first=Li.prototype.head,Zt&&(Li.prototype[Zt]=function(){return this}),Li}();Vt._=Ke,void 0===(s=function(){return Ke}.call(e,i,e,a))||(a.exports=s)}).call(this)}).call(this,i(196),i(197)(t))},function(t,e,i){\"use strict\";i.r(e);i(66),i(67),i(25);i(0).tag2(\"main\",'<div class=\"br-header-falidasi bg-orange\" if=\"{validasimaxstream}\"> <div class=\"pd-r-20 pd-l-20 pd-b-10\"> You\\'ve been reached maximal <b>streams of mention</b> limit for your package. To add more keywords please <a data-toggle=\"modal\" data-target=\"#Headercontact\" target=\"_blank\" class=\"cursor-pointer contact-us\"> contact us </a> </div> </div> <leftside if=\"{!buzzerTracking && !healthindex}\" riot-style=\"{lefside}\"></leftside> <header if=\"{!buzzerTracking && !healthindex}\"></header> <div id=\"content\" class=\"{br-mainpanel:rightside} {rightside:!rightside} {bg-white:infographic} bg-grey-100 mode-opacity {mg-t-110:validasimaxstream}\"> </div> <sendmail></sendmail>','main .rightside,[data-is=\"main\"] .rightside{ margin-left: 0px; padding-top: 0px; }',\"\",(function(t){this.infographic=!1,this.on(\"mount\",()=>{if(APP.log(\"main : mount\"),localStorage.setItem(\"token\",p(\"token\")),this.changeClass(),this.changeLeft(),localStorage.maxdate)var t=localStorage.maxdate;null!=t&&\"\"!=t&&\"null\"!=t?(this.lefside=\"padding-top : 60px\",this.rightside=\"padding-top : 60px\",this.validasimaxstream=!0):(this.lefside=\"padding-top : 60px\",this.rightside=\"padding-top : 0px\",this.validasimaxstream=!1),this.update()}),maxStreams.on(\"maxstreams\",t=>{if(JSON.parse(localStorage.getItem(\"package\")))JSON.parse(localStorage.getItem(\"package\")).records.max_streams;this.update()});menu.on(\"togglecollapse\",t=>{menu.menuText=$(\".menu-item-label\"),t?($(\".show-sub + .br-menu-sub\").slideUp(),menu.menuText.addClass(\"op-lg-0-force\"),$(\".br-sideleft\").one(\"transitionend\",(function(t){menu.menuText.addClass(\"d-lg-none\")}))):($(\".show-sub + .br-menu-sub\").slideDown(),$(\".br-sideleft\").one(\"transitionend\",(function(t){menu.menuText.removeClass(\"op-lg-0-force\"),menu.menuText.removeClass(\"d-lg-none\")})))}),menuleft.on(\"show-left\",t=>{this.changeLeft(t),this.update()}),this.changeLeft=t=>{if(t)var e=\"fixed-leftside pace-done fixed-header show-left \"+localStorage.sidebar;else e=\"fixed-leftside pace-done fixed-header \"+localStorage.sidebar;setTimeout((function(){$(\"body\").attr(\"class\",e)}),100),this.update()},menu.on(\"sidebar\",()=>{this.sidebar=localStorage.sidebar+\" \"+localStorage.showLeft,this.changeClass(this.sidebar),this.update()}),this.changeClass=function(t){void 0!==t&&\"\"!==t||void 0===(t=localStorage.sidebar)&&(t=\"\");let e=t.indexOf(\"collapsed-menu\")>=0;menu.trigger(\"togglecollapse\",e),$(\"body\").attr(\"class\",\"fixed-leftside pace-done fixed-header \"+t)},urlStream.on(\"changeUrl\",t=>{APP.log(\"main : changeurl trigger\"),this.currentUrlStream=t,\"buzzer-tracking\"==this.currentUrlStream&&(this.buzzerTracking=!0,this.rightside=!1),\"health-index\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"domain/infographic\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"domain/indosatreport\"==this.currentUrlStream&&(this.healthindex=!0,this.rightside=!1),\"infographic\"!=this.currentUrlStream&&\"competition/infographic\"!=this.currentUrlStream||(this.healthindex=!0,this.rightside=!1,this.infographic=!0),this.update()})}))},function(t,e,i){i(0).tag2(\"header\",'<div class=\"br-header {mg-t-50:lefside}\"> <div class=\"br-header-left\"> <div class=\"navicon-left hidden-md-down\"> <a onclick=\"{burgerClick}\" id=\"btnLeftMenu\" class=\"cursor-pointer tx-gray-600 hover-dark tx-18 color-blue-teal-r10\"> <i class=\"fa fa-navicon\"></i> </a> </div> <div class=\"navicon-left hidden-lg-up\"> <a onclick=\"{showLeft}\" id=\"btnLeftMenuMobile\" class=\"cursor-pointer color-blue-teal-r10\"> <i class=\"fa fa-navicon\"></i> </a> </div> <div class=\"dropdown stay-open\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"btn btn-outline-primary mg-t-10\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus\"></i> <span class=\" hidden-md-down\">{activeProjects.name}</span> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250\"> <div class=\"form-group mg-5 has-search pd-r-5 pd-l-5 pd-t-5\"> <span class=\"fa fa-search form-control-feedback\"></span> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control bg-input\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li> <a href=\"#{this.currentUrlStream}?project={allProjectIds}\" class=\"pd-5 see-more cursor-pointer\"> <i class=\"fa fa-checks\"></i> Select All </a> </li> <li each=\"{recentProject}\" onclick=\"{toggleCheck}\"> <a class=\"link\" id=\"project-menu-{name.replace(/ /g, \\'_\\')}\" onclick=\"{toggleCheckSelectedProject}\" project=\"{id}\"> <i class=\"fa {fa-check-square-o:checked==true}{fa-square-o:checked==false}\"></i> {name} </a> </li> <li> <hr class=\"mg-5\"> <button class=\"btn btn-outline-primary hg-30 pd-5 wd-60 mg-l-5\" style=\"float: left;\" onclick=\"{submitProjects}\">Show</button> <a onclick=\"{projectsetting}\" class=\"no-hover-style pd-5 see-more cursor-pointer deleteformfilter\" style=\"max-width: 60%;text-align: right;float: right;\"> See More </a> </li> </ul> </div> </div> </div> <nav class=\"nav\"> <div class=\"dropdown\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\" aria-label=\"Settings\"> <div class=\"ht-45 pd-x-20 d-flex align-items-center justify-content-center\"> <img alt=\"\" src=\"../assets/img/svg/setting-black.png\" width=\"20\" height=\"20\" class=\"center displayinitial\"> </div> </a> <div class=\"dropdown-menu pd-10 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a href=\"#setting/global-setting?project={localStorage.prjId}\" class=\"nav-link\"> Profile Setting</a> <a href=\"#setting/filterlist?project={localStorage.prjId}\" class=\"nav-link\"> Filter List</a> </nav> </div> </div> <div class=\"dropdown\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\" aria-label=\"Settings\"> <div class=\"ht-45 pd-x-20 d-flex align-items-center justify-content-center\"> <img alt=\"\" src=\"../assets/img/svg/logout-black.png\" width=\"20\" height=\"20\" class=\"center displayinitial\"> </div> </a> <div class=\"dropdown-menu pd-10 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a href=\"#change-password?project={localStorage.prjId}\" class=\"nav-link\"> Change Password</a> <a href=\"#logout\" class=\"nav-link\"> Logout</a> </nav> </div> </div> </nav> </div>',\"\",\"\",(function(t){this.lefside=!1,this.selectedProject={name:\"Choose Project\",id:0},this.activeProjects={name:\"Choose Project\",id:0},this.currentUrlStream=\"summary\",this.isSerchingProject=!1,this.isShowingRecent=!1,this.searchResult=[],this.searchText=\"\",this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[],this.allProjectIds=\"\",this.on(\"mount\",()=>{if(this.project(),localStorage.maxdate)var t=localStorage.maxdate;this.lefside=null!=t&&\"\"!=t&&\"null\"!=t,this.getavailableChannel(),$(document).on(\"click\",\".stay-open .dropdown-menu\",(function(t){t.stopPropagation()}))}),this.toggleCheckSelectedProject=t=>{t.item.checked=!t.item.checked},this.submitProjects=()=>{const t=this.projects.filter(t=>t.checked).map(t=>t.id);0===t.length?APP.error(\"No Project Selected\"):window.location=`#${this.currentUrlStream}?project=${t.join(\",\")}`},this.getavailableChannel=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:t=>{setTimeout(()=>{localStorage.setItem(\"maxdate\",t)},1e3),this.update()}})},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.reArrangeRecent=(t,e)=>{let i=-1;if(t.some((function(t,a){if(e.indexOf(t.key_id)>=0&&i<0)return i=a,a})),i>0){let e=t[i];delete t[i],t.unshift(e),t=t.filter(t=>!!t),localStorage.setItem(\"projects\",JSON.stringify(t))}return t},this.norequestProject=t=>{let e=p(\"project\")?p(\"project\"):APP.getProject(),i=[];if(e){var a=p(\"project\")?p(\"project\"):APP.getProject().toString(),s=a.split(\",\").map(Number);t=this.reArrangeRecent(t,s);let e=_.filter(t,t=>t.key_item_keyword==a);var o=_.map(t,(function(t,e){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc,keyItemkeyWord:t.key_item_keyword}})),r=_.map(t,(function(t){return{id:t.key_id,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}}));Streams.trigger(\"update-leftside\",r),this.selectedProject=!1;let n=[];if(e.length>0){let t=[e[0].key_name];o.forEach((e,a)=>{t.indexOf(e.name)>-1?(e.checked=!0,i.push(e),this.selectedProject||(this.selectedProject=e,breadCrumb.project=e)):e.checked=!1,n.push(e)});let a=_.orderBy(n,\"checked\",\"desc\");this.projects=a,this.update()}else o.forEach((t,e)=>{s.indexOf(t.id)>-1?(t.checked=!0,i.push(t),this.selectedProject||(this.selectedProject=t,breadCrumb.project=t)):t.checked=!1,n.push(t)}),this.projects=n,this.update();this.allProjectIds=o.map(t=>t.id).join(\",\"),this.recentProject=this.projects,s&&s.length>1||i&&i.length>1?this.activeProjects={name:\"Combined Projects\",id:0}:i[0]?this.activeProjects=i[0]:this.activeProjects={name:this.projects[0].name,id:this.projects[0].id},this.update()}},this.projectsetting=()=>{window.location=\"#project?project=\"+localStorage.prjId},this.burgerClick=t=>{t.preventDefault();let e=void 0===localStorage.sidebar?\"\":localStorage.sidebar;return localStorage.sidebar=e.length?\"\":\"collapsed-menu\",menu.trigger(\"sidebar\"),setTimeout(()=>{$(Highcharts.charts).each((function(t,e){if(e){var i=e.renderTo.clientHeight,a=e.renderTo.clientWidth;e.setSize(a,i)}}))},500),!1},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.projects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.ontotal=0,this.showLeft=t=>{if(t.preventDefault(),this.ontotal=this.ontotal+1,1==this.ontotal)return this.onshow=\"show-left\",menuleft.trigger(\"show-left\",this.onshow),!1;menuleft.trigger(\"show-left\",\"\"),this.ontotal=0},urlStream.on(\"changeUrl\",t=>{APP.log(\"header : changeUrl trigger\"),this.currentUrlStream=t,this.update()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(64);i(0).tag2(\"leftside\",'<div class=\"br-logo {mg-t-50:lefside}\"> <a> <img src=\"assets/img/ripple10.svg\" width=\"120\" class=\"logo-img-mobile r10-xs-logo mg-t-min-4\" alt=\"\"> </a> </div> <div class=\"br-sideleft overflow-y-auto {mg-t-50:lefside} shadow-base\" onmouseenter=\"{expandMenu}\" onmouseleave=\"{collapseMenu}\"> <ul class=\"br-sideleft-menu mg-t-10\"> <li class=\"br-menu-item \" if=\"{packageRest[\\'summary\\']}\"> <a href=\"#summary?project={projectId}\" class=\"br-menu-link {menuActive.summary}\"> <img src=\"assets/img/svg/summary-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Summary</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'trendings\\']}\"> <a onclick=\"{() => this.subTrendings = !this.subTrendings}\" class=\"br-menu-link with-sub {subTrendings ? \\'show-sub\\' : \\'\\'} {menuActive.trendings} cursor-pointer\"> <img src=\"assets/img/svg/trends.ico\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Trendings</span> </a> <ul class=\"br-menu-sub\" riot-style=\"{subTrendings ? \\'display: block;\\' : \\'\\'}\"> <li class=\"sub-item curisor-pointer\"> <a href=\"#trendings/twitter?project={projectId}&area=indonesia\" class=\"sub-link color-blueteal {menuActive[\\'subTrendings.twitter.indonesia\\']}\">Twitter [Indonesia]</a> </li> <li class=\"sub-item curisor-pointer\"> <a href=\"#trendings/twitter?project={projectId}&area=global\" class=\"sub-link color-blueteal {menuActive[\\'subTrendings.twitter.global\\']}\">Twitter [Global]</a> </li> <li class=\"sub-item cursor-pointer\"> <a href=\"#trendings/google-search?project={projectId}\" class=\"sub-link color-blueteal {menuActive[\\'subTrendings.google.indonesia\\']}\">Google Search</a></li> </ul> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'mentions\\']}\"> <a href=\"#mentions?project={projectId}\" class=\"br-menu-link {menuActive.mentions}\"> <img src=\"assets/img/svg/chat-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Mentions</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'authors\\']}\"> <a href=\"#authors?project={projectId}\" class=\"br-menu-link {menuActive.authors}\"> <img src=\"assets/img/svg/group-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Authors</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'analysis\\']}\"> <a href=\"#analysis/my-stream?project={projectId}\" class=\"br-menu-link {menuActive.mystream}\"> <img src=\"assets/img/svg/signal-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Analysis</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'comparison\\']}\"> <a href=\"#comparison?project={projectId}\" class=\"br-menu-link {menuActive.competitiveness}\"> <img src=\"assets/img/svg/comparison-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Comparison</span> </a> </li> <li class=\"br-menu-item \" if=\"{this.BT}\"> <a href=\"#buzzer-tracking-r10?project={projectId}\" class=\"br-menu-link {menuActive.buzz_tracking}\"> <img src=\"assets/img/svg/bullhorn-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Buzzer Tracking</span> </a> </li> <li class=\"br-menu-item \" if=\"{this.DH}\"> <a href=\"#health-index-r10?project={projectId}\" class=\"br-menu-link {menuActive.dhi}\"> <img src=\"assets/img/svg/flash-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Digital Health Index</span> </a> </li> <li class=\"br-menu-item cursor-pointer\" if=\"{packageRest[\\'infographic\\']}\"> <a onclick=\"{() => this.subInfographic = !this.subInfographic}\" class=\"br-menu-link with-sub {subInfographic ? \\'show-sub active\\' : \\'\\'}\"> <img src=\"assets/img/svg/pie-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Infographic</span> </a> <ul class=\"br-menu-sub\" riot-style=\"{subInfographic ? \\'display:block;\\' : \\'\\'}\"> <li class=\"sub-item curisor-pointer\"><a href=\"#infographic?project={projectId}\" target=\"_blank\" class=\"sub-link color-blueteal\">My Brand</a></li> <li class=\"sub-item cursor-pointer\"><a href=\"#competition/infographic?project={projectId}\" target=\"_blank\" class=\"sub-link\" style=\"color:#17A2B8;\">Competition</a></li> </ul> </li> <li class=\"br-menu-item \"> <a href=\"#report/charts?project={projectId}\" class=\"br-menu-link {menuActive.donwloadcharts}\"> <img src=\"assets/img/svg/download-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Generate Charts</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'correction\\']}\"> <a href=\"#correction?project={projectId}\" class=\"br-menu-link {menuActive.Correction}\"> <img src=\"assets/img/svg/edit-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Correction</span> </a> </li> <li class=\"br-menu-item \" if=\"{packageRest[\\'command_center\\']}\"> <a href=\"https://commandcenter.ripple10.com/screen?token={localStorage.AuthToken}\" target=\"_blank\" class=\"br-menu-link \"> <img src=\"assets/img/svg/monitor-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Command Center</span> </a> </li> <li class=\"br-menu-item \" if=\"{localStorage.clientid != \\'431\\' || localStorage.clientid != 431}\"> <a href=\"#download?project={projectId}\" class=\"br-menu-link {menuActive.download}\"> <img src=\"assets/img/svg/download-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Download</span> </a> </li> <li class=\"br-menu-item mg-b-10\" if=\"{packageRest[\\'project_settings\\']}\"> <a href=\"#setting/project-update?project={projectId}\" class=\"br-menu-link {menuActive.project_settings}\"> <img src=\"assets/img/svg/setting-baru.png\" width=\"20\" height=\"20\" class=\"mg-l-min-5\"> <span class=\"menu-item-label\">Project Setting</span> </a> </li> </ul> </div>',\"\",\"\",(function(t){this.active=!1,this.active1=!1,this.menuPermission,this.profileImage=localStorage.images,this.profileName=localStorage.name,this.permission,this.lefside=!1,this.subTrendings=!1,this.subInfographic=!1,this.PR=Number(localStorage.PR),this.DH=Number(localStorage.DH),this.BT=Number(localStorage.BT),this.CC=Number(localStorage.CC),this.showAA=this.DH+this.BT;this.packageRest={},this.packageRest.summary=!1,this.packageRest.trendings=!1,this.packageRest.mentions=!1,this.packageRest.streams=!1,this.packageRest.authors=!1,this.packageRest.analysis=!1,this.packageRest.comparison=!1,this.packageRest.infographic=!1,this.packageRest.correction=!1,this.packageRest.pr_dashboard=!1,this.packageRest.project_settings=!1,this.packageRest.command_center=!1,Streams.on(\"update-leftside\",t=>{var e=p(\"project\")?p(\"project\"):APP.getProject();this.activePermission=_.find(t,{id:parseInt(e)}),this.activePermission&&(this.PR=Number(this.activePermission.pr),this.BT=Number(this.activePermission.bt),this.DH=Number(this.activePermission.hi),this.CC=Number(this.activePermission.cc),this.showAA=this.DH+this.BT,localStorage.setItem(\"PR\",this.PR),localStorage.setItem(\"BT\",this.BT),localStorage.setItem(\"DH\",this.DH),localStorage.setItem(\"CC\",this.CC),this.update()),this.update()}),this.on(\"mount\",()=>{if(this.getavailablekeyword(),APP.log(\"left side : mount\"),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject(),localStorage.Project_devault?this.projectId=localStorage.Project_devault:this.projectId=this.UrlProject,localStorage.setItem(\"prj\",this.UrlProject),localStorage.setItem(\"prjId\",this.projectId),localStorage.maxdate)var t=localStorage.maxdate;this.lefside=null!=t&&\"\"!=t&&\"null\"!=t,this.update({name:Auth.name}),this.infographicBrand(),this.infographicCompetition(),this.packageRestriction()}),this.toggleSubMenu=t=>{this[t]=!this[t]},this.collapseMenu=t=>{if($(\"body\").hasClass(\"collapsed-menu\")&&$(\"#btnLeftMenu\").is(\":visible\")){$(\"body\").removeClass(\"expand-menu\");var e=$(\".menu-item-label\");e.addClass(\"op-lg-0-force\"),e.addClass(\"d-lg-none\")}},this.expandMenu=t=>{if($(\"body\").hasClass(\"collapsed-menu\")&&$(\"#btnLeftMenu\").is(\":visible\")){$(\"body\").addClass(\"expand-menu\");let t=$(\".menu-item-label\");t.removeClass(\"d-lg-none\"),t.removeClass(\"op-lg-0-force\")}},this.leftsidemenu=t=>{var e=t.target.id;if(\"#analysis/my-stream?project=\"==e){if(!(i=this.projectId))var i=APP.getProject()}else if(!(i=this.UrlProject))i=APP.getProject();if(p(\"filter\")){var a=\"&filter=\"+p(\"filter\")+\"&namefilter=\"+p(\"namefilter\");window.location=e+i+a}else window.location=e+i;this.update()},this.getavailablekeyword=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"menu\"},success:function(t){localStorage.getItem(\"menu\")?localStorage.menu=t:localStorage.setItem(\"menu\",t),this.maxkeyword=t,this.update()}.bind(this)})},this.packageRestriction=()=>{if(localStorage.menu)var t=localStorage.menu.split(\",\");else if(JSON.parse(localStorage.getItem(\"package\")))t=JSON.parse(localStorage.getItem(\"package\")).menu;t&&(1==t.length?(this.packageRest.summary=!0,this.packageRest.trendings=!0,this.packageRest.mentions=!0,this.packageRest.streams=!0,this.packageRest.authors=!0,this.packageRest.analysis=!0,this.packageRest.comparison=!0,this.packageRest.infographic=!0,this.packageRest.pr_dashboard=!0,this.packageRest.project_settings=!0,this.packageRest.command_center=!0,this.packageRest.correction=!0):_.each(t,t=>{\"summary\"===t?this.packageRest.summary=!0:\"trendings\"===t?this.packageRest.trendings=!0:\"project_settings\"===t?this.packageRest.project_settings=!0:\"mentions\"===t?this.packageRest.mentions=!0:\"authors\"===t?this.packageRest.authors=!0:\"infographic\"===t?this.packageRest.infographic=!0:\"analysis\"===t?this.packageRest.analysis=!0:\"pr_dashboard\"===t?this.packageRest.pr_dashboard=!0:\"comparison\"===t?this.packageRest.comparison=!0:\"command_center\"===t?this.packageRest.command_center=!0:\"correction\"===t&&(this.packageRest.correction=!0),this.update()})),this.update()},this.menuActive={streams:\"\",analysis:\"\",mystream:\"\",advance_analysis:\"\",competitiveness:\"\",pr_dashboard:\"\",buzz_tracking:\"\",dhi:\"\",cc:\"\",project_settings:\"\",Correction:\"\",download:\"\",donwloadcharts:\"\",trendings:\"\",\"subTrendings.twitter.global\":\"\",\"subTrendings.twitter.indonesia\":\"\",\"subTrendings.google.indonesia\":\"\"},menuActive.on(\"activated\",t=>{_.each(t,t=>{\"analysis\"===t||\"advance_analysis\"===t?(this.menuActive[t]=\"open\",\"analysis\"===t&&(this.active=!0),\"advance_analysis\"===t&&(this.active1=!0)):t.indexOf(\"subTrendings\")>-1?(this.menuActive[t]=\"active\",this.menuActive.trendings=\"active\"):(this.menuActive[t]=\"active\",\"active\"==this.menuActive.buzz_tracking&&(this.displayblock=\"block\"),\"active\"==this.menuActive.dhi&&(this.displayblock=\"block\"))})}),urlStream.on(\"Urlproject\",t=>{APP.log(\"leftside : Urlproject trigger\"),this.UrlProject=t,this.update()}),urlStream.on(\"changeUrl\",t=>{APP.log(\"leftside : changeUrl trigger\"),\"analysis/mystream\"==t&&(this.active=!0,this.update({active:!0}))}),menu.on(\"image\",t=>{this.profileImage=t,localStorage.setItem(\"images\",this.profileImage),menu.trigger(\"fotoupdate\",t),this.update()}),NameProfile.on(\"nameprofile\",t=>{this.profileName=t.fullname,localStorage.setItem(\"name\",this.profileName),this.update()}),this.infographicBrand=()=>{APP.log(\"leftside : infographic\");var t=p(\"project\")?p(\"project\"):APP.getProject(),e=localStorage.since,i=localStorage.until,s=localStorage.userid,o=APP.appInfographicBrandUrl,r={project:t,selected_fields:\"key_id, temporary_token\"};APP.apiGet({path:\"projects\",data:r,success:r=>{const n=Object(a.result)(r,\"[0]\");if(n){let a=o.replace(\"<project>\",t).replace(\"<sdate>\",e).replace(\"<ndate>\",i).replace(\"<userid>\",s).replace(\"<tmp_token>\",n.temporary_token);this.urlInfographic=a+\"&AuthToken=\"+localStorage.AuthToken,this.update()}}})},this.infographicCompetition=()=>{APP.log(\"leftside : infographic\");var t=p(\"project\")?p(\"project\"):APP.getProject(),e=localStorage.since,i=localStorage.until,s=localStorage.userid,o=APP.appInfographicUrl,r={project:t,selected_fields:\"key_id, temporary_token\"};APP.apiGet({path:\"projects\",data:r,success:r=>{r=Object(a.result)(r,\"[0]\",{});let n=o.replace(\"<project>\",t).replace(\"<sdate>\",e).replace(\"<ndate>\",i).replace(\"<userid>\",s).replace(\"<tmp_token>\",r.temporary_token);this.urlInfographicCompetition=n+\"&AuthToken=\"+localStorage.AuthToken,this.update()}})},this.commandCenter=()=>{APP.log(\"leftside : commandCenter\");var t={project:p(\"project\")?p(\"project\"):APP.getProject(),selected_fields:\"key_id, temporary_token\"};APP.apiGet({path:\"projects\",data:t,success:function(t){_.each(t,t=>{const e=APP.appCCUrl.replace(\"<prj>\",t.key_id).replace(\"<no>\",1).replace(\"<tmp_token>\",t.temporary_token);window.open(e)})}.bind(this)})},this.commandCenter1=()=>{APP.log(\"leftside : commandCenter1\");var t={project:p(\"project\")?p(\"project\"):APP.getProject(),selected_fields:\"key_id, temporary_token\"};APP.apiGet({path:\"projects\",data:t,success:function(t){_.each(t,t=>{const e=APP.appCCUrl.replace(\"<prj>\",t.key_id).replace(\"<no>\",2).replace(\"<tmp_token>\",t.temporary_token);window.open(e)})}.bind(this)})},this.commandCenter2=()=>{APP.log(\"leftside : commandCenter1\");var t={project:p(\"project\")?p(\"project\"):APP.getProject(),selected_fields:\"key_id, temporary_token\"};APP.apiGet({path:\"projects\",data:t,success:function(t){_.each(t,t=>{const e=APP.appCCUrl.replace(\"<prj>\",t.key_id).replace(\"<no>\",3).replace(\"<tmp_token>\",t.temporary_token);window.open(e)})}.bind(this)})},$(document).ready((function(){var t=parseInt($(\".leftside\").css(\"height\"));$(\".sidebar .col-xs-12.nopadding\").css(\"height\",t-200+\"px\")}))}))},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"parseFormatChatMap\",(function(){return a}));var a=function(t,e){var i=[],a=Promise.resolve();t.data.forEach((function(e,s){a=a.then(function(t,e,i){var a;return console.log(t),new Promise((function(s,o){a=getProvince(i.features,i.lat,i.long,i.brand),t.length>0?t.forEach((function(t,i){t[e]===a.HASC_1&&s({prov:a,rs:i})})):s({prov:a,rs:-1})}))}(i,\"brand\",{features:t.provinces.features,lat:e.lat,long:e.long,brand:e.brand}).then((function(t){t.rs>=0&&i[t.rs].hasc===t.prov.HASC_1?i[t.rs].z+=1:i.push({color:e.color,brand:e.brand,name:t.prov.NAME_1,hasc:t.prov.HASC_1,z:1})})))})),a.then((function(){console.log(i),e(i)}))}},function(t,e){riot.tag2(\"rg-tags\",'<div class=\"tags\"> <span class=\"tags__container\"> <button each=\"{opts.tags.tags}\" onclick=\"{removeTag}\" type=\"button\" class=\"button button--primary tag\"> {text} <span class=\"tag__close\">×</span> </button> </span> <div class=\"tags__field-container\"> <input type=\"{opts.tags.filter ? \\'search\\' : \\'text\\'}\" name=\"selectfield\" class=\"field\" placeholder=\"{opts.tags.placeholder}\" onkeydown=\"{navigate}\" oninput=\"{filterOptions}\" onfocus=\"{open}\" __readonly=\"{!opts.tags.filter}\"> <ul class=\"menu menu--high\" if=\"{opts.tags.isvisible}\"> <li each=\"{options}\" no-reorder onclick=\"{parent.select}\" class=\"menu__item {\\'menu__item--active\\': selected, \\'menu__item--disabled\\': disabled, \\'menu__item--hover\\': active}\"> {text} </li> </ul> </div> </div>','rg-tags .menu,[riot-tag=\"rg-tags\"] .menu,[data-is=\"rg-tags\"] .menu{ position: absolute; }',\"\",(function(t){var e=this;t.tags||(t.tags={options:[],tags:[]}),t.tags.options||(t.tags.options=[]),t.tags.tags||(t.tags.tags=[]);var i=function(t){e.root.contains(t.target)||e.close(),e.update()},a=function(){e.selectfield.value=\"\";for(var i=0;i<t.tags.options.length;i++){t.tags.options[i].selected=!1}};this.filterOptions=function(){e.options=t.tags.options,t.tags.filter&&(e.options=e.options.filter((function(i){var a=i[t.tags.filter];return a&&a.toLowerCase().indexOf(e.selectfield.value.toLowerCase())>-1}))),e.trigger(\"filter\",e.selectfield.value)};var s=function(){var i=function(){var t=window,e=document,i=e.documentElement,a=e.getElementsByTagName(\"body\")[0];return{width:t.innerWidth||i.clientWidth||a.clientWidth,height:t.innerHeight||i.clientHeight||a.clientHeight}}(),a=e.root.querySelector(\".menu\");if(a){if(!t.tags.isvisible)return a.style.marginTop=\"\",void(a.style.marginLeft=\"\");var s=a.getBoundingClientRect();i.width<s.left+s.width&&(a.style.marginLeft=i.width-(s.left+s.width)-20+\"px\"),s.left<0&&(a.style.marginLeft=\"20px\"),i.height<s.top+s.height&&(a.style.marginTop=i.height-(s.top+s.height)-20+\"px\")}};this.navigate=function(i){if([13,38,40].indexOf(i.keyCode)>-1&&!t.tags.isvisible)return i.preventDefault(),e.open(),!0;var a=e.options.length;if(a>0&&[13,38,40].indexOf(i.keyCode)>-1){i.preventDefault();for(var s=null,o=0;o<a;o++){if(e.options[o].active){s=o;break}}null!=s&&(e.options[s].active=!1),38==i.keyCode?null==s||0==s?e.options[a-1].active=!0:e.options[s-1].active=!0:40==i.keyCode?null==s||s==a-1?e.options[0].active=!0:e.options[s+1].active=!0:13==i.keyCode&&null!=s&&e.select({item:e.options[s]})}return!0},this.open=function(){t.tags.isvisible=!0,e.trigger(\"open\")},this.close=function(){t.tags.isvisible&&(t.tags.isvisible=!1,e.trigger(\"close\"))},this.select=function(i){t.tags.options.forEach((function(t){return t.selected=!1})),i.item.selected=!0,e.addTag(i.item),a(),e.filterOptions(),e.trigger(\"select\",i.item)},this.addTag=function(e){-1==t.tags.tags.indexOf(e)&&t.tags.tags.push(e)},this.removeTag=function(e){t.tags.tags=t.tags.tags.filter((function(t){if(t._id!=e.item._id)return t}))},this.on(\"mount\",(function(){a(),e.filterOptions(),document.addEventListener(\"click\",i),e.update()})),this.on(\"update\",(function(){t.tags.options.forEach((function(t){t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)})),t.tags.tags.forEach((function(t){t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)})),t.tags.filter||a(),s()})),this.on(\"unmount\",(function(){document.removeEventListener(\"click\",i)}))}))},function(t,e,i){i(0).tag2(\"prdash-channel\",'<nav class=\"navbar\"> <div class=\"box-outer-ch\"> <div class=\"arrow-left-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner-ch\"> <div class=\"thumbs1 nav-item fontline nav-space {active: on_allSelected} all btn\" onclick=\"{toggleAllOnline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(on_total ? on_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Online </a> </div> <div class=\" thumbs1 nav-item fontline nav-space {active: o.selected} a{i} btn\" id=\"pointer\" each=\"{o,i in ch_onlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav> <nav class=\"navbar \"> <div class=\"box-outer\"> <div class=\"arrow-left\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner\"> <div class=\"thumbs nav-item fontline nav-space {active: off_allSelected} all btn\" onclick=\"{toggleAllOffline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(off_total ? off_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Offline </a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlinesother}\" onclick=\"{toggle}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav>',\"\",\"\",(function(t){this.on_allSelected=!0,this.off_allSelected=!0,this.render=t=>{APP.log(\"prdash-channel: render\");var e=this.parent.search;APP.apiGet({path:\"prdash\",data:e,success:t=>{const i=e.service_category?e.service_category.split(\",\").map(Number):\"\";let a=this;a.ch_onlines=[],a.ch_offlines=[],a.on_total=0,a.off_total=0,_.forEach(t,(function(t){i?i.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0,t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(a.ch_onlines.push(t),t.selected&&(a.on_total+=t.cat_mentions)):(a.ch_offlines.push(t),a.off_total+=t.cat_mentions)})),this.chanel_offlines=a.ch_offlines.filter((function(t){return\"Other\"!=t.cat_name})),this.chanel_offlinesother=a.ch_offlines.filter((function(t){return\"Other\"==t.cat_name})),a.update(),this.parent.refs.prgraph.filterchannel(t)}})},this.toggleAllOnline=()=>{let t;APP.log(\"prdash-channel: toggleAllOnline\"),t=this.on_allSelected=!this.on_allSelected,_.forEach(this.ch_onlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggleAllOffline=()=>{let t;APP.log(\"prdash-channel: toggleAllOffline\"),t=this.off_allSelected=!this.off_allSelected,_.forEach(this.ch_offlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggle=t=>{APP.log(\"prdash-channel: toggle\"),t.item.o.selected=!t.item.o.selected;const e=_.filter(this.ch_onlines,(function(t){return t.selected})),i=_.find(e,{selected:!1}),a=_.filter(this.ch_offlines,(function(t){return t.selected})),s=_.find(a,{selected:!1});this.on_allSelected=!i,this.off_allSelected=!s,this.update(),this.channelSelected()},this.channelSelected=()=>{APP.log(\"prdash-channel: channelSelected\"),this.on_total=0,this.off_total=0;var e=_.concat(this.ch_onlines,this.ch_offlines),i=_.filter(e,(function(t){return t.selected}));_.forEach(i,t=>{t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(this.on_total+=t.cat_mentions,this.update()):this.off_total+=t.cat_mentions}),\"function\"==typeof t.cb&&t.cb(e)},this.on(\"mount\",()=>{APP.log(\"prdash-channel: mount\")}),$(window).resize((function(){$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"));$(\".box-inner\")[0].scrollWidth==$(\".box-outer\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"));$(\".box-inner-ch\")[0].scrollWidth==$(\".box-outer-ch\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))})),$(document).ready((function(){setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs\").length;t++)e.push($(\".thumbs\")[t].scrollWidth);var i=_.sumBy(e,(function(t){return t}));$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")),$(\".box-inner\")[0].scrollWidth>i&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"))},1e3),$(\"div.arrow-left\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t-50},1),0==$(\".box-inner\").scrollLeft()?($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")):($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\"))})),$(\"div.arrow-right\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t+50},1);var e=$(\".box-inner\")[0].scrollWidth-$(\".box-outer\")[0].scrollWidth;$(\".box-inner\").scrollLeft()>=e?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").removeClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"))})),setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs1\").length;t++)e.push($(\".thumbs1\")[t].scrollWidth);var i=_.sumBy(e,(function(t){return t}));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")),$(\".box-inner-ch\")[0].scrollWidth>i&&($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))},1e3),$(\"div.arrow-left-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t-300},1),0==$(\".box-inner-ch\").scrollLeft()?($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")):($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\"))})),$(\"div.arrow-right-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t+300},1);var e=$(\".box-inner-ch\")[0].scrollWidth-$(\".box-outer-ch\")[0].scrollWidth;$(\".box-inner-ch\").scrollLeft()>=e?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").removeClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"))}))}))}))},function(t,e,i){i(0).tag2(\"prdash-sentiment\",'<nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-4 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\" each=\"{sentiment}\" onclick=\"{toggle}\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total ? total:\\'0\\').format(\\'0.00 a\\').replace(\\'.00\\', \\'\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">{name} </span></a> </li> </li> </ul> </nav> <nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-6 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total_online ? total_online:\\'0\\').format(\\'0%\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">Online </span></a> </li> <li class=\"col-xs-6 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total_offline ? total_offline:\\'0\\').format(\\'0%\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">Offline </span></a> </li> </ul> </nav>',\"\",\"\",(function(t){this.sentiment=[{id:\"positive\",total:0,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\"},{id:\"negative\",total:0,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\"},{id:\"neutral\",total:0,name:\"Netral\",selected:!0,color:\"count-txt color-orange-500\"}],this.toggle=t=>{APP.log(\"prdash-sentiment: toggle\");let e=t.item;e.selected=!e.selected,this.update(),this.Selected()},this.Selected=()=>{if(APP.log(\"prdash-sentiment: Selected\"),\"function\"==typeof t.cb){let e=[];_.forEach(this.sentiment,(function(t){t.selected&&e.push(t.id)})),t.cb(e.toString())}},this.render=t=>{APP.log(\"prdash-sentiment: render\");const e=this.parent.search;e.section=\"\",APP.apiGet({path:\"prdash\",data:e,success:t=>{let i=0,a=0,s=0,o=0,r=0;_.forEach(t,(function(t){const n=e.service_category?e.service_category.split(\",\").map(Number):\"\";n?n.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0,t.selected&&(i+=t.positive_count,a+=t.negative_count,s+=t.neutral_count,\"online\"===t.cat_type?o+=t.positive_count+t.negative_count+t.neutral_count:r+=t.positive_count+t.negative_count+t.neutral_count)})),_.forEach(this.sentiment,(function(t){\"positive\"===t.id&&(t.total=i),\"negative\"===t.id&&(t.total=a),\"neutral\"===t.id&&(t.total=s)})),this.total_online=o/(o+r),this.total_offline=r/(o+r),this.update()}})},this.renderChannel=t=>{let e=0,i=0,a=0,s=0,o=0;_.forEach(t,(function(t){t.selected&&(e+=t.positive_count,i+=t.negative_count,a+=t.neutral_count,\"online\"===t.cat_type?s+=t.positive_count+t.negative_count+t.neutral_count:o+=t.positive_count+t.negative_count+t.neutral_count)})),_.forEach(this.sentiment,(function(t){\"positive\"===t.id&&(t.total=e),\"negative\"===t.id&&(t.total=i),\"neutral\"===t.id&&(t.total=a)})),this.total_online=s/(s+o),this.total_offline=o/(s+o),this.update()}}))},function(t,e,i){i(0).tag2(\"prdash-graph\",'<div class=\"panel padding-10-20\" if=\"{nodata}\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF MENTION</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> <i class=\" pull-right pointer btn-xs\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm \"><i class=\"fa fa-refresh\"></i></a></i> </div> <div class=\"clearfix\"></div> <div id=\"pr-ghstream\" class=\"panel-body bg-white height300\"></div> </div> <div class=\"panel txtcenter\" style=\"height:300px;\" if=\"{!nodata}\"> <div class=\"panel-body\">NO DATA</div> <div id=\"pr-ghstream\" class=\"\"></div> </div>',\"\",\"\",(function(t){this.nodata=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!0},{id:\"daily\",name:\"Daily\",selected:!1},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.prgraph={},this.reload=()=>{this.parent.getAPI()},this.selectTime=t=>{APP.log(\"prdash-graph: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.type=e,this.parent.search.type=e,this.dataselecttime()},this.dataselecttime=()=>{var t=this.parent.search;APP.apiGet({path:\"prdash/graph\",data:t,success:t=>{this.datapoints=t,this.filterproc()}})},this.datapoints,this.render=t=>{this.prgraph=Highcharts.chart(\"pr-ghstream\",{title:{text:\"\"},colors:[\"#1C8348\",\"#FF9800\"],subtitle:{text:\"\"},xAxis:{tickWidth:0,gridLineWidth:1,labels:{format:\"{value:%b %e}\"}},yAxis:[{title:{text:null},labels:{align:\"left\",x:3,y:16,format:\"{value:.,0f}\"},showFirstLabel:!1},{title:{text:null},labels:{},showFirstLabel:!1}],exporting:{enabled:!1},tooltip:{formatter:function(){var t=\"<b>\"+Highcharts.dateFormat(\"%b %e, %Y %H:00\",this.x)+\"</b>\";return $.each(this.points,(function(){t+=\"<br/>\"+this.series.name+\": \"+this.y})),t},crosshairs:!0,shared:!0},series:[{name:\"Online\",lineWidth:2,type:\"spline\",marker:{radius:2}},{name:\"Offline\",type:\"spline\"}]});var e=this.parent.search;APP.apiGet({path:\"prdash/graph\",data:e,success:t=>{const i=e.service_category?e.service_category.split(\",\").map(Number):\"\";_.forEach(t,(function(t){i?i.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0}));var a=_.filter(t,(function(t){return t.selected}));this.datapoints=a;let s=[],o=[];_.forEach(a,(function(t){\"online\"===t.cat_type?s.push({x:new Date(t.datetime),y:t.count}):o.push({x:new Date(t.datetime),y:t.count})})),s=_.orderBy(s,[\"x\"]),o=_.orderBy(o,[\"x\"]),this.prgraph.series[0].setData(s),this.prgraph.series[1].setData(o),this.filterproc(),this.update(),APP.log(\"prdash-filter: render\")}})},this.channels=null,this.s_positive=!0,this.s_negative=!0,this.s_neutral=!0,this.activeSections=[],this.filterchannel=t=>{this.channels=t},this.filtersentiments=t=>{APP.log(\"prdash-filter: filtersentiments\");let e=this;this.s_positive=this.s_negative=this.s_neutral=!1,this.activeSections=t.split(\",\").map(t=>\"\"+t.trim()),_.forEach(t.split(\",\"),(function(t){\"positive\"===t&&(e.s_positive=!0),\"negative\"===t&&(e.s_negative=!0),\"neutral\"===t&&(e.s_neutral=!0)})),this.filterproc()},this.filterproc=()=>{APP.log(\"prdash-filter: filterproc\");let t=_.filter(this.channels,(function(t){return t.selected})),e={},i={},a=this,s=this.parent.search.type;s=s||\"hourly\",_.forEach(this.datapoints,(function(o){let r=_.find(t,(function(t){return t.cat_id===o.cat_id}));if(r&&!0===r.selected){let t;switch(s){case\"hourly\":t=moment(o.datetime,\"YYYY-MM-DD HH\");break;case\"daily\":t=moment(o.datetime,\"YYYY-MM-DD\");break;case\"monthly\":t=moment(o.datetime,\"YYYY-MM\")}let r=0;a.s_positive&&(r+=o.positive_count),a.s_negative&&(r+=o.negative_count),a.s_neutral&&(r+=o.neutral_count),\"online\"===o.cat_type?e[t]?e[t]+=r:e[t]=r:i[t]?i[t]+=r:i[t]=r}}));let o=[],r=[];_.forEach(e,(function(t,e){o.push({x:new Date(e),y:t})})),_.forEach(i,(function(t,e){r.push({x:new Date(e),y:t})})),o=_.orderBy(o,[\"x\"]),r=_.orderBy(r,[\"x\"]),this.prgraph.series[0].setData(o),this.prgraph.series[1].setData(r),this.update()},this.on(\"mount\",()=>{APP.log(\"prdash-filter: mount\"),this.prgraph=Highcharts.chart(\"pr-ghstream\",{title:{text:\"\"},colors:[\"#1C8348\",\"#FF9800\"],subtitle:{text:\"\"},xAxis:{tickWidth:0,gridLineWidth:1,labels:{format:\"{value:%b %e}\"}},yAxis:[{title:{text:null},labels:{align:\"left\",x:3,y:16,format:\"{value:.,0f}\"},showFirstLabel:!1},{title:{text:null},labels:{},showFirstLabel:!1}],exporting:{enabled:!1},tooltip:{formatter:function(){var t=\"<b>\"+Highcharts.dateFormat(\"%b %e, %Y %H:00\",this.x)+\"</b>\";return $.each(this.points,(function(){t+=\"<br/>\"+this.series.name+\": \"+this.y})),t},crosshairs:!0,shared:!0},series:[{name:\"Online\",lineWidth:2,type:\"spline\",marker:{radius:2}},{name:\"Offline\",type:\"spline\"}]})})}))},function(t,e,i){\"use strict\";i.r(e);i(5),i(74),i(32);i(0).tag2(\"prdash-stream-timeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagging pagination=\"{pagination}\"></pagging> <div><i class=\" pull-right pointer refres-streams\" onclick=\"{reload}\"><a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"><i class=\"fa fa-refresh\"></i></a> </i> </div> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{filter}\"> <div if=\"{filter}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <prdash-stream-modal ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></prdash-stream-modal> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{items}\" id=\"setvaleu{_id}\"> <div if=\"{isLoadingset(_id)}\" class=\"loadersentiment\"></div> <div class=\"col-xs-12 holder-timeline {_id} \"> <div class=\"row nomargin {_id}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{user.name}</a></br> </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {service} -{moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{images != undefined && images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{text.substring(0,255)+\\'...\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#SmDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> <div class=\"tanggal\" style=\"margin-top:20px\"> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Tags: </div> <div class=\"tagsprdasboardAdd\" if=\"{!settotal[_id] || settotal[_id] == 0}\"> - </div> <div class=\"tagsprdasboard\" each=\"{o,i in tagvalue[_id]}\" if=\"{settotal[_id] > 0}\">{o}</div> </div> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Newstrend: </div> <div class=\"tagsprdasboardAdd\" if=\"{newstrend == ⁗ ⁗ || newstrend == undefined}\"> - </div> <div class=\"tagsprdasboard\" if=\"{newstrend}\">{newstrend}</div> </div> <div class=\"col-md-4\"> <div class=\"buttons-act\" style=\"right:-65%;position: relative;\"> <div class=\"button-single1 {net:(sentiment != null) && sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(sentiment != null) && sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(sentiment != null) && sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.userLoadingSentiment;const e=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.imgmodalf=t=>{this.imgmodal=t.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update()})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof t.cb&&t.cb()},this.setSentiment=t=>{APP.log(\"prdash-stream: setSentiment\");let e=t.target.id,i=t.item._id;this.userLoadingSentiment=i,this.search.streamid=i,this.search.sentiment=e,APP.apiGet({path:\"prdash/update_sentiment\",data:this.search,success:function(t){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.userLoadingSentiment=void 0,this.saveData(),this.render()}.bind(this)})},this.delete=t=>{APP.log(\"prdash-stream: delete\");t.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(t){$(\"#setvaleu\"+e).fadeOut(1600),this.saveData()}.bind(this)}),this.update()})},this.detailStream=t=>{APP.log(\"prdash-stream: detailStream\"),this.refs.streamdetail.render(t.item)},this.render=()=>{APP.log(\"prdash-stream: render\");let t=this,e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGet({path:\"prdash/streams\",data:e,success:function(e){t.items=e.item,this.total=this.items.length,this.loadTags(t.items),t.pagination.pages=Math.ceil(e.total/this.query.limit),t.isLoading=!1,this.update()}.bind(this)}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.tagvalue={},this.settotal={},this.loadTags=t=>{_.each(t,(function(t,i){t.tags&&(e.tagvalue[t._id]=t.tags,e.settotal[t._id]=e.tagvalue[t._id].length)}))},this.reload=()=>{this.isLoading=!0,this.render()}}))},function(t,e,i){i(0).tag2(\"prdash-stream-modal\",'<div class=\"modal fade\" id=\"SmDetailModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" style=\"width: 80%;\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-header panel\"> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span> </button> <div class=\"row\"> <div class=\"col-md-12\"> <h4 class=\"modal-title\"> </h4> <h5 class=\"item-account-stream\"> <a href=\"{item.source}\" target=\"_blank\">{item.user?item.user.name:\\'\\'}</a> </h5> <i class=\"ion-android-globe icon-source\"></i> <i> {item.service},&nbsp; <i class=\"fa fa-clock-o fsize15\"></i> {moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} </i> </div> <div class=\"col-md-12\"> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Tags:</div> <div class=\"tagsprdasboardAdd\" if=\"{!this.totalvalue || this.totalvalue == 0}\"> - </div> <div class=\"tagsprdasboard\" each=\"{o,i in tagvalue}\" if=\"{totalvalue > 0}\">{o}</div> </div> <div class=\"col-md-5\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Newstrend: </div> <div class=\"tagsprdasboardAdd\" if=\"{item.newstrend == ⁗ ⁗ || item.newstrend == undefined}\"> - </div> <div class=\"tagsprdasboard\" if=\"{item.newstrend}\">{item.newstrend}</div> </div> <div class=\"col-md-3\" style=\"margin-left: -10px;\"> <div class=\"buttons-act hidden-xs\" style=\"right:0px;\"> <div class=\"button-single1 {net:(item.sentiment != null) && item.sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(item.sentiment != null) && item.sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(item.sentiment != null) && item.sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> <div class=\"visible-xs\"> <div class=\"button-single1 {net:(item.sentiment != null) && item.sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(item.sentiment != null) && item.sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(item.sentiment != null) && item.sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> <div class=\"modal-body\"> <div if=\"{item.images}\" id=\"img-carousel\" style=\"margin-bottom:20px\" class=\"carousel slide\" data-ride=\"carousel\"> <ol class=\"carousel-indicators\"> <li each=\"{itm,idx in item.images}\" data-target=\"#img-carousel\" data-slide-to=\"{idx}\" class=\"{active:idx==0}\"></li> </ol> <div class=\"carousel-inner\" role=\"listbox\"> <div each=\"{itm,idx in item.images}\" class=\"item {active:idx==0}\"> <img alt=\"\" riot-src=\"{APP.apiImage + itm.url}\" data-src=\"{APP.apiImage + itm.url}\" onerror=\"this.src =\\'http://via.placeholder.com/640x360\\'\" alt=\"{itm.caption}\"> <div class=\"carousel-caption\"> <h3>{itm.captio}</h3> </div> </div> </div> <a class=\"left carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"prev\"> <span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Previous</span> </a> <a class=\"right carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"next\"> <span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Next</span> </a> </div> <div class=\"content full95block \" style=\"margin-left: 0px;width: 100%;\"> <p ref=\"detailtext\" class=\"modalformat\" style=\"margin-left: 0px;\">&nbsp;</p> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.item={},this.render=t=>{console.log(t.newstrend),t.tags&&(this.tagvalue=t.tags,this.totalvalue=this.tagvalue.length),APP.log(\"prdash-stream-modal: render\"),this.item=t,this.refs.detailtext.innerHTML=t.text,this.update()},this.setSentiment=e=>{APP.log(\"prdash-stream-modal: setSentiment\"),\"function\"==typeof t.cb&&(e.item=this.item,t.cb(e)),$(\"#SmDetailModal\").modal(\"hide\")},this.delete=e=>{APP.log(\"prdash-stream-modal: delete\"),\"function\"==typeof t.cb2&&(e.item=this.item,t.cb2(e)),$(\"#SmDetailModal\").modal(\"hide\")}}))},function(t,e,i){i(0).tag2(\"prdash-filter\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"col-xs-12 filter\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\" riot-value=\"{keyword}\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\" riot-value=\"{domain}\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\" riot-value=\"{author}\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-1\" class=\"exc\" value=\"true\" checked=\"{checked:checked}\"> <label for=\"checkbox-inline-1\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div style=\"margin-top:20px\"> <button type=\"submit\" class=\"accsaved pointer\" id=\"addprojectaccount\"> Show Result</button> <button class=\"addprojectaccount \" id=\"cancel\" onclick=\"{reset}\"> Reset Filter </button> </div> </div> </form>',\"\",\"\",(function(t){this.kirim=e=>{e.preventDefault(),APP.log(\"prdash-filter: kirim\");let i={};if(null==$(\".exc:checked\").val())var a=!1;else a=$(\".exc:checked\").val();i.q=this.refs.internet.value,i.domain=this.refs.domain.value,i.author=this.refs.author.value,i.filterbot=a,\"function\"==typeof t.cb&&t.cb(i)},this.reset=()=>{APP.log(\"prdash-filter: reset\");let e={q:\"\",domain:\"\",author:\"\"};\"function\"==typeof t.cb&&t.cb(e)},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()}}))},function(t,e,i){i(0).tag2(\"prdash-filter-2\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\"> <div class=\"col-xs-12 filter\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\" riot-value=\"{keyword}\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\" riot-value=\"{domain}\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\" riot-value=\"{author}\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-2\" class=\"exc\" value=\"true\" checked=\"{checked:checked}\"> <label for=\"checkbox-inline-2\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div class=\"col-xs-4 result pull-right\" onclick=\"{kirim}\"> Show Result </div> <div class=\"col-xs-4 reset pull-right\" onclick=\"{reset}\"> Reset Filter </div> </div> </form>',\"\",\"\",(function(t){this.kirim=()=>{APP.log(\"prdash-filter: kirim\");let e={};if(null==$(\".exc:checked\").val())var i=!1;else i=$(\".exc:checked\").val();e.q=this.refs.internet.value,e.domain=this.refs.domain.value,e.author=this.refs.author.value,e.filterbot=i,\"function\"==typeof t.cb&&t.cb(e)},this.reset=()=>{APP.log(\"prdash-filter: reset\");let e={q:\"\",domain:\"\",author:\"\"};\"function\"==typeof t.cb&&t.cb(e)},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()}}))},function(t,e,i){i(0).tag2(\"modal-stream\",'<div class=\"modal fade\" id=\"StreamsDetailModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div if=\"{isLoading}\" class=\"loading\"></div> <div class=\"modal-header panel\"> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span> </button> <h4 class=\"modal-title\"> </h4> <h5 class=\"item-account-stream\"> <a href=\"{item.source}\" target=\"_blank\">{name?name:\\'\\'}</a> </h5> <i class=\"ion-android-globe icon-source\"></i> <i> {service?service:\\'\\'},&nbsp; <i class=\"fa fa-clock-o fsize15\"></i> {moment(date).format(\\' MMMM D, YYYY HH:mm \\')} </i> </div> <div class=\"modal-body\"> <div if=\"{dataimage}\" id=\"img-carousel\" style=\"margin-bottom:20px\" class=\"carousel slide\" data-ride=\"carousel\"> <ol class=\"carousel-indicators\"> <li each=\"{itm,idx in dataimage}\" data-target=\"#img-carousel\" data-slide-to=\"{idx}\" class=\"{active:idx==0}\"></li> </ol> <div class=\"carousel-inner\" role=\"listbox\"> <div each=\"{itm,idx in dataimage}\" class=\"item {active:idx==0}\"> <img alt=\"\" riot-src=\"{itm.url}\" data-src=\"{itm.url}\" onerror=\"this.src =\\'http://via.placeholder.com/640x360\\'\" alt=\"{itm.caption}\"> <div class=\"carousel-caption\"> <h3>{itm.caption}</h3> </div> </div> </div> <a class=\"left carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"prev\"> <span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Previous</span> </a> <a class=\"right carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"next\"> <span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Next</span> </a> </div> <div class=\"content full95block \"> <p ref=\"detailtext\">&nbsp;</p> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.item={},this.render=t=>{APP.log(\"prdash-stream-modal: render\"),this.item=t,this.service=t.service,this.name=t.media_name,this.date=t.date_format,this.refs.detailtext.innerHTML=t.summary,this.getimage(),this.update()},this.setSentiment=e=>{APP.log(\"prdash-stream-modal: setSentiment\"),\"function\"==typeof t.cb&&(e.item=this.item,t.cb(e)),$(\"#SmDetailModal\").modal(\"hide\")},this.delete=e=>{APP.log(\"prdash-stream-modal: delete\"),\"function\"==typeof t.cb2&&(e.item=this.item,t.cb2(e)),$(\"#SmDetailModal\").modal(\"hide\")},this.getimage=t=>{APP.log(\"prdash-stream: detailStream\");let e=this.parent.search;APP.apiGetPR({path:\"attachment.php?action=get\",data:e,success:function(t){this.dataimage=t.items,this.update({isLoading:!1})}.bind(this)})}}))},function(t,e,i){i(0).tag2(\"prdash-total\",'<nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-12 nav-item sentiment nav-space active positive\"> <a class=\"nav-link\"><span class=\"garis\"><h1>{total}</h1> <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\"><h1>Total Streams</h1></span></a> </li> </li> </ul> </nav>',\"\",\"\",(function(t){this.render=t=>{this.total=t,this.update()}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"prdashchart\",'<div class=\"panel padding-10-20\" if=\"{nodata}\"> <div if=\"{loading}\" class=\"loader\"></div> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF MENTION</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> </div> <div class=\"clearfix\"></div> <div id=\"pr-ghstream\" class=\"panel-body bg-white height300\"></div> </div> <div class=\"panel txtcenter\" style=\"height:300px;\" if=\"{!nodata}\"> <div class=\"panel-body\">NO DATA</div> <div id=\"pr-ghstream\" class=\"\"></div> </div>',\"\",\"\",(function(t){this.chart=null,window.check=this,this.type=\"daily\",this.nodata=!0,this.loading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.prgraph={},this.selectTime=t=>{APP.log(\"prdash-graph: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.type=e,this.filterproc()},this.datapoints,this.render=()=>{this.loading=!0;let t=this.parent.search;APP.apiGetPR({path:\"report.php?action=lists\",data:t,success:function(t){t.items;this.datapoints=t.items,this.update(),this.filterproc()}.bind(this)}),APP.log(\"prdash-filter: render\")},this.filterproc=()=>{APP.log(\"prdash-filter: filterproc\");var t=this.datapoints;t=_.map(t,t=>{if(\"hourly\"===this.type)var e=moment(t.date_mod).format(\"YYYY-MM-DD HH\");if(\"daily\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM-DD\");if(\"monthly\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM\");let i=null;return i={id:t.rid,date:e,formatdate:moment(t.date_mod).format(\"YYYY-MM-DD\"),date_mod:t.date_mod,count:1},i}).reduce((t,e)=>(_.isObject(e)&&(t[e.date]?t[e.date].count++:t[e.date]=e),t),{});let e=[];_.forEach(t,(function(t,i){e.push([moment(t.formatdate).utc().valueOf(),t.count])}));const i=this.chart=s()(\"pr-ghstream\",this.type);e=_.orderBy(e,[\"x\"]),i.addSeries({id:\"response\",shadow:!1,name:\"Mention\",lineWidth:2,color:\"#1C8348\",marker:{radius:3},data:e}),this.update({loading:!1})}}))},function(t,e,i){\"use strict\";i.r(e);i(81),i(77),i(32);i(0).tag2(\"prdashtimeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\" style=\"padding: 0\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagination pagination=\"{pagination}\"></pagination> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <modal-stream ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></modal-stream> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{o,i in items}\" id=\"setvaleu{rid}\"> <div class=\"col-xs-12 holder-timeline {rid} \"> <div class=\"row nomargin {rid}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{o.media_name}</a></br> </div> <div class=\"content \" style=\"text-align: justify ; min-height: 0px; \"> {o.title} </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {o.service} -{moment(o.date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{o.images != undefined && o.images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{o.summary.substring(0,1000)+\\'\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#StreamsDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.userLoadingSentiment,this.array=!1;const e=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.imgmodalf=t=>{this.imgmodal=t.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update(),console.log(APP.apiprdashboard)})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof t.cb&&t.cb()},this.detailStream=t=>{this.refs.streamdetail.isLoading=!0,APP.log(\"prdash-stream: detailStream\");let e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGetPR({path:\"report.php?action=get\",data:e,success:function(e){this.refs.streamdetail.render(t.item.o),this.isLoading=!1,this.update()}.bind(this)})},this.render=()=>{APP.log(\"prdash-stream: render\");let t=this,e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGetPR({path:\"report.php?action=lists\",data:e,success:function(i){APP.apiGetPR({path:\"report.php?action=get\",data:e,success:function(e){var a=i.items;if(i=_.map(a,t=>{let i=null;return i={rid:t.rid,date_format:moment(t.date_mod).format(\"YYYY-MM-DD HH\"),title:e.items[0].title,media_name:e.items[0].media_name,service:e.items[0].service,summary:e.items[0].summary,service:e.items[0].service},i}),this.pagination.page)var s=(this.pagination.page-1)*this.query.limit,o=s+this.query.limit;this.parent.refs.prsentiment.render(i.length),t.items=i.slice(s,o),this.total=this.items.length,this.pagination.pages=Math.ceil(i.length/this.query.limit),t.isLoading=!1,t.update()}.bind(t)})}}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.reload=()=>{this.isLoading=!0,this.render()}}))},function(t,e,i){i(0).tag2(\"pagination\",'<div class=\"pagination custom pull-right\" style=\"height: 50px; margin-top:-15px;\" if=\"{opts.pagination.pages > 1}\"> <ul class=\"pagination\"> <li class=\"{opts.pagination.page <=1 ? ⁗disabled⁗ : ⁗⁗}\"> <a class=\"pointer\" onclick=\"{first}\"> <i class=\"fa fa-angle-double-left\"></i> </a> </li> <li class=\"{opts.pagination.page <=1 ? ⁗disabled⁗ : ⁗⁗}\"> <a class=\"pointer\" onclick=\"{back}\"> <i class=\"fa fa-angle-left\"></i> </a> </li> <li if=\"{opts.pagination.page > 1}\"> <a class=\"pointer\" onclick=\"{back}\"> {opts.pagination.page - 1} </a> </li> <li class=\"active\"><a>{opts.pagination.page}</a></li> <li if=\"{opts.pagination.page < opts.pagination.pages}\"> <a class=\"pointer\" onclick=\"{forward}\"> {opts.pagination.page + 1} </a> </li> <li class=\"{opts.pagination.page>= opts.pagination.pages ? ⁗disabled⁗ : ⁗⁗}\"> <a class=\"pointer\" onclick=\"{forward}\"> <i class=\"fa fa-angle-right\"></i> </a> </li> <li class=\"{opts.pagination.page>= opts.pagination.pages ? ⁗disabled⁗ : ⁗⁗}\"> <a class=\"pointer\" onclick=\"{last}\"> <i class=\"fa fa-angle-double-right\"></i> </a> </li> </ul> </div>',\"\",\"\",(function(t){this.on(\"update\",()=>{t.pagination||(t.pagination={pages:1,page:1})}),this.on(\"page\",e=>{\"function\"==typeof t.pagination.cb&&t.pagination.cb(e)}),this.forward=e=>{e.preventDefault(),t.pagination.page<t.pagination.pages&&(t.pagination.page++,this.trigger(\"page\",t.pagination.page))},this.back=e=>{e.preventDefault(),t.pagination.page>1&&(t.pagination.page--,this.trigger(\"page\",t.pagination.page))},this.first=e=>{e.preventDefault(),1!==t.pagination.page&&(t.pagination.page=1,this.trigger(\"page\",t.pagination.page))},this.last=e=>{e.preventDefault(),t.pagination.page!==t.pagination.pages&&(t.pagination.page=t.pagination.pages,this.trigger(\"page\",t.pagination.page))}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(27),s=i.n(a);i(0).tag2(\"chart-positive\",'<div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> STREAM COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a href=\"#\" onclick=\"{selectTime}\" class=\"btn {active:selected}\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\" mg-l-10 mg-t-7 cursor-pointer cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords, compared to other projects that you\\'ve chosen\"> ? </span> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <div class=\"card-body pd-0 bd-color-gray-lighter height380 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter \" if=\"{!notdata}\"> <div class=\"row no-gutters tx-center height400\" id=\"chartstream_multiproject\"></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.chartpositive=null,this.isExist=!0,this.isLoading=!0,this.chart=null,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{APP.log(\"chart-positive: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{APP.log(\"chart-positive: mount\")}),this.renderamplifi=()=>{$.getJSON(\"/data/lazoneid.json\",(function(t){let e=\"\";for(let i of t)e+=i.tweet;console.log(e)}))},this.dataProjects=[],this.render=t=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var e=JSON.parse(localStorage.getItem(\"projects\"));const i=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);_.map(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{i.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var a=_.filter(this.dataProjects,(function(t){return t.checked}));this.projectname=a,this.valproject=a;const o=_.find(this.times,{selected:!0}).id;let r=_.clone(this.parent.search);r.project=p(\"project\")?p(\"project\"):APP.getProject(),r.type=o;var n=a.map((function(t){return{name:t.name,color:t.color}})),l=_.reduce(n,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const c=this.chartpositive=s()(\"chartstream_multiproject\",o);this.xhr=APP.apiGet({path:\"stream/brand/mention\",data:r,success:e=>{0===(e=e.items).length?this.notdata=!0:this.update({notdata:!1});var i=_.groupBy(e,(function(t){return t.brand_name}));i=Object.keys(i).sort().reduce((t,e)=>(t[e]=i[e],t),{});var a=[];for(let t in i){var s=_.sortBy(i[t],t=>moment(t.date).toDate());if(s=s.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!this.isExist)return;a.push({id:\"response\",shadow:!1,name:t,type:\"areaspline\",totalval:_.sumBy(s,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,l[t]],[1,Highcharts.Color(l[t]).setOpacity(0).get(\"rgba\")]]},lineWidth:1,color:l[t],marker:{radius:3},data:s})}this.data=a,a=_.orderBy(a,[\"totalval\"],[\"desc\"]);for(var o=0;o<=a.length-1;o++)c.addSeries(a[o]);this.update({isLoading:!1}),_.isFunction(t)&&t()}})},500)},this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(const t in this.projectname)a.push(this.projectname[t].name);let s=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\");let o=[];for(let t in a){let i={},s=a[t],r=e[s]&&e[s][0].tipe;s===r?i[r]=e[s][0].count:i[s]=0,o.push(i)}let r=o.reduce((function(t,e){return Object.assign(t,e)}),{});[r].map(e=>(e.tgl=moment(Number(t)).format(\"YYYY-MM-DD\"),e)),s.push(r)}s.length>0&&APP.downloadcsv(s,\"Stream_Comparison_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr,this.chart&&this.chart.destroy(),this.chartpositive&&this.chartpositive.destroy()})}))},function(t,e,i){\"use strict\";i.r(e);i(18);i(0).tag2(\"competitive-share-of-voice\",'<div class=\"no-gutters widget-1\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bb-1 pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SHARE OF VOICE</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height300 \" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null;var e=this;this.render=t=>{var e=this;setTimeout((function(){APP.log(\"share of voice  : render\"),e.setChart(t)}),1e3)},this.setChart=t=>{APP.log(\"share of voice  : setChart\");let i=_.clone(this.parent.search);i.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0,notdata:!1}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:i,success:i=>{if(_.isFunction(t)&&t(),0===(i=i).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});var a=i.items;a=a.map((function(t,e){var a=t.count/i.total*100;return{name:t.brand,y:parseFloat(a.toFixed(1)),totalvalue:t.count.formatMoney(0),color:t.color}})),this.items=a,this.isExist&&(this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy(),Highcharts.chart(\"shareofvoice\",{chart:{type:\"pie\",options3d:{enabled:!0,alpha:45}},title:{text:\"\"},subtitle:{text:\"\"},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h6>{point.name}</h6></th></tr><tr><th>Total : {point.totalvalue} </th><td>({point.y} %)</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{pie:{innerSize:100,depth:45,dataLabels:{formatter:function(){return\"<span style='font-size:12px; color:#333;'> \"+this.point.name+\"</br>\"+this.point.totalvalue+\" ( \"+this.point.y+\" % ) </span>\"},useHTML:!0},minSize:200},series:{cursor:\"pointer\",events:{click:function(t){var i=JSON.parse(localStorage.projects),a=_.filter(i,(e,i)=>e.key_name==t.point.name),s=a?a[0].key_id:\"\";e.parent.detailmentions(null,null,null,null,null,null,t.point.name,s)}}}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},series:[{name:\"Persentase\",data:a}]}),this.update({isLoading:!1}))}})},this.downloadcsv=()=>{var t=this.items.map(t=>({brand:t.name,count:t.y,persentase:t.totalvalue}));t.length>0&&APP.downloadcsv(t,\"share_of_voice_competition_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))},function(t,e,i){\"use strict\";i.r(e);i(18);i(0).tag2(\"shareofvoicesentiment\",'<div class=\"widget-1\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SHARE OF SENTIMENT</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height300 \" id=\"shareofvoicesentiment\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null,this.data={},this.render=t=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:e=>{this.dataproject=e,setTimeout(()=>{let i=_.clone(this.parent.search);i.section?this.searchsection=i.section:this.searchsection=\"positive,negative,neutral\",this.renderdata(e),_.isFunction(t)&&t()},1e3),this.update()}})};var e=this;this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),async.parallel({positive:function(t){i((function(e){t(null,e)}),\"positive\")},negative:function(t){i((function(e){t(null,e)}),\"negative\")},neutral:function(t){i((function(e){t(null,e)}),\"neutral\")}},(e,i)=>{this.update({isLoading:!1,nodata:!1}),this.mapData(i,t)})},this.generateData=t=>{let e=[];_.each(_.groupBy(t,\"brand_name\"),(t,i)=>{let a=_.sumBy(t,\"count\"),s={};return s[i]=a,e.push(s)})},this.mapData=(t,e)=>{if(t){let i=t.positive,s=t.negative,o=t.neutral;\"positive\"==this.searchsection?(i=t.positive,s=[],o=[]):\"negative\"==this.searchsection?(i=[],s=t.negative,o=[]):\"neutral\"==this.searchsection?(i=[],s=[],o=t.neutral):\"neutral,positive\"==this.searchsection||\"positive,neutral\"==this.searchsection?(i=t.positive,s=[],o=t.neutral):\"neutral,negative\"==this.searchsection||\"negative,neutral\"==this.searchsection?(i=[],s=t.negative,o=t.neutral):\"positive,negative\"!=this.searchsection&&\"negative,positive\"!=this.searchsection||(i=t.positive,s=t.negative,o=[]);let r={positive:{},negative:{},neutral:{}};const n={};for(let t in i){const e=i[t].brand_name;r.positive[e]||(r.positive[e]=0),r.positive[e]=r.positive[e]+i[t].count,n[e]||(n[e]=0),n[e]+=i[t].count}for(let t in s){const e=s[t].brand_name;r.negative[e]||(r.negative[e]=0),r.negative[e]=r.negative[e]+s[t].count,n[e]||(n[e]=0),n[e]+=s[t].count}for(let t in o){const e=o[t].brand_name;r.neutral[e]||(r.neutral[e]=0),r.neutral[e]=r.neutral[e]+o[t].count,n[e]||(n[e]=0),n[e]+=o[t].count}this.items=r;const l=p(\"project\"),c=document.projectCompetition?document.projectCompetition:\"\",d=decodeURIComponent(`${l},${c}`),h=e,m=(\"string\"==typeof d?d.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\").split(\",\").map(t=>parseInt(t.trim())),u=h.filter(t=>m.indexOf(t.key_id)>=0).map(t=>t.key_name),g=this.searchsection.split(\",\");let v={};for(let t in g){const e=g[t];v[e]=[];for(let t in u){const i=u[t];r[e]||(r[e]={}),r[e][i]||(r[e][i]=0);n[i];const a=r[e][i];v[e].push(a)}}a(v,u,n)}};var i=(t,e)=>{let i=_.clone(this.parent.search);i.section=e,APP.apiGet({path:\"stream/brand/mention\",data:i,success:e=>{t(e.items)}})},a=(t,i,a)=>{var s={positive:\"#6cb17d\",negative:\"#d74943\",neutral:\"#ffb848\"};i.map(t=>a[t]);var o=_.map(t,(t,e)=>({name:e,color:s[e],data:t}));this.update({isLoading:!1}),Highcharts.chart(\"shareofvoicesentiment\",{chart:{type:\"bar\",margin:[20,60]},title:{text:\"\"},xAxis:{categories:i,crosshair:!0,labels:{style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"},formatter:function(){return this.value.length>15?this.value.substr(0,15)+\"...\":this.value}}},yAxis:{min:0,labels:{formatter:function(t){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")},style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{enabled:!1},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"12px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){const t=a[this.x],e=(100*this.y/t).formatMoney(1);return\"<span style='z-index:0;position:relative; font-size:12px;'> \"+this.y.formatMoney(0)+`(${e}%)</span>`}},maxPointWidth:100,minPointLength:20,cursor:\"pointer\",events:{click:function(t){var i=JSON.parse(localStorage.projects),a=_.filter(i,(e,i)=>e.key_name==t.point.category),s=a?a[0].key_id:\"\";e.parent.detailmentions(null,t.point.series.name,null,null,null,null,t.point.category,s)}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:o})};this.downloadcsv=()=>{let t={};t.positive=this.items.positive,t.negative=this.items.negative,t.neutral=this.items.neutral;const e=Object.keys(t.positive).map(t=>t);let i=[];for(const a in t){let s={sentiment:a};for(const i of e)s[i]=t[a][i];i.push(s)}i.length>0&&APP.downloadcsv(i,\"share_of_voice_competition_\"+p(\"project\").replace(/,/g,\"_\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))},function(t,e,i){\"use strict\";i.r(e);i(8);i(0).tag2(\"twittercomparison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"2\" onclick=\"{valuedataname}\"> <img src=\"assets/img/image/twitter-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"2\"> TWITTER COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Twitter mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">TOP REACH </th> <th scope=\"col\" class=\"text-right\">TOP 10 REACH </th> <th scope=\"col\" class=\"text-right\">REGULAR TWEETS</th> <th scope=\"col\" class=\"text-right\">RETWEETS</th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> </tr> </thead> <tbody> <tr each=\"{data}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_tw ? unique_account_tw.formatMoney(0) : 0}</td> <td data-label=\"TOP REACH\" class=\"text-right\">{top_reach_tw ? top_reach_tw.formatMoney(0) : 0}</td> <td data-label=\"TOP 10 REACH\" class=\"text-right\">{top_reach10_tw ? top_reach10_tw.formatMoney(0) : 0}</td> <td data-label=\"REGULAR TWEETS\" class=\"text-right\">{regular_tw ? regular_tw.formatMoney(0): 0}</td> <td data-label=\"RETWEETS\" class=\"text-right\">{retweet_tw ? retweet_tw.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_tw ? Number(ae_tw).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!1,this.xhr=null,this.chacheSummary={},this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.render=()=>{APP.log(\"number summary : render\");let t=_.clone(this.parent.search);t.type=null,this.update({isLoading:!0});let e=this;APP.log(\"query summary\"),this.xhr=APP.apiGet({path:\"summary/bybrand\",data:t,success:t=>{t=t.items,this.parent.refs.facebookcomparison.renderData(t),this.parent.refs.instagramcomparison.renderData(t),e.data=t,e.update({isLoading:!1})}})},this.downloadcsv=()=>{var t=this.data.map(t=>({Project:t.name,unique_account:t.unique_account_tw?t.unique_account_tw.formatMoney(0):0,top_reach:t.top_reach_tw?t.top_reach_tw.formatMoney(0):0,top_reach10:t.top_reach10_tw?t.top_reach10_tw.formatMoney(0):0,regular_tweet:t.regular_tw?t.regular_tw.formatMoney(0):0,retweet:t.retweet_tw?t.retweet_tw.formatMoney(0):0,average_exposure:t.ae_tw?t.ae_tw.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Twitter_Comparison_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.data=null,this.xhr&&this.xhr.abort(),delete this.data})}))},function(t,e,i){\"use strict\";i.r(e);i(8);i(0).tag2(\"facebookcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"1\" onclick=\"{valuedataname}\"> <img src=\"assets/img/image/facebook-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"1\"> FACEBOOK COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Facebook mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">REG POSTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">COMMENTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> </tr> </thead> <tbody> <tr each=\"{facebookdata}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_fb ? unique_account_fb.formatMoney(0) : 0}</td> <td data-label=\"REG POSTS (FANSPAGE)\" class=\"text-right\">{regular_fb ? regular_fb.formatMoney(0) : 0}</td> <td data-label=\"COMMENTS (FANSPAGE)\" class=\"text-right\">{comments_fb ? comments_fb.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_fb ? Number(ae_fb).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.facebookdata=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.facebookdata.map(t=>({Project:t.name,unique_account:t.unique_account_fb?t.unique_account_fb.formatMoney(0):0,reg_post:t.regular_fb?t.regular_fb.formatMoney(0):0,comment:t.comments_fb?t.comments_fb.formatMoney(0):0,replies:t.reply_fb?t.reply_fb.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Facebook_Comparison_\"+p(\"project\"),!0)}}))},function(t,e,i){\"use strict\";i.r(e);i(8);i(0).tag2(\"instagramcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"7\" onclick=\"{valuedataname}\"> <img src=\"assets/img/image/instagram-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"7\"> INSTAGRAM COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Instagram mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">TOP REACH </th> <th scope=\"col\" class=\"text-right\">TOP 10 REACH </th> <th scope=\"col\" class=\"text-right\">REGULAR POSTS</th> <th scope=\"col\" class=\"text-right\">REPLIES</th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> </tr> </thead> <tbody> <tr each=\"{instagram}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_ig ? unique_account_ig.formatMoney(0) : 0}</td> <td data-label=\"TOP REACH\" class=\"text-right\">{top_reach_ig ? top_reach_ig.formatMoney(0) : 0}</td> <td data-label=\"TOP 10 REACH\" class=\"text-right\">{top_reach_ig ? top_reach_ig.formatMoney(0) : 0}</td> <td data-label=\"REGULAR POSTS\" class=\"text-right\">{regular_ig ? regular_ig.formatMoney(0) : 0}</td> <td data-label=\"REPLIES\" class=\"text-right\">{reply_ig ? reply_ig.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_ig ? Number(ae_ig).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.instagram=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.instagram.map(t=>({Project:t.name,unique_account:t.unique_account_ig?t.unique_account_ig.formatMoney(0):0,top_reach:t.top_reach_ig?t.top_reach_ig.formatMoney(0):0,top_reach10:t.top_reach10_ig?t.top_reach10_ig.formatMoney(0):0,regular_post:t.regular_ig?t.regular_ig.formatMoney(0):0,retweet:t.reply_ig?t.reply_ig.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Instagram_Comparison_\"+p(\"project\"),!0)}}))},function(t,e,i){\"use strict\";i.r(e);i(16);i(0).tag2(\"influence\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-center text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHOR \" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > 20 ? o.realname .substring(0,20) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle tx-center text-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.cacheInfluencer={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.search={since:null,until:null,project:null},this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,i=t.item.o.serviceId;this.parent.detailmentions(null,null,i,e,null,null,\"Author\",null)},this.render=t=>{this.cacheInfluencer={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.isLoading=!0,this.updatemenu=t=>{if(APP.log(\"influence : uodate menu \"+t),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(i=_.clone(this.parent.search)).project=e,this.valprj=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.cacheInfluencer[i.project]){var a=this.cacheInfluencer[i.project];this.items=a,this.total=a.length,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:i,success:t=>{if(this.isExist){var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.cacheInfluencer[i.project]=e,this.total=t.total,this.update({isLoading:!1})}}});this.currentProjectId=t},this.downloadcsv=()=>{let t=this.cacheInfluencer[Number(this.valprj)].map(t=>({user_name:t.user_name?t.user_name:t.realname,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"\"+(\"Most_Influential_\"+this.valprj),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.cacheInfluencer=null,this.items=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.cacheInfluencer,delete this.items,delete this.search})}))},function(t,e,i){\"use strict\";i.r(e);i(16);i(0).tag2(\"most-active\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 \">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\">{o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.chacheMostactive={},this.currentProjectId=null,this.isExist=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,i=t.item.o.serviceId;this.parent.detailmentions(null,null,i,e,null,null,\"Author\",null)},this.render=t=>{this.chacheMostactive={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.isLoading=!0,this.updatemenu=t=>{if(APP.log(\"mostactive : uodate menu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(i=_.clone(this.parent.search)).project=e,this.valprj=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheMostactive[i.project]){var a=this.chacheMostactive[i.project];this.items=a,this.total=a.length,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/top_users\",data:i,success:t=>{if(this.isExist){this.dataarray=[];var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.chacheMostactive[i.project]=e,this.total=t.total,this.update({isLoading:!1})}}});this.currentProjectId=t},this.downloadcsv=()=>{var t;(t=this.chacheMostactive[Number(this.valprj)].map(t=>({user_name:t.user_name?t.user_name:t.realname,sentiment_rate:t.rate?t.rate:0,mentions:t.score?t.score.formatMoney(0):0}))).length>0&&APP.downloadcsv(t,\"\"+(\"Most_Active_\"+this.valprj),!0)},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.chacheMostactive=null,this.items=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheMostactive,delete this.items,delete this.search})}))},function(t,e,i){\"use strict\";i.r(e);i(16);i(0).tag2(\"top-hastag\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP HASHTAGS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer pd-y-15 bg-transparent\" if=\"{total != 0}\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"table table-striped mg-b-0\"> <thead> </thead> <tbody> <tr each=\"{o,i in items}\"> <td class=\"b-t-0 cursor-pointers\" onclick=\"{tophastagsvalue}\">#{o._id.tag}</td> <td class=\"displaytable\"> {o.count.toLocaleString({ minimumFractionDigits: 2 })}</br> <span class=\"tx-11\"> Mention</span> </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p>No data found, please input another dates</p> </span> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.isLoadingword=!0,this.chacheTophastag={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.tophastagsvalue=t=>{t.item.o._id.tag},this.render=t=>{this.chacheTophastag={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"top hastags : update menuId\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(i=_.clone(this.parent.search)).project=e,this.valprj=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheTophastag[i.project]){var a=this.chacheTophastag[i.project];this.items=a.items,this.loadtoltiphashtag(this.items),this.total=a.items,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/hashtags\",data:i,success:function(t){this.isExist&&(this.chacheTophastag[i.project]=t,this.items=t.items,this.loadtoltiphashtag(this.items),this.total=t.items.length,this.update({isLoading:!1}))}.bind(this)});this.currentProjectId=t},this.hasthag={},this.loadtoltiphashtag=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3)},this.downloadcsv=()=>{var t=this.chacheTophastag[Number(this.valprj)].items.map(t=>({count:t.count,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+this.valprj,!0)},this.on(\"unmount\",()=>{this.isExist=!1,this.chacheTophastag=null,this.chacheTophastagword=null,this.items=null,this.word=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheTophastag,delete this.chacheTophastagword,delete this.items,delete this.word,delete this.search}),this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(12),s=i.n(a);i(0).tag2(\"average-daily\",'<div class=\"card\"> <menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTION</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\" id=\"{valprj}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in date and time\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\" pd-0 bd-color-gray-lighter height530\" id=\"chatdailymention\" if=\"{!notdata}\"> </div> </div>',\"\",\"\",(function(t){this.chartaveragedaily=null,this.isLoading=!0,this.notdata=!1,this.currentProjectId=null,this.isExist=!0,this.cacheAverage={},this.averageval={},this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"average-daily: render\"),this.cacheAverage={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"average-daily: updatemenu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();this.valprj=e,(i=_.clone(this.parent.search)).project=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.cacheAverage[i.project]){var a=this.cacheAverage[i.project];this.update({isLoading:!1}),this.dataChart(a,t)}else this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/average-daily-mentions\",data:i,success:function(t){t=t.items,this.isExist&&(this.cacheAverage[i.project]=t,this.dataChart(t,i.project),setTimeout(()=>{this.update({isLoading:!1})},500))}.bind(this)});this.currentProjectId=t},this.dataChart=(t,e)=>{let i=[],a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const e in t){let s=t[e];for(const t in s)i.push({x:a[t],y:parseInt(e-1),total:s[t],z:s[t]})}if(0===_.filter(i,(function(t){return 0!=t.total})).length)return this.notdata=!0,!1;(this.update({notdata:!1}),this.isExist)&&(this.chartaveragedaily&&this.chartaveragedaily.spacing&&this.chartaveragedaily.destroy(),this.averageval[Number(e)]=i,(this.chartaveragedaily=s()(\"chatdailymention\")).addSeries({color:\"#38a1f2\",data:i}))},this.reload=()=>{delete this.cacheAverage[this.currentProjectId],this.updatemenu(this.currentProjectId)},this.on(\"unmount\",()=>{this.isExist=!1,this.cacheAverage=null,delete this.cacheAverage,this.xhr&&this.xhr.abort(),this.chartaveragedaily&&this.chartaveragedaily.spacing&&(this.chartaveragedaily.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.downloadcsv=t=>{let e=Number(this.valprj);var i;let a={0:\"sun\",1:\"mon\",2:\"tue\",3:\"wed\",4:\"thu\",5:\"fri\",6:\"sat\"},s={0:\"00-05\",1:\"06-11\",2:\"12-17\",3:\"18-23\"};(i=this.averageval[e].map((t,e)=>({Hari:a[t.x],Jam:s[t.y],Count:t.total}))).length>0&&APP.downloadcsv(i,\"\"+(\"Average_daily_Mentions_\"+e),!0)},this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(10),s=i.n(a);i(0).tag2(\"topmention-daily\",'<div class=\"card\"> <menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTION TIME</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\" id=\"{valprj}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in day and time\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height530\" id=\"topmentionstime\" if=\"{!notdata}\"> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.charttoptime=null,this.currentProjectId=null,this.isExist=!0,this.cacheTopmention={},this.cacheTopmentionval={},this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"average-daily: render\"),this.cacheTopmention={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"average-daily: updatemenu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(i=_.clone(this.parent.search)).project=e,this.valprj=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.cacheTopmention[i.project]){var a=this.cacheTopmention[i.project];this.update({isLoading:!1}),this.dataChart(a,t)}else this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top-mentions-time\",data:i,success:t=>{t=t.items,this.isExist&&(this.cacheTopmention[i.project]=t,this.dataChart(t,i.project),setTimeout(()=>{this.update({isLoading:!1})},500))}});this.currentProjectId=t},this.dataChart=(t,e)=>{let i=[];for(const e in t){let a=_.result(t,e,\"\");i.push([new Date(e.substring(0,10)).getTime(),a.jam,a.count])}if(0===(t=i.length))return this.notdata=!0,!1;this.update({notdata:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.cacheTopmentionval[Number(e)]=i,(this.charttoptime=s()(\"topmentionstime\")).addSeries({color:\"#38a1f2\",data:i})},this.downloadcsv=()=>{let t=Number(this.valprj);var e;(e=this.cacheTopmentionval[t].map((t,e)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}))).length>0&&APP.downloadcsv(e,\"\"+(\"Top_Mention_time_\"+t),!0)},this.on(\"unmount\",()=>{this.isExist=!1,this.cacheTopmention=null,delete this.cacheTopmention,this.xhr&&this.xhr.abort(),this.charttoptime&&this.charttoptime.spacing&&(this.charttoptime.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){\"use strict\";i.r(e);i(16);i(0).tag2(\"toword\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/word-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP WORD</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent words that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer pd-y-15 bg-transparent\" if=\"{total != 0}\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"table table-striped mg-b-0\"> <thead> </thead> <tbody> <tr each=\"{o,i in items}\"> <td class=\"b-t-0 cursor-pointers\" onclick=\"{topWordsvalue}\">{o.key}</td> <td class=\"displaytable \"> <span>{o.length.toLocaleString({ minimumFractionDigits: 2 })} </span></br> <span class=\"tx-11 \"> Mention </span> </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p>No data found, please input another dates</p> </span> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.isLoadingword=!0,this.chacheTopword={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.topWordsvalue=t=>{t.item.o.key},this.render=t=>{this.chacheTopword={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{setTimeout(()=>{if(APP.log(\"top hastags : update menuId\"),null==t){var e=(this.refs.menuValue&&this.refs.menuValue.dataProjects[0]&&this.refs.menuValue.dataProjects[0].id).toString();(i=_.clone(this.parent.search)).project=e,this.valprj=e}else{_.find(this.times,{selected:!0});var i;(i=_.clone(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheTopword[i.project]){var a=this.chacheTopword[i.project];this.items=a,this.loadtoltiphashtag(this.items),this.total=a,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"stream/brand/topwords\",data:i,success:t=>{t=t.items,this.isExist&&(this.chacheTopword[i.project]=t,this.items=t,this.loadtoltiphashtag(this.items),this.total=t.length,this.update({isLoading:!1,total:t.length}))}});this.currentProjectId=t},500)},this.hasthag={},this.loadtoltiphashtag=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip \"]').tooltip()},1e3)},this.downloadcsv=()=>{var t=this.chacheTopword[Number(this.valprj)].map(t=>({count:t.length,Word:t.key.replace(/#/g,\"-\")}));t.length>0&&APP.downloadcsv(t,\"TopWords_\"+this.valprj,!0)},this.on(\"unmount\",()=>{this.isExist=!1,this.chacheTopword=null,this.chacheTopwordword=null,this.items=null,this.word=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheTopword,delete this.chacheTopwordword,delete this.items,delete this.word,delete this.search}),this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){i(0).tag2(\"geo-competitive\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your project come from, compared to other projects that you\\'ve chosen\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20 d-block\" if=\"{notdata}\"> <div class=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter \" id=\"buzzgeodistribution\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.isLoading=!0,this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let e=_.clone(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject();let i=[],a=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){i=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){a=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"stream/buzzgeo-brand\",data:e,success:e=>{if(0===(e=e.items).length)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1}),e=_.map(e,t=>{let e=null;if(!_.isEmpty(t)&&a.features){let i=getProvince(a.features,t.lat||0,t.long||0,t.brand);i&&(e={id:t.brand+i.HASC_1,brand:t.brand,name:i.NAME_1,hasc:i.HASC_1,z:t.count,color:t.color})}return this.isLoading=!1,e}).reduce((t,e)=>(_.isObject(e)&&(t[e.id]?t[e.id].z+=e.z:t[e.id]=e),t),{});let s=_.groupBy(e,(function(t){return t.brand}));_.groupBy(e,(function(t){return t.color}));if(!this.isExist)return;let o=[{name:\"Map\",showInLegend:!1}];_.each(s,(function(t,e){o.push({type:\"mapbubble\",name:e,joinBy:\"hasc\",data:t,color:t[0].color,showInLegend:!0,minSize:5,maxSize:\"10%\",tooltip:{}})})),this.items=o,Highcharts.mapChart(\"buzzgeodistribution\",{chart:{borderWidth:0,backgroundColor:\"none\",map:i},title:{text:\"\"},credits:{enabled:!1},exporting:{enabled:!1},series:o}),this.update({isLoading:!1}),_.isFunction(t)&&t()}},()=>{this.update({isLoading:!1})})})},this.downloadcsv=()=>{const t=_.cloneDeep(_.drop(this.items,1)).map(t=>t.data.map(t=>({locations:t.name,count:t.z,brand:t.brand}))),e=_.flatten(t),i=_.groupBy(e,\"locations\"),a=this.parent.updateData;let s=_.filter(a,(function(t){return t.checked})).map(t=>t.name),o=[];for(let t in i){const e=_.groupBy(i[t],\"brand\");let a=[];for(let t in s){let i={},o=s[t],r=e[o]&&e[o][0].brand;o===r?i[r]=e[o][0].count:i[o]=0,a.push(i)}let r=a.reduce((function(t,e){return Object.assign(t,e)}),{});[r].map((e,i)=>(e.locations=t,e)),o.push(r)}o.length>0&&APP.downloadcsv(o,\"Buzz_Geo_Competition_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart-positive: unmount\"),this.xhr&&this.xhr.abort()}),this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(10),s=i.n(a);i(0).tag2(\"chart-top-streams\",'<div class=\"card bd-0\"> <div class=\"card overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTION TIME</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in day and time\">?</span> </span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height530 textcenter mg-t-20\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height530\" id=\"topstream\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.charttoptime=null,this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhrtopstreams=null,this.fontcolor=!1,this.render=()=>{APP.log(\"chart streams time : render\");let t=_.clone(this.parent.search);t.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0}),this.xhrtopstreams=APP.apiGet({path:\"mentions/top-mentions-time\",data:t,success:t=>{t=t.items;let e=[];for(const i in t){let a=_.result(t,i,\"\");e.push([new Date(i.substring(0,10)).getTime(),a.jam,a.count])}if(0===(t=e.length))return this.notdata=!0,void this.update();this.update({notdata:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.topstreamvalue=e,(this.charttoptime=s()(\"topstream\")).addSeries({color:\"#38a1f2\",data:e}),this.update({isLoading:!1})}}),this.xhrtopstreams.readyState&&this.update({isLoading:!1,notdata:!0})},this.downloadcsv=()=>{var t;(t=this.topstreamvalue.map((t,e)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}))).length>0&&APP.downloadcsv(t,\"\"+(\"Top_Mention_time_\"+p(\"project\")),!0)},this.on(\"mount\",()=>{this.xhrtopstreams=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhrtopstreams&&this.xhrtopstreams.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(12),s=i.n(a);i(0).tag2(\"chart-daily-mention\",'<div class=\"card bd-0\"> <div class=\"card overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTION</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in date and time\">?</span> </span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height530 textcenter mg-t-20\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height530\" id=\"chart-daily-mention\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartaveragedaily=null,this.isLoading=!0,this.notdata=!1,this.xhraverage=null,this.tombolrefres=!1,this.fontcolor=!1,this.render=()=>{this.xhraverage=APP.log(\"chart Average daily  : render\"),\"analysis/my-stream..\"==APP.currentHash?(this.fontcolor=!1,this.update({tombolrefres:!0})):this.fontcolor=!0;let t=_.clone(this.parent.search);t.type=null,this.update({isLoading:!0}),this.xhraverage=APP.apiGet({path:\"mentions/average-daily-mentions\",data:t,success:function(t){t=t.items;let e=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const a in t){let s=t[a];for(const t in s)e.push({x:i[t],y:parseInt(a-1),total:s[t],z:s[t]})}if(0===_.filter(e,(function(t){return 0!=t.total})).length)return this.notdata=!0,void this.update();this.update({notdata:!1}),this.chartaveragedaily&&this.chartaveragedaily.spacing&&this.chartaveragedaily.destroy(),this.everagevalue=e,(this.chartaveragedaily=s()(\"chart-daily-mention\")).addSeries({color:\"#38a1f2\",data:e}),this.update({isLoading:!1})}.bind(this)}),this.xhraverage.readyState&&this.update({isLoading:!1,notdata:!0})},this.downloadcsv=()=>{var t;let e={0:\"sun\",1:\"mon\",2:\"tue\",3:\"wed\",4:\"thu\",5:\"fri\",6:\"sat\"},i={0:\"00-05\",1:\"06-11\",2:\"12-17\",3:\"18-23\"};(t=this.everagevalue.map((t,a)=>({Hari:e[t.x],Jam:i[t.y],Count:t.total}))).length>0&&APP.downloadcsv(t,\"\"+(\"Average_daily_Mentions_\"+p(\"project\")),!0)},this.on(\"mount\",()=>{this.xhraverage=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhraverage&&this.xhraverage.abort(),this.chartaveragedaily&&this.chartaveragedaily.spacing&&(this.chartaveragedaily.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"influent-sosial\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 \"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right \">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\">{o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\";border-top: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,i=t.item.o.serviceId;this.parent.detailmentions(null,null,i,e,null,null,\"Author\",null)},this.render=()=>{APP.log(\"influent-sosial : render\");let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:function(t){this.total=t.total;var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.update({isLoading:!1})}.bind(this)})},this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.limit=2e4,this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{let e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t)).map((t,e)=>({no:e+1,user_name:(t.user_name?t.user_name:t.realname).replace(/#/g,\"\").replace(\"|\",\"\"),cahnnels:t.service,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}));e.length>0&&APP.downloadcsv(e,\"\"+(\"Most_Influential_\"+p(\"project\")),!0)}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"mostactivesosial\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 \">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\">{o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname} </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\";border-top: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,i=t.item.o.serviceId;this.parent.detailmentions(null,null,i,e,null,null,\"Author\",null)},this.render=()=>{APP.log(\"most active sosial : render\");let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{if(null!=t){this.total=t.total,this.dataarraymost=[];var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e}this.update({isLoading:!1})}}),this.isLoading=!1},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.limit=2e4,this.xhr=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{if(null!=t){this.total=t.total;\"Most_Active_\";var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t)).map((t,e)=>({no:e+1,user_name:(t.username?t.username:t.realname).replace(/#/g,\"\"),cahnnels:t.service,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}));e.length>0&&APP.downloadcsv(e,\"\"+(\"Most_Active_\"+p(\"project\")),!0)}}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"summaries\",'<div class=\"content\"> <div class=\"row no-gutters widget-1 shadow-base\"> <div class=\"col-sm-12 col-lg-12\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card height136\"> <div class=\"card-header\" id=\"2\"> <h6 class=\"card-title cursor-pointer \" id=\"2\" onclick=\"{valuedataname}\"> <img id=\"2\" src=\"assets/img/image/twitter-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TWITTER STATS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadTWcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Twitter mentions statistics of this project\">?</span> </span> </div> <div class=\"card b-r-0\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"tableinfuencer table mg-b-0 pd-10 mg-t-m-20\"> <thead> <tr class=\"table-mobile\"> <th scope=\"col\">Unique Accounts</th> <th scope=\"col\">Potential Reach</th> <th scope=\"col\">Top 10 Reach</th> <th scope=\"col\">Regular Posts</th> <th scope=\"col\">Retweets</th> <th scope=\"col\">Likes</th> <th scope=\"col\">Average Exposure</th> </tr> <tr> <th data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.unique_account_tw > 1000 ? numeral(item.unique_account_tw).format(\\'0.0 a\\') : item.unique_account_tw} </th> <th data-label=\"POTENTIAL REACH\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.top_reach_tw > 1000 ? numeral(item.top_reach_tw).format(\\'0.0 a\\') : item.top_reach_tw} </th> <th data-label=\"TOP 10 REACH\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.top_reach10_tw > 1000 ? numeral(item.top_reach10_tw).format(\\'0.0 a\\') : item.top_reach10_tw} </th> <th data-label=\"REGULAR POSTS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.regular_tw > 1000 ? numeral(item.regular_tw).format(\\'0.0 a\\') : item.regular_tw} </th> <th data-label=\"RETWEETS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.retweet_tw > 1000 ? numeral(item.retweet_tw).format(\\'0.0 a\\') : item.retweet_tw} </th> <th data-label=\"LIKES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.likes_tw ? (item.likes_tw > 1000 ? numeral(item.likes_tw).format(\\'0.0 a\\') : item.likes_tw) : 0} </th> <th data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.ae_tw > 1000 ? numeral(item.ae_tw).format(\\'0.0 a\\') : item.ae_tw} </th> </tr> </thead> <tbody> <tr class=\"table-mobile\"> <td data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.unique_account_tw > 1000 ? numeral(item.unique_account_tw).format(\\'0.0 a\\') : item.unique_account_tw} </td> <td data-label=\"POTENTIAL REACH\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.top_reach_tw > 1000 ? numeral(item.top_reach_tw).format(\\'0.0 a\\') : item.top_reach_tw} </td> <td data-label=\"TOP 10 REACH\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.top_reach10_tw > 1000 ? numeral(item.top_reach10_tw).format(\\'0.0 a\\') : item.top_reach10_tw} </td> <td data-label=\"REGULAR POSTS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.regular_tw > 1000 ? numeral(item.regular_tw).format(\\'0.0 a\\') : item.regular_tw} </td> <td data-label=\"RETWEETS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.retweet_tw > 1000 ? numeral(item.retweet_tw).format(\\'0.0 a\\') : item.retweet_tw} </td> <th data-label=\"LIKES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in items}\"> {item.likes_tw ? (item.likes_tw > 1000 ? numeral(item.likes_tw).format(\\'0.0 a\\') : item.likes_tw) : 0} </th> <td data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in items}\"> {item.ae_tw > 1000 ? numeral(item.ae_tw).format(\\'0.0 a\\') : item.ae_tw} </td> </tr> <tr class=\"table-monitor\"> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10 \">Unique Accounts</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Potential Reach</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Top 10 Reach</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Regular Posts</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Retweets</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Likes</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Average Exposure</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 shadow-base mg-t-20\"> <div class=\"col-sm-12 col-lg-12\"> <div class=\"card height136\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-header\" id=\"1\"> <h6 class=\"card-title cursor-pointer\" id=\"1\" onclick=\"{valuedataname}\"> <img id=\"1\" src=\"assets/img/image/facebook-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> FACEBOOK STATS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadFBcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Facebook mentions statistics of this project\">?</span> </span> </div> <div class=\"card b-r-0\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"tableinfuencer table mg-b-0 pd-10 mg-t-m-20\"> <thead> <tr class=\"table-mobile\"> <th scope=\"col\">Unique Accounts</th> <th scope=\"col\">Reg.Post (Fanpage)</th> <th scope=\"col\" each=\"{item in facebook}\">Reg.Post (Fanpage)</th> <th scope=\"col\" each=\"{item in facebook}\">Likes</th> <th scope=\"col\">Average Exposure</th> </tr> <tr> <th data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in facebook}\"> {item.unique_account_fb > 1000 ? numeral(item.unique_account_fb).format(\\'0.0 a\\') : item.unique_account_fb} </th> <th data-label=\"REG>POST (Fanspage)\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in facebook}\"> {item.regular_fb > 1000 ? numeral(item.regular_fb).format(\\'0.0 a\\') : item.regular_fb} </th> <th data-label=\"COMMENTS (Fanspage)\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in facebook}\"> {item.comments_fb > 1000 ? numeral(item.comments_fb).format(\\'0.0 a\\') : item.comments_fb} </th> <th data-label=\"LIKES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in facebook}\"> {item.likes_fb ? (item.likes_fb > 1000 ? numeral(item.likes_fb).format(\\'0.0 a\\') : item.likes_fb) : 0} </th> <th data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in facebook}\"> {item.ae_fb ? (item.ae_fb > 1000 ? numeral(item.ae_fb).format(\\'0.0 a\\') : item.ae_fb) : 0} </th> </tr> </thead> <tbody> <tr class=\"table-mobile\"> <td data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in facebook}\"> {item.unique_account_fb > 1000 ? numeral(item.unique_account_fb).format(\\'0.0 a\\') : item.unique_account_fb} </td> <td data-label=\"REG>POST (Fanspage)\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in facebook}\"> {item.regular_fb > 1000 ? numeral(item.regular_fb).format(\\'0.0 a\\') : item.regular_fb} </td> <td data-label=\"COMMENTS (Fanspage)\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in facebook}\"> {item.comments_fb > 1000 ? numeral(item.comments_fb).format(\\'0.0 a\\') : item.comments_fb} </td> <td data-label=\"LIKES\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in facebook}\"> {item.likes_fb ? (item.likes_fb > 1000 ? numeral(item.likes_fb).format(\\'0.0 a\\') : item.likes_fb) : 0} </td> <td data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in facebook}\"> {item.ae_fb ? (item.ae_fb > 1000 ? numeral(item.ae_fb).format(\\'0.0 a\\') : item.ae_fb) : 0} </td> </tr> <tr class=\"table-monitor\"> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10 \">Unique Accounts</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Reg.Post (Fanpage)</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\" each=\"{item in facebook}\">Comments (Fanspage)</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\" each=\"{item in facebook}\">Likes</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Average Exposure</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 shadow-base mg-t-20\"> <div class=\"col-sm-12 col-lg-12\"> <div class=\"card height136\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-header\" id=\"7\"> <h6 class=\"card-title cursor-pointer\" id=\"7\" onclick=\"{valuedataname}\"> <img id=\"7\" src=\"assets/img/image/instagram-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> INSTAGRAM STATS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadIGcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Instagram mentions statistics of this project\">?</span> </span> </div> <div class=\"card b-r-0\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"tableinfuencer table mg-b-0 pd-10 mg-t-m-20\"> <thead> <tr class=\"table-mobile\"> <th scope=\"col\">Unique Accounts</th> <th scope=\"col\">Potential Reach</th> <th scope=\"col\">Top 10 Reach</th> <th scope=\"col\">Regular Posts</th> <th scope=\"col\">Replies</th> <th scope=\"col\">Likes</th> <th scope=\"col\">Average Exposure</th> </tr> <tr> <th data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.unique_account_ig > 1000 ? numeral(item.unique_account_ig).format(\\'0.0 a\\') : item.unique_account_ig} </th> <th data-label=\"POTENTIAL REACH\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.top_reach_ig > 1000 ? numeral(item.top_reach_ig).format(\\'0.0 a\\') : item.top_reach_ig} </th> <th data-label=\"TOP 10 REACH\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.top_reach10_ig > 1000 ? numeral(item.top_reach10_ig).format(\\'0.0 a\\') : item.top_reach10_ig} </th> <th data-label=\"REGULAR POSTS\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.regular_ig > 1000 ? numeral(item.regular_ig).format(\\'0.0 a\\') : item.regular_ig} </th> <th data-label=\"REPLIES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.reply_ig > 1000 ? numeral(item.reply_ig).format(\\'0.0 a\\') :item.reply_ig} </th> <th data-label=\"LIKES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.likes_ig ? (item.likes_ig > 1000 ? numeral(item.likes_ig).format(\\'0.0 a\\') : item.likes_ig) : 0} </th> <th data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.ae_ig > 1000 ? numeral(item.ae_ig).format(\\'0.0 a\\') :item.ae_ig} </th> </tr> </thead> <tbody> <tr class=\"table-mobile\"> <td data-label=\"UNIQUE ACCOUNTS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.unique_account_ig > 1000 ? numeral(item.unique_account_ig).format(\\'0.0 a\\') : item.unique_account_ig} </td> <td data-label=\"POTENTIAL REACH\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.top_reach_ig > 1000 ? numeral(item.top_reach_ig).format(\\'0.0 a\\') : item.top_reach_ig} </td> <td data-label=\"TOP 10 REACH\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.top_reach10_ig > 1000 ? numeral(item.top_reach10_ig).format(\\'0.0 a\\') : item.top_reach10_ig} </td> <td data-label=\"REGULAR POSTS\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.regular_ig > 1000 ? numeral(item.regular_ig).format(\\'0.0 a\\') : item.regular_ig} </td> <td data-label=\"REPLIES\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.reply_ig > 1000 ? numeral(item.reply_ig).format(\\'0.0 a\\') :item.reply_ig} </td> <th data-label=\"LIKES\" class=\"b-t-0 tx-16 fontcolor-16\" each=\"{item in instagram}\"> {item.likes_ig ? (item.likes_ig > 1000 ? numeral(item.likes_ig).format(\\'0.0 a\\') : item.likes_ig) : 0} </th> <td data-label=\"AVERAGE EXPOSURE\" class=\"b-t-0 tx-16 fontweight700\" each=\"{item in instagram}\"> {item.ae_ig > 1000 ? numeral(item.ae_ig).format(\\'0.0 a\\') :item.ae_ig} </td> </tr> <tr class=\"table-monitor\"> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10 \">Unique Accounts</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Potential Reach</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Top 10 Reach</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Regular Posts</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Replies</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Likes</td> <td scope=\"col\" class=\"tx-10 b-t-0 pd-0 pd-0-10-10-10\">Average Exposure</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.xhr=null,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.render=()=>{this.update({isLoading:!0});this.twitter(),this.facebooks(),this.instagrams()},this.twitter=()=>{APP.log(\"summary : twitter\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,this.xhr=APP.apiGet({path:\"summary/twitter\",data:t,success:t=>{this.items=[t.items],this.update()}})},this.facebooks=()=>{APP.log(\"summary : facebooks\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,this.hxr=APP.apiGet({path:\"summary/facebook\",data:t,success:t=>{this.facebook=[t.items],this.update({})}})},this.instagrams=()=>{APP.log(\"summary : instagrams\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,this.xhr=APP.apiGet({path:\"summary/instagram\",data:t,success:t=>{this.instagram=[t.items],this.update({isLoading:!1})}})},this.downloadTWcsv=()=>{var t=this.items.map(t=>({Name:t.name,Unique_Accounts:t.unique_account_tw?t.unique_account_tw.formatMoney(0):0,Potential_Reach:t.top_reach_tw?t.top_reach_tw.formatMoney(0):0,Top_10_Reach:t.top_reach10_tw?t.top_reach10_tw.formatMoney(0):0,Regular_Posts:t.regular_tw?t.regular_tw.formatMoney(0):0,Retweets:t.retweet_tw?t.retweet_tw.formatMoney(0):0,Average_Exposure:t.ae_tw?t.ae_tw.formatMoney(0):0,Likes:t.likes_tw?t.likes_tw.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Twitter_Stash_\"+p(\"project\"),!0)},this.downloadFBcsv=()=>{var t=this.facebook.map(t=>({Name:t.name,Unique_Accounts:t.unique_account_fb?t.unique_account_fb.formatMoney(0):0,Reg_Post_Fanpage:t.regular_fb?t.regular_fb.formatMoney(0):0,Comments:t.comments_fb?t.comments_fb.formatMoney(0):0,Replies:t.reply_fb?t.reply_fb.formatMoney(0):0,Likes:t.likes_fb?t.likes_fb.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Facebook_Stash_\"+p(\"project\"),!0)},this.downloadIGcsv=()=>{var t=this.instagram.map(t=>({Name:t.name,Unique_Accounts:t.unique_account_ig?t.unique_account_ig.formatMoney(0):0,Potential_Reach:t.top_reach_ig?t.top_reach10_ig.formatMoney(0):0,Top_10_Reach:t.top_reach10_ig?t.top_reach10_ig.formatMoney(0):0,Regular_Posts:t.regular_ig?t.regular_ig.formatMoney(0):0,Replies:t.reply_ig?t.reply_ig.formatMoney(0):0,Likes:t.likes_ig?t.likes_ig.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Instagram_Stash_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sociograh\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/share-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SOCIOGRAPH KEYWORDS </h6> <span> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon cursor-pointer mg-r-20\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"500\" selected=\"{selected:pagelimitvalue == 500}\">500</option> <option value=\"1000\" selected=\"{selected:pagelimitvalue == 1000}\">1000</option> <option value=\"2000\" selected=\"{selected:pagelimitvalue == 2000}\">2000</option> <option value=\"3000\" selected=\"{selected:pagelimitvalue == 3000}\">3000</option> <option value=\"4000\" selected=\"{selected:pagelimitvalue == 4000}\">4000</option> </select> </div> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-15 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <img src=\"assets/img/image/full-screent.png\" width=\"20\" height=\"20\" class=\"mg-r-5 cursor-pointer \" onclick=\"{fullscreent}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Full Screen\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">? </b> </span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height520 textcenter mg-t-20\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height540 pd-20 heightsvgsosiograph\" id=\"sosiograph\" if=\"{total != 0}\"> </div> </div> </div> <a id=\"return-to-top-sosiograph\" onclick=\"{outscreentsosiograph}\"><i class=\"fa fa-expand cursor-pointer colorwhite\"></i></a>',\"\",\"\",(function(t){this.renderer=null,this.pagelimitvalue=1e3,this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.render()},this.render=()=>{let t=_.clone(this.parent.search);t.limit=this.pagelimitvalue,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/sociograph\",data:t,success:t=>{t=t.items,this.data=t,this.datarender(t,!0)}})},this.datarender=(t,e)=>{if(_.isNull(this.renderer)||0!=this.total&&this.renderer.dispose(),this.total=t.length,0!=this.total){this.update();var i=t,a=Viva.Graph.graph(),s=Viva.Graph.View.svgGraphics(),o={};i.forEach(t=>{let e=t.id.split(\".\");for(let t=0;t<e.length;t++)t<e.length-1&&t>0&&(o[e[t]]||(a.addNode(e[t]),o[e[t]]=!0),o[e[t+1]]||(a.addNode(e[t+1]),o[e[t+1]]=!0),a.addLink(e[t],e[t+1]))});var r=0;a.forEachNode(t=>{r<t.links.length&&(r=t.links.length)});var n=function(t,e){a.forEachLinkedNode(t,(function(t,i){var a=s.getLinkUI(i.id);a&&a.attr(\"stroke\",e?\"red\":\"#999999\")}))};s.node(t=>{t.data;let e=Viva.Graph.svg(\"g\"),i=t.links.length/r*32;i=i<10?10:i;let a=Viva.Graph.svg(\"text\").attr(\"y\",10).attr(\"x\",10).attr(\"stroke-width\",.5).attr(\"font-size\",i).attr(\"stroke\",\"#246a9d\").text(t.id);$(e).hover((function(){n(t.id,!0)}),(function(){n(t.id,!1)}));let s=this;return $(e).click((function(){s.parent.detailmentions(null,null,null,null,t.id,null,\"Keywords\")})),e.append(a),e}).placeNode((t,e)=>{t.attr(\"transform\",\"translate(\"+e.x+\",\"+(e.y-12)+\")\")});var l=Viva.Graph.Layout.forceDirected(a,{springLength:50,springCoeff:.001,dragCoeff:.09,gravity:-1});this.renderer=Viva.Graph.View.renderer(a,{graphics:s,container:document.getElementById(\"sosiograph\")});var c=this.renderer,d=$(\".heightsvgsosiograph\").height(),h=$(\".heightsvgsosiograph\").width();e&&setTimeout(()=>{$(\"#sosiograph svg\").css({width:h,height:d})},1),c.run(),setTimeout((function(){c.pause();var t=l.getGraphRect(),e=Math.min(t.x2-t.x1,t.y2-t.y1);!function t(e,i){e<i?(i=c.zoomOut(),setTimeout((function(){t(e,i)}),16)):(setTimeout((function(){c.zoomOut()}),16),setTimeout((function(){c.zoomOut()}),32),setTimeout((function(){c.zoomOut()}),50))}(Math.min($(\"#sosiograph\").width(),$(\"#sosiograph\").height())/e,1)}),8e3),this.update({isLoading:!1})}else this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.data;t.length>0&&APP.downloadcsv(t,\"sociograph\",!0)},this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),_.isNull(this.renderer)||this.renderer.dispose()}),this.on(\"mount\",()=>{this.xhr=null}),this.fullscreent=()=>{this.datarender(this.data,!1),$(\"#sosiograph svg\").css({display:\"block\",\"z-index\":\"9999\",position:\"fixed\",width:\"100%\",height:\"100%\",top:\"0\",right:\"0\",left:\"0\",bottom:\"0\",overflow:\"auto\",background:\"white\",zoom:\" 200%\"}),this.data.length>0&&$(\"#return-to-top-sosiograph\").fadeIn(200)},this.outscreentsosiograph=()=>{let t=$(\".heightsvgsosiograph\").height(),e=$(\".heightsvgsosiograph\").width();this.datarender(this.data,!0),$(\"#sosiograph svg\").css({width:e,height:t,display:\"\",\"z-index\":\"\",position:\"\",top:\"\",right:\"\",left:\"\",bottom:\"\",overflow:\"\",background:\"\"}),$(\"#return-to-top-sosiograph\").fadeOut(200),this.update()}}))},function(t,e,i){i(0).tag2(\"wordcloud\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/cloud-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> WORDCLOUD </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-15 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <img src=\"assets/img/image/full-screent.png\" width=\"20\" height=\"20\" class=\"mg-r-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Full Screen\" onclick=\"{fullscreent}\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representation of popular words in your mentions. The more a word mentioned the bigger and bolder it appears in the word cloud.\">?</b> </span> </div> <div class=\"card-body pd-20 bd-color-gray-lighter textcenter mg-t-0 wordcloudheight490\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter {full-screent-wordcloud:fullscrent}\" id=\"chart-daily-mention\" if=\"{total != 0}\"> <div id=\"wordcloud_container\" class=\"\"> <div id=\"wordcloud_canvas\" class=\"table-responsiv \"> <div id=\"wordcloud_all\" class=\"wordcloudheight510 {mg-t-m-20:!fullscrent} {mg-t-m-80:fullscrent} {mg-l-90:fullscrent} pd-10\"> </div> </div> </div> </div> </div> </div> <a id=\"return-to-top-word\" onclick=\"{outscreent}\"><i class=\"fa fa-expand cursor-pointer colorwhite\"></i></a>',\"\",\"\",(function(t){this.isLoading=!0,this.fullscrent=!1,this.notdata=!1,this.value={},this.xhr=null,this.dataall={},this.render=()=>{this.update_data()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0,total:1});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.is_total=null,t.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:t=>{let e=t.items.all;this.dataresizeseries=e,this.renderedData(e)}})},this.renderedData=t=>{if(this.total=t?t.length:0,this.total>0){const e=t[0][1];t.map(t=>{const i=t[0].length,a=parseInt(t[1]);let s=a/e*100;return i>20&&(s=10,a/e*100>60&&(s=a/e*50)),s<15&&(s=15),t[1]=s,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:t,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!0,minRotation:0,maxRotation:0,rotateRatio:1,rotateRatio:.2,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\")}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()}),$(window).resize(()=>{this.dataresize()}),this.dataresize=()=>{this.renderedData(this.dataresizeseries)},this.fullscreent=()=>{this.renderedData(this.dataresizeseries),this.fullscrent=!0,$(\"#return-to-top-word\").fadeIn(200),this.update()},this.outscreent=()=>{this.fullscrent=!1,$(\"#return-to-top-word\").fadeOut(200),setTimeout(()=>{this.dataresize()},500),this.update()},this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.is_total=null,t.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{e=e.items;var i=_.clone(e);if(\"negative\"===t.section||\"negative,neutral\"===t.section||\"neutral,negative\"===t.section)var a=i&&i.negative?i.negative:[];if(\"positive\"===t.section||\"positive,neutral\"===t.section||\"neutral,positive\"===t.section)a=i&&i.positive?i.positive:[];if(\"positive,negative\"===t.section||\"negative,positive\"===t.section){var s=i&&i.positive?i.positive:[],o=i&&i.negative?i.negative:[];a=_.concat(s,o)}if(\"\"===t.section||null===t.section||void 0===t.section||\"positive,negative,neutral\"===t.section||\"positive,neutral,negative\"===t.section||\"negative,positive,neutral\"===t.section||\"negative,neutral,positive\"===t.section||\"neutral,negative,positive\"===t.section||\"neutral,positive,negative\"===t.section){a=i&&i.all?i.all:[];this.dataall.all=a}if(\"neutral\"===t.section)a=this.dataall.all;var r=a;(r=_.map(r,(function(t,e){return{keyword:t[0],count:t[1].formatMoney(0)}}))).length>0&&APP.downloadcsv(r,\"WordcloudSummary_\"+p(\"project\"),!0)}})}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"popularlocation\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters\"> <div class=\"col-md-12\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE LOCATIONS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your chosen keyword come from\">?</span> </span> </div> <div class=\"card-body pd-y-15 bg-transparent height490\" if=\"{total != 0}\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"table table-striped mg-t-10 mg-b-0\"> <thead> </thead> <tbody> <tr each=\"{o,i in items}\"> <td class=\"valign-middle b-t-0\"> {i + 1} &nbsp; {o.location} </td> <td class=\"displaytable\"> {o.count ? o.count : 0}</br> <span class=\"tx-10\">Mention</span> </td> </tr> </tbody> </table> </div> <div class=\"card-body textcenter height492\" style=\";border-left: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p>No data found, please input another dates</p> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.limit=10,this.query={limit:this.limit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),this.query.page=(t-1)*this.query.limit,this.render(),$(\"body,html\").animate({scrollTop:570},500)}},this.render=()=>{APP.log(\"most active sosial : render\");let t=_.clone(this.parent.search);t.limit=this.limit,this.update({isLoading:!0}),t.service_category||(t.service_category=localStorage.channels),this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:t,success:t=>{null!=(t=t.items)&&(this.total=t.length,this.items=t),this.update({isLoading:!1})}})},this.downloadcsv=()=>{this.items.length>0&&APP.downloadcsv(this.items,\"TopHashtags_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"mentionsstats\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MENTIONS STATS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Overall mentions statistics of this project, including sentiment analysis statistic.\">?</span> </span> </div> <div class=\" pd-y-15 bg-transparent min-height397 \"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"br-section-wrapper stats\"> <div class=\" bd-gray-300 rounded table-responsive\"> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\" class=\"mobiles\">CHANNELS</th> <th scope=\"col\" class=\"mobiles text-right\">TOTAL</th> <th scope=\"col\" class=\"mobiles text-right\">POSITIVE</th> <th scope=\"col\" class=\"mobiles text-right\">NEGATIVE</th> <th scope=\"col\" class=\"mobiles text-right\">NEUTRAL</th> </tr> </thead> <tbody> <tr each=\"{o,i in channels}\"> <td data-label=\"NAME\" class=\"mobilestd cursor-pointer\" onclick=\"{valuedataname}\">{o.name}</td> <td data-label=\"TOTAL\" class=\"mobilestd text-right\">{o.total ? o.total.formatMoney(0) : 0}</td> <td data-label=\"POSITIVE\" class=\"mobilestd text-right\">{o.positive ? o.positive.formatMoney(0) : 0}</td> <td data-label=\"NEGATIVE\" class=\"mobilestd text-right\">{o.negative ? o.negative.formatMoney(0) : 0}</td> <td data-label=\"NEUTRAL\" class=\"mobilestd text-right\">{o.neutral ? o.neutral.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total2 == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0;const e={Video:{icon:\"../assets/img/svg/youtube-grey.png\",name:\"Video\",idchannels:6},Instagram:{icon:\"../assets/img/svg/instagram-grey.png\",name:\"Instagram\",idchannels:7},News:{icon:\"../assets/img/svg/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"../assets/img/svg/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"../assets/img/svg/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"../assets/img/svg/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"../assets/img/svg/chat-grey.png\",name:\"Forum\",idchannels:5}};this.valuedataname=t=>{let e=t.item.o.name;this.parent.detailmentions(null,null,{Instagram:7,Image:7,News:3,Video:6,Forum:5,Blog:4,Twitter:2,Facebook:1}[e],null,null,null,null,null)},this.render=()=>{this.update({isLoading:!0}),APP.log(\"influence-sosial : render\");let t=_.clone(this.parent.search);APP.apiGet({path:\"mentions/composition\",data:t,success:function(t){t=t.items;var i=[];_.each(t,t=>{\"Portal\"==t.name&&(t.name=\"News\"),\"Image\"==t.name&&(t.name=\"Instagram\"),i.push(t)});const a=_.map(i,t=>t.name),s=_.filter(e,t=>a.indexOf(t.name)<0).map(t=>({positive:0,negative:0,name:t.name,neutral:0,total:0}));t=_.orderBy(t,[\"total\"],[\"desc\"]);let o=i.concat(s);this.channels=_.orderBy(o,[\"total\"],[\"desc\"]),this.total=this.channels.length,this.update({isLoading:!1})}.bind(this)})},this.downloadcsv=()=>{var t=this.channels.map(t=>({name:t.name,positive:t.positive?t.positive.formatMoney(0):0,negative:t.negative?t.negative.formatMoney(0):0,neutral:t.neutral?t.neutral.formatMoney(0):0,total:t.total}));t.length>0&&APP.downloadcsv(t,\"Mentions_Stats_\"+p(\"project\"),!0)}}))},function(t,e,i){i(0).tag2(\"tophashtaganalysis\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP HASHTAGS</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"table table-striped mg-b-0\"> <thead> <tr> <th>HASHTAGS</th> <th class=\"text-right\">MENTIONS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\"> <td onclick=\"{tophastagsvalue}\" class=\"cursor-pointers\">#{o._id.tag.length > 30 ? o._id.tag.substring(0,30) + \\'...\\' : o._id.tag}</td> <td class=\"text-right\">{o.count.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> <tr class=\"tr td th\" if=\"{this.total2 == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0,this.tophastagsvalue=t=>{t.item.o._id.tag},this.render=()=>{APP.log(\"top hastags : render\"),\"analysis/my-stream..\"==APP.currentHash?(this.fonttable=\"\",this.fontcolor=!1,this.maxheight=!0,this.update()):(this.fonttable=\"font-size: 20px;\",this.fontcolor=!0,this.maxheight=!1,this.update()),this.items=[];_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,t.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:t,success:function(t){this.total2=t.count,this.items=t.items,this.update({isLoading:!1,total2:t.count})}.bind(this)})},this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.is_total=null,t.limit=1e4,APP.apiGet({path:\"mentions/hashtags\",data:t,success:t=>{var e=t.items.map((t,e)=>({no:e+1,count:t.count,Hashtags:\"\"+t._id.tag}));e.length>0&&APP.downloadcsv(e,\"TopHashtags_\"+p(\"project\"),!0)}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sociograpauthor\",'<div class=\"card bd-0\"> <div class=\"card overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/share-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SOCIOGRAPH AUTHORS </h6> <span> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon cursor-pointer mg-r-20\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"500\" selected=\"{selected:pagelimitvalue == 500}\">500</option> <option value=\"1000\" selected=\"{selected:pagelimitvalue == 1000}\">1000</option> <option value=\"2000\" selected=\"{selected:pagelimitvalue == 2000}\">2000</option> <option value=\"3000\" selected=\"{selected:pagelimitvalue == 3000}\">3000</option> <option value=\"4000\" selected=\"{selected:pagelimitvalue == 4000}\">4000</option> <option value=\"5000\" selected=\"{selected:pagelimitvalue == 5000}\">5000</option> <option value=\"6000\" selected=\"{selected:pagelimitvalue == 6000}\">6000</option> <option value=\"7000\" selected=\"{selected:pagelimitvalue == 7000}\">7000</option> <option value=\"8000\" selected=\"{selected:pagelimitvalue == 8000}\">8000</option> <option value=\"9000\" selected=\"{selected:pagelimitvalue == 9000}\">9000</option> <option value=\"10000\" selected=\"{selected:pagelimitvalue == 10000}\">10000</option> <option value=\"11000\" selected=\"{selected:pagelimitvalue == 11000}\">11000</option> <option value=\"12000\" selected=\"{selected:pagelimitvalue == 12000}\">12000</option> </select> </div> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-15 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <img src=\"assets/img/image/full-screent.png\" width=\"20\" height=\"20\" class=\"mg-r-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Full Screen\" onclick=\"{fullscreent}\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">? </b> </span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height600 textcenter mg-t-20\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 heightsvgsosiograph\" id=\"sosiographauthor\" if=\"{total != 0}\"> </div> </div> </div> <a id=\"return-to-top-sosiograph\" onclick=\"{outscreentsosiograph}\"><i class=\"fa fa-expand cursor-pointer colorwhite\"></i></a>',\"\",\"\",(function(t){this.renderer=null,this.pagelimitvalue=1e3,this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.render()},this.render=()=>{let t=_.clone(this.parent.search);t.limit=this.pagelimitvalue,this.update({isLoading:!0}),APP.apiGet({path:\"mentions/sociograph/authors\",data:t,success:function(t){this.dataitems=t.items,t=t.items,this.datarender(t,!0),$('[data-toggle=\"tooltip\"]').tooltip()}.bind(this)})},this.datarender=(t,e)=>{if(_.isNull(this.renderer)||0!=this.total&&this.renderer.dispose(),this.total=t.length,0!=this.total){this.update();var i=t,a=Viva.Graph.graph(),s=Viva.Graph.View.svgGraphics(),o={},r=[],n=50;if(i.length<100)n=2;else if(i.length>100)n=10;else if(i.length>500)n=15;else if(i.length>1e3)n=20;else if(i.length>1500)n=25;else if(i.length>2e3)n=30;else if(i.length>3e3)n=50;n=0,i.forEach(t=>{let e=t.id.split(\".\");e.length>=2&&a.addNode(e[0]);for(let s=0;s<e.length;s++){var i=t.sentiment<0?\"#ff4027\":t.sentiment>0?\"#5dff27\":\"#f3973e\";0===s&&e.length>=2&&a.addLink(e[0],e[1],{retweet_id:t.retweet_id,stream_id:t.stream_id,user_id:t.user_id,sentiment:i,type:t.sentiment}),s<e.length-1&&s>0&&(o[e[s]]||(a.addNode(e[s]),o[e[s]]=!0),o[e[s+1]]||(a.addNode(e[s+1]),o[e[s+1]]=!0),a.addLink(e[s],e[s+1],{retweet_id:t.retweet_id,stream_id:t.stream_id,user_id:t.user_id,sentiment:i,type:t.sentiment}))}});var l=0;a.forEachNode(t=>{l<t.links.length&&(l=t.links.length)}),a.forEachNode(t=>{if(t.links.length<=n){let e=!1;t.links.forEach(t=>{a.getNode(t.toId).links.length>n&&(e=!0)}),e||r.push(t.id)}});var c=function(t,e){a.forEachLinkedNode(t,(function(t,i){var a=s.getLinkUI(i.id);a&&a.attr(\"stroke\",e?\"#999999\":i.data.sentiment)}))};s.node(t=>{let e=Viva.Graph.svg(\"g\");if(t.links.length>4)var i=\"#000\";else i=\"#246a9d\";let a=t.links.length/l*32;a=a<10?10:a;let s=Viva.Graph.svg(\"text\").attr(\"y\",10).attr(\"x\",-10).attr(\"stroke-width\",.5).attr(\"font-size\",a).attr(\"stroke\",i).attr(\"line-stroke\",i).text(t.id);$(e).hover((function(){c(t.id,!0)}),(function(){c(t.id,!1)}));let o=this;return $(e).click((function(){var e=[],i=[];_.each(t.links,(t,a)=>{e.push(t.data.retweet_id),i.push(t.data.stream_id)});var a=[],s=[];e.forEach((function(t){a.indexOf(t)<0&&a.push(t)})),i.forEach((function(t){s.indexOf(t)<0&&s.push(t)})),i=i?i.join(\",\"):null,a=a?a.join(\",\"):null,o.parent.detailmentions(null,null,null,t.id,null,null,\"Author\",null,i,a,!0)})),e.append(s),e}).placeNode((t,e)=>{t.attr(\"transform\",\"translate(\"+e.x+\",\"+(e.y-12)+\")\")}),s.link((function(t){return Viva.Graph.svg(\"path\").attr(\"stroke\",t.data.sentiment)})).placeLink((function(t,e,i){var a=\"M\"+e.x+\",\"+e.y+\"L\"+i.x+\",\"+i.y;t.attr(\"d\",a)})),r.forEach(t=>{a.removeNode(t)});var d=Viva.Graph.Layout.forceDirected(a,{springLength:50,springCoeff:.001,dragCoeff:.09,gravity:-1}),h=Viva.Graph.View.renderer(a,{graphics:s,container:document.getElementById(\"sosiographauthor\")});this.renderer=h;var m=$(\".heightsvgsosiograph\").height(),u=$(\".heightsvgsosiograph\").width();e&&setTimeout(()=>{$(\"#sosiographauthor svg\").css({width:u,height:m})},1),h.run(),setTimeout((function(){h.pause();var t=d.getGraphRect(),e=Math.min(t.x2-t.x1,t.y2-t.y1);!function t(e,i){e<i?(i=h.zoomOut(),setTimeout((function(){t(e,i)}),16)):(setTimeout((function(){h.zoomOut()}),16),setTimeout((function(){h.zoomOut()}),32),setTimeout((function(){h.zoomOut()}),50))}(Math.min($(\"#sosiographauthor\").width(),$(\"#sosiographauthor\").height())/e,1)}),1e4),this.update({isLoading:!1})}else this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.dataitems;t.length>0&&APP.downloadcsv(t,\"sociograph author\",!0)},this.fullscreent=()=>{$(\"#sosiographauthor svg\").css({display:\"block\",\"z-index\":\"9999\",position:\"fixed\",width:\"100%\",height:\"100%\",top:\"0\",right:\"0\",left:\"0\",bottom:\"0\",overflow:\"auto\",background:\"white\",zoom:\" 100%\"}),this.dataitems.length>0&&$(\"#return-to-top-sosiograph\").fadeIn(200)},this.outscreentsosiograph=()=>{let t=$(\".heightsvgsosiograph\").height(),e=$(\".heightsvgsosiograph\").width();this.datarender(this.dataitems,!0),$(\"#sosiograph svg\").css({width:e,height:t,display:\"\",\"z-index\":\"\",position:\"\",top:\"\",right:\"\",left:\"\",bottom:\"\",overflow:\"\",background:\"\"}),$(\"#return-to-top-sosiograph\").fadeOut(200),this.update()}}))},function(t,e,i){\"use strict\";i.r(e);i(107);i(0).tag2(\"search-corection\",'<div class=\"panel\"> <div class=\"panel-body\"> <form class=\"form-horizontal\"> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Date Stream</label> <div class=\"col-lg-10\"> <datepicker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 date-style pull-left\"></datepicker> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Keyword</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"keyword\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Domain</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"domain\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Author</label> <div class=\"col-lg-4\"> <input type=\"text\" ref=\"author\" class=\"form-control \"> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Media</label> <div class=\"col-lg-10\"> <div class=\"checkbox checkbox-theme display-inline-block\" style=\"margin-top: 10px;\" each=\"{o, i in services}\" if=\"{channelvalue[o.id]}\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" checked=\"{o.selected}\" class=\"{o.name}\" riot-value=\"{o.id}\"> <label for=\"checkbox-inline-{o.id}\" class=\"padding-left-30\">{o.name}</label> </div> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\">Sentiment</label> <div class=\"col-lg-10\"> <div class=\"checkbox checkbox-theme display-inline-block\" style=\"margin-top: 10px;\" each=\"{sentiment}\"> <input type=\"checkbox\" id=\"checkbox-inline-{id}\" class=\"{value}\" riot-value=\"{value}\"> <label for=\"checkbox-inline-{id}\" class=\"padding-left-30\">{name}</label> </div> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-2 mrtop\"></label> <div class=\"col-lg-5\"> <button onclick=\"{search}\" class=\"SearcCorection\">search</button> </div> </div> </form> </div> </div>',\"\",\"\",(function(t){this.services=[{id:1,name:\"Facebook\",idname:\"facebook\",selected:!0},{id:2,name:\"Twitter\",idname:\"twitter\",selected:!0},{id:3,name:\"Portal\",idname:\"portal\",selected:!0},{id:4,name:\"blog\",selected:!0},{id:5,name:\"Forum\",idname:\"forum\",selected:!0},{id:6,name:\"Video\",idname:\"vidio\",selected:!0},{id:7,name:\"Instagram\",idname:\"image\",selected:!0},{id:8,name:\"Other\",idname:\"other\",selected:!0}],this.sentiment=[{id:9,name:\"Positive\",selected:!1,value:\"positive\"},{id:10,name:\"Negative\",selected:!1,value:\"negative\"},{id:11,name:\"Neutral\",selected:!1,value:\"neutral\"}],this.search=t=>{if(t.preventDefault(),1===$(\".Facebook:checked\").length)var e=1;if(1===$(\".Twitter:checked\").length)var i=2;if(1===$(\".Portal:checked\").length)var a=3;if(1===$(\".Blog:checked\").length)var s=4;if(1===$(\".Forum:checked\").length)var o=5;if(1===$(\".Video:checked\").length)var r=6;if(1===$(\".Instagram:checked\").length)var n=7;if(1===$(\".Other:checked\").length)var l=8;let c=[],d=[];1===e&&c.push(e),2===i&&c.push(i),3===a&&c.push(a),4===s&&c.push(s),5===o&&c.push(o),6===r&&c.push(r),7===n&&c.push(n),8===l&&c.push(l);let h=String($(\".positive:checked\").val())||\"positive\",m=String($(\".negative:checked\").val())||\"negative\",u=String($(\".neutral:checked\").val())||\"neutral\";\"positive\"===h&&d.push(h),\"negative\"===m&&d.push(m),\"neutral\"===u&&d.push(u);let p=d.toString(),g=c.toString();this.parent.search.service_category=g,this.parent.search.section=p,this.parent.search.q=this.refs.keyword.value,this.parent.search.domain=this.refs.domain.value,this.parent.search.author=this.refs.author.value,this.parent.search.since=localStorage.since,this.parent.search.until=localStorage.until,this.parent.search.page=0,this.parent.searchsentiment()},this.on(\"mount\",()=>{this.getavailableChannel(),setTimeout(()=>{this.loadchannel()},500)});var e=this;this.getavailableChannel=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(t){localStorage.getItem(\"channels\")?localStorage.channels=t:localStorage.setItem(\"channels\",t),this.maxkeyword=t,this.update()}.bind(this)})},this.channelvalue={},this.loadchannel=()=>{if(localStorage.menu)var t=localStorage.channels;else if(JSON.parse(localStorage.getItem(\"package\")))t=JSON.parse(localStorage.getItem(\"package\")).channels;\"\"==t?_.each(this.services,(function(t,i){e.channelvalue[t.id]=!0})):_.each(t,(function(t,i){e.channelvalue[t]=!0})),e.update()}}))},function(t,e,i){i(0).tag2(\"datepicker\",'<div class=\"visible-xs r10-xs-datepicker pull-left\" ref=\"datepicker\"> <i class=\"ion-calendar margin-right-10\"></i> <i class=\"ion-ios-arrow-down margin-left-5\"></i> </div> <div ref=\"datepicker\" class=\" color-grey-600 border-radius-10 hidden-xs no-shadow\"> <i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{const e=this.refs.datepicker;var i=moment(t.since),a=moment(t.until),s=localStorage.maxdate;\"null\"!=s&&null!=s&&null!=s?$(e).daterangepicker({maxDate:moment(s),startDate:i,endDate:a,ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}},(function(i,a){\"function\"==typeof t.cb&&t.cb(i.format(\"YYYY-MM-DD\"),a.format(\"YYYY-MM-DD\")),localStorage.since=i.format(\"YYYY-MM-DD\"),localStorage.until=a.format(\"YYYY-MM-DD\"),$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+a.format(\"MMMM D, YYYY\"))})):$(e).daterangepicker({startDate:i,endDate:a,ranges:{Today:[moment(),moment()],Yesterdays:[moment().subtract(1,\"days\"),moment().subtract(1,\"days\")],\"Last 7 Days\":[moment().subtract(6,\"days\"),moment()],\"Last 30 Days\":[moment().subtract(29,\"days\"),moment()],\"This Month\":[moment().startOf(\"month\"),moment().endOf(\"month\")]}},(function(i,a){\"function\"==typeof t.cb&&t.cb(i.format(\"YYYY-MM-DD\"),a.format(\"YYYY-MM-DD\")),localStorage.since=i.format(\"YYYY-MM-DD\"),localStorage.until=a.format(\"YYYY-MM-DD\"),$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+a.format(\"MMMM D, YYYY\"))})),$(e).find(\"span\").html(i.format(\"MMMM D, YYYY\")+\" - \"+a.format(\"MMMM D, YYYY\")),$(e).show(),\"function\"==typeof t.cb&&t.cb(i.format(\"YYYY-MM-DD\"),a.format(\"YYYY-MM-DD\")),this.maxdateavailable()}),this.maxdateavailable=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_date\"},success:function(t){localStorage.setItem(\"maxdate\",t),this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"streams-correction\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15 cursor-pointer\" for=\"selectall\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\" id=\"selectall\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-negative rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> <option value=\"500\" selected=\"{selected:pagelimitvalue == 500}\">500</option> <option value=\"1000\" selected=\"{selected:pagelimitvalue == 1000}\">1000</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"overflowcorection\"> <div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading} scrolltopcorection\" each=\"{o in items}\" id=\"setvaleu{o._id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(o._id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-0\"> <img alt=\"\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'assets/img/avatar.jpg\\'\"> <img alt=\"\" src=\"assets/img/avatar.jpg\" if=\"{!o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'assets/img/avatar.jpg\\';\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"tx-inverse\">{o.user.real_name ? o.user.real_name : o.user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {o.date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"metricsentimentone cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {o.service} <span if=\"{o.is_community}\"> - community</span></a> </span> </div> </div> </div> <blockquote class=\"blockquote bd-l bd-5 pd-l-20 tx-12 mg-t-20\" if=\"{o.parent && o.parent.text}\"> <p class=\"mg-b-5 tx-gray-600\">{o.parent.text}</p> <footer class=\"blockquote-footer tx-12\"><a href=\"{o.source}\" target=\"_blank\">Original Post</a></footer> </blockquote> <p class=\"tx-17 mg-b-0 tx-inverse color222 textjustify\" onclick=\"{imgmodalprofile}\"> <span> <img alt=\"\" if=\"{o.image != \\'\\' && o.image != null}\" riot-src=\"{o.image}\" class=\"imagestreamscorection cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalprofile}\" onerror=\"this.onerror=null;this.style=\\'display:none\\';\"> </span> {o.text.length > 500 ? o.text.substring(0,230) + \\'...\\' : o.text} </p> <span if=\"{(o.tags ? o.tags.length : 0) > 0 || tagingvalue[o._id]}\" class=\"showtags_{o._id} mg-t-15\"><i class=\"fa fa-folder-o\"></i> Taging : <a class=\"btn btn-teals btn-with-icon btn-block wd-max-content\" id=\"{o._id}\"> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o2.id}{o._id} valtags_{o._id}\" each=\"{o2,i in o.tags}\"> <span class=\"pd-x-10\"> {o2.name}</span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o2.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o2.id},{o._id}\"></i> </span> </div> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o3.id}{o._id} valtags_{o._id}\" each=\"{o3,i in valuetag[o._id]}\"> <span class=\"pd-x-10\"> {o3.name} </span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o3.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o3.id},{o._id}\"></i> </span> </div> </a> </span> <div class=\"media align-items-center pull-right mg-t-m-20\"> <input type=\"checkbox\" checked=\"{o.checked}\" data-channel=\"twitter\" class=\"facebook cursor-pointer checkedtransform mg-t-20\" name=\"check_{o._id}\" id=\"check_{o._id}\" onclick=\"{selectId}\"><span></span> <div class=\"media-body mg-t-30\"> <div class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? o.sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:o.is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></div> <div class=\"dropdown btn btn-outline-teal rounded-circle cursor-pointer pull-right mg-r-10 active btncircletaging40\"> <i class=\"dropbtn fa fa-bookmark\"></i> <div class=\"dropdown-content mg-t-20 left\"> <ul class=\"list-group list-group-striped\"> <li class=\"list-group-item rounded-top-0 pd-0 b-0-white\"> <div class=\"input-group\"> <input type=\"text\" class=\"form-control borderinputaddtag\" placeholder=\"Search for...\" onkeyup=\"{searchTaging}\" ref=\"inputtag\"> <span class=\"input-group-btn\"> <button class=\"btn bd btn-white tx-gray-600 cursor-pointer addtaging\" onclick=\"{addtagscolection}\" type=\"button\" id=\"{o._id}\"><i class=\"fa fa-plus\" id=\"{o._id}\"></i></button> </span> </div> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in datatagingvalue}\" if=\"{!listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in listtagingvalue}\" if=\"{listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <div class=\"group-more\"></div> </ul> </div> </div> <a rel=\"noopener\" onclick=\"{showForm}\" class=\"btn btn-outline-info rounded-circle btn-icon mg-r-5 pull-right cursor-pointer editsave\" if=\"{opts.corection == \\'true\\'}\"> <div><i class=\"fa fa-pencil btn-check pstf\"></i></div> </a> <div class=\"btn-group pull-right\" role=\"group\" aria-label=\"Basic example\"> <input class=\"form-control pull-right width100p mg-r-5 inputsave\" type=\"text\" style=\"height: 37px;\" ref=\"inputValue\" required id=\"kywordupdate\" if=\"{hiddenForm[o._id]}\"> <select class=\"form-control select2 cursor-pointer pull-right width100p mg-r-5\" data-placeholder=\"Choose Browser\" style=\"height: 37px;\" ref=\"sentimentValue\" if=\"{hiddenForm[o._id]}\"> <option class=\"cursor-pointer\" value=\"positive\">Positive</option> <option class=\"cursor-pointer\" value=\"negative\">Negative</option> <option class=\"cursor-pointer\" value=\"include\">Include</option> <option class=\"cursor-pointer\" value=\"exclude\">Exclude</option> </select> <div rel=\"noopener\" onclick=\"{updateKeyword}\" id=\"notice\" class=\"btn btn-outline-positivesave cursor-pointer pull-right mg-r-10\" id=\"{o._id}\" if=\"{hiddenForm[o._id]}\" style=\"height: 37px;\"> <i class=\" fa fa-floppy-o pstf\"></i> </div> </div> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div> <a href=\"javascript:\" id=\"return-to-top\" onclick=\"{scrolltop}\"><i class=\"fa fa-chevron-up\"></i></a> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.onerror=null;this.src=\\'assets/img/errorimg.jpg\\';\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.userLoadingSentiment,this.xhr=null;const e=this;this.dataStreams=[],this.ontotal=0,this.idtotal={},this.datatagingvalue=[],this.tagingvalue={},this.valuetag={},this.addselectval={},this.addtagscolection=t=>{let e=localStorage.clientid;const i=t.target.id;this.nametaging&&APP.apiPost({path:\"tags/create\",data:{name:this.nametaging,client_id:e},success:t=>{t?(this.listdatacolection=t,this.tagingvalue[i]=!0,this.valuetag[i]?this.valuetag[i]=_.concat(this.valuetag[i],[{name:t.name,id:t._id}]):this.valuetag[i]=[{name:t.name,id:t._id}],APP.apiPut({path:\"tags/update/stream\",data:{id:t._id,streamid:i},success:e=>{$.notify(\"Tag : ' \"+t.name+\" ' has been added from list successfully\",\"info\")}})):$.notify(\"Tag \"+t.name+\" has been previously added\",\"error\"),this.update()},error:t=>{$.notify(\"Tag \"+data.name+\" has been previously added\",\"error\")}})},this.delettagcolection=t=>{let e=localStorage.clientid;const i=t.target.id;APP.apiPut({path:\"tags/remove\",data:{id:i,client_id:e},success:function(e){setTimeout(()=>{$(\"#delete_\"+i).remove()},1),$.notify(\"Tag \"+t.item.list.name+\" has been deleted from list successfully\",\"delete\")}})},this.rendertags=t=>{let e=localStorage.clientid;APP.apiGet({path:\"tags\",data:{q:\"\",client_id:e},success:t=>{this.listtagingvalue=t.slice(0,4),this.listtag=!0,this.update()}})},this.eventaging=t=>{let e=t.target.id.replace(/,/g,\"\");const i=t.target.id.split(\",\"),a=i[0],s=i[1];this.addselectval[a]=!1,this.update(),$(\".devault_\"+e).remove(),APP.apiPut({path:\"tags/remove/stream\",data:{id:a,streamid:s},success:function(e){$.notify(\"remove tanging name : \"+(t.item.o2?t.item.o2.name:t.item.o3?t.item.o3.name:\"\"),\"delete\")},error:t=>{}}),$(\".valtags_\"+s).length<=0&&($(\".showtags_\"+s).hide(),this.tagingvalue[s]=!1,this.update())},this.searchTaging=t=>{const e=t.target.value.length;let i=localStorage.clientid;const a=t.target.value;this.nametaging=a,this.listtag=!1,e>=2&&APP.apiGet({path:\"tags\",data:{q:a,client_id:i},success:t=>{this.datatagingvalue=t,this.update()}}),e<=0&&(this.listtag=!0,this.update())},this.addtaging=t=>{if($(\".devault_\"+t.target.id.replace(/,/g,\"\")).length<1){const e=t.target.id.split(\",\"),i=e[0],a=e[1];this.valuetag[a]?this.addselectval[i]||(this.valuetag[a]=_.concat(this.valuetag[a],[{name:t.item.list.name,id:i}])):this.valuetag[a]=[{name:t.item.list.name,id:i}],$(\".showtags_\"+a).show(),this.tagingvalue[a]=!0,this.addselectval[i]=!0,this.update(),APP.apiPut({path:\"tags/update/stream\",data:{id:i,streamid:a},success:function(e){$.notify(\"Tag : \"+t.item.list.name+\" has been added successfully\",\"info\")}})}else $.notify(\"Tag : ' \"+t.item.list.name+\" ' has been previously added \",\"info\")},this.showForm=t=>{const e=t.item.o._id;this.error=!1,this.jumalahtotal=this.ontotal+1,this.ontotal=this.jumalahtotal,this.idtotal[this.jumalahtotal]=e,this.idtotal[this.jumalahtotal-1]==e?this.hiddenForm[e]?this.hiddenForm[e]=!1:this.hiddenForm[e]=!0:(this.hiddenForm[e]=!0,this.hiddenForm[this.idtotal[this.jumalahtotal-1]]=!1),setTimeout((function(){}),1),this.update()},this.updateKeyword=t=>{const e=t.item.o._id,i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.refs.sentimentValue.value,s=this.refs.inputValue.value,o={project:i,type:a,value:s},r=s?s.split(\",\"):\"\";if(\"\"!=r){if(\"positive\"==a)var n=this.valuekeypositif?this.valuekeypositif.split(\",\"):\"\";if(\"negative\"==a)n=this.valuekeynegatif?this.valuekeynegatif.split(\",\"):\"\";if(\"include\"==a)n=this.valuekeyinclude?this.valuekeyinclude.split(\",\"):\"\";if(\"exclude\"==a)n=this.valuekeyexclude?this.valuekeyexclude.split(\",\"):\"\";0==_.filter(n,t=>r.indexOf(t)>-1).length?s?APP.apiGet({path:\"stream/correction/append\",data:o,success:t=>{$.notify(\"Sentiment changed to \"+a,\"info\"),this.hiddenForm[e]=!1,this.valueKeyword(),this.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0})):$.notify(\"Word already exists\")}},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:e=>{this.update({Loading:!0,isLoading:!0}),this.query.page=(e-1)*this.query.limit,this.render(),\"true\"==t.corection?$(\"body,html\").animate({scrollTop:290},500):$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalprofile=t=>{this.modalName=t.item.o.user.name,this.imgmodal=t.item.o.image},this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",()=>{this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.valueKeyword(),this.update()}),this.valueKeyword=()=>{let t=p(\"project\")?p(\"project\"):APP.getProject().toString();t.split(\",\").map(Number);var e={project:t,selected_fields:\"key_word_not, key_word_in, key_positif, key_negatif\"};APP.apiGet({path:\"projects\",data:e,success:t=>{this.valuekeynegatif=t[0].key_negatif,this.valuekeypositif=t[0].key_positif,this.valuekeyinclude=t[0].key_word_in,this.valuekeyexclude=t[0].key_word_not}})},this.integrasi=t=>{t.preventDefault(),APP.log(\"integrate stream\");var e=t.item.o.service;let i=t.item.o._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.o.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()},success:t=>{APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+i+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}})},this.valueidcheck={},this.setSentiment=t=>{t.preventDefault(),APP.log(\"setting sentiment\");let e=t.target.id,i=t.item.o._id;this.search.streamid=i,this.search.sentiment=e,$(\"#setvaleu\"+i+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #\"+e).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:a=>{if($.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.valueidcheck[i])var s=this.valueidcheck[i];else s=t.item.o.sentiment.value;0!=s&&null!=s||this.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==e&&this.parent.refs.sentiment.update_dataneutrla(1),1==s&&this.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==e&&this.parent.refs.sentiment.update_datapositive(1),-1==s&&this.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==e&&this.parent.refs.sentiment.update_datanegative(1);var o=\"positive\"===e?1:(e=\"negative\")?-1:0;this.valueidcheck[i]=o,this.userLoadingSentiment=void 0,this.update()}})},this.deletes=t=>{t.preventDefault(),APP.log(\"deleting stream\");let e=t.item.o._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,parse_data:!0,success:t=>{$(\"#setvaleu\"+e).fadeOut(1),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})};const i=function(){APP.apiGet({path:\"projects\",data:{project:p(\"project\"),selected_fields:\"key_word\"},success:function(t){if(t.length>0){let i=t[0].key_word.split(\",\");i=i.map(t=>t.trim()).filter(t=>t.length>1),e.parent.search&&e.parent.search.q&&i.push(e.parent.search.q),$(\".tx-17.mg-b-0.tx-inverse.color222.textjustify\").each((function(t,e){let a=$(e).html();for(let t of i)a=a.replace(new RegExp(`\\\\b${t}\\\\b`,\"gi\"),`<b style=\"color: #1caf9a;\">${t.toUpperCase()}</b>`);$(e).html(a)}))}}})};this.render=()=>{APP.log(\"render Stream timeline\"),this.valuetag={};const e=_.find(this.times,{selected:!0}),a=_.map(this.parent.channels,t=>t.id);let s=this.parent.search;s.type=e,s.limit=this.query.limit,s.page=this.query.page,s.pagination=\"yes\",s.service_category=a.join(\",\");var o=\"\",r=0;for(let t in s)s[t]&&\"\"!=s[t]&&(o+=r>0?`&${t}=${encodeURIComponent(s[t])}`:`?${t}=${encodeURIComponent(s[t])}`,r++);this.rendertags(),this.xhr=APP.apiPost({path:\"stream\"+o,success:(e,a,s)=>{var o=e.item;o&&(o=o.map(t=>(t.checked=!1,t))),this.items=o,this.total=this.items.length,this.pagination.pages=Math.ceil(e.total/this.query.limit),this.isLoad=!1,this.Loading=!1,this.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),i(),this.update({isLoading:!1}),t.corection}})},this.selectAll=()=>{var t;1===$(\".facebook:checked\").length?(t=this.items)&&t&&(t=t.map(t=>(t.checked=!0,t))):(t=this.items)&&(t=t.map(t=>(t.checked=!1,t)));this.update()},this.dataStrm=[],this.selectId=t=>{var e=t.item.o._id;this.items.forEach(t=>{t._id===e&&(t.checked=!t.checked),this.dataStrm.push(t)})},this.globalupdate=t=>{t.preventDefault(),this.dataId=[],(s=this.items)&&((s=_.filter(s,(function(t){return t.checked}))).forEach(t=>{t.checked&&this.dataId.push(t._id)}),this.IdData=this.dataId.toString(\",\"));var e=APP.currentProject,i=this.IdData,a=t.target.id;if(i)if(\"sociomile\"==a){var s={streamid:i};APP.apiPost({path:\"stream/sociomile?project=\"+e,data:s,parse_data:!0,error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.update()},success:t=>{APP.success(\"Stream moved to Sociomile\",()=>{});var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t+\" #sociomile\").addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\")}),this.update()}})}else{s={stream_ids:i,sentiment:a};\"delete\"==a?swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiPost({path:\"stream/correction?project=\"+e,data:s,parse_data:!0,success:t=>{var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t).fadeOut(100)}),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})}):APP.apiPost({path:\"stream/correction?project=\"+e,data:s,parse_data:!0,success:t=>{var e=i.split(\",\");_.each(e,(t,e)=>{$(\"#setvaleu\"+t+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #\"+a).addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\"),$(\".facebook\").removeAttr(\"checked\")}),APP.success(t,()=>{this.parent.refs.sentiment.update_data()})}})}},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),delete this.xhr}),$(window).scroll((function(){$(this).scrollTop()>=50?$(\"#return-to-top\").fadeIn(200):$(\"#return-to-top\").fadeOut(200)})),this.scrolltop=()=>{$(\".overflowcorection\").animate({scrollTop:0},500)}}))},function(t,e,i){i(0).tag2(\"action-correction\",'<div class=\"row nomargin \"> <div class=\"col-md-12 col-xs-12 header-title\"> ACTION </div> </div> <div class=\"panel\"> <div class=\"panel-body\"> <div class=\"row\"> <div class=\"col-lg-12\"> <form role=\"form\" id=\"ExpressionValidator\"> <div class=\"panel-body padding-bottom-40 padding-left-20 padding-right-20 \"> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Change to</label> <select class=\"form-control \" ref=\"changeto\"> <option></option> <option value=\"positive\">Positive</option> <option value=\"negative\">Negative</option> <option value=\"neutral\">Neutral</option> <option value=\"delete\">Delete</option> <option value=\"sociomile\">Integrasi Sociomile</option> </select> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Positive</label> <input type=\"username\" class=\"form-control\" ref=\"key_positive\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Negative</label> <input type=\"username\" class=\"form-control\" ref=\"key_negative\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Include</label> <input type=\"username\" class=\"form-control\" ref=\"key_include\"> </div> <div class=\"form-group\"> <label for=\"username\" class=\"control-label\">Keyword Exclude</label> <input type=\"username\" class=\"form-control\" ref=\"key_exclude\"> </div> <div class=\"text-center margin-top-20 padding-top-20 border-top-1 border-grey-100\"> <button onclick=\"{execute}\" class=\"changepass pointer pull-right\">Execute</button> </div> </div> </form> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=this;this.Dataparent=t=>{this.dataId=[],t&&(t.forEach(t=>{t.checked&&this.dataId.push(t._id)}),this.IdData=this.dataId.toString(\",\"))},this.execute=t=>{t.preventDefault();var i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.IdData,s=this.refs.changeto.value,o=this.refs.key_positive.value,r=this.refs.key_negative.value,n=this.refs.key_include.value,l=this.refs.key_exclude.value;if(\"sociomile\"==s){var c={streamid:a};APP.apiPost({path:\"stream/sociomile?project=\"+i,data:c,error:function(t,e,i){APP.error(t),this.userLoadingSentiment=void 0,this.parent.refs.streams.render(),this.update()}.bind(this),success:function(t){document.getElementById(\"ExpressionValidator\").reset(),APP.success(\"Stream moved to Sociomile\",(function(){})),e.parent.refs.streams.render()}.bind(this)})}else{const t={stream_ids:a,sentiment:s,key_positive:o,key_negative:r,key_include:n,key_exclude:l};APP.apiPost({path:\"stream/correction?project=\"+i,data:t,parse_data:!0,success:function(t){document.getElementById(\"ExpressionValidator\").reset(),APP.success(t,(function(){})),e.parent.refs.streams.render()}})}}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chart-stream\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> STREAM OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstream\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{if(\"analysis/my-stream..\"==APP.currentHash||\"stream..\"==APP.currentHash){this.update({tombolrefres:!0});var e=2}else e=4;this.nodata=!0,APP.log(\"chart streams : render\");const i=this.parent.refs.channel.channels,a=_.filter(i,(function(t){return t.selected})),o=_.find(this.times,{selected:!0}).id;let r=_.clone(this.parent.search);r.type=o,r.group_service=\"false\",\"domain/infographic..\"==APP.currentHash&&(r.project=APP.currentProject),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var n=[];async.eachLimit(a,10,(t,i)=>{if(!this.isExist)return!1;r.service_category=t.id;var a=APP.apiGet({path:\"mentions\",data:r,success:a=>{let s=[];a=a.items,s=(a=_.sortBy(a,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),n.push({id:\"response\",shadow:!1,name:t.name,lineWidth:e,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}},i);this.ajaxChannels.push(a)},()=>{if(!this.nodata){const t=\"chartstream\";if(this.update({nodata:this.nodata}),\"domain/infographic..\"==APP.currentHash)var e=\"#333\";for(var i=this.chart=s()(t,o,e),a=0;a<=n.length-1;a++)i.addSeries(n[a])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"stream-composition\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> STREAM COMPOSITION </h6> </div> <div class=\" pd-y-15 bg-transparent min-height360 \"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped table-bordered mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white text-center tx-30-r10\">CHANNELS</th> <th class=\" text-center tx-white tx-30-r10\">TOTAL</th> <th class=\" text-center tx-white tx-30-r10\">POSITIVE</th> <th class=\" text-center tx-white tx-30-r10\">NEGATIVE</th> <th class=\" text-center tx-white tx-30-r10\">NEUTRAL</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\"> <th class=\"mobilestd text-center tx-white bg-gray-600 \" scope=\"row\">{o.name}</th> <td class=\"mobilestd text-center tx-black\">{o.total ? o.total.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.positive ? o.positive.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.negative ? o.negative.formatMoney(0) : 0}</td> <td class=\"mobilestd text-center tx-black\">{o.neutral ? o.neutral.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"5\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.fontcolor=!1,this.heighttotal=\"height: 480px\",this.fonttable=\"font-size: 30px;\",this.render=()=>{APP.log(\"influent-sosial : render\");const t=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search);e.type=t,this.update({isLoading:!0}),p(\"section\")?e.section=p(\"section\"):e.section=null,this.total=0,this.xhr=APP.apiGet({path:\"mentions/composition\",data:e,success:function(t){t=t.items;var e=[];_.each(t,t=>{\"Image\"==t.name?t.name=\"Instagram\":\"Portal\"==t.name&&(t.name=\"News\"),e.push(t)}),t=_.orderBy(t,[\"total\"],[\"desc\"]),this.update({total:t.length,items:t}),this.total=t.length,this.items=t}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmention\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.totalpercent||[],i=t.arraySeries||[];if(i.length<=0)return!1;Highcharts.chart(\"shareofmention\",{chart:{type:\"bar\"},title:{text:\"\"},xAxis:{categories:e,id:\"idXAxisC03\",labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{gridLineWidth:1,gridLineColor:\"#aaa\",min:0,title:{text:\"\"},labels:{style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\"}}},tooltip:{formatter:function(){return[this.key+\" : \"+this.y.formatMoney(0)+\" (\"+this.point.percent+\"%)\"].join(\"\")}},legend:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px;'> \"+this.y.formatMoney(0)+\"</span>\"}}},bar:{dataLabels:{enabled:!0,style:{fontWeight:\"bold\",fontSize:\"15px\"}}}},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:i}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;var e=[];_.forEach(t,(function(t){e.push(t)})),e=_.sumBy(e,\"count\");let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const o in t){let r={};var s=100*t[o].count/e;r={y:t[o].count,percent:parseFloat(s.toFixed(1)),name:o,color:a[o]},i.push(r)}i.map((function(t,e){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t})),0===i.length?this.notdata=!0:this.update({notdata:!1});var o=_.sortBy(i,(function(t){return t.y}));o.reverse();var r=_.map(o,t=>{var i=100*t.y/e;return t.name+\"<br> <b>   (\"+i.formatMoney(2)+\"%)</b>\"});this.createChart({arraySeries:o,totalpercent:r}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"chart-share\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SHARE OF STREAM </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstream\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstream\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:14px;'> \"+this.point.name+\"</br>\"+numeral(this.point.percentage).format(\"0,0.[00]\").replace(\".\",\",\")+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash?(this.fontcolor=!0,this.sizelegend=\"20px\",p(\"section\")?t.section=p(\"section\"):t.section=null):(this.fontcolor=!1,this.sizelegend=\"11px\"),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0}),this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"wordcloud-positive\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudpositive titlebacground \">POSITIVE WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height720\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_positive\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudpositive titlebacground\">POSITIVE STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px; margin-top: 60px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-right;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,150)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> <div class=\"col-md-4\"> <h4 class=\"header-title pd-20 text-center\"><span class=\"bacgroudpositive titlebacground\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordpositive\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.isLoading=!0,this.notdata=!1,this.value={},this.update_data(),this.topwordpositive()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"positive\",t.limit=50,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(e){let i=e&&e.items&&e.items.positive?e.items.positive:[],a=t.q,s=\"\";a?this.streampositive(a):(i.length>0&&(s=_.orderBy(i,[1],[\"desc\"]).slice(0,5).map(t=>t[0]).join(\" or \")),this.streampositive(s));var o=_.concat(i);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=_.result(o,\"[0][1]\");o=o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\").show(),WordCloud(\"wordcloud_positive\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\").html(\" NO DATA\"),$(\"#wordcloud_positive\").show()}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordpositive=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streampositive=t=>{this.parent.refs.sentimentpositive.render(t),APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search),a=t||i.q;i.sort_by=\"comments\",i.sort_dir=\"desc\",i.type=e,i.section=\"positive\",i.limit=3,i.q=a,i.group_service=!1;var s=\"\",o=0;this.total=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+s,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},function(t,e,i){i(0).tag2(\"wordcloud-neutral\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudneutral titlebacground \">NEUTRAL WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_neutral\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudneutral titlebacground\">NEUTRAL STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px; margin-top: 60px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-right;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16 textcenter\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,200)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.isLoading=!0,this.notdata=!1,this.value={},this.update_data()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"neutral\",t.limit=50,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(e){let i=e&&e.items&&e.items.all?e.items.all:[],a=t.q;if(a)this.streamneutral(a);else{if(i.length>0){i=_.orderBy(i,[1],[\"desc\"]);var s=i?i[0][0]:null}else s=\"\";this.streamneutral(s)}var o=_.concat(i);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_neutral\").show(),WordCloud(\"wordcloud_neutral\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_neutral\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_neutral\").html(\" NO DATA\"),$(\"#wordcloud_neutral\").show()}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordpositive=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"neutral\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streamneutral=t=>{this.parent.refs.streams_neutral.render(t),APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search),a=i.q?i.q:t;i.type=e,i.section=\"neutral\",i.limit=3,i.q=a,i.group_service=!1;var s=\"\",o=0;this.total=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+s,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},function(t,e,i){i(0).tag2(\"wordcloud-negative\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"bacgroudnegative titlebacground\">NEGATIVE WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter height720\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_negative\" style=\"height:300px; width:100%;text-align: center;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-4\"> <h4 class=\"header-title pd-20 text-center\"><span class=\"bacgroudnegative titlebacground\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordnegative\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> <div class=\"col-md-8\"> <h4 class=\"panel-body header-title pd-20 text-center\"> <span class=\"bacgroudnegative titlebacground\">NEGATIVE STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-auto;\" each=\"{items}\"> <div class=\"panel-body color-bl tx-16\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,150)} <br> <a class=\"servicetext colorblue\"> {service}</a></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.value={},this.xhr=null,this.render=()=>{this.update_data(),this.topwordnegative()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"negative\",t.limit=50,t.page=0,t.project=p(\"project\"),t.is_total=null;let e=\"\";this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(i){let a=i&&i.items&&i.items.negative?i.items.negative:[],s=t.q;s?this.streamsnegative(s):(a.length>0&&(e=_.orderBy(a,[1],[\"desc\"]).slice(0,5).map(t=>t[0]).join(\" or \")),this.streamsnegative(e));var o=_.clone(a);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=25),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").show(),WordCloud(\"wordcloud_negative\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\").width()/1024),minSize:10,weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").html(\"NO DATA\"),$(\"#wordcloud_negative\").show();this.update({isLoading:!1})}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordnegative=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"negative\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streamsnegative=t=>{this.parent.refs.sentimentnegative.render(t),APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search),a=i.q?i.q:t;i.type=e,i.section=\"negative\",i.limit=3,i.q=a,i.group_service=!1;var s=\"\",o=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+s,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(55);i(0).tag2(\"competisi-sentiment-chart\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION SENTIMENT CHART </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"chartcompetisisentiment\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.compositionstreams=null,this.data={},this.render=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.renderdata(t)},1e3),this.update()}.bind(this)})};var e=this;this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),async.parallel({positive:function(t){i((function(e){t(null,e)}),\"positive\")},negative:function(t){i((function(e){t(null,e)}),\"negative\")},neutral:function(t){i((function(e){t(null,e)}),\"neutral\")}},(function(i,s){if(e.update({isLoading:!1,nodata:!1}),s){const e=s.positive,i=s.negative,o=s.neutral;let r={positive:{},negative:{},neutral:{}};for(let t in e){const i=e[t].brand_name;r.positive[i]||(r.positive[i]=0),r.positive[i]=r.positive[i]+e[t].count}for(let t in i){const e=i[t].brand_name;r.negative[e]||(r.negative[e]=0),r.negative[e]=r.negative[e]+i[t].count}for(let t in o){const e=o[t].brand_name;r.neutral[e]||(r.neutral[e]=0),r.neutral[e]=r.neutral[e]+o[t].count}const n=p(\"project\"),l=document.projectCompetition?document.projectCompetition:\"\",c=decodeURIComponent(`${n},${l}`),d=\"string\"==typeof c?c.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\",h=t,m=d.split(\",\").map(t=>parseInt(t.trim())),u=h.filter(t=>m.indexOf(t.key_id)>=0).map(t=>t.key_name),g=[\"positive\",\"negative\",\"neutral\"];let v={};for(let t in g){const e=g[t];v[e]=[];for(let t in u){const i=u[t];r[e]||(r[e]={}),r[e][i]||(r[e][i]=0),v[e].push(r[e][i])}}a(v,u)}})),this.update({isLoading:!1,nodata:!0})};var i=(t,e)=>{let i=_.clone(this.parent.search);i.section=e;const a=p(\"project\"),s=document.projectCompetition?document.projectCompetition:\"\",o=decodeURIComponent(`${a},${s}`),r=\"string\"==typeof o?o.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";i.project=r,APP.apiGet({path:\"stream/brand/mention\",data:i,success:function(e){t(e.items)}.bind(this)})},a=(t,e)=>{var i={positive:\"#0f8212\",negative:\"#eb3737\",neutral:\"#f3bc25\"},a=_.map(t,(t,e)=>({name:e,color:i[e],data:t}));this.update({isLoading:!1}),Highcharts.chart(\"chartcompetisisentiment\",{chart:{type:\"column\"},title:{text:\"\"},xAxis:{categories:e,crosshair:!0,labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{min:30,labels:{format:\"{value}%\",style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{pointFormat:'<span style=\"color:{series.color};\">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"14px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px; color:#000000;'> \"+this.y.formatMoney(0)+\"</span>\"}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:a})}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartsentimenttotal\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS CONVERSATION AND SENTIMENT </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height400 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height400\" id=\"chartSentimenttotal\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.Loader=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentiment=[{color:\"#466CA4\",id:\"negative,positive,neutral\",name:\"All\",no:1},{color:\"#0f8212\",id:\"positive\",name:\"Positive\",no:2},{color:\"#eb3737\",id:\"negative\",name:\"Negative\",no:3},{color:\"#f3bc25\",id:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const e=_.find(this.times,{selected:!0}).id;let i=_.clone(this.parent.search);i.group_service=\"false\",i.project=APP.currentProject,i.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var a=[];async.each(this.sentiment,(t,e)=>{if(!this.isExist)return!1;i.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:i,success:i=>{i=i.items;let s=[];s=(i=_.sortBy(i,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),e()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},e),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimenttotal\";this.update({nodata:this.nodata}),this.chart=s()(t,e,\"#000\");for(var i=0;i<=a.length-1;i++)this.chart.addSeries(a[i])}this.update({Loader:!1}),_.isFunction(t)&&t()})},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"buzz-volume\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1 mg-t-20\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> BUZZ VOLUME </h6> </div> <div class=\"row row-sm\"> <div class=\"col-lg-12\"> <div class=\"col-sm-12 col-lg-12 cursor-pointer pd-0 \" id=\"positive,negative,neutral\" onclick=\"{selectAll}\"> <div class=\"bg-blue-muda rounded overflow-hidden noactivebackground\" id=\"positive,negative,neutral\"> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"positive,negative,neutral\" style=\"margin-left: 35%;\"> <i class=\"icon ion-chatbubbles tx-50 lh-0 tx-white-8 tx-white\" id=\"positive,negative,neutral\" style=\"font-size: 50px !important\"></i> <div class=\"mg-l-25\" id=\"positive,negative,neutral\"> <p class=\"tx-24 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 tx-whitetitle-text-total fontroboto\">BUZZ VOLUME</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count fontroboto\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> </div> </div> <div id=\"ch1\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> <div class=\"col-lg-12\"> <div class=\"{colmd} cursor-pointer pull-right pd-0\" each=\"{sentiment}\" onclick=\"{selectSentiment}\"> <div class=\"{bgcolor} noactivebackground \" id=\"{id}\"> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center mg-l-25\" id=\"{id}\"> <i class=\"{icon} tx-50 lh-0 tx-white-8 tx-white\" id=\"{id}\" style=\"font-size: 50px !important;\"></i> <div class=\"col-md-10 mg-l-10\" id=\"{id}\"> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count fontroboto\" if=\"{!isLoading}\">{persentasedata[id]} %</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count mg-t-20 fontroboto\"> <i class=\" mg-t-10\" aria-hidden=\"true\"> </i> {this.sValue[id] ? this.sValue[id].formatMoney(0) : 0} </p> </div> </div> <div id=\"ch{idchart}\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.persentasedata=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"negative\",idchart:3,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"NEGATIVE MENTIONS\",selected:!1,color:\"count-txt color-red-500\",bgcolor:\"bg-danger rounded overflow-hidden\",icon:\"fa fa-thumbs-down  \",tooltip:\"How many times your chosen keyword has been mentioned in a negative manner, compared with the previous period\"},{id:\"positive\",idchart:2,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"POSITIVE MENTIONS\",selected:!1,color:\"count-txt color-green-500\",bgcolor:\"bg-success rounded overflow-hidden\",icon:\"fa fa-thumbs-up  \",tooltip:\"How many times your chosen keyword has been mentioned in a positive manner, compared with the previous period\"},{id:\"neutral\",idchart:4,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"NEUTRAL MENTIONS\",selected:!1,color:\"count-txt color-orange-500\",bgcolor:\"bg-orange rounded overflow-hidden\",icon:\"fa fa-question-circle \",tooltip:\"How many times your chosen keyword has been mentioned in a neutral manner, compared with the previous period\"}],this.on(\"mount\",()=>{this.parent.search.section=null,this.chartimageseries()}),this.render=()=>{APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},1250)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.limit=\"\",t.page=\"\",this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const e=(t=t.items).negative?parseInt(t.negative):0,i=t.positive?parseInt(t.positive):0,a=t.neutral?parseInt(t.neutral):0;this.total=e+i+a,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:this.valueNegative.formatMoney(2,\",\",\".\"),positive:this.valuePositive.formatMoney(2,\",\",\".\"),neutral:this.valueNeutral.formatMoney(2,\",\",\".\")},this.isLoading=!1,this.sValue=t,this.update()}.bind(this)}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.chartimageseries=()=>{var t=[{x:0,y:40},{x:1,y:49},{x:2,y:38},{x:3,y:30},{x:4,y:32},{x:5,y:40},{x:6,y:20},{x:7,y:10},{x:8,y:20},{x:9,y:25},{x:10,y:35},{x:11,y:20},{x:12,y:40}];new Rickshaw.Graph({element:document.querySelector(\"#ch1\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch2\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch3\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch4\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render()}}))},function(t,e,i){i(0).tag2(\"streams-neutral\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEUTRAL STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"{delete}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search);i.type=e,i.section=\"neutral\",i.limit=4,i.project=p(\"project\"),i.group_service=!1;var a=\"\",s=0;for(let t in i)i[t]&&\"\"!=i[t]&&(a+=s>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,s++);this.xhrStream=APP.apiPost({path:\"stream\"+a,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})}}))},function(t,e,i){i(0).tag2(\"sentimentpositive\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> POSITIVE STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != \\'\\' && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search);i.type=e,i.section=\"positive\",i.limit=4,i.q=t,i.project=p(\"project\"),i.group_service=!1;var a=\"\",s=0;for(let t in i)i[t]&&\"\"!=i[t]&&(a+=s>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,s++);console.log({url:a}),this.xhrStreams=APP.apiPost({path:\"stream\"+a,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStreams.readyState&&this.update({isLoading:!1,total:0})}}))},function(t,e,i){i(0).tag2(\"sentimentnegative\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEGATIVE STREAMS </h6> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" if=\"{!user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12 \"> <span> <a rel=\"noopener\" target=\"_blank\" class=\"metricsentimentone cursor-pointer colorblue\" href=\"{source}\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"> </i> {service} </a> </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\"></img> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-m-30\"> <div class=\"media-body mg-t-min-6\"> <a onclick=\"{delete}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right btncirclesentiment\"> <div> <i class=\"fa fa-trash-o delete btncirclesentimentposition \"></i> </div> </a> <a id=\"neutral\" onclick=\"{setSentiment}\" class=\"btn btn-outline-warning btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment\"> <div id=\"neutral\"> <i id=\"neutral\" class=\"fa fa-question-circle btncirclesentimentposition ntrl {active:sentiment ? sentiment.value == 0 : null}\"></i> </div> </a> <a id=\"negative\" onclick=\"{setSentiment}\" class=\"btn btn-outline-danger btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment\"> <div id=\"negative\"> <i id=\"negative\" class=\"fa fa-thumbs-o-down btncirclesentimentposition ngtv {active:sentiment ? sentiment.value < 0 : null}\"></i> </div> </a> <a id=\"positive\" onclick=\"{setSentiment}\" class=\"btn btn-outline-success btn-icon rounded-circle mg-r-5 mg-t-20 pull-right {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment\"> <div id=\"positive\"> <i id=\"positive\" class=\"fa fa-thumbs-o-up btncirclesentimentposition pstf {active:sentiment ? sentiment.value > 0 : null} \"></i> </div> </a> </div> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{}),this.render=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search);i.type=e,i.section=\"negative\",i.limit=4,i.q=t,i.group_service=!1,i.project=p(\"project\");var a=\"\",s=0;for(let t in i)i[t]&&\"\"!=i[t]&&(a+=s>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,s++);this.xhrStreams=APP.apiPost({path:\"stream\"+a,success:function(t){this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStreams.readyState&&this.update({isLoading:!1,total:0})}}))},function(t,e,i){i(0).tag2(\"wordcloud-all\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/cloud-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> WORDCLOUD ALL </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{this.total==0 && !isLoading}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" if=\"{this.total!=0}\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive\"> <div id=\"wordcloud_all\" style=\"height:500px; width:100%;margin-top: -20px;\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.update_data()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!1});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.project=p(\"project\"),t.limit=50,t.page=\"\",t.section=\"\",t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{let i=e&&e.items&&e.items.all?e.items.all:[],a=t.q;if(a)this.parent.refs.streams_neutral.render(a);else{if(i.length>0)var s=i?i[0][0]:null;else s=\"\";this.parent.refs.streams_neutral.render(s)}this.update({total:i.length});const o=i[0]?i[0][1]:0;if(i.map(t=>{const e=t[0].length,i=parseInt(t[1]);let a=i/o*100;return e>20&&(a=10,i/o*100>60&&(a=i/o*50)),a<15&&(a=15),t[1]=a,t}),i.length>0){$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_all\").show();WordCloud(\"wordcloud_all\",{list:i,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:2})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})}}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,total:0})}}))},function(t,e,i){i(0).tag2(\"share-of-voice\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SHARE OF VOICE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{if((t=t||[]).length<=0)return!1;this.seriesData=Highcharts.chart(\"shareofvoice\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:t}]})},this.render=()=>{APP.log(\"chart share VOICE : render\");let t=_.clone(this.parent.search);const e=p(\"project\"),i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`),s=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";t.is_total=null,t.project=s,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:t,success:function(t){0===(t=t.items).length?this.notdata=!0:this.update({notdata:!1});var e=_.map(t,(t,e)=>({y:t.count,name:t.brand,color:t.color}));_.maxBy(e,t=>t&&t.y?t.y:{});this.createChart(e),this.update({isLoading:!1})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"tablemention\",'<div class=\"row no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TABLE OF MENTION </h6> </div> <div class=\"bg-transparent min-height360 \"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-20-r10\"> <thead> <tr class=\"toptable tx-20-r10 bg-gray-600\"> <th class=\" tx-white tx-20-r10\">NO</th> <th class=\" tx-white tx-20-r10\">PROJECT</th> <th class=\" text-right tx-white tx-20-r10\">POSITIVE</th> <th class=\" text-right tx-white tx-20-r10\">NEGATIVE</th> <th class=\" text-right tx-white tx-20-r10\">NEUTRAL</th> <th class=\" text-right tx-white tx-20-r10\">TOTAL</th> <th class=\" text-right tx-white tx-20-r10\">POTENSIAL REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in valuedataTable}\"> <th class=\"mobilestd tx-white bg-gray-600\" scope=\"row\">{i+1}</th> <th class=\"mobilestd tx-white bg-gray-600 \" scope=\"row\" each=\"{projectfilter}\" if=\"{id == Number(o.prj)}\">{name}</th> <td class=\"mobilestd text-right tx-black {bg-success:o.maxposbgcolor} {bg-danger:o.minposbgcolor}\">{o.positive ? o.positive.formatMoney(0) : 0} {o.pospresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxnegbgcolor} {bg-danger:o.minnegbgcolor}\">{o.negative ? o.negative.formatMoney(0) :0} {o.negpresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxneutbgcolor} {bg-danger:o.minneutbgcolor}\">{o.neutral ? o.neutral.formatMoney(0) : 0} {o.neutpresentase}</td> <td class=\"mobilestd text-right tx-black {bg-success:o.maxtotalbgcolor} {bg-danger:o.mintotalbgcolor}\">{o.total ? o.total.formatMoney(0) : 0}</td> <td class=\"mobilestd text-right tx-black {bg-success:maxpotentialbgcolor} {bg-danger:minpotentialbgcolor}\" each=\"{potentialreach}\" if=\"{Number(o.prj) == Number(prj)}\">{potential ? potential.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.totalreach=[],this.render=()=>{this.renderData(),this.renderreachdata()},this.renderreachdata=()=>{let t=_.clone(this.parent.search);t.group_service=\"true\";const e=p(\"project\"),i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`);var s=(\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\").split(\",\");this.potentialreach=[],async.each(s,(e,i)=>{t.project=e,APP.apiGet({path:\"summary/twitter\",data:t,success:t=>{t=t.items;let i=this.chacereachtotal[e]={potential:parseInt(t.top_reach_tw),prj:e};this.potentialreach.push(i)}}).done((function(){i()}))},()=>{var t=Math.max.apply(Math,this.potentialreach.map((function(t){return t.potential})));this.potentialreach=this.potentialreach.map((function(e){return t==e.potential?(e.maxpotentialbgcolor=!0,e):(e.maxpotentialbgcolor=!1,e)}));var e=Math.min.apply(Math,this.potentialreach.map((function(t){return t.potential})));this.potentialreach=this.potentialreach.map((function(t){return e==t.potential?(t.minpotentialbgcolor=!0,t):(t.minpotentialbgcolor=!1,t)}))})},this.renderData=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);const e=p(\"project\"),i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`),s=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.validProjects=s;var o=s.split(\",\");this.dataarray=[],async.each(o,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{const a=(t=t.items).negative?parseInt(t.negative):0,s=t.positive?parseInt(t.positive):0,o=t.neutral?parseInt(t.neutral):0,r=a+s+o;this.chacetotal[e]=s+a+o,this.cachepositive[e]=100*s/this.chacetotal[e],this.cachenegative[e]=100*a/this.chacetotal[e],this.cacheneutral[e]=100*o/this.chacetotal[e];let n=this.cachesentimentmention[e]={negative:Number(a),negpresentase:\" (\"+this.cachenegative[e].formatMoney(2)+\"%)\",positive:Number(s),pospresentase:\" (\"+this.cachepositive[e].formatMoney(2)+\"%)\",neutral:Number(o),neutpresentase:\" (\"+this.cacheneutral[e].formatMoney(2)+\"%)\",total:r,prj:e};this.dataarray.push(n),this.isLoading=!1,this.sValue=t,this.update(),i()}}),this.update({isLoading:!1})},()=>{this.valuedataTable=_.orderBy(this.dataarray,[\"total\"],[\"desc\"]);var t=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.positive})));this.valuedataTable=this.valuedataTable.map((function(e){return t==e.positive?(e.maxposbgcolor=!0,e):(e.maxposbgcolor=!1,e)}));var e=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.positive})));this.valuedataTable=this.valuedataTable.map((function(t){return e==t.positive?(t.minposbgcolor=!0,t):(t.minposbgcolor=!1,t)}));var i=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.negative})));this.valuedataTable=this.valuedataTable.map((function(t){return i==t.negative?(t.maxnegbgcolor=!0,t):(t.maxnegbgcolor=!1,t)}));var a=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.negative})));this.valuedataTable=this.valuedataTable.map((function(t){return a==t.negative?(t.minnegbgcolor=!0,t):(t.minnegbgcolor=!1,t)}));var s=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.neutral})));this.valuedataTable=this.valuedataTable.map((function(t){return s==t.neutral?(t.maxneutbgcolor=!0,t):(t.maxneutbgcolor=!1,t)}));var o=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.neutral})));this.valuedataTable=this.valuedataTable.map((function(t){return o==t.neutral?(t.minneutbgcolor=!0,t):(t.minneutbgcolor=!1,t)}));var r=Math.max.apply(Math,this.valuedataTable.map((function(t){return t.total})));this.valuedataTable=this.valuedataTable.map((function(t){return r==t.total?(t.maxtotalbgcolor=!0,t):(t.maxtotalbgcolor=!1,t)}));var n=Math.min.apply(Math,this.valuedataTable.map((function(t){return t.total})));this.valuedataTable=this.valuedataTable.map((function(t){return n==t.total?(t.mintotalbgcolor=!0,t):(t.mintotalbgcolor=!1,t)})),this.update(),this.renderproject()}),this.renderproject=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name,time_add,key_color\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.getproject(t)},1e3),this.update()}.bind(this)})},this.dataProjects=[],this.getproject=t=>{t=t;const e=this.validProjects.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.projectfilter=_.filter(this.dataProjects,(function(t){return t.checked})),this.update()}}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"sentiment-positive-negative\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS POSITIVE AND NEGATIVE </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartSentimentpositivenegative\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#0f8212\",id:\"positive\",name:\"Positive\"},{color:\"#eb3737\",id:\"negative\",name:\"Negative\"}],this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\");const i=_.find(this.times,{selected:!0}).id;e.type=i,this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var a=[];async.each(this.sentiment,(t,i)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}.bind(this)},i);this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,i,\"#333\"),o=0;o<=a.length-1;o++)e.addSeries(a[o])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"buzz-geo-infographic\",'<div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION </h6> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"buzzgeo\"> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=t=>{APP.log(\"buzzgeo : render\");let i=_.clone(this.parent.search);i.group_service=\"false\",i.limit=100;let a=[],s=[],o=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){s=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...i,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=_.map(t,(function(t){let e=null;return null!=t&&s.features&&(o=getProvince(s.features,t.lat||0,t.lon||0),_.isEmpty(o)||o&&(e={\"hc-key\":o.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:o.NAME_1,value:t.count})),e}));e=_.reduce(e,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var i=[];_.each(e,(t,e)=>{i.push(t)}),e=i,this.items=e,Highcharts.mapChart(\"buzzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#58cabb\"}}}]}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{let t=this.items.map((t,e)=>({Provinsi:t.hasc,count:t.value})).filter(t=>null!=t.Provinsi);t.length>0&&APP.downloadcsv(t,\"Buzz_Geo_Distributor_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartconfersation\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTION CONVERSATION </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstream_Conversation\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.composition=null,this.isExist=!0,this.isLoading=!1,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{}),this.dataProjects=[],this.render=()=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var t=this.parent.projectList||[];let e=_.clone(this.parent.search);const i=APP.currentProject,a=document.projectCompetition?document.projectCompetition:\"\",o=decodeURIComponent(`${i},${a}`),r=\"string\"==typeof o?o.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";const n=r.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{n.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var l=_.filter(this.dataProjects,(function(t){return t.checked}));e.project=r,e.section=\"\";const c=_.find(this.times,{selected:!0}).id;e.type=c;var d=l.map((function(t){return{name:t.name,color:t.color}})),h=_.reduce(d,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const m=this.composition=s()(\"chartstream_Conversation\",c,\"#333\");APP.apiGet({path:\"stream/brand/mention\",data:e,success:function(t){0===(t=t.items).length?this.update({notdata:!0}):this.update({notdata:!1});var e=_.groupBy(t,(function(t){return t.brand_name}));e=Object.keys(e).sort().reduce((t,i)=>(t[i]=e[i],t),{});for(let t in e){var i=_.sortBy(e[t],t=>moment(t.date).toDate());i=i.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),m.addSeries({id:\"response\",shadow:!1,name:t,lineWidth:4,color:h&&h[t]?h[t]:\"#d0d0d0\",type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,h&&h[t]?h[t]:\"#d0d0d0\"],[1,Highcharts.Color(h&&h[t]?h[t]:\"#d0d0d0\").setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:i});const a=m&&m.series&&m.series[0]&&m.series[0].data&&m.series[0].data?m.series[0].data:[],s=_.maxBy(a,t=>t&&t.y?t.y:{}),o=s&&s.y?parseInt(s.y):0,r=_.findIndex(a,t=>t.y===o);m.tooltip.refresh(a[r])}this.update({isLoading:!1})}.bind(this)}).readyState&&this.update({isLoading:!1})},1e3)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chart&&this.chart.destroy(),this.chartpositive&&this.chartpositive.destroy()})}))},function(t,e,i){i(0).tag2(\"top-words\",'<div class=\"row no-gutters widget-1\" each=\"{val, id in items}\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP WORDS ({prjList ? prjList[id] : \\'x\\'}) </h6> </div> <div class=\" pd-y-15 bg-transparent ifg-height892 \" data-id=\"{id}\" data-firstid=\"{firstProject}\" data-iscombine=\"{isCombine}\" id=\"38-top-words{firstProject != id ? \\'_\\' + id : \\'\\'}\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white tx-30-r10\">Word</th> <th class=\" text-right tx-white tx-30-r10\">Amount</th> </tr> </thead> <tbody> <tr each=\"{items[id]}\"> <th class=\"mobilestd tx-black \" scope=\"row\">{key}</th> <td class=\"mobilestd text-right tx-black\">{length.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total[o] == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.items={},this.render=()=>{_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?_.concat(e,this.parent.competitionProjects):e;this.allProjects=_.filter(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),this.firstProject=e[0];let a=this.parent.projectList;a?this.createObject(t,a):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:t=>{a=t}}).done(()=>{this.parent.projectList=a,this.createObject(t,a)})},this.createObject=(t,e)=>{this.prjList={},this.reqtoprwords={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),a=_.find(e,{key_id:i});a&&a.key_name&&(this.prjList[i]=this.isCombine?\"All\":a.key_name)}this.update({isLoading:!0}),this.isLoading=!0,t.is_total=\"false\",t.limit=\"\",t.page=\"\",t.section=\"\";var i=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);async.each(i,(e,i)=>{let a=null;this.isCombine?a=this.allProjects[0]:(e=parseInt(e),a=e),e?(t.project=e,this.reqtoprwords=APP.apiGet({path:\"stream/brand/topwords\",data:t,success:t=>{this.total[a]=t.count,this.items[a]=t.items,this.update()}}).done(()=>{i()})):i()},()=>{}),this.reqtoprwords&&this.reqtoprwords.readyState&&this.update({isLoading:!1,total:{}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null})}))},function(t,e,i){\"use strict\";i.r(e);i(22);i(0).tag2(\"sentimentcompetitionpie\",'<div class=\"widget-2 mg-t-20\" each=\"{o,i in prjArray}\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION SENTIMENT CHART(%) {prjList ? prjList[o] : \\'X\\'} </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"sentimencompetitionpie{o}\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.sentimentCompetition=null,this.data={},this.totalProject={},this.totaldataSeries={},this.prjList={},this.render=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(t){setTimeout(()=>{this.renderdata(t)},1e3);let e=_.clone(this.parent.search);const i=\"string\"==typeof e.project?e.project.split(\",\"):e.project,a=this.parent.competitionProjects?_.concat(i,this.parent.competitionProjects):i;this.allProjects=_.filter(a.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=e.project.split(\",\").length>1;let s=this.parent.projectList;for(let t in this.allProjects){const e=parseInt(this.allProjects[t]),i=_.find(s,{key_id:e});i&&i.key_name&&(this.prjList[e]=this.isCombine?\"All\":i.key_name)}this.update()}.bind(this)})},this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\");const i=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",s=decodeURIComponent(`${i},${a}`),o=\"string\"==typeof s?s.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.prjArray=o.split(\",\");const r=o.split(\",\");async.each(r,(t,i)=>{async.parallel({positive:function(i){e((function(t){i(null,t.items)}),\"positive\",t)},negative:function(i){e((function(t){i(null,t.items)}),\"negative\",t)},neutral:function(i){e((function(t){i(null,t.items)}),\"neutral\",t)}},(e,i)=>{this.update({isLoading:!1});const a=i.positive[0]?i.positive[0].count:0,s=i.negative[0]?i.negative[0].count:0,o=a+s+(i.neutral[0]?i.neutral[0].count:0);if(i){const e=[{y:a,name:\"positive\",color:\"#7ee87c\",percentase:(100*a/o).formatMoney(2)},{y:s,name:\"negative\",color:\"#ff007a\",percentase:(100*s/o).formatMoney(2)}];this.createChart({dataseries:e,prjid:t}),this.totaldataSeries[t]=e}}),i()})};var e=(t,e,i)=>{let a=_.clone(this.parent.search);a.section=e;APP.currentProject;a.project=i;APP.apiGet({path:\"stream/brand/shareofvoice\",data:a,success:function(e){t(e)}.bind(this)},t)};this.createChart=t=>{const e=t.dataseries||[],i=t.prjid||\"\";if(e.length<=0)return!1;Highcharts.chart(\"sentimencompetitionpie\"+i,{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:600},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentase:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartsentimentneutral\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTIONS NEUTRAL </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartSentimentneutral\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#f3bc25\",id:\"neutral\",name:\"Neutral\"}],this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\");const i=_.find(this.times,{selected:!0}).id;e.type=i,this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var a=[];async.each(this.sentiment,(t,i)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}.bind(this)},i);this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentneutral\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,i,\"#333\"),o=0;o<=a.length-1;o++){e.addSeries(a[o]);const t=e&&e.series&&e.series[0]&&e.series[0].data&&e.series[0].data?e.series[0].data:[],i=_.maxBy(t,t=>t&&t.y?t.y:{}),s=i&&i.y?parseInt(i.y):0,r=_.findIndex(t,t=>t.y===s);e.tooltip.refresh(t[r])}}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"influenc-sosial-author\",'<div class=\"row no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"25\" height=\"30\" class=\"mg-r-5\"> INFLUENCE OF SOCIAL MEDIA AUTHORS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0 tx-15-r10\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"><i class=\"{o.service}\"></i></td> <td data-label=\"POST\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p>No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.render=()=>{APP.log(\"influent-sosial : render\"),this.items=[];const t=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search);e.project=p(\"project\"),e.type=t,this.update({isLoading:!0}),this.xhrinfluence=APP.apiGet({path:\"mentions/top_influencer\",data:e,success:t=>{this.total=t.total,this.dataarraymost=[];_.each(t.items,t=>{\"Facebook\"===t.service&&(t.service=\"fa fa-facebook\"),\"Twitter\"===t.service&&(t.service=\"ion-social-twitter\"),\"Image\"===t.service&&(t.service=\"ion-social-instagram\"),\"Video\"===t.service&&(t.service=\"ion-ios-videocam\"),\"Portal\"===t.service&&(t.service=\"ion-ios-paper\"),\"Blog\"===t.service&&(t.service=\"ion-social-rss\"),\"Forum\"===t.service&&(t.service=\"ion-android-chat\"),\"Other\"===t.service&&(t.service=\"ion-ios-keypad\"),this.dataarraymost.push(t)});this.items=this.dataarraymost,this.update({isLoading:!1})}}),this.xhrinfluence.readyState&&this.update({isLoading:!1,total:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"charconversationgroup\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MENTION CONVERSATION (GROUP) </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height353 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height353\" id=\"chartstreamconversation\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.tombolrefres=!1,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentiment=[{color:\"#81c684\",id:\"negative,positive,neutral\",name:\"All\",no:1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{if(\"analysis/my-stream..\"==APP.currentHash||\"stream..\"==APP.currentHash){this.update({tombolrefres:!0})}else;this.nodata=!0;let e=_.clone(this.parent.search);e.group_service=\"false\";const i=_.find(this.times,{selected:!0}).id;e.type=i,\"domain/infographic..\"==APP.currentHash&&(e.project=APP.currentProject),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var a=[];async.each(this.sentiment,(t,i)=>{if(!this.isExist)return!1;e.section=t.id;APP.apiGet({path:\"mentions\",data:e,success:function(e){e=e.items;let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,name:t.name,lineWidth:4,color:t.color,type:\"areaspline\",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}.bind(this)},(t,e,i)=>{}),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartstreamconversation\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t,i,\"#333\"),o=0;o<=a.length-1;o++)e.addSeries(a[o]);const r=e&&e.series&&e.series[0]&&e.series[0].data&&e.series[0].data?e.series[0].data:[],n=_.maxBy(r,t=>t&&t.y?t.y:{}),l=n&&n.y?parseInt(n.y):0,c=_.findIndex(r,t=>t.y===l);e.tooltip.refresh(r[c])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"!=APP.currentHash&&\"stream..\"!=APP.currentHash||this.update({tombolrefres:!0}),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){i(0).tag2(\"most-active-sosial\",'<div class=\"row no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MOST ACTIVE SOSIAL MEDIA AUTHORS </h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile_url}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"><i class=\"{o.service}\"></i></td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{total == 0}\"> <p> No data found, please input another dates </p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.render=()=>{APP.log(\"most active sosial : render\"),this.items=[];const t=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search);e.project=p(\"project\"),e.type=t,this.update({isLoading:!0}),this.xhrmostactive=APP.apiGet({path:\"mentions/top_users\",data:e,success:function(t){if(null!=t){this.total=t.total,this.dataarraymost=[];_.each(t.items,t=>{\"Facebook\"===t.service&&(t.service=\"fa fa-facebook\"),\"Twitter\"===t.service&&(t.service=\"ion-social-twitter\"),\"Image\"===t.service&&(t.service=\"ion-social-instagram\"),\"Video\"===t.service&&(t.service=\"ion-ios-videocam\"),\"Portal\"===t.service&&(t.service=\"ion-ios-paper\"),\"Blog\"===t.service&&(t.service=\"ion-social-rss\"),\"Forum\"===t.service&&(t.service=\"ion-android-chat\"),\"Other\"===t.service&&(t.service=\"ion-ios-keypad\"),this.dataarraymost.push(t)});this.items=this.dataarraymost}this.update({isLoading:!1,total:t.total})}.bind(this)}),this.xhrmostactive.readyState&&this.update({isLoading:!1,total:0}),this.isLoading=!1},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.reload=()=>{this.update({isLoading:!0}),setTimeout(()=>{this.render()},500)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionpie\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmentionpie\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmentionpie\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionpositivepie\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION POSITIVE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_positivepie\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmention_positivepie\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"positive\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionnegativepie\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION NEGATIVE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_negativepie\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmention_negativepie\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"negative\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionneutralpie\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION NEUTRAL </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_neutralpie\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmention_neutralpie\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:650},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"neutral\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),this.createChart({data:e}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionpositive\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION POSITIVE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_positive\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.totalpercent||[],i=t.arraySeries||[];if(i.length<=0)return!1;Highcharts.chart(\"shareofmention_positive\",{chart:{type:\"bar\"},title:{text:\"\"},xAxis:{categories:e,id:\"idXAxisC03\",labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{gridLineWidth:1,gridLineColor:\"#aaa\",min:0,title:{text:\"\"},labels:{style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\"}}},tooltip:{formatter:function(){return[this.key+\" : \"+this.y.formatMoney(0)+\" (\"+this.point.percent+\"%)\"].join(\"\")}},legend:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px;'> \"+this.y.formatMoney(0)+\"</span>\"}}},bar:{dataLabels:{enabled:!0,style:{fontWeight:\"bold\",fontSize:\"15px\"}}}},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:i}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"positive\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;var e=[];_.forEach(t,(function(t){e.push(t)})),e=_.sumBy(e,\"count\");let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const o in t){let r={};var s=100*t[o].count/e;r={y:t[o].count,percent:parseFloat(s.toFixed(1)),name:o,color:a[o]},i.push(r)}i.map((function(t,e){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t})),0===i.length?this.notdata=!0:this.update({notdata:!1});var o=_.sortBy(i,(function(t){return t.y}));o.reverse();var r=_.map(o,t=>{var i=100*t.y/e;return t.name+\"<br>   (\"+i.formatMoney(2)+\"%)\"});this.createChart({arraySeries:o,totalpercent:r}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionneutral\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION NEUTRAL </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_neutral\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.totalpercent||[],i=t.arraySeries||[];if(i.length<=0)return!1;Highcharts.chart(\"shareofmention_neutral\",{chart:{type:\"bar\"},title:{text:\"\"},xAxis:{categories:e,id:\"idXAxisC03\",labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{gridLineWidth:1,gridLineColor:\"#aaa\",min:0,title:{text:\"\"},labels:{style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\"}}},tooltip:{formatter:function(){return[this.key+\" : \"+this.y.formatMoney(0)+\" (\"+this.point.percent+\"%)\"].join(\"\")}},legend:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px;'> \"+this.y.formatMoney(0)+\"</span>\"}}},bar:{dataLabels:{enabled:!0,style:{fontWeight:\"bold\",fontSize:\"15px\"}}}},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:i}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"neutral\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;var e=[];_.forEach(t,(function(t){e.push(t)})),e=_.sumBy(e,\"count\");let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const o in t){let r={};var s=100*t[o].count/e;r={y:t[o].count,percent:parseFloat(s.toFixed(1)),name:o,color:a[o]},i.push(r)}i.map((function(t,e){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t})),0===i.length?this.notdata=!0:this.update({notdata:!1});var o=_.sortBy(i,(function(t){return t.y}));o.reverse();var r=_.map(o,t=>{var i=100*t.y/e;return t.name+\"<br>   (\"+i.formatMoney(2)+\"%)\"});this.createChart({arraySeries:o,totalpercent:r}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionnegative\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION NEGATIVE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention_negative\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.totalpercent||[],i=t.arraySeries||[];if(i.length<=0)return!1;Highcharts.chart(\"shareofmention_negative\",{chart:{type:\"bar\"},title:{text:\"\"},xAxis:{categories:e,id:\"idXAxisC03\",labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{gridLineWidth:1,gridLineColor:\"#aaa\",min:0,title:{text:\"\"},labels:{style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\"}}},tooltip:{formatter:function(){return[this.key+\" : \"+this.y.formatMoney(0)+\" (\"+this.point.percent+\"%)\"].join(\"\")}},legend:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px;'> \"+this.y.formatMoney(0)+\"</span>\"}}},bar:{dataLabels:{enabled:!0,style:{fontWeight:\"bold\",fontSize:\"15px\"}}}},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:i}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,t.section=\"negative\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;var e=[];_.forEach(t,(function(t){e.push(t)})),e=_.sumBy(e,\"count\");let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const o in t){let r={};var s=100*t[o].count/e;r={y:t[o].count,percent:parseFloat(s.toFixed(1)),name:o,color:a[o]},i.push(r)}i.map((function(t,e){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t})),0===i.length?this.notdata=!0:this.update({notdata:!1});var o=_.sortBy(i,(function(t){return t.y}));o.reverse();var r=_.map(o,t=>{var i=100*t.y/e;return t.name+\"<br>   (\"+i.formatMoney(2)+\"%)\"});this.createChart({arraySeries:o,totalpercent:r}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"totalsentiment\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOTAL SENTIMENT </h6> </div> <div class=\"row\"> <div class=\"col-lg-6 ifg-sentiment ifg-total bg-blue-muda\" id=\"29-total-mentions\"> <div class=\"row\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-comments ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{total ? total.formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>TOTAL</b></span> </i> </div> </div> </div> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-orange\" each=\"{sentimentneutral}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-question-circle ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-success\" each=\"{sentimentpositive}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-thumbs-up ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\"font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> <div class=\"col-lg-6 ifg-sentiment ifg-{id} bg-danger\" each=\"{sentimentnegative}\"> <div class=\"row\" id=\"{no}-{id}\"> <div class=\"col-md-5 pd-20\"> <div class=\"fa ifg-icon\" style=\"margin-left: 30px;\"> <i class=\"fa fa-thumbs-down ifg-fs-17 tx-white\" style=\"font-size: 13em !important\"></i> </div> </div> <div class=\"col-md-6\"> <i class=\"fa fontarial tx-white\"> <h1 class=\"ifg-h1-value mg-t-50 fontroboto\" style=\" font-size: 6em;\"> <b>{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</b></h1> <span class=\"garis tx-38 fontroboto\"><b>{name}</b></span> </i> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.persentasedata=[],this.sentimentpositive=[{id:\"positive\",total:null,no:\"02\",persent:\"persentasepositive\",name:\"POSITIVE\",selected:!0,color:\"count-txt color-green-500\"}],this.sentimentnegative=[{id:\"negative\",total:null,no:\"03\",persent:\"persentasenegative\",name:\"NEGATIVE\",selected:!0,color:\"count-txt color-red-500\"}],this.sentimentneutral=[{id:\"neutral\",total:null,no:\"04\",persent:\"persentaseneutral\",name:\"NEUTRAL\",selected:!0,color:\"count-txt color-orange-500\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},1250)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.limit=\"\",t.page=\"\",APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const e=(t=t.items).negative?parseInt(t.negative):0,i=t.positive?parseInt(t.positive):0,a=t.neutral?parseInt(t.neutral):0;this.total=e+i+a,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:parseFloat(this.valueNegative.toFixed(1)),positive:parseFloat(this.valuePositive.toFixed(1)),neutral:parseFloat(this.valueNeutral.toFixed(1))},this.isLoading=!1,this.sValue=t,this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(22),s=i.n(a);i(0).tag2(\"sentimentcompetiton\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION SENTIMENT CHART (%) </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height700 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height700\" id=\"sentimencompetition\" if=\"{!nodata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.sentimentCompetition=null,this.data={},this.totalProject={},this.render=()=>{this.setTotal(),APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.renderdata(t)},1e3),this.update()}.bind(this)})},this.setTotal=()=>{let t=_.clone(this.parent.search);const e=p(\"project\"),i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`),s=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";t.group_service=\"true\",t.section=\"\";s.split(\",\");APP.apiGet({path:\"mentions\",data:t,success:t=>{var e=_.map(t,t=>({count:t}));this.totaldata=_.sumBy(e,\"count\"),this.update()}})},this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),async.parallel({positive:function(t){e((function(e){t(null,e.items)}),\"positive\")},negative:function(t){e((function(e){t(null,e.items)}),\"negative\")},neutral:function(t){e((function(e){t(null,e.items)}),\"neutral\")}},(e,i)=>{if(this.update({isLoading:!1}),i){const e=[APP.currentProject],a=document.projectCompetition?document.projectCompetition.split(\",\"):[],o=e.concat(a).filter(t=>t&&t.length>0).map(e=>_.find(t,t=>t.key_id===parseInt(e))),r=o.map(t=>t.key_name),n=i.neutral,l=i.positive,c=i.negative;let d={positive:{},negative:{},neutral:{}};for(let t in o)d.positive[o[t].key_name]=0,d.negative[o[t].key_name]=0,d.neutral[o[t].key_name]=0;for(let t in l){const e=l[t].brand_name;d.positive[e]+=l[t].count}for(let t in c){const e=c[t].brand_name;d.negative[e]+=c[t].count}for(let t in n){const e=n[t].brand_name;d.neutral[e]+=n[t].count}let h={},m={};for(let t in r){const e=r[t];m[e]=0;for(let t in d)h[t]||(h[t]=[]),m[e]+=parseInt(d[t][e]);for(let t in d){h[t]||(h[t]=[]);const i=parseInt(d[t][e]),a=parseInt(m[e]);h[t].push(100*i/a)}}let u=s()(\"sentimencompetition\",r,m);_.each(h,(t,e)=>{u.addSeries({name:e,color:\"positive\"===e?\"#0f8212\":\"negative\"===e?\"#eb3737\":\"#f3bc25\",data:t}),console.log({name:e,data:t})})}})};var e=(t,e)=>{let i=_.clone(this.parent.search);i.section=e;const a=APP.currentProject,s=document.projectCompetition?document.projectCompetition:\"\",o=decodeURIComponent(`${a},${s}`),r=\"string\"==typeof o?o.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";i.project=r;APP.apiGet({path:\"stream/brand/mention\",data:i,success:function(e){t(e)}.bind(this)},t)}}))},function(t,e,i){i(0).tag2(\"numbersummary\",'<div class=\"row no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NUMBER SUMMARY </h6> </div> <div class=\" pd-y-15 bg-transparent min-height360 \"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped table-bordered mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white text-center tx-30-r10 \" style=\"font-size: 30px; \">Metric</th> <th class=\" text-center tx-white tx-30-r10\">Twitter</th> <th class=\" text-center tx-white tx-30-r10\">Facebook</th> <th class=\" text-center tx-white tx-30-r10\">Instagram</th> </tr> </thead> <tbody> <tr> <td class=\"tx-white bg-gray-600 text-center\">Reach </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.top_reach_tw ? item.top_reach_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">0</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">{item.top_reach_ig ? item.top_reach_ig.formatMoney(0) : 0}</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Top 10 Reach </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.top_reach10_tw ? item.top_reach10_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">0</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">{item.top_reach10_ig ? item.top_reach10_ig.formatMoney(0) : 0}</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Re-tweet </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.retweet_tw ? item.retweet_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">0</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">0</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Reply </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.reply_tw ? item.reply_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">{item.reply_fb ? item.reply_fb.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">{item.reply_ig ? item.reply_ig.formatMoney(0) : 0}</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Unique Account </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.unique_account_tw ? item.unique_account_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">{item.unique_account_fb ? item.unique_account_fb.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">{item.unique_account_ig ? item.unique_account_ig.formatMoney(0) : 0}</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Comment</td> <td class=\"text-center tx-black\" each=\"{item in items}\">0</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">{item.comment_fb ? item.comment_fb.formatMoney(0).formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">0</td> </tr> <tr> <td class=\"tx-white bg-gray-600 text-center\">Regular Post </td> <td class=\"text-center tx-black\" each=\"{item in items}\">{item.regular_tw ? item.regular_tw.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in facebook}\">{item.regular_fb ? item.regular_fb.formatMoney(0) : 0}</td> <td class=\"text-center tx-black\" each=\"{item in instagram}\" colspan=\"2\">{item.regular_ig ? item.regular_ig.formatMoney(0) : 0}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.render=()=>{let t=this;setTimeout((function(){t.twitter(),t.facebooks(),t.instagrams()}),1e4)},this.twitter=()=>{APP.log(\"summary : twitter\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,t.limit=\"\",t.section=\"\",t.q=\"\",this.update({isLoading:!0}),this.xhrtwitter=APP.apiGet({path:\"summary/twitter\",data:t,success:function(t){this.items=[t.items],this.update({isLoading:!1,items:[t.items]})}.bind(this)}),this.xhrtwitter.readyState&&this.update({isLoading:!1,items:[{unique_account_tw:0,top_reach_tw:0,top_reach10_tw:0,reply_tw:0,retweet_tw:0,regular_tw:0,ae_tw:0}]})},this.facebooks=()=>{APP.log(\"summary : facebooks\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,t.section=\"\",t.limit=\"\",t.q=\"\",this.update({isLoading:!0}),this.xhrfacebook=APP.apiGet({path:\"summary/facebook\",data:t,success:function(t){this.facebook=[t.items],this.update({isLoading:!1,facebook:[t.items]})}.bind(this)}),this.xhrfacebook.readyState&&this.update({isLoading:!1,facebook:[{regular_fb:0,comment_fb:0,reply_fb:0,unique_account_fb:0}]})},this.instagrams=()=>{APP.log(\"summary : instagrams\");let t=_.clone(this.parent.search);t.is_total=null,t.type=null,t.section=\"\",t.limit=\"\",t.q=\"\",this.update({isLoading:!0}),this.xhrinstagram=APP.apiGet({path:\"summary/instagram\",data:t,success:function(t){this.instagram=[t.items],this.update({isLoading:!1,instagram:[t.items]})}.bind(this)}),this.xhrinstagram.readyState&&this.update({isLoading:!1,instagram:[{top_reach10_ig:0,regular_ig:0,reply_ig:0,top_reach_ig:0,unique_account_ig:0}]})},this.reload=()=>{this.Loading=!0,this.facebooks(),this.twitter(),this.instagrams()},this.on(\"mount\",()=>{this.xhrinstagram=null,this.xhrfacebook=null,this.xhrtwitter=null}),this.on(\"unmount\",()=>{this.xhrinstagram&&this.xhrinstagram.abort(),this.xhrfacebook&&this.xhrfacebook.abort(),this.xhrtwitter&&this.xhrtwitter.abort()})}))},function(t,e,i){i(0).tag2(\"media-distribution\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION </h6> </div> <div class=\"no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"bg-transparent min-height360 \"> <div class=\"bd bd-gray-300 table-striped table-bordered rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10\"> <thead> <tr class=\"toptable bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">NO</th> <th class=\"tx-white text-center tx-17-r10\">Media Source</th> <th class=\"text-center tx-white tx-17-r10\">Twitter</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Instagram\">Images(IG)</th> <th class=\"text-center tx-white tx-17-r10\">Facebook</th> <th class=\"text-center tx-white tx-17-r10\">Blogs</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Youtube & Tiktok\">Videos</th> <th class=\"text-center tx-white tx-17-r10\">Forums</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Google Search & All News Websites\">News</th> <th class=\"text-center tx-white tx-17-r10\">total</th> </tr> </thead> <tbody> <tr each=\"{o,i in valuedataTable}\" class=\"\"> <td class=\"tx-white bg-gray-600 text-center\">{i+1}</td> <td class=\"tx-white bg-gray-600 text-center\" each=\"{projectfilter}\" if=\"{id == Number(o.prj)}\">{name}</td> <td class=\"text-center tx-black\"><b> {o.Twitter ? o.Twitter : 0}</b></td> <td class=\"text-center tx-black\"><b> {o.Instagram ? o.Instagram :0} </b></td> <td class=\"text-center tx-black\"><b> {o.Facebook ? o.Facebook : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Blog ? o.Blog : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Video ? o.Video : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Forum ? o.Forum : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Portal ? o.Portal : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.total ? o.total : 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <th class=\"tx-white bg-gray-600 text-center\">Total</th> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Twitter\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Instagram\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Facebook\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Blog\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Video\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Forum\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Portal\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totaldataAll || 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <td class=\"tx-white bg-gray-600 text-center\">Percentage</td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Twitter\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Instagram\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Facebook\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Blog\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Video\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Forum\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Portal\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> 100 % </b> </td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.totalchannel={},this.totalchannelAll={},this.valuedataTablelenght=0,this.totaldata={},this.totaldatapersentase={Facebook:0,Twitter:0,Instagram:0,Blog:0,Video:0,Forum:0,Portal:0},this.xhr=null,this.render=()=>{APP.log(\"influent-sosial : render\");_.find(this.times,{selected:!0});this.dataarray=[];let t=_.clone(this.parent.search);const e=p(\"project\"),i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`),s=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.validProjects=s;var o=s.split(\",\");this.update({isLoading:!0}),this.renderchart(s),this.renderTotal(s),async.each(o,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/composition\",data:t,success:function(t){t=t.items;var a=[];_.each(t,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),a.push(t)});var s={};_.each(a,t=>{s[t.name]=t.total});let o=0;for(let t in s)o+=s[t];this.totaldata[e]=o,s.total=o,s.prj=e;let r=this.totalchannel[e]=s;this.dataarray.push(r),this.update(),i()}.bind(this)}),this.update({isLoading:!1})},()=>{this.renderproject(),this.valuedataTable=_.orderBy(this.dataarray,[\"total\"],[\"desc\"]),this.valuedataTablelenght=this.valuedataTable.length})},this.renderTotal=t=>{let e=_.clone(this.parent.search);e.project=t,APP.apiGet({path:\"mentions/composition\",data:e,success:t=>{const e=t.items;var i={};_.each(e,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),i[t.name]=t.total}),this.totalchannelAll=i;let a=0;for(let t in i)a+=i[t];this.totaldataAll=a,this.update()}})},this.renderchart=t=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let e=_.clone(this.parent.search);e.is_total=null,e.project=t,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash&&(p(\"section\")?e.section=p(\"section\"):e.section=null),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:e,success:t=>{t=t.items;let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1});var a;a=_.sumBy(e,\"y\");var s={};_.each(e,t=>{s[t.name]=t.y}),this.totaldatapersentase={Facebook:100*(s.Facebook||0)/a,Twitter:100*(s.Twitter||0)/a,Instagram:100*(s.Instagram||0)/a,Blog:100*(s.Blog||0)/a,Video:100*(s.Video||0)/a,Forum:100*(s.Forum||0)/a,Portal:100*(s.News||0)/a};let o=0,r=0;for(const t in this.totaldatapersentase)o+=this.totaldatapersentase[t],r+=s[t];this.parent.refs.mediadistributorcahrt.createChart({data:e})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.renderproject=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name,time_add,key_color\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.getproject(t)},1e3),this.update()}.bind(this)})},this.dataProjects=[],this.getproject=t=>{this.dataProjects=[];t=t;const e=this.validProjects.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.projectfilter=_.filter(this.dataProjects,(function(t){return t.checked})),this.update()},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"mediadistributorchart\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION CHART </h6> </div> <div class=\"col-md-8\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstreammediacompetition\" if=\"{!notdata}\"> </div> </div> </div> </div>',\"\",\"\",(function(t){this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstreammediacompetition\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}: {point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}}))},function(t,e,i){i(0).tag2(\"top-hashtags\",'<div class=\"row no-gutters widget-1\" each=\"{val, id in items}\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP HASHTAGS ({prjList ? prjList[id] : \\'x\\'}) </h6> </div> <div class=\" pd-y-15 bg-transparent ifg-height892 \" data-id=\"{id}\" data-firstid=\"{firstProject}\" data-iscombine=\"{isCombine}\" id=\"18-top-hashtags{firstProject != id ? \\'_\\' + id : \\'\\'}\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0 tx-30-r10\"> <thead> <tr class=\"toptable tx-30-r10 bg-gray-600\"> <th class=\" tx-white tx-30-r10\">Hashtags</th> <th class=\" text-right tx-white tx-30-r10\">Amount</th> </tr> </thead> <tbody> <tr each=\"{items[id]}\"> <th class=\"mobilestd tx-black \" scope=\"row\">#{_id.tag}</th> <td class=\"mobilestd text-right tx-black\">{count.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total[o] == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0,this.items={},this.total={},this.render=()=>{APP.log(\"top hashtags : render\");_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?_.concat(e,this.parent.competitionProjects):e;this.allProjects=_.filter(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),this.firstProject=e[0];let a=this.parent.projectList;a?this.createObject(t,a):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{a=t}}).done(()=>{this.parent.projectList=a,this.createObject(t,a)})},this.createObject=(t,e)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),a=_.find(e,{key_id:i});a&&a.key_name&&(this.prjList[i]=this.isCombine?\"All\":a.key_name)}this.update({isLoading:!0}),this.isLoading=!0,t.is_total=\"false\";var i=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);async.each(i,(e,i)=>{let a=null;this.isCombine?a=this.allProjects[0]:(e=parseInt(e),a=e),e?(t.project=e,this.xhrtophashtags=APP.apiGet({path:\"mentions/hashtags\",data:t,success:t=>{this.total[a]=t.count,this.items[a]=t.items,this.update()}}).done(()=>{i()})):i()},()=>{}),this.xhrtophashtags&&this.xhrtophashtags.readyState&&this.update({isLoading:!1,total:{}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"chart-daily-mention\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/calender-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> AVERAGE DAILY MENTION </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"chart-daily-mention\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.tombolrefres=!1,this.fontcolor=!1,this.createChart=t=>{const e=t.arrayData||[];if(e.length<=0)return!1;Highcharts.chart(\"chart-daily-mention\",{chart:{type:\"bubble\",zoomType:\"xy\",marginBottom:40,marginRight:10,plotHeight:150,chartHeight:150},colors:[\"#1D91B7\",\"#55ADC9\",\"#7DC4DB\",\"#AEDCEB\"],title:{text:\"\"},title:{text:\"\"},xAxis:{categories:[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],min:0,max:6,title:{text:\"\"},labels:{style:{fontSize:\"15px\"}}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative;font-size: 13px;'> \"+numeral(this.point.z).format(\"0a\")+\"</span>\"}}},bubble:{minSize:20,maxSize:60}},tooltip:{formatter:function(){return\"<strong>\"+this.total+\"</strong> mentions\"}},yAxis:{categories:[\"00 - 05\",\"06 - 11\",\"12 - 17\",\"18 - 23\"],min:0,max:3,title:{text:\"\"},labels:{style:{fontSize:\"15px\"}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{color:\"#1D91B7\",data:e}]})},this.render=()=>{this.xhr=APP.log(\"chart Average daily  : render\"),\"analysis/my-stream..\"==APP.currentHash?(this.fontcolor=!1,this.update({tombolrefres:!0})):this.fontcolor=!0;let t=_.clone(this.parent.search);t.type=null,this.update({isLoading:!0}),this.xhraverage=APP.apiGet({path:\"mentions/average-daily-mentions\",data:t,success:function(t){t=t.items;let e=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const a in t){let s=t[a];for(const t in s)e.push({x:i[t],y:parseInt(a-1),total:s[t],z:s[t]})}0===_.filter(e,(function(t){return 0!=t.total})).length?this.notdata=!0:this.update({notdata:!1}),this.createChart({arrayData:e}),this.update({isLoading:!1})}.bind(this)}),this.xhraverage.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"chart-top-streams\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/clock-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TOP STREAM TIME </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height600 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height600\" id=\"topstream\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.createChart=t=>{const e=t.newData||[];if(e[0].data.length<=0)return!1;Highcharts.setOptions({global:{useUTC:!0}});const i=Highcharts.chart(\"topstream\",{chart:{type:\"bubble\",zoomType:\"xy\",marginBottom:40,marginRight:0,plotHeight:150,chartHeight:150,renderTo:\"buble_of_mention\"},colors:[\"#8ec8db\"],legend:{enabled:!1},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#bbbbbb\",gridLineDashStyle:\"dot\",minTickInterval:864e5,title:{text:null},labels:{formatter:function(){return\"<b>\"+Highcharts.dateFormat(\"%e. %b\",this.value)+\"</b> \"},style:{fontSize:\"15px\"}},plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:65,label:{rotation:0,y:60,style:{fontStyle:\"italic\"},text:\"Safe fat intake 65g/day\"},zIndex:3}]},yAxis:{startOnTick:!1,endOnTick:!1,type:\"datetime\",title:{text:\"\"},labels:{formatter:function(){return(this.value>24?24:this.value)+\":00\"},style:{fontSize:\"15px\"}},maxPadding:.2,plotLines:[{color:\"black\",dashStyle:\"dot\",width:2,value:50,label:{align:\"right\",style:{fontStyle:\"italic\"},text:\"\",x:-10},zIndex:3}]},navigation:{buttonOptions:{enabled:!1}},tooltip:{formatter:function(){return\"<b>\"+moment(this.key).format(\"YYYY-MMM-DD\")+\"</b> at <b>\"+this.y+\".00</b> <br /> <b>\"+this.point.z+\"</b> mentions\"}},plotOptions:{bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:e});if(i){const t=i&&i.series&&i.series[0]&&i.series[0].data&&i.series[0].data?i.series[0].data:[],e=_.maxBy(t,t=>t&&t.z?t.z:{}),a=e&&e.z?parseInt(e.z):0,s=_.findIndex(t,t=>t.z===a);i.tooltip.refresh(t[s])}},this.render=()=>{APP.log(\"chart streams time : render\");let t=_.clone(this.parent.search);t.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0}),this.xhrtopstreams=APP.apiGet({path:\"mentions/top-mentions-time\",data:t,success:function(t){t=t.items?t.items:t;let e=[];for(const i in t){let a=t[i];e.push([new Date(i).getTime(),a.jam,a.count])}0===(t=e.length)?this.notdata=!0:this.update({notdata:!1});const i=[{color:\"#1D91B7\",data:e}];this.createChart({newData:i}),this.update({isLoading:!1})}.bind(this)}),this.xhrtopstreams.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"summarybybrand\",'<div class=\"row no-gutters widget-1 mg-t-20\" id=\"34-summary-Bybrand-Twitter\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/twitter-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> TWITTER </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"toptable tx-17-r10 bg-gray-600\"> <th class=\" tx-white text-center tx-17-r10\">Brand</th> <th class=\" tx-white text-center tx-17-r10\">Unique Account</th> <th class=\" tx-white text-center tx-17-r10\"> Potential Reach</th> <th class=\" tx-white text-center tx-17-r10\"> Top 10Potential Reach</th> <th class=\" tx-white text-center tx-17-r10\">Regular Tweet</th> <th class=\" tx-white text-center tx-17-r10\"> Re-Tweet</th> <th class=\" tx-white text-center tx-17-r10\">Avg Exposure</th> <th class=\" tx-white text-center tx-17-r10\">Reply</th> </tr> </thead> <tbody> <tr each=\"{o,i in twitter}\"> <th class=\"tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach10_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.retweet_tw.formatMoney(0)}</td> <td class=\" text-center tx-black\">{Number(o.ae_tw).formatMoney(0)}</td> <td class=\"text-center tx-black\">{o.reply_tw.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 mg-t-20\" id=\"35-summary-Bybrand-Facebook\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/facebook-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> FACEBOOK </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"toptable tx-17-r10\"> <tr class=\"toptable tx-17-r10 bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">Brand</th> <td class=\" tx-white text-center tx-17-r10\">Unique Account (Post)</td> <td class=\" tx-white text-center tx-17-r10\">Regular Post (Fanpage)</td> <td class=\" tx-white text-center tx-17-r10\">#Comment (Fanpage)</td> <td class=\" tx-white text-center tx-17-r10\">Reply</td> </tr> </thead> <tbody> <tr each=\"{o,i in facebook}\"> <th class=\" tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_fb.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_fb.formatMoney(0)}</td> <td class=\" text-center tx-black\">0</td> <td class=\"text-center tx-black\">{o.reply_fb.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-1 mg-t-20\" id=\"35-summary-Bybrand-Facebook\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/instagram-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> INSTAGRAM </h6> </div> <div class=\"bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10 table-striped table-bordered\"> <thead> <tr class=\"tx-17-r10 bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">Brand</th> <td class=\" tx-white text-center tx-17-r10\">Unique Account Post</td> <td class=\" tx-white text-center tx-17-r10\">Potential Reach</td> <td class=\" tx-white text-center tx-17-r10\">Top 10Potential Reach</td> <td class=\" tx-white text-center tx-17-r10\">Regular Post</td> <td class=\" tx-white text-center tx-17-r10\">#Comment</td> <td class=\" tx-white text-center tx-17-r10\">Reply</td> </tr> </thead> <tbody> <tr each=\"{o,i in instagram}\"> <th class=\"tx-white text-center bg-gray-600\">{o.name}</th> <td class=\" text-center tx-black\">{o.unique_account_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.top_reach10_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">{o.regular_ig.formatMoney(0)}</td> <td class=\" text-center tx-black\">0</td> <td class=\" text-center tx-black\">{o.reply_ig.formatMoney(0)}</td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!1,this.xhr=null,this.chacheSummary={},this.render=()=>{APP.log(\"number summary : render\");let t=_.clone(this.parent.search);const e=t.project,i=document.projectCompetition?document.projectCompetition:\"\",a=decodeURIComponent(`${e},${i}`),s=\"string\"==typeof a?a.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";t.project=s,this.update({isLoading:!0}),APP.log(\"query summary\"),this.xhr=APP.apiGet({path:\"summary/bybrand\",data:t,success:t=>{this.data=t.items,this.facebook=_.orderBy(this.data,[\"regular_fb\"],[\"desc\"]),this.twitter=_.orderBy(this.data,[\"regular_tw\"],[\"desc\"]),this.instagram=_.orderBy(this.data,[\"regular_ig\"],[\"desc\"]),this.update({isLoading:!1})}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.data=null,this.xhr&&this.xhr.abort(),delete this.data})}))},function(t,e,i){i(0).tag2(\"compositionbybrand\",'<div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPOSITION BY BRAND </h6> </div> <div class=\" pd-y-15 bg-transparent\"> <div class=\"br-section-wrapper stats\"> <div class=\"bd-gray-300 rounded table-responsive\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in valueDataArray}\"> <td class=\" tx-black\"><b>{o.prj}</b></td> <td class=\" tx-black\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-comments\"></i> <b>{o.total ? o.total.formatMoney(0) : o.total}</b></td> <td class=\" tx-black\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{o.positive ? o.positive.formatMoney(0) : o.positive}</b></td> <td class=\" tx-black\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{o.negative ? o.negative.formatMoney(0) : o.negative}</b></td> <td class=\" tx-black\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{o.neutral ? o.neutral.formatMoney(0) : o.neutral}</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.render=()=>{let t=_.clone(this.parent.search);this.parent.competitionProjects[0]?this.competitionProjects=_.concat(parseInt([t.project]),this.parent.competitionProjects):this.competitionProjects=[t.project];let e=this.parent.projectList;e?this.createObject(t,e):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{e=t}}).done(()=>{this.parent.projectList=e,this.createObject(t,e)})},this.valueDataArray=[],this.DataArray=[],this.createObject=(t,e)=>{this.prjList={};for(let t in this.competitionProjects){const i=this.competitionProjects[t],a=_.find(e,{key_id:parseInt(i)});a&&a.key_name&&(this.prjList[i]=a.key_name)}var i=this.competitionProjects;async.each(i,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const a=(t=t.items).negative?parseInt(t.negative):0,s=t.positive?parseInt(t.positive):0,o=t.neutral?parseInt(t.neutral):0;this.chacetotal[e]=s+a+o,this.cachepositive[e]=s,this.cachenegative[e]=a,this.cacheneutral[e]=o,this.DataArray.push({negative:a,positive:s,neutral:o,total:s+a+o,prj:this.prjList[e]}),this.update(),i()}.bind(this)}),this.update({isLoading:!1})},()=>{let t=_.orderBy(this.DataArray,[\"total\"],[\"desc\"]);this.valueDataArray=t,this.update()})}}))},function(t,e,i){i(0).tag2(\"influenc-sosial-kemenkes\",'<div class=\"row widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"25\" height=\"30\" class=\"mg-r-5\"> INFLUENCE OF SOCIAL MEDIA AUTHORS ACCOUNT </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0 tx-15-r10\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsAccount}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.follower ? o.follower.formatMoney(0) : 0}</td> <td data-label=\"POST\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"POTENTIAL_REACH\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.follower || 0) * (o.score || 0)).formatMoney(0)}</td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalAccount == 0}\"> <p>No data found, please input another dates</p> </div> </div> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"25\" height=\"30\" class=\"mg-r-5\"> INFLUENCE OF SOCIAL MEDIA AUTHORS PORTAL </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0 tx-15-r10\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsPortal}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.follower ? o.follower.formatMoney(0) : 0}</td> <td data-label=\"POST\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"POTENTIAL_REACH\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.follower || 0) * (o.score || 0)).formatMoney(0)}</td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalportal == 0}\"> <p>No data found, please input another dates</p> </div> </div> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"25\" height=\"30\" class=\"mg-r-5\"> INFLUENCE OF SOCIAL MEDIA AUTHORS OTHER </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0 tx-15-r10\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsOther}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 24 ? o.realname.substring(0,25) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.follower ? o.follower.formatMoney(0) : 0}</td> <td data-label=\"POST\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"POTENTIAL_REACH\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.follower || 0) * (o.score || 0)).formatMoney(0)}</td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalOther == 0}\"> <p>No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.render=()=>{APP.log(\"influent-sosial : render\"),this.items=[];let t=_.clone(this.parent.search);t.type=_.find(this.times,{selected:!0}),t.project=p(\"project\"),this.renderAccount(t),this.renderPortal(t),this.renderOther(t)},this.renderAccount=t=>{this.itemsAccount=[],this.totalAccount=null,t.group_type=\"akun\",this.update({isLoading:!0}),this.xhrinfluence=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{this.totalAccount=t.total,this.itemsAccount=t.items,this.update({isLoading:!1})}}),this.xhrinfluence.readyState&&this.update({isLoading:!1})},this.renderPortal=t=>{APP.log(\"influent-sosial : render\"),this.itemsPortal=[],this.totalPortal=null,t.group_type=\"portal\",this.update({isLoading:!0}),this.xhrinfluence=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{console.log(\"influence: portal\"),this.totalPortal=t.total,this.itemsPortal=t.items,this.update({isLoading:!1})}}),this.xhrinfluence.readyState&&this.update({isLoading:!1})},this.renderOther=t=>{APP.log(\"influent-sosial : render\"),this.itemsOther=[],this.totalOther=null,t.group_type=\"other\",this.update({isLoading:!0}),this.xhrinfluence=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{this.totalOther=t.total,this.itemsOther=t.items,this.update({isLoading:!1})}}),this.xhrinfluence.readyState&&this.update({isLoading:!1})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"most-active-kemenkes\",'<div class=\"row widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MOST ACTIVE SOSIAL MEDIA AUTHORS ACCOUNT </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsAccount}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.followers || 0) * (o.score || 0)).formatMoney(0)} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalAccount == 0}\"> <p>No data found, please input another dates</p> </div> </div> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MOST ACTIVE SOSIAL MEDIA AUTHORS PORTAL </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsPortal}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.followers || 0) * (o.score || 0)).formatMoney(0)} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalPortal == 0}\"> <p>No data found, please input another dates</p> </div> </div> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> MOST ACTIVE SOSIAL MEDIA AUTHORS OTHER </h6> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10 bg-gray-600\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent tx-15-r10\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-15-r10\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-white tx-right tx-15-r10\">SITE</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">FOLLOWERS</th> <th scope=\"col\" class=\"pd-y-5 tx-white text-right tx-15-r10\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 tx-white pd-y-5 text-right tx-15-r10\">REACH</th> </tr> </thead> <tbody> <tr each=\"{o,i in itemsOther}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent tx-black\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent tx-black\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\\'\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle tx-black\"> <a href=\"{o.profile || \\'http://\\' + o.realname}\" class=\"tx-inverse d-block\" target=\"_blank\"> {o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname} </a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right tx-black\"> {o.service != \\'Image\\' ? o.service : \\'Instagram\\'} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right tx-black\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"REACH\" class=\"r10-pd-r-20 valign-middle text-right tx-black\"> {((o.followers || 0) * (o.score || 0)).formatMoney(0)} </td> </tr> </tbody> </table> </div> <div class=\"textcenter\" style=\"border-left: 1px solid #eaecf0;\" if=\"{totalOther == 0}\"> <p>No data found, please input another dates</p> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.render=()=>{APP.log(\"most active sosial : render\");let t=_.clone(this.parent.search);t.project=p(\"project\"),t.type=_.find(this.times,{selected:!0}),this.renderAccount(t),this.renderPortal(t),this.renderOthers(t),this.isLoading=!1},this.renderAccount=t=>{this.itemsAccount=[],this.totalAccount=null,t.group_type=\"akun\",this.update({isLoading:!0}),this.xhrmostactive=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{t&&(this.totalAccount=t.total,this.itemsAccount=t.items),this.update({isLoading:!1,total:t.total})}}),this.xhrmostactive.readyState&&this.update({isLoading:!1,total:0})},this.renderOthers=t=>{this.itemsOther=[],this.totalOther=null,t.group_type=\"other\",this.update({isLoading:!0}),this.xhrmostactive=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{null!=t&&(this.totalOther=t.total,this.itemsOther=t.items),this.update({isLoading:!1})}}),this.xhrmostactive.readyState&&this.update({isLoading:!1})},this.renderPortal=t=>{this.itemsPortal=[],this.totalPortal=null,t.group_type=\"portal\",this.update({isLoading:!0}),this.xhrmostactive=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{null!=t&&(this.totalPortal=t.total,this.itemsPortal=t.items),this.update({isLoading:!1})}}),this.xhrmostactive.readyState&&this.update({isLoading:!1}),this.isLoading=!1},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.reload=()=>{this.update({isLoading:!0}),setTimeout(()=>{this.render()},500)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"channel-sentiment\",'<div class=\"row\"> <div class=\"col-lg-8\" id=\"channels\"> <a class=\"btn All btn-icon mg-r-5 active mg-t-10 mg-r-10 height120 widthchannels \"> <img alt=\"\" src=\"../assets/img/svg/globe.png\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-10\">ALL</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" height: 12></img> </p> </a> <a class=\"btn {name} btn-icon mg-r-5 active mg-t-10 mg-r-10 height120 widthchannels\" each=\"{channels}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-10\"> {name}</p> <p class=\"tx-14 mg-t-m-10 \" if=\"{!isLoading}\">{count ? count.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" height: 12></img> </p> </a> </div> <div class=\"col-md-4 col-sm-6\" id=\"sentiment\"> <a each=\"{sentiment}\" class=\"btn {name} btn-icon mg-r-5 active mg-t-10 {name}mg-r height120 mg-r-10 widthsentiment\"> <img alt=\"\" riot-src=\"{icon}\" width=\"45\" height=\"45\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-7\">{name}</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</p> <p class=\"mg-t-m-10\" if=\"{isLoading}\"><img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" height: 12></img> </p> </a> </div> </div>',\"\",\"\",(function(t){function e(){var t=$(\"#channels\").width(),e=(t-80)/8;if(t<673)e=64;for(var i=document.getElementsByClassName(\"widthchannels\"),a=0;a<i.length;a++)i[a].style.width=e+\"px\";var s=($(\"#sentiment\").width()-30)/3,o=document.getElementsByClassName(\"widthsentiment\");for(a=0;a<o.length;a++)o[a].style.width=s+\"px\"}this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sentiment=[{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\" fa fa-question-circle\",icon:\"../assets/img/svg/help-grey.png\"},{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"fa fa-thumbs-up\",icon:\"../assets/img/svg/thumbs-up-grey.png\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"fa fa-thumbs-down\",icon:\"../assets/img/svg/thumbs-down-grey.png\"}],this.total=0,this.allSelected=!0,this.idTO=null,this.channels=[{id:1,name:\"Facebook\",idname:\"Facebook\",selected:!1,checked:!1,icon:\"../assets/img/svg/facebook-grey3.png\",color:\"#425f9c\",count:0,act:\"fb\"},{id:2,name:\"Twitter\",idname:\"Twitter\",selected:!1,checked:!1,icon:\"../assets/img/svg/twitter-grey.png\",color:\"#00acee\",count:0,act:\"twitter\"},{id:4,name:\"Blogs\",idname:\"Blogs\",selected:!1,checked:!1,icon:\"../assets/img/svg/blogs-grey.png\",color:\"#fe6800\",count:0,act:\"blog\"},{id:5,name:\"Forum\",idname:\"Forum\",selected:!1,checked:!1,icon:\"../assets/img/svg/chat-grey.png\",color:\"#eeb64f\",count:0,act:\"forum\"},{id:3,name:\"News\",idname:\"News\",selected:!1,checked:!1,icon:\"../assets/img/svg/news-grey.png\",color:\"#39a6dd\",count:0,act:\"news\"},{id:6,name:\"Video\",idname:\"vidio\",selected:!1,checked:!1,icon:\"../assets/img/svg/youtube-grey.png\",color:\"#ff0400\",count:0,act:\"video\"},{id:7,name:\"Instagram\",idname:\"image\",selected:!1,checked:!1,icon:\"../assets/img/svg/instagram-grey.png\",color:\"#9b2db6\",count:0,act:\"photo\"}],this.on(\"mount\",()=>{this.parent.search.section=null,this.getavailableChannel(),this.update({total:_.sumBy(this.channels,\"count\")}),this.validateChannel()}),this.render=()=>{APP.log(\"sentiment : render\"),this.update_data(),this.getavailableChannel()},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),p(\"section\")?t.section=p(\"section\"):t.section=null;APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){this.isLoading=!1,this.sValue=t.items,this.update()}.bind(this)}).readyState&&(this.sValue={positive:0,negative:0,neutral:0},this.update())},this.getavailableChannel=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(t){localStorage.getItem(\"channels\")?localStorage.channels=t:localStorage.setItem(\"channels\",t),this.maxkeyword=t,this.update()}.bind(this)})},this.validateChannel=()=>{if(localStorage.menu)var t=localStorage.channels;else if(JSON.parse(localStorage.getItem(\"package\")))t=JSON.parse(localStorage.getItem(\"package\")).channels;if(t){var e=[],i=_.each(t,t=>{const i=_.findIndex(this.channels,[\"id\",parseInt(t)]);i>-1?(this.channels[i].checked=!0,this.channels[i].selected=!0):this.channels.length<7&&(this.channels[i].checked=!1,this.channels[i].selected=!1),e.push(this.channels[i])}),a=_.filter(i,(function(t){return t.selected}));const s=_.map(a,t=>t.id);this.parent.search.service_category=s.join(\",\"),this.parent.search.group_service=!1}else{e=[];_.each(this.channels,t=>{t.checked=!0,t.selected=!0,e.push(t)})}},this.getChannelSelected=()=>_.filter(this.channels,t=>t.selected),this.updateCount=t=>{e();let i=!1;this.parent.refs.channel.sentiment.map(t=>t.selected).indexOf(!0)<0&&(i=!0);for(let e in this.channels){const a=this.channels[e].id;this.channels[e].name;this.channels[e].count=0;for(let s in t)s==a&&(this.channels[e].count=i?0:t[s])}const a=_.filter(this.channels,(function(t){return t.selected}));this.total=_.sumBy(a,\"count\"),maxStreams.trigger(\"maxstreams\",this.total),i&&(this.total=0),this.isLoading=!1,this.update()},window.onload=function(){e()},window.onresize=function(){e()}}))},function(t,e,i){\"use strict\";t.exports=function(t,e,i){var a=36e5,s=\"MMMM DD, YYYY HH:00\";if(\"daily\"==e?(a=864e5,s=\"MMMM DD, YYYY\"):\"monthly\"==e&&(a=2592e6,s=\"MMMM YYYY\"),i)var o=i;else o=\"#ccc\";return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\"},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:a,title:{text:null},labels:{style:{color:o}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:o},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(s),\"<br>\",\"Mentions : \"+this.y].join(\"\")}},plotOptions:{series:{fillColor:{},cursor:\"pointer\",point:{events:{click:function(i){var a=moment(this.category).format(\"YYYY-MM-DD\"),s=moment(this.x).format(\"HH\");renderchart.trigger(t,a,this.series.userOptions.valnameid,s,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:5}},marker:{lineWidth:1,radius:1},pointInterval:a}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},function(t,e,i){i(0).tag2(\"sourceofmentionnegativepie\",'<div class=\"row\"> <div class=\"col-md-6\" each=\"{o,i in validProjects2}\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEGATIVE {prjList ? prjList[o] : \\'x\\'} </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata[o]}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height680\" id=\"negativepie{o}\" if=\"{!notdata[o]}\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata={},this.xhr=null,this.prjList={},this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"negativepie\"+String(t.prj),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:500},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?_.concat(e,this.parent.competitionProjects):e;this.allProjects=_.filter(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),t.section=\"negative\",this.firstProject=e[0];let a=this.parent.projectList;a?this.createObject(t,a):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{a=t}}).done(()=>{this.parent.projectList=a,this.createObject(t,a)})},this.createObject=(t,e)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),a=_.find(e,{key_id:i});a&&a.key_name&&(this.prjList[i]=this.isCombine?\"All\":a.key_name)}setTimeout(()=>{var e=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);this.validProjects2=e,async.each(e,(e,i)=>{let a=null;a=this.isCombine?this.allProjects[0]:e=parseInt(e),e&&(t.project=e,this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const e in t){let s={};s={y:t[e].count,name:e,color:a[e]},i.push(s)}i.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===i.length?this.notdata[e]=!0:(this.notdata[e]=!1,this.update()),this.createChart({data:i,prj:e}),this.update({isLoading:!1})}}))})},500)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"sourceofmentionpositivepie\",'<div class=\"row\"> <div class=\"col-md-6\" each=\"{o,i in validProjects}\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> POSITIVE {prjList ? prjList[o] : \\'x\\'} </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata[o]}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height680\" id=\"shareofmention_positivepie{o}\" if=\"{!notdata[o]}\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata={},this.xhr=null,this.prjList={},this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmention_positivepie\"+String(t.prj),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:500},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?_.concat(e,this.parent.competitionProjects):e;this.allProjects=_.filter(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),t.section=\"positive\",this.firstProject=e[0];let a=this.parent.projectList;a?this.createObject(t,a):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{a=t}}).done(()=>{this.parent.projectList=a,this.createObject(t,a)})},this.createObject=(t,e)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),a=_.find(e,{key_id:i});a&&a.key_name&&(this.prjList[i]=this.isCombine?\"All\":a.key_name)}setTimeout(()=>{var e=this.isCombine?[this.allProjects.toString()]:_.clone(this.allProjects);this.validProjects=e,async.each(e,(e,i)=>{let a=null;a=this.isCombine?this.allProjects[0]:e=parseInt(e),e&&(t.project=e,this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let i=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const e in t){let s={};s={y:t[e].count,name:e,color:a[e]},i.push(s)}i.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===i.length?this.notdata[e]=!0:(this.notdata[e]=!1,this.update()),this.createChart({data:i,prj:e}),this.update({isLoading:!1})}}))})},500)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"streamsdowload\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base\"> <div class=\"card-header borderbottom0\"> <div class=\"dropdown mg-r-10\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\"> <div class=\"ht-45 pd-x-20 bd d-flex align-items-center justify-content-center height40\"> <span class=\"mg-r-10 tx-13 tx-medium\">Download</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu pd-10 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer\" onclick=\"{dowloadStreamsXls}\"><i class=\" fa fa-download tx-22\"></i> XLS</a> <a class=\"nav-link cursor-pointer\" onclick=\"{dowloadStreams}\"><i class=\" fa fa-download tx-22\"></i> CSV</a> <a class=\"nav-link cursor-pointer\" onclick=\"{dowloadStreamsJson}\"> <i class=\" fa fa-download tx-22\"></i> JSON</a> </nav> </div> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading}\" each=\"{items}\" id=\"setvaleu{_id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(_id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" name=\"{user.real_name ? user.real_name : user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\';\" name=\"{user.real_name ? user.real_name : user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{source}\" target=\"_blank\" class=\"tx-inverse\">{user.real_name ? user.real_name : user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{source}\" target=\"_blank\" class=\"metricsentimentone cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {service} </a></span> </div> </div> </div> <p class=\"{tx-17:opts.corection == \\'true\\'} mg-b-25 {tx-inverse:opts.corection == \\'true\\'} {color222:opts.corection == \\'false\\'} textjustify\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{user.real_name ? user.real_name : user.name}\"> </span> {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right mg-t-10\"> <div class=\"media-body mg-t-min-10\"> <div class=\"btn btn-outline-danger rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:sentiment ? sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\" style=\"margin-left:0px;\"></i></div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div> <table id=\"excelDataTable\" border=\"1\"> </table>',\"\",\"\",(function(t){this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.userLoadingSentiment,this.xhr=null;this.dataStreams=[],this.ontotal=0,this.idtotal={},this.showForm=t=>{const e=t.item._id;this.error=!1,this.jumalahtotal=this.ontotal+1,this.ontotal=this.jumalahtotal,this.idtotal[this.jumalahtotal]=e,this.idtotal[this.jumalahtotal-1]==e?this.hiddenForm[e]?this.hiddenForm[e]=!1:this.hiddenForm[e]=!0:(this.hiddenForm[e]=!0,this.hiddenForm[this.idtotal[this.jumalahtotal-1]]=!1),setTimeout((function(){}),1),this.update()},this.updateKeyword=t=>{const e=t.item._id,i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.refs.sentimentValue.value,s=this.refs.inputValue.value,o={project:i,type:a,value:s};s?APP.apiGet({path:\"stream/correction/append\",data:o,success:t=>{$.notify(\"Sentiment changed to \"+a,\"info\"),this.hiddenForm[e]=!1,this.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:e=>{this.update({Loading:!0,isLoading:!0}),this.query.page=(e-1)*this.query.limit,this.render(),\"true\"==t.corection?$(\"body,html\").animate({scrollTop:290},500):$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalf=t=>{this.modalName=t.item.user.name,this.imgmodal=t.item.image},this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",()=>{this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.xhr=null,this.refs.limitPage.value=pageLimit,this.update()}),this.integrasi=t=>{t.preventDefault(),APP.log(\"integrate stream\");var e=t.item.service;let i=t.item._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()},success:t=>{APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+i+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}})},this.valueidcheck={},this.setSentiment=t=>{t.preventDefault(),APP.log(\"setting sentiment\");let e=t.target.id,i=t.item._id;this.search.streamid=i,this.search.sentiment=e,$(\"#setvaleu\"+i+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #\"+e).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:a=>{if($.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.valueidcheck[i])var s=this.valueidcheck[i];else s=t.item.sentiment.value;0!=s&&null!=s||this.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==e&&this.parent.refs.sentiment.update_dataneutrla(1),1==s&&this.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==e&&this.parent.refs.sentiment.update_datapositive(1),-1==s&&this.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==e&&this.parent.refs.sentiment.update_datanegative(1);var o=\"positive\"===e?1:(e=\"negative\")?-1:0;this.valueidcheck[i]=o,this.userLoadingSentiment=void 0,this.update()}})},this.deletes=t=>{t.preventDefault(),APP.log(\"deleting stream\");let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,parse_data:!0,success:t=>{$(\"#setvaleu\"+e).fadeOut(1),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})},this.render=()=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0}),i=_.map(this.parent.channels,t=>t.id);let a=this.parent.search;a.type=e,a.limit=this.query.limit,a.page=this.query.page,a.pagination=\"yes\",a.service_category=i.join(\",\");var s=\"\",o=0;for(let t in a)a[t]&&\"\"!=a[t]&&(s+=o>0?`&${t}=${encodeURIComponent(a[t])}`:`?${t}=${encodeURIComponent(a[t])}`,o++);this.xhr=APP.apiPost({path:\"stream\"+s,success:(e,i,a)=>{this.datastreams=e.item;var s=e.item;e.total;s&&(s=s.map(t=>(t.checked=!1,t))),this.items=s,this.total=this.items.length,this.pagination.pages=Math.ceil(e.total/this.query.limit),this.isLoad=!1,this.Loading=!1,this.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),this.update({isLoading:!1}),t.corection}})},this.rendermax=t=>{let e=this.parent.search;e.pagination=\"yes\",e.limit=10;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);this.xhr=APP.apiPost({path:\"stream\"+i,success:(t,e,i)=>{}})},this.dowloadStreams=()=>{$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let t=_.clone(this.parent.search);const e=\"stream/download?download_type=csv&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.dowloadStreamsXls=()=>{$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let t=_.clone(this.parent.search);const e=\"stream/download?download_type=xls&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.dowloadStreamsJson=()=>{$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let t=_.clone(this.parent.search);const e=\"stream/download?download_type=json&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")},this.donwloadexcel=()=>{var t=this.datastreams;t=_.map(t,(function(t,e){var i=t.sentiment.value;return{service:t.service,date:moment(t.date).format(\"YYYY/MM/DD\"),time:moment(t.date_format).format(\"h:mm:ss \"),message:t.text,user:t.user.name,follower:t.user.followers?t.user.followers:0,sentiment:0==i?\"neutral\":i>0?\"positive\":\"negative\",url:t.source}})),APP.donwloadXLS(t,[\"Service \",\"Date\",\"Time\",\"Message\",\"User\",\"Follower\",\"Sentiment\",\"Url\"],\"streams\")},this.downloadJson=()=>{var t=this.datastreams;t=_.map(t,(function(t,e){var i=t.sentiment.value;return{service:t.service,date:moment(t.date).format(\"YYYY/MM/DD\"),time:moment(t.date_format).format(\"h:mm:ss \"),message:t.text,user:t.user.name,follower:t.user.followers?t.user.followers:0,sentiment:0==i?\"neutral\":i>0?\"positive\":\"negative\",url:t.source}}));var e=JSON.stringify(t);this.downloadrenderjson(e,\"streams\",\"json\")},this.downloadrenderjson=(t,e,i)=>{var a=document.createElement(\"a\"),s=new Blob([t],{type:i});a.href=URL.createObjectURL(s),a.download=e+\".json\",a.click()},this.donwloadHTML=t=>{},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),delete this.xhr})}))},function(t,e,i){\"use strict\";t.exports=function(t){return new Highcharts.Chart({chart:{plotBorderWidth:1,backgroundColor:\"none\",renderTo:t,height:300,zoomType:\"xy\",paddingRight:10,colors:[\"#058DC7\",\"#50B432\",\"#ED561B\",\"#DDDF00\",\"#24CBE5\",\"#64E572\",\"#FF9655\",\"#FFF263\",\"#6AF9C4\"]},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='color:white'>\"+this.key+\"<br/>\"+this.point.options.value+\"%</span> <span style='z-index:99999999;position:relative;top:-px;text-align:center;'> </span>\"}}},maxSize:50},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h3>{point.name}</h3></th></tr><tr><th>total : </th><td>{point.value} %</td></tr>',footerFormat:\"</table>\",followPointer:!0},title:{text:\"\"}})}},function(t,e,i){i(0).tag2(\"infographicheader\",'<div class=\"row mb-4 desktopshow\"> <div class=\"col-md-7 col-7 pr-0 mg-t-10\"> <div class=\"row\"> <div class=\"col-md-1 col-1 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu\"> <div class=\"dropdown mg-b-1\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus icon-project-infg\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker2\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-4 col-4 a141 text-center f14 pr-1 pl-0\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 border-topmenu\"> <div class=\"row\"> <div class=\"col-md-5 col-6 py-2 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 py-2 px-1\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> </div> </div> </div> <div class=\"col-md-1 col-1 p-0 a141 text-center f14 cursor-pointer\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10cursor-pointer height55 cursor-pointer\"> <b>Go</b> </button> </div> </div> </div> <div class=\"col-md-5 col-5 mt1\"> <div class=\"row pd-l-18\"> <div class=\"col-md-12 col-12 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"search-wrapper\"> <input type=\"text\" class=\"header-search f13 pd-10\" placeholder=\" &#xF002; Type to Search\" name=\"search\" ref=\"valuekey\" onclick=\"{searchfokus}\"> </div> </div> </div> </div> </div> <div class=\"row mb-4 d-block d-sm-none\"> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m\" width=\"100%\" placeholder=\"{moment(this.parent.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate2\"> </div> </div> </div> <div class=\"col-3 py-3 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m1\" width=\"100%\" placeholder=\"{moment(this.parent.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate2\"> </div> </div> </div> <div class=\"col-5 py-3 p-1 a141 text-center f10\"> <div class=\"row border-topmenu m-0 height40 pd-filter-bot-infg\"> <div class=\"col-md-5 col-6 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 p-0\"> <span class=\"{a9a : checkedval} off-mobile\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> <label class=\"switch\"> <input type=\"checkbox\"> <span class=\"slider round\"></span> </label> <span class=\"{a9a : !checkedval} on-mobile\" riot-style=\"font-weight: {bold : checkedval};\">ON</span> </div> </div> </div> <div class=\"col-1 py-3 p-1 a141 text-center f10\" onclick=\"{Gosend}\"> <div class=\"row border-topmenu m-0\"> <div class=\"col-md-12 py-3 p-0 border-topmenu height40 pd-t-7r\"> <b>Go</b> </div> </div> </div> </div> </div> <div class=\"col-12\"> <div class=\"row\"> <div class=\"col-2 text-center pl-1\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <div class=\"dropdown dropdonw-mobile-infg\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus a141\"></i> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg mobile\" style=\"left: -11px !important;\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-10 text-center\"> <div class=\"row\"> <div class=\"col-md-6 offset-md-6 a141 pb-2 f14\" style=\"border-bottom: 1px solid #818080\"> <i class=\"fa fa-search\" aria-hidden=\"true\"></i> &nbsp; <input type=\"text\" class=\"header-search f13\" placeholder=\"Type to Search\" name=\"search\" style=\"border:none;\" ref=\"valuekey2\"> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.searchText=\"\",this.searchResult=[],this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[],this.on(\"mount\",()=>{$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"}),this.project(),this.update()}),this.Gosend=t=>{t.preventDefault();var e=this.refs.startdate.value?moment(this.refs.startdate.value).format(\"YYYY-MM-DD\"):moment(this.refs.startdate2.value).format(\"YYYY-MM-DD\"),i=this.refs.enddate.value?moment(this.refs.enddate.value).format(\"YYYY-MM-DD\"):moment(this.refs.enddate2.value).format(\"YYYY-MM-DD\");e=\"Invalid date\"!=e?e:localStorage.since,i=\"Invalid date\"!=i?i:localStorage.until;let a=this.refs.valuekey.value?this.refs.valuekey.value:this.refs.valuekey2.value;this.parent.search.since=e,this.parent.search.until=i,this.parent.search.q=a,this.parent.search.filterbot=this.checkedval,this.parent.render()},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var e=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);t=this.reArrangeRecent(t,e);var i=_.map(t,(function(t,e){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}}));_.map(t,(function(t){return{id:t.key_id,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}}));this.selectedProject=!1,i.forEach((t,i)=>{e.indexOf(t.id)>-1?(t.checked=!0,this.selectedProject||(this.selectedProject=t,breadCrumb.project=t)):t.checked=!1,this.projects.push(t)}),this.recentProject=this.projects.slice(0,9),this.update()}},this.reArrangeRecent=(t,e)=>{let i=-1;if(t.some((function(t,a){if(e.indexOf(t.key_id)>=0&&i<0)return i=a,a})),i>0){let e=t[i];delete t[i],t.unshift(e),t=t.filter(t=>!!t),localStorage.setItem(\"projects\",JSON.stringify(t))}return t},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.projects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(30),s=i.n(a);i(0).tag2(\"chartcompetition\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"a141 f24\">STREAM COMPETITION</b> <br> <span class=\"f14 a141\">Competition by brand</span> </div> <div class=\"col-md-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"f7c f18\">HOURLY</b> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"chartstream_multiproject\" class=\"height-chart-infographic\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.chartspline=null,this.isExist=!0,this.isLoading=!0,this.chart=null,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{APP.log(\"chart-positive: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.dataProjects=[],this.render=t=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var e=JSON.parse(localStorage.getItem(\"projects\"))?JSON.parse(localStorage.getItem(\"projects\")):this.parent.listproject;e=_.filter(e,t=>t);const i=this.parent.projectAll.split(\",\").map(Number);_.map(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{i.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var a=_.filter(this.dataProjects,(function(t){return t.checked}));const o=_.find(this.times,{selected:!0}).id;let r=_.clone(this.parent.search);r.project=this.parent.projectAll,r.type=o;var n=a.map((function(t){return{name:t.name,color:t.color}})),l=_.reduce(n,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const c=this.chartspline=s()(\"chartstream_multiproject\",o);this.xhr=APP.apiGet({path:\"stream/brand/mention\",data:r,success:e=>{let i=this.parent.component;i.chartcompetitor=!0,6===_.filter(i,t=>t).length&&this.parent.updateid(),0===(e=e.items).length?this.notdata=!0:this.update({notdata:!1});var a=_.groupBy(e,(function(t){return t.brand_name}));a=Object.keys(a).sort().reduce((t,e)=>(t[e]=a[e],t),{});var s=[];let o=1;for(let t in a){var r=_.sortBy(a[t],t=>moment(t.date).toDate());if(r=r.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!this.isExist)return;s.push({id:\"response\",shadow:!1,name:t,type:\"spline\",totalval:_.sumBy(r,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,l[t]],[1,Highcharts.Color(l[t]).setOpacity(0).get(\"rgba\")]]},lineWidth:1,color:l[t],marker:{radius:3},dataLabels:{enabled:!0,color:l[t],overflow:\"justify\",allowOverlap:!0,backgroundColor:\"rgba(252, 255, 197, 0.7)\",borderWidth:1,borderRadius:5,borderColor:l[t],padding:5,align:o%2==0?\"left\":\"right\"},data:r}),o++}s=_.orderBy(s,[\"totalval\"],[\"desc\"]);for(var n=0;n<=s.length-1;n++)c.addSeries(s[n]);this.update({isLoading:!1}),_.isFunction(t)&&t()}})},2e3)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr,this.chart&&this.chart.destroy(),this.chartspline&&this.chartspline.destroy()})}))},function(t,e,i){i(0).tag2(\"shareofdaily\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE (DAILY)</b> <br> <span class=\"f14 a141\">Comparison among source brand </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=()=>{let t=_.clone(this.parent.search);t.since=t.until,t.until=t.until,t.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:t,success:t=>{let e=this.parent.component;if(e.shareofdaily=!0,6===_.filter(e,t=>t).length&&this.parent.updateid(),0===(t=t).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});let i={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};var a=_.orderBy(t.items,[\"count\"],[\"desc\"]);a=a.map((function(e,a){var s=e.count/t.total*100;return a>7&&(a=7),{name:e.brand,y:parseFloat(s.toFixed(1)),z:i[a],totalvalue:e.count.formatMoney(0),color:e.color}})),this.update({isLoading:!1}),Highcharts.chart(\"var-donut\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.totalvalue}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:this.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:a}]})}})}}))},function(t,e,i){i(0).tag2(\"compositionbybrand\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (DAILY)</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.render=()=>{let t=_.clone(this.parent.search);t.since=t.until,t.until=t.until,APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)})},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const i=this.competitionProjects[t],a=_.find(e,{key_id:parseInt(i)});a&&a.key_name&&(this.prjList[i]=a.key_name)}var i=this.competitionProjects;this.datavalue(t,i),this.potentialreach(t,i)},this.datavalue=(t,e)=>{async.each(e,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{let a=this.parent.competition;a.compositionbranddaily=!0,6===_.filter(a,t=>t).length&&this.parent.updateid();const s=(t=t.items).negative?parseInt(t.negative):0,o=t.positive?parseInt(t.positive):0,r=t.neutral?parseInt(t.neutral):0;this.chacetotal[e]=o+s+r,this.cachepositive[e]=o,this.cachenegative[e]=s,this.cacheneutral[e]=r,this.sValue=t,this.update(),i()}}),this.update({isLoading:!1})})},this.potentialreach=(t,e)=>{t.compare=!0,async.each(e,(e,i)=>{t.project=e;var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&(a+=s>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,s++);APP.apiGet({path:\"summary/potential-reach\"+a,success:t=>{t=t.items,this.potentialreach[e]=t.potential_reach?t.potential_reach:0,this.update(),i()}}),this.update({isLoading:!1})})}}))},function(t,e,i){i(0).tag2(\"shareofvoicelast\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE (THE LAST {totadate} DAYS )</b> <br> <span class=\"f14 a141\">Comparison among source brand </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut-last\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.totadate=0,this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=()=>{let t=_.clone(this.parent.search),e=new Date(t.since),i=new Date(t.until);this.totadate=(i-e)/864e5+1,t.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:t,success:t=>{let e=this.parent.component;if(e.shareofvoicelast=!0,6===_.filter(e,t=>t).length&&this.parent.updateid(),0===(t=t).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});let i={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};var a=_.orderBy(t.items,[\"count\"],[\"desc\"]);a=a.map((function(e,a){var s=e.count/t.total*100;return a>7&&(a=7),{name:e.brand,y:parseFloat(s.toFixed(1)),z:i[a],totalvalue:e.count.formatMoney(0),color:e.color}})),this.update({isLoading:!1}),Highcharts.chart(\"var-donut-last\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.totalvalue}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:this.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:a}]})}})}}))},function(t,e,i){i(0).tag2(\"compositionbrandlast\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (THE LAST {totadate} DAYS )</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th fontsize20\" if=\"{this.parent.competition}\"> <td class=\" tx-black tx-18\">SOV ({namevaluId})</td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{totalpositives ? totalpositives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{totalnegatives ?  totalnegatives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{totalneutrals ?  totalneutrals.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{totalreachs ? totalreachs.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.cachesentimentmention={},this.totadate=0,this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.totalpositive=[],this.totalnegative=[],this.totalneutral=[],this.totalreach=[],this.render=()=>{let t=_.clone(this.parent.search),e=new Date(t.since),i=new Date(t.until);this.totadate=(i-e)/864e5+1,APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)}),this.update()},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const i=this.competitionProjects[t],a=_.find(e,{key_id:parseInt(i)});a&&a.key_name&&(this.prjList[i]=a.key_name)}var i=this.competitionProjects;this.datavalue(t,i),this.potentialreach(t,i)},this.datavalue=(t,e)=>{async.each(e,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{let a=this.parent.component;a.compositionbrandlast=!0,6===_.filter(a,t=>t).length&&this.parent.updateid();const s=(t=t.items).negative?parseInt(t.negative):0,o=t.positive?parseInt(t.positive):0,r=t.neutral?parseInt(t.neutral):0;this.totalpositive.push(o),this.totalnegative.push(s),this.totalneutral.push(r),this.chacetotal[e]=o+s+r,this.cachepositive[e]=o,this.cachenegative[e]=s,this.cacheneutral[e]=r,this.sValue=t,this.update(),i()}}),this.update({isLoading:!1})},()=>{let t=p(\"project\"),e=_.filter(this.projectList,e=>t.indexOf(e.key_id)>-1);this.namevaluId=e[0].key_name;let i=this.cachepositive[t],a=_.sumBy(this.totalpositive);this.totalpositives=100*i/a;let s=this.cachenegative[t],o=_.sumBy(this.totalnegative);this.totalnegatives=100*s/o;let r=this.cacheneutral[t],n=_.sumBy(this.totalneutral);this.totalneutrals=100*r/n,this.update()})},this.potentialreach=(t,e)=>{t.compare=!0,async.each(e,(e,i)=>{t.project=e;var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&(a+=s>0?`&${e}=${encodeURIComponent(t[e])}`:`?${e}=${encodeURIComponent(t[e])}`,s++);APP.apiGet({path:\"summary/potential-reach\"+a,success:t=>{t=t.items,this.potentialreach[e]=t.potential_reach?t.potential_reach:0,this.totalreach.push(this.potentialreach[e]),this.update(),i()}}),this.update({isLoading:!1})},()=>{let t=p(\"project\")?p(\"project\").split(\",\"):APP.getProject().split(\",\"),e=this.potentialreach[t],i=_.sumBy(this.totalreach);this.totalreachs=100*e/i,this.update()})}}))},function(t,e,i){i(0).tag2(\"sentimentcompetititon\",'<div class=\"mg-t-30 \" each=\"{o,i in prjList}\"> <div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD POSITIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud positive</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive{i}\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud negative</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative{i}\" prj style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS ({o})</b> <br> <span class=\"f14 a141\">Top mentions and keyword phrase</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositivevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" if=\"{item.user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositivesvalue[i]}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegativevalue[i]}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in streamsnegativevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" if=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.dataWordcloudnegative={},this.dataWordcloudpositive={},this.topwordpositivesvalue={},this.topwordnegativevalue={},this.itemspositivevalue={},this.streamsnegativevalue={},this.render=()=>{let t=_.clone(this.parent.search);APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)})},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const i=this.competitionProjects[t],a=_.find(e,{key_id:parseInt(i)});a&&a.key_name&&(this.prjList[i]=a.key_name)}var i=this.competitionProjects;setTimeout(()=>{this.topwordnegatives(t,i),this.topwordpositives(t,i),this.update_datanegative(t,i),this.update_datapositive(t,i),this.update({isLoading:!0})},1)},this.update_datapositive=(t,e)=>{t.section=\"positive\",t.limit=4e3,t.page=0,t.is_total=null,async.each(e,(i,a)=>{t.project=i,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:s=>{let o=this.parent.component;o.sentimentcompetition=!0,6===_.filter(o,t=>t).length&&this.parent.updateid();let r=s&&s.items&&s.items.positive?s.items.positive:[],n=t.q;if(n)this.streamspositive(n,t,e);else{if(r.length>0)var l=r?r.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else l=null;this.streamspositive(l,t,e)}var c=_.concat(r);if((c=_.orderBy(c,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=c[0][1];c.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\"+i).show(),WordCloud(\"wordcloud_positive\"+i,{list:c,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\"+i).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\"+i).html(\"Empty\"),$(\"#wordcloud_positive\"+i).show();a()}})})},this.update_datanegative=(t,e)=>{t.section=\"negative\",t.limit=4e3,t.page=0,t.is_total=null,async.each(e,(i,a)=>{t.project=i,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:s=>{let o=s&&s.items&&s.items.negative?s.items.negative:[],r=t.q;if(r)this.streamsnegative(r,t,e);else{if(o.length>0)var n=o?o.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else n=null;this.streamsnegative(n,t,e)}var l=_.concat(o);if((l=_.orderBy(l,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=l[0][1];l.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),this.dataWordcloudnegative[i]=l,$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\"+i).show(),WordCloud(\"wordcloud_negative\"+i,{list:l,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\"+i).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\"+i).html(\"Empty\"),$(\"#wordcloud_negative\"+i).show();a()}})})},this.topwordpositives=(t,e)=>{this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",async.each(e,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordpositivesvalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.topwordnegatives=(t,e)=>{this.topword=[],t.page=0,t.section=\"negative\",async.each(e,(e,i)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordnegativevalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.streamspositive=(t,e,i)=>{APP.log(\"render Stream timeline\"),async.each(i,(t,i)=>{e.project=t;e.section=\"positive\",e.limit=5,e.group_service=!1;var a=\"\",s=0;for(let t in e)e[t]&&\"\"!=e[t]&&(a+=s>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,s++);APP.apiPost({path:\"stream\"+a,success:e=>{this.itemspositivevalue[t]=e.item,this.update({isLoading:!1})}})})},this.streamsnegative=(t,e,i)=>{APP.log(\"render Stream timeline\"),async.each(i,(t,i)=>{e.project=t;e.section=\"negative\",e.limit=5,e.group_service=!1;var a=\"\",s=0;for(let t in e)e[t]&&\"\"!=e[t]&&(a+=s>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,s++);APP.apiPost({path:\"stream\"+a,success:e=>{this.streamsnegativevalue[t]=e.item,this.update()}})})}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"sentimentchart\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"a141 f24\">SENTIMENT</b> <br> <span class=\"f14 a141\">positive & negative sentiment</span> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"e37275 f18\">DAILY</b> <span class=\"s758 float-right\"><b class=\"color-h\">{sValue[\\'positive\\'] ? sValue[\\'positive\\'].formatMoney(0) : 0} </b>Positive &nbsp; <b class=\"color-r\">{sValue[\\'negative\\'] ? sValue[\\'negative\\'].formatMoney(0) : 0}</b> Negative</span> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"sentimentdaily\" class=\"height-chart-infographic\"></div> </div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"f7c f18\">HOURLY</b> <span class=\"s758 float-right\"><b class=\"color-h\">{sValue[\\'positive\\'] ? sValue[\\'positive\\'].formatMoney(0) : 0}</b> Positive &nbsp; <b class=\"color-r\">{sValue[\\'negative\\'] ? sValue[\\'negative\\'].formatMoney(0) : 0} </b> Negative</span> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"sentimenthourly\" class=\"height-chart-infographic\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.sValue=[],this.sentPersence=[],this.iconsentiment=[],this.colorsentiment=[],this.persentasedata=[],this.isLoading=!0,this.type=\"hourly\",this.chart=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#32a8ac\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:1},{color:\"#e37275\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:2}],this.render=()=>{this.renderdaily(),this.renderhourly(),this.update_data()},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.limit=\"\",t.page=\"\",t.section=\"positive,negative,neutral\",t.compare=!0,this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{t=t.items,this.sValue.positive=t.positive.current?t.positive.current:0,this.sValue.negative=t.negative.current?t.negative.current:0,this.update()}})},this.renderdaily=()=>{let t=_.clone(this.parent.search);t.group_service=\"false\",t.project=APP.currentProject,this.renderdata(t,\"daily\",\"sentimentdaily\")},this.renderhourly=()=>{let t=_.clone(this.parent.search);t.group_service=\"false\",t.project=APP.currentProject,this.renderdata(t,\"hourly\",\"sentimenthourly\")},this.renderdata=(t,e,i)=>{t.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({isLoading:!0});var a=[];async.each(this.sentimentall,(e,s)=>{t.section=e.id;this.chart=APP.apiGet({path:\"mentions\",data:t,success:t=>{let o=this.parent.component;o.sentimentchart=!0,9===_.filter(o,t=>t).length&&this.parent.updateid(),t=t.items;let r=[];r=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),r.length>0&&(this.nodata=!1);var n=0;_.each(r,(t,e)=>{n+=t[1]}),a.push({id:\"response\",shadow:!1,noid:n,name:e.name,nameval:e.nameval,type:\"spline\",lineWidth:1,color:e.color,colorval:e.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.color],[1,Highcharts.Color(e.color).setOpacity(0).get(\"rgba\")]]},dataLabels:{enabled:\"sentimenthourly\"!=i,color:e.color,overflow:\"justify\",allowOverlap:!0,backgroundColor:\"rgba(252, 255, 197, 0.7)\",borderWidth:1,borderRadius:5,borderColor:e.color,padding:5,align:\"Positive\"===e.name?\"left\":\"right\"},marker:{radius:3},data:r}),this.update({isLoading:!1}),s()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},s)},()=>{if(!this.nodata){const o=i;this.update({nodata:this.nodata});let r=_.orderBy(a,[\"noid\"],[\"desc\"]);this.chart=s()(o,e,\"#ccc\",!1);for(var t=0;t<=r.length-1;t++)this.chart.addSeries(r[t])}this.update({Loader:!1})})}}))},function(t,e,i){i(0).tag2(\"buzzvolume\",'<div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mt-5 text-center\"> <b class=\"f24 a141\">BUZZ VOLUME</b> <br> <span class=\"f14 a141\">Total mentions and comparison of sentiment</span> </div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 e37275\">{total ? total.formatMoney(0) : 0}</b> </div> <div each=\"{o,i in buzzvolume}\" class=\"{o.colmd}\"> <div class=\"row\"> <div class=\"col-md-3 col-3 text-center pt-2 bv-left-box\" riot-style=\"border-bottom: 10px solid {o.color};\"> <b class=\"f24\" riot-style=\"color:{o.color}\">{String(this.persentasedata[o.id]).replace(\\'.\\', \\',\\')}%</b> </div> <div class=\"col-md-2 col-2\"> <div class=\"row\"> <div class=\"col-md-6 col-6 bv-middle-left pd-0\" riot-style=\"border-bottom: 10px solid {o.color};\"></div> <div class=\"col-md-6 col-6 bv-middle-right pd-0\" riot-style=\"border-bottom: 10px solid {o.color};\"></div> </div> </div> <div class=\"col-md-7 col-7 pt-3 bv-right-box mb-b-10\" riot-style=\"border-bottom: 10px solid {o.color};\"> <span class=\"f20 a9a later-spacing\">{o.name} <b class=\"a141\">{this.sValue[o.id] ? this.sValue[o.id].formatMoney(0).replace(\\',\\', \\'.\\') : 0}</b></span> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.persentasedata=[],this.persentasedata.positive=0,this.persentasedata.negative=0,this.persentasedata.neutral=0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.buzzvolume=[{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Positive\",id:\"positive\",color:\"#32a8ac\"},{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Negative\",id:\"negative\",color:\"#e37275\"},{colmd:\"col-md-12 col-12 mb-4 text-center\",name:\"Neutral\",id:\"neutral\",color:\"#eeaf29\"}],this.render=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0;let t=_.clone(this.parent.search);this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{let e=this.parent.component;e.buzzvolume=!0,9===_.filter(e,t=>t).length&&this.parent.updateid();const i=(t=t.items).negative?parseInt(t.negative):0,a=t.positive?parseInt(t.positive):0,s=t.neutral?parseInt(t.neutral):0;this.total=i+a+s,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:Number(parseFloat(this.valueNegative.toFixed(1)))?parseFloat(this.valueNegative.toFixed(1)):0,positive:Number(parseFloat(this.valuePositive.toFixed(1)))?parseFloat(this.valuePositive.toFixed(1)):0,neutral:Number(parseFloat(this.valueNeutral.toFixed(1)))?parseFloat(this.valueNeutral.toFixed(1)):0},this.isLoading=!1,this.sValue=t,this.update()}})}}))},function(t,e,i){i(0).tag2(\"buzzsource\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mt-5 mb-5 text-center\"> <b class=\"f24 a141\">BUZZ SOURCE</b> <br> <span class=\"f14 a141\">Number of users per source channel</span> </div> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"col-md-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center py-4 f12 circle-diagram-holder b-5-h\"> <span each=\"{item in channelsvalue1}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-b\"> <span each=\"{item in channelsvalue3}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-r\"> <span each=\"{item in channelsvalue5}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"col-2 p-0 text-center f12 py-4 circle-diagram-holder b-5-b\"> <span each=\"{item in channelsvalue7}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> </div> </div> <div class=\"col-12 col-12 ml-3 height40\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #3cabaf;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #57545f;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #e57173;\"> </div> </div> </div> <div class=\"col-1 p-0 text-center\"> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line\" style=\"background: #57545f;\"> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-12 col-12 holder-dotline height10\"> <div class=\"row\"> <div class=\"line-tengah m-g-l-1r\"></div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-h\"> </div> </div> <div class=\"f12 top-circle-title color-h\"> <span each=\"{item in channelsvalue1}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 bottom-circle-title color-blu\"> <span each=\"{item in channelsvalue2}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 top-circle-title color-bl\"> <span each=\"{item in channelsvalue3}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-org\"> </div> </div> <div class=\"f12 bottom-circle-title color-org\"> <span each=\"{item in channelsvalue4}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-r\"> </div> </div> <div class=\"f12 top-circle-title color-r\"> <span each=\"{item in channelsvalue5}\">{item.name}</span> </div> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-blu\"> </div> </div> <div class=\"f12 bottom-circle-title color-blu\"> <span each=\"{item in channelsvalue6}\">{item.name}</span> </div> </div> <div class=\"col-2 p-0 text-center\"> <div class=\"row\"> <div class=\"dot-style bg-bl\"> </div> </div> <div class=\"f12 top-circle-title color-bl\"> <span each=\"{item in channelsvalue7}\">{item.name}</span> </div> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\" style=\"height: 40px;\"> <div class=\"row\"> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-blu\"> </div> </div> </div> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-org\"> </div> </div> </div> <div class=\"col-2 p-0 text-center\"> </div> <div class=\"col-1 p-0 text-center\"> <div class=\"row\"> <div class=\"circle-line bg-blu\"> </div> </div> </div> </div> </div> <div class=\"col-12 col-12 ml-3\"> <div class=\"row\"> <div class=\"col-2 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder circle-diagram-fixer b-5-bl\"> <span each=\"{item in channelsvalue2}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder b-5-org source-mobile\"> <span each=\"{item in channelsvalue4}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> <div class=\"col-1 p-0\"> </div> <div class=\"p-0 text-center py-4 f12 circle-diagram-holder b-5-bl source-mobile\"> <span each=\"{item in channelsvalue4}\">{item.total ? item.total.formatMoney(0).replace(\\',\\', \\'.\\') : 0}</span> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){const e={Video:{icon:\"../assets/img/svg/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"../assets/img/svg/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"../assets/img/svg/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"../assets/img/svg/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"../assets/img/svg/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"../assets/img/svg/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"../assets/img/svg/chat-grey.png\",name:\"Forum\",idchannels:5}};this.isLoading=!0,this.render=t=>{this.update({isLoading:!0});let i=_.clone(this.parent.search);i.compare=!0,APP.apiGet({path:\"mentions/composition\",data:i,success:i=>{let a=this.parent.component;a.buzzsource=!0,9===_.filter(a,t=>t).length&&this.parent.updateid();const s=i.items;_.sumBy(s,\"total\");var o=_.map(s,t=>{let i={};return i.total=t.total,i.name=e[t.name]&&e[t.name].name?e[t.name].name:\"\",i});const r=_.map(o,t=>t.name),n=_.filter(e,t=>r.indexOf(t.name)<0).map(t=>({name:t.name,total:0}));let l=(o=_.orderBy(o,[\"total\"],[\"desc\"])).concat(n);this.channelsvalue1=[l[0]],this.channelsvalue2=[l[1]],this.channelsvalue3=[l[2]],this.channelsvalue4=[l[3]],this.channelsvalue5=[l[4]],this.channelsvalue6=[l[5]],this.channelsvalue7=[l[6]],this.total=o.length,this.update({isLoading:!1}),_.isFunction(t)&&t()}})}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(31),s=i.n(a);i(0).tag2(\"twittervsmention\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">REACH VS MENTION</b> <br> <span class=\"f14 a141\">Comparison between reach and mentions</span> </div> <div class=\"col-md-12\"> <div id=\"chartreachofmention\" class=\"height400\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.mentionreach=[{color:\"rgb(60, 120, 175)\",id:\"reach\",name:\"Reach\",no:1},{color:\"rgb(240, 176, 0)\",id:\"mention\",name:\"Mention\",no:2}],this.ajaxChannels=[],this.isExist=!0,this.on(\"mount\",()=>{this.heightval=(window.innerHeight-200)/2,this.update()}),this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{this.nodata=!0,APP.log(\"chart streams : render\");const e=_.find(this.times,{selected:!0}).id;let i=_.clone(this.parent.search);i.group_service=\"false\",i.project=APP.currentProject,i.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({isLoading:!0});var a=[];async.each(this.mentionreach,(t,e)=>{if(!this.isExist)return!1;i.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:i,success:i=>{i=i.items;let s=[];s=(i=_.sortBy(i,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,noid:t.no,name:t.name,type:\"Mention\"==t.name?\"spline\":\"column\",lineWidth:1,color:t.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s,yAxis:\"Mention\"==t.name?1:0}),e()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},e),this.ajaxChannels.push([])},()=>{let i=this.parent.component;if(i.twittervsmention=!0,9===_.filter(i,t=>t).length&&this.parent.updateid(),!this.nodata){const t=\"chartreachofmention\";this.update({nodata:this.nodata}),a=_.orderBy(a,[\"noid\"],[\"asc\"]),this.chart=s()(t,e,\"#ccc\");for(var o=0;o<=a.length-1;o++)this.chart.addSeries(a[o])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},this.rendersss=()=>!1}))},function(t,e,i){i(0).tag2(\"shareofvoice\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SHARE OF VOICE</b> <br> <span class=\"f14 a141\">Comparison among source channel </span> </div> <div class=\"col-md-12\"> <div id=\"var-donut\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,window.innerWidth>500?this.fontsizevalue=\"16px;\":this.fontsizevalue=\"10px;\",this.render=()=>{let t=this.parent.component;t.shareofvoice=!0,9===_.filter(t,t=>t).length&&this.parent.updateid();let e=_.clone(this.parent.search);e.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:e,success:t=>{t=t.items,t=_.map(t,(t,e)=>(\"Image\"==e&&(e=\"Instagram\"),t.name=e,t.color=t.color,t.count=t.count,t)),t=_.orderBy(t,[\"count\"],[\"desc\"]);let e=[],i={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Instagram:\"#d28a57\",Portal:\"#a77e0c\"},a={0:235.6,1:214.5,2:201.8,3:137.5,4:124.6,5:118.7,6:92.9,7:85};for(const s in t){let o={};o={y:t[s].count,z:a[s],name:t[s].name,color:i[t[s].name],colorval:i[s]},e.push(o)}this.update({isLoading:!1}),Highcharts.chart(\"var-donut\",{chart:{type:\"variablepie\"},title:{text:\"Countries compared by population density and total area.\"},tooltip:{headerFormat:\"\",pointFormat:'<span style=\"color:{point.color}\">●</span> <b> {point.name}</b><br/>Mentions: <b>{point.y}</b><br/><br> persentase : {point.percentage:.1f}%'},plotOptions:{variablepie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f}%\",style:{fontSize:this.fontsizevalue}}}},series:[{minPointSize:10,innerSize:\"20%\",zMin:0,name:\"countries\",data:e}]})}})}}))},function(t,e,i){i(0).tag2(\"sentimentpositivenegative\",'<div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">TOP POSITIVE</b> <br> <span class=\"f14 a141\">Top positive keywords</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE</b> <br> <span class=\"f14 a141\">Top negative keywords</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative\" style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS</b> <br> <span class=\"f14 a141\">Top 5 mentions and keyword phrase per sentiment</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositive}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositive}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" if=\"{item.user.avatar}\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.real_name ? item.user.real_name : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositive}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegative}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegative}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemsnegative}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.real_name}\\'\" class=\"profpic-style\" if=\"{item.user.avatar}\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.real_name ? item.user.real_name : item.user.name})</span> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.render=()=>{setTimeout(()=>{this.topwordnegatives(),this.topwordpositives(),this.update_datanegative(),this.update_datapositive(),this.update({isLoading:!0})},1)},this.update_datapositive=()=>{let t=_.clone(this.parent.search);t.section=\"positive\",t.limit=4e3,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{let i=this.parent.component;i.sentimentpositivenegative=!0,9===_.filter(i,t=>t).length&&this.parent.updateid();let a=e&&e.items&&e.items.positive?e.items.positive:[],s=t.q;if(s)this.streamspositive(s);else{if(a.length>0)var o=a?a.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else o=null;this.streamspositive(o)}var r=_.concat(a);if((r=_.orderBy(r,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=r[0][1];r.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\").show(),WordCloud(\"wordcloud_positive\",{list:r,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\").html(\"Empty\"),$(\"#wordcloud_positive\").show()}})},this.update_datanegative=()=>{let t=_.clone(this.parent.search);t.section=\"negative\",t.limit=4e3,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{let i=e&&e.items&&e.items.negative?e.items.negative:[],a=t.q;if(a)this.streamsnegative(a);else{if(i.length>0)var s=i?i.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else s=null;this.streamsnegative(s)}var o=_.concat(i);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\").show(),WordCloud(\"wordcloud_negative\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").html(\"Empty\"),$(\"#wordcloud_negative\").show()}})},this.topwordpositives=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordpositive=t.items.slice(0,5),this.update({isLoading:!1})}})},this.topwordnegatives=()=>{let t=_.clone(this.parent.search);this.topword=[],t.page=0,t.section=\"negative\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordnegative=t.items.slice(0,5),this.update({isLoading:!1})}})},this.streamspositive=t=>{APP.log(\"render Stream timeline\");let e=_.clone(this.parent.search);e.section=\"positive\",e.limit=5,e.group_service=!1;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);this.xhrStream=APP.apiPost({path:\"stream\"+i,success:t=>{this.itemspositive=t.item,this.update({isLoading:!1})}})},this.streamsnegative=t=>{APP.log(\"render Stream timeline\");let e=_.clone(this.parent.search);e.section=\"negative\",e.limit=5,e.group_service=!1;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);this.xhrStream=APP.apiPost({path:\"stream\"+i,success:t=>{this.itemsnegative=t.item,this.update()}})}}))},function(t,e,i){i(0).tag2(\"summaryinfographic\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">SUMMARY</b> <br> <span class=\"f14 a141\">Social media channel key metrics</span> </div> <div class=\"col-md-4 mg-b-20\"> <div class=\"row\"> <div class=\"col-md-12 col-12 mb-2 text-center\"> <b class=\"f18 colortittle\">TWITTER</b> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-blu\"> <i class=\"fa fa-user tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-blue\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item, i in twitter}\">{item.unique_account_tw > 1000 ? numeral(item.unique_account_tw).format(\\'0.0 a\\') : item.unique_account_tw}</b> <br> <span>Unique Account</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item, i in twitter}\">{item.top_reach_tw > 1000 ? numeral(item.top_reach_tw).format(\\'0.0 a\\') : item.top_reach_tw}</b> <br> <span>Potential Reach</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-org\"> <i class=\"fa fa-signing tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-yellow\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-r\"> <i class=\"fa fa-users tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-red\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item, i in twitter}\">{item.top_reach10_tw > 1000 ? numeral(item.top_reach10_tw).format(\\'0.0 a\\') : item.top_reach10_tw}</b> <br> <span>Top 10 Reach</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item, i in twitter}\">{item.regular_tw > 1000 ? numeral(item.regular_tw).format(\\'0.0 a\\') : item.regular_tw}</b> <br> <span>Regular Posts</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-h\"> <i class=\"fa fa-clipboard tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-cyan\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-abu\"> <i class=\"fa fa-line-chart tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-abu\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item, i in twitter}\">{item.ae_tw > 1000 ? numeral(item.ae_tw).format(\\'0.0 a\\') : item.ae_tw}</b> <br> <span>Average Exp</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item, i in twitter}\">{item.retweet_tw > 1000 ? numeral(item.retweet_tw).format(\\'0.0 a\\') : item.retweet_tw}</b> <br> <span>Retweets</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-bl\"> <i class=\"fa fa-retweet tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-black\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> </div> </div> <div class=\"col-md-4 mg-b-20\"> <div class=\"row\"> <div class=\"col-md-12 col-12 mb-2 text-center\"> <b class=\"f18 colortittle\">FACEBOOK</b> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-blu\"> <i class=\"fa fa-user tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-blue\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in datafb}\">{item.unique_account_fb > 1000 ? numeral(item.unique_account_fb).format(\\'0.0 a\\') : item.unique_account_fb}</b> <br> <span>Unique Account</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item in datafb}\">{item.regular_fb > 1000 ? numeral(item.regular_fb).format(\\'0.0 a\\') : item.regular_fb}</b> <br> <span>Reg.Post </span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-org\"> <i class=\"fa fa-clipboard tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-yellow\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-r\"> <i class=\"fa fa-comment-o tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-red\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in datafb}\">{item.comments_fb > 1000 ? numeral(item.comments_fb).format(\\'0.0 a\\') : item.comments_fb}</b> <br> <span>Comments</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item in datafb}\">{item.reply_fb > 1000 ? numeral(item.reply_fb).format(\\'0.0 a\\') : item.reply_fb}</b> <br> <span>Replies</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-h\"> <i class=\"fa fa-reply tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-cyan\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-abu\"> <i class=\"fa fa-thumbs-o-up tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-abu\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in datafb}\">{item.likes_fb ? (item.likes_fb > 1000 ? numeral(item.likes_fb).format(\\'0.0 a\\') : item.likes_fb) : 0}</b> <br> <span>Likes</span> </div> </div> </div> </div> </div> <div class=\"col-md-4\"> <div class=\"row\"> <div class=\"col-md-12 col-12 mb-2 text-center\"> <b class=\"f18 colortittle\">INSTAGRAM</b> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-blu\"> <i class=\"fa fa-user tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-blue\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in dataig}\">{item.unique_account_ig > 1000 ? numeral(item.unique_account_ig).format(\\'0.0 a\\') : item.unique_account_ig}</b> <br> <span>Unique Account</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item in dataig}\">{item.top_reach_ig > 1000 ? numeral(item.top_reach_ig).format(\\'0.0 a\\') : item.top_reach_ig}</b> <br> <span>Potential Reach</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-org\"> <i class=\"fa fa-signing tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-yellow\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-r\"> <i class=\"fa fa-users tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-red\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in dataig}\">{item.top_reach10_ig > 1000 ? numeral(item.top_reach10_ig).format(\\'0.0 a\\') : item.top_reach10_ig}</b> <br> <span>Top 10 Reach</span> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5 tx-right\"> <b each=\"{item in dataig}\">{item.regular_ig > 1000 ? numeral(item.regular_ig).format(\\'0.0 a\\') : item.regular_ig}</b> <br> <span>Regular Posts</span> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-h\"> <i class=\"fa fa-clipboard tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-cyan\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> </div> </div> </div> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"col-md-5 col-5\"> </div> <div class=\"col-md-2 col-2 text-center p-3 fff bg-abu\"> <i class=\"fa fa-reply tx-20\" aria-hidden=\"true\"></i> <div class=\"arrow-down-abu\"></div> </div> <div class=\"col-md-5 col-5 pt-1\"> <b each=\"{item in dataig}\">{item.reply_ig > 1000 ? numeral(item.reply_ig).format(\\'0.0 a\\') :item.reply_ig}</b> <br> <span>Replies</span> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.twitter=[{ae_tw:0,top_reach_tw:0,top_reach10_tw:0,regular_tw:0,reply_tw:0,retweet_tw:0,unique_account_tw:0}],this.datafb=[{likes_fb:0,reply_fb:0,comments_fb:0,regular_fb:0,unique_account_fb:0}],this.dataig=[{unique_account_ig:0,top_reach_ig:0,top_reach10_ig:0,regular_ig:0,reply_ig:0}],this.isLoading=!0,this.getData=(t,e)=>{let i=_.clone(this.parent.search);i.is_total=null,i.type=null,this.xhr=APP.apiGet({path:\"summary/\"+e,data:i,success:e=>{t(e)}})},this.render=()=>{var t=this;this.isLoading=!0,async.parallel({twitter:function(e){t.getData((function(t){e(null,t)}),\"twitter\")},facebook:function(e){t.getData((function(t){e(null,t)}),\"facebook\")},instagram:function(e){t.getData((function(t){e(null,t)}),\"instagram\")}},(function(e,i){i&&t.renderData(i)}))},this.renderData=t=>{let e=this.parent.component;e.summary=!0,9===_.filter(e,t=>t).length&&this.parent.updateid(),this.twitter=[t.twitter.items],this.datafb=[t.facebook.items],this.dataig=[t.instagram.items],this.update({isLoading:!1})}}))},function(t,e,i){i(0).tag2(\"mostinfluencer\",'<div class=\"row mt-5\"> <div class=\"col-md-8 offset-md-2 col-12\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row\"> <div class=\"col-md-12 col-12 text-center\"> <b class=\"a141 f24\">TOP INFLUENCER</b> <br> <span class=\"f14 a141\">Top user with highest impact or reach</span> </div> </div> <div class=\"row mt-3\"> <div class=\"col-md-7 col-12 text-center\"> <div class=\"row mb-3\" each=\"{o,i in itemsone}\"> <div class=\"col-md-8 offset-md-4 py-2 mi-holder\"> <span class=\"tx-20\" riot-style=\"color:{color[i + 1]}\"><b>{o.realname ? o.realname : o.user_name}</b></span> <br> <b>{numeral(o.follower !== null ? o.follower :\\'0\\').format(\\'0.0a\\').replace(\\'.00\\', \\'\\')} Followers</b> <div class=\"mi-font-shadow\">{i +1} </div> <div class=\"mi-font-style\" riot-style=\"color: {color[i + 1]}\">{i +1} </div> </div> </div> </div> <div class=\"col-md-5 col-12 text-center\"> <div class=\"row mb-3\" each=\"{o,i in itemstwo}\"> <div class=\"col-md-12 py-2 mi-holder\"> <span class=\"tx-20\" riot-style=\"color:{color[i + 4]}\"> <b>{o.realname ? o.realname : o.user_name}</b></span> <br> <b>{numeral(o.follower !== null ? o.follower :\\'0\\').format(\\'0.0a\\').replace(\\'.00\\', \\'\\')} Followers</b> <div class=\"mi-font-shadow\">{i +4} </div> <div class=\"mi-font-style\" riot-style=\"color:{color[i + 4]}\">{i +4} </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.color=[],this.color[1]=\"#e57173\",this.color[2]=\"#93918c\",this.color[3]=\"#3cabaf\",this.color[4]=\"#57545f\",this.color[5]=\"#3c78af\",this.color[6]=\"#f0b000\",this.isLoading=!0,this.render=()=>{let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:t,success:t=>{let e=this.parent.component;e.mostinfluencer=!0,9===_.filter(e,t=>t).length&&this.parent.updateid(),this.total=t.total,this.dataarraymost=[];var i=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.itemsone=i.slice(0,3),this.itemstwo=i.slice(3,6),this.update({isLoading:!1})}})}}))},function(t,e,i){i(0).tag2(\"buzzgeodistribution\",'<div class=\"row mt-5\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 text-center\"> <b class=\"f24 a141\">BUZZ GEO DISTRIBUTION</b> <br> <span class=\"f14 a141\">Geographical distribution of mentions</span> </div> <div class=\"col-md-12 col-12 text-center\"> <div id=\"sentimentbuzgeo\" class=\" height400\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.render=()=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject();let e=[],i=[],a=[];async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(i){e=i,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){i=e,t()}))}],()=>{this.update({isLoading:!0}),APP.apiGet({path:\"mentions/popular-locations\",data:{...t,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:t=>{let e=this.parent.component;e.buzzgeodistibution=!0,9===_.filter(e,t=>t).length&&this.parent.updateid(),0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let s=_.map(t,(function(t){let e=null;return null!=t&&i.features&&(a=getProvince(i.features,t.lat||0,t.lon||0),_.isEmpty(a)||a&&(e={\"hc-key\":a.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:a.NAME_1,value:t.count})),e}));s=_.reduce(s,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var o=[];_.each(s,(t,e)=>{o.push(t)}),s=o,Highcharts.mapChart(\"sentimentbuzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},colorAxis:{dataClasses:[{}]},colorAxis:{min:0},series:[{data:s,name:\"Streams\",states:{hover:{color:\"#BADA55\"}}}]}),this.update({isLoading:!1})}})})}}))},function(t,e,i){i(0).tag2(\"brand-infographic\",'<div class=\"row\"> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Email Recipient:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"emailbrand\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.cb.email}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent this project\\'s infographic daily\" data-placement=\"left\">?</b> <p if=\"{error1}\"> <font color=\"red\">email recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent this project\\'s infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row \"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>CC:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"ccbrand\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.cb.getcc}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a copy of this project\\'s infographic daily\" data-placement=\"left\">?</b> <p if=\"{error2}\"> <font color=\"red\">cc recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a copy of this project\\'s infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>BCC:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"bccbrand\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.cb.getbcc}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a blind copy of this project\\'s infographic daily\" data-placement=\"left\">?</b> <p if=\"{error3}\"> <font color=\"red\">bcc recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a blind copy of this project\\'s infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Time:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input class=\"form-control form-controlwidth\" riot-value=\"{opts.cb.gettime}\" ref=\"timebrand\" type=\"{\\'time\\'}\"> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time should we send this email everyday?\" data-placement=\"left\">?</b> <p if=\"{error3}\"> <font color=\"red\">time recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time should we send this email everyday?\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div>',\"\",'class=\"mode-opacity\"',(function(t){this.ondata=!1,this.error1=!1,this.error2=!1,this.error3=!1,this.error4=!1,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.on(\"mount\",()=>{APP.log(\"brand infographic : mount\"),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,width:this.maxwidth})}),this.updatemail=t=>{APP.log(\"brand-infographic : updatemail\");var e=this.refs.emailbrand,i=this.refs.ccbrand,a=this.refs.bccbrand,s=(this.refs.timebrand,$(e).val()?$(e).val().toString():\"\"),o=$(i).val()?$(i).val().toString():\"\",r=$(a).val()?$(a).val().toString():\"\",n=this.refs.timebrand.value,l={project:p(\"project\"),enable_ig:!0,email_ig:s,cc_ig:o,bcc_ig:r,hour_ig:n};APP.apiPost({path:\"projects/setting-infographic/ig\",data:l,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})}}))},function(t,e,i){i(0).tag2(\"compe-infographic\",'<div class=\"row\"> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Select Project:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select name=\"name\" style=\"background:#fafafa;\" class=\"form-control\" id=\"customproject\" multiple=\"multiple\" ref=\"project\" required> <option each=\"{o,i in opts.data.keycompetitor}\" selected=\"{selected:o.id}\" riot-value=\"{o.id}\">{o.text}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List the projects that you want to compare in this infographic\" data-placement=\"left\">?</b> <p each=\"{this.error}\" if=\"{field== \\'key_word\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List the projects that you want to compare in this infographic\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Email Recipient:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select name=\"name\" style=\"background:#fafafa;\" class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"emailcomp\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.data.email}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> <p each=\"{this.error}\" if=\"{field== \\'key_word\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>CC:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"cccomp\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.data.getcc}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a copy of this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a copy of this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>BCC:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"bcccomp\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.data.getbcc}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a blind copy of this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent a blind copy of this project\\'s competitiveness infographic daily\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Time:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input class=\"form-control form-controlwidth\" riot-value=\"{opts.data.gettime}\" id=\"example-time-input\" ref=\"timebrand\" type=\"{\\'time\\'}\"> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time should we send this email everyday?\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time should we send this email everyday?\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div>',\"\",'class=\"mode-opacity\"',(function(t){setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.on(\"mount\",(function(){APP.log(\"compe-infographic : mount\"),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\";var t=JSON.parse(localStorage.projects).map(t=>({id:t.key_id,text:t.key_name}));$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,width:this.maxwidth}),$(\"select#customproject\").select2({tags:!0,maximumSelectionLength:5,width:this.maxwidth,allowClear:!1,data:t})})),this.updatemail=()=>{APP.log(\"compe-infographic : updatemail\");var t=this.refs.emailcomp,e=this.refs.cccomp,i=this.refs.bcccomp,a=this.refs.project,s=$(t).val()?$(t).val().toString():\"\",o=$(e).val()?$(e).val().toString():\"\",r=$(i).val()?$(i).val().toString():\"\",n=$(a).val()?$(a).val().toString():\"\",l=this.refs.timebrand.value,c={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),competitor_projects:n,email_ig:s,enable_ig:!0,cc_ig:o,bcc_ig:r,hour_ig:l};n?s?APP.apiPost({path:\"projects/setting-infographic/competition\",data:c,parse_data:!0,success:function(t){APP.success(t,(function(){}))}}):$.notify(\"error is email undefined\",\"error\"):$.notify(\"error is project undefined\",\"error\")}}))},function(t,e,i){i(0).tag2(\"spike-form\",'<div class=\"row\"> <div class=\"col-lg-12 mg-t-m-10\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Email Recipient :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"emailrecipient\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.cb.email}\">{o}</option> </select> <b class=\" fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent alert spike notification\" data-placement=\"left\">?</b> <p if=\"{error}\"> <font color=\"red\">email recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all emails that will be sent alert spike notification\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Sentiment</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'positive-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"emailpositive\"> <span>Positive</span> </label> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'positive-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"emailpositive\"> <span>Positive</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'negative-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"emailnegative\"> <span>Negative</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'negative-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"emailnegative\"> <span>Negative</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'mention-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"emailall\"> <span>All</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'mention-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"emailall\"> <span>All</span> </label> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Notifications will be sent based on the selected sentiment\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Notifications will be sent based on the selected sentiment\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Treshold Type</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.ispercent == 1 || opts.cb.ispercent == \\'1\\'}\"> <input name=\"threshold\" type=\"radio\" checked=\"\" class=\"emailpercentage\"> <span>Percentage</span> </label> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.ispercent != 1 || opts.cb.ispercent != \\'1\\'}\"> <input name=\"threshold\" type=\"radio\" class=\"emailpercentage\"> <span>Percentage</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.ispercent == 0 || opts.cb.ispercent == \\'0\\'}\"> <input name=\"threshold\" type=\"radio\" checked=\"\" class=\"emailnumber\"> <span>Number</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.ispercent != 0 || opts.cb.ispercent != \\'0\\'}\"> <input name=\"threshold\" type=\"radio\" class=\"emailnumber\"> <span>Number</span> </label> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Type of limit of mentions\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Type of limit of mentions\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Treshold :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input id=\"input-number-mod\" class=\"mod\" riot-value=\"{opts.cb.increase}\" ref=\"numbertreshold\" type=\"{\\'number\\'}\"> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Maximum limit of mentions that will trigger notifications\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Maximum limit of mentions that will trigger notifications\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Delivery Time</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"numbertime\" class=\"form-control form-controlwidth\" riot-value=\"{opts.cb.Time}\" style=\"width: 165px;\"> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time notifications is sent\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time notifications is sent\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Realtime Monitor</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{chanage}\"> <div class=\"toggle toggle-light primary monitor\" data-toggle-on=\"{opts.cb.Realtime}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable this setting to get realtime update. When disabled update will cover data from previous day\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable this setting to get realtime update. When disabled update will cover data from previous day\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.ondata=!0,this.error=!1,this.number=!0,$(document).ready((function(){setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},5)})),this.on(\"mount\",()=>{APP.animationFadeIn(),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,tokenSeparators:[\",\"],width:this.maxwidth}),setTimeout(()=>{$(\".toggle.monitor\").toggles({on:t.cb.Realtime,height:26})},100),this.posit=!0,this.update()}),this.chanage=()=>{t.cb.Realtime=!t.cb.Realtime,this.update()},this.saveData=()=>{var e=\"\",i=\"\",a=this.refs.emailrecipient,s=$(a).val().toString(),o=this.refs.numbertreshold.value,r=this.refs.numbertime.value;if(e=$(\".emailpositive:checked\").val()?\"positive-threshold\":$(\".emailnegative:checked\").val()?\"negative-threshold\":\"mention-threshold\",i=$(\".emailpercentage:checked\").val()?\"1\":\"0\",t.cb.Realtime)var n=\"h-0\";else n=\"h-1\";var l={email:s,project:p(\"project\"),enable_spike:!0,stream_type:e,date_monitor:n,ispercent:i,threshold:o,time:r};APP.apiPost({path:\"projects/spike-notif\",data:l,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})}}))},function(t,e,i){i(0).tag2(\"spike-form-sms\",'<div class=\"row\"> <div class=\"col-lg-12 mg-t-m-10\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Recipient Phone Number :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"smsrecipient\" required> <option selected=\"{selected:o}\" each=\"{o,i in opts.cb.nophone}\">{o}</option> </select> <b class=\" fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all phone number that will be sent alert spike notification\" data-placement=\"left\">?</b> <p if=\"{error}\"> <font color=\"red\">email recipient can not be empty</font> </p> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List all phone number that will be sent alert spike notification\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Sentiment</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'positive-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"smspositive\"> <span>Positive</span> </label> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'positive-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"smspositive\"> <span>Positive</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'negative-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"smsnegative\"> <span>Negative</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'negative-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"smsnegative\"> <span>Negative</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment == \\'mention-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" checked=\"\" class=\"emailall\"> <span>All</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.Sentiment != \\'mention-threshold\\'}\"> <input name=\"sentiment\" type=\"radio\" class=\"emailall\"> <span>All</span> </label> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Notifications will be sent based on the selected sentiment\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Notifications will be sent based on the selected sentiment\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Treshold Type</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.ispercent == 1 || opts.cb.ispercent == \\'1\\'}\"> <input name=\"threshold\" type=\"radio\" checked=\"\" class=\"emailpercentage\"> <span>Percentage</span> </label> <label class=\"rdiobox\" style=\"display: initial;\" if=\"{opts.cb.ispercent != 1 || opts.cb.ispercent != \\'1\\'}\"> <input name=\"threshold\" type=\"radio\" class=\"emailpercentage\"> <span>Percentage</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.ispercent == 0 || opts.cb.ispercent == \\'0\\'}\"> <input name=\"threshold\" type=\"radio\" checked=\"\" class=\"emailnumber\"> <span>Number</span> </label> <label class=\"rdiobox mg-l-10\" style=\"display: initial;\" if=\"{opts.cb.ispercent != 0 || opts.cb.ispercent != \\'0\\'}\"> <input name=\"threshold\" type=\"radio\" class=\"emailnumber\"> <span>Number</span> </label> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Type of limit of mentions\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Type of limit of mentions\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Treshold :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input id=\"input-number-mod\" class=\"mod\" riot-value=\"{opts.cb.increase}\" ref=\"numbertresholdsms\" type=\"{\\'number\\'}\"> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Maximum limit of mentions that will trigger notifications\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Maximum limit of mentions that will trigger notifications\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Delivery Time</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"numbertimesms\" class=\"form-control form-controlwidth\" style=\"width: 165px;\" riot-value=\"{opts.cb.Time}\"> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time notifications is sent\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"At what time notifications is sent\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-10\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Realtime Monitor</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{chanage}\"> <div class=\"toggle toggle-light primary monitor\" data-toggle-on=\"{opts.cb.Realtime}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable this setting to get realtime update. When disabled update will cover data from previous day\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable this setting to get realtime update. When disabled update will cover data from previous day\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.ondata=!0,this.error=!1,this.positive=!0,this.negative=!0,this.all=!0,this.percentage=!0,this.number=!0,$(document).ready((function(){setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},5)})),this.on(\"mount\",()=>{APP.animationFadeIn(),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,tokenSeparators:[\",\"],width:this.maxwidth}),setTimeout(()=>{$(\".toggle.monitor\").toggles({on:t.cb.Realtime,height:26})},100)}),this.chanage=()=>{t.cb.Realtime=!t.cb.Realtime,this.update()},this.saveData=()=>{var e=\"\",i=\"\",a=this.refs.smsrecipient,s=$(a).val().toString(),o=this.refs.numbertresholdsms.value,r=this.refs.numbertimesms.value;if(e=$(\".smspositive:checked\").val()?\"positive-threshold\":$(\".smsnegative:checked\").val()?\"negative-threshold\":\"mention-threshold\",i=$(\".emailpercentage:checked\").val()?\"1\":\"0\",t.cb.Realtime)var n=\"h-0\";else n=\"h-1\";var l={telepon:s,project:p(\"project\"),enable_spike:!0,stream_type:e,date_monitor:n,ispercent:i,threshold:o,time:r};APP.apiPost({path:\"projects/spike-sms\",data:l,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})}}))},function(t,e,i){i(0).tag2(\"audient-infographic\",'<div class=\"card shadow-base overflow-hidden bd-0 mg-t-20\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"><i class=\"fa fa-users mg-r-5 iconcolor\" aria-hidden=\"true\"></i> AUDIENCE DEMOGRAPHIC</h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Estimated gender of the authors of your mentions based on their name\">?</span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height252\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height269\" id=\"shareofvoiceAudient\" if=\"{!notdata}\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-6 mg-t-1 mg-sm-t-0\"> <div class=\"card height230\"> <div class=\"card-body\"> <p> <i class=\"fa fa-male tx-100 lh-1 pd-t-0 tx-black mg-t-10\"></i> </p> <span class=\"tx-medium tx-inverse tx-32 mg-r-0 lh-1\"> <p class=\"tx-30 mg-b-0\">Male</p> <p class=\"tx-70 mg-b-0 mg-t-8\">{male ? male.formatMoney(0) : 0}% </p> </span> </div> </div> </div> <div class=\"col-6\"> <div class=\"card br-1-black height230\"> <div class=\"card-body\"> <p> <i class=\"fa fa-female tx-100 lh-1 pd-t-0 tx-black mg-t-10\"></i> </p> <span class=\"tx-medium tx-inverse tx-32 mg-r-0 lh-1\"> <p class=\"tx-30 mg-b-0\">Female </p> <p class=\"tx-70 mg-b-0 mg-t-8\">{female ? female.formatMoney(0) : 0}% </p> </span> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=()=>{APP.log(\"chart share VOICE : render\");let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/profile-genders\",data:t,success:t=>{let e=t.genders,i=t.total.original?t.total.original:0,a=e.female?e.female:0,s=e.male?e.male:0;this.female=100/i*a,this.male=100/i*s,0!==t.genders.length?(this.update({notdata:!1}),this.update({isLoading:!1})):this.notdata=!0}})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"buzz-geo-distribution\",'<div class=\"card md-t-20\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your chosen keyword come from\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"buzzgeo\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=t=>{APP.log(\"buzzgeo : render\");let i=this.parent.search;i.group_service=\"false\",i.service_category&&\"\"!=i.service_category||(i.service_category=\"1,2,3,4,5,6,7,8\");let a=[],s=[],o=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){s=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...i,limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=_.map(t,(function(t){let e=null;return null!=t&&s.features&&(o=getProvince(s.features,t.lat||0,t.lon||0),_.isEmpty(o)||o&&(e={\"hc-key\":o.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:o.NAME_1,value:t.count})),e}));e=_.reduce(e,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var i=[];_.each(e,(t,e)=>{i.push(t)}),e=i,this.items=e,Highcharts.mapChart(\"buzzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#58cabb\"}}}]}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{let t=this.items.map((t,e)=>({Provinsi:t.hasc,count:t.value})).filter(t=>null!=t.Provinsi);t.length>0&&APP.downloadcsv(t,\"Buzz_Geo_Distributor_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(12),s=i.n(a),o=i(10),r=i.n(o);i(6);i(0).tag2(\"everagemention\",'<div class=\"card\"> <div class=\"card-header d-flex justify-content-between align-items-center\"> <span class=\"card-title tx-uppercase tx-12 mg-b-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row\"> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:charteverage} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{everage}\"> <img src=\"assets/img/image/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> TOP MENTIONS TIME </a> </li> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:!charteverage} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{toptime}\"> <img src=\"assets/img/image/clock-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTIONS </a> </li> </ul> </span> <span class=\"pull-right cursor-default\"><img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"></span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-0\" if=\"{charteverage && isLoading}\"> </div> <div class=\"ripple-loader \" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height620 textcenter mg-t-20\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620 textcenter mg-t-20\" if=\"{notdata1}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620\" id=\"chartstreamtop\" if=\"{charteverage && !notdata}\"> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height620\" id=\"chartdailyaverage\" if=\"{!charteverage && !notdata1}\"> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.charttoptime=null,this.chartaveragedaily=null,this.isLoading=!0,this.notdata=!1,this.notdata1=!1,this.xhr=null,this.tombolrefres=!1,this.charteverage=!0,this.fontcolor=!1,this.everage=t=>{this.update({isLoading:!0,charteverage:!0}),this.render()},this.toptime=t=>{APP.log(\"chart streams time : render\");let i=_.clone(this.parent.search);i.type=null,\"analysis/my-stream..\"==APP.currentHash?(this.tombolrefres=!0,this.fontcolor=!1):this.fontcolor=!0,this.update({isLoading:!0,charteverage:!1}),this.xhrtopstreams=APP.apiGet({path:\"mentions/average-daily-mentions\",data:i,success:t=>{t=t.items;let e=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const a in t){let s=t[a];for(const t in s)e.push({x:i[t],y:parseInt(a-1),total:s[t],z:s[t]})}if(0===(t=_.filter(e,(function(t){return 0!=t.total})).length))return this.notdata1=!0,this.notdata=!1,this.isLoading=!1,void this.update();this.update({notdata1:!1,notdata:!1}),this.chartaveragedaily&&this.chartaveragedaily.spacing&&this.chartaveragedaily.destroy(),this.everagevalue=e,(this.chartaveragedaily=s()(\"chartdailyaverage\")).addSeries({color:\"#38a1f2\",data:e}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.render=t=>{if(this.xhr=APP.log(\"chart Average daily  : render\"),!this.charteverage)return void this.toptime();let i=_.clone(this.parent.search);i.type=null,this.update({isLoading:!0}),this.xhraverage=APP.apiGet({path:\"mentions/top-mentions-time\",data:i,success:e=>{_.isFunction(t)&&t(),e=e.items;let i=[];for(const t in e){let a=_.result(e,t,\"\");i.push([new Date(t.substring(0,10)).getTime(),a.jam,a.count])}if(0===i.length)return this.notdata=!0,this.notdata1=!1,this.isLoading=!1,void this.update();this.update({notdata:!1,notdata1:!1}),this.charttoptime&&this.charttoptime.spacing&&this.charttoptime.destroy(),this.topstreamvalue=i,(this.charttoptime=r()(\"chartstreamtop\")).addSeries({color:\"#38a1f2\",data:i}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.downloadcsv=()=>{var t=\"\",e=\"\";if(this.charteverage)e=\"Top_Mention_time_\",t=this.topstreamvalue.map((t,e)=>({date:moment(Number(t[0])).format(\"YYYY-MM-DD\"),Jam:t[1]+\" : 00\",Count:t[2]}));else{e=\"Average_daily_Mentions_\";let i={0:\"sun\",1:\"mon\",2:\"tue\",3:\"wed\",4:\"thu\",5:\"fri\",6:\"sat\"},a={0:\"00-05\",1:\"06-11\",2:\"12-17\",3:\"18-23\"};t=this.everagevalue.map((t,e)=>({Hari:i[t.x],Jam:a[t.y],Count:t.total}))}t.length>0&&APP.downloadcsv(t,\"\"+(e+p(\"project\")),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhraverage=null,\"analysis/my-stream..\"==APP.currentHash&&(this.tombolrefres=!0),this.update()}),this.on(\"unmount\",()=>{this.xhraverage&&this.xhraverage.abort(),this.charttoptime&&this.charttoptime.spacing&&(this.charttoptime.destroy(),APP.log(\"chart streams : destroy chart\")),this.chartaveragedaily&&this.chartaveragedaily.spacing&&(this.chartaveragedaily.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"mostauthor\",'<div class=\"card\"> <div class=\"card-header d-flex justify-content-between align-items-center\"> <span class=\"card-title tx-uppercase tx-12 mg-b-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row\"> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:influencer} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{mostinfluence}\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR </a> </li> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:!influencer} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{MostActive}\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR </a> </li> </ul> </span> <span class=\"pull-right cursor-default\"><img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"></span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <div class=\"tab-content\"> <div class=\"tab-content height620\" id=\"myTabContent\" if=\"{influencer}\"> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total == 0}\" class=\"textcenter mg-t-20\"> No data found, please input another dates </div> <table class=\"tableinfuencer table table-striped\" if=\"{influencer}\"> <thead if=\"{total != 0}\"> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-30 rounded-circle mobileimage\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-30 1 mobileimage\" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > totalangka ? o.realname.substring(0,totalangka)  + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle tx-right\"> {o.score} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle tx-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> </div> <div class=\"tab-content height620\" id=\"myTabContent\" if=\"{!influencer}\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total1 == 0}\" class=\"textcenter mg-t-20\"> No data found, please input another dates </div> <table class=\"tableinfuencer table table-striped\" if=\"{!influencer}\"> <thead if=\"{total1 != 0}\"> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in mostactive}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-30 rounded-circle mobileimage\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-30 mobileimage\" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > totalangka ? o.realname.substring(0,totalangka)  + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle tx-right\"> {o.score} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle tx-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.totalangka=20,this.isLoading=!0,this.xhr=null,this.influencer=!0,this.imageicon={},this.imageicon.twitter=\"fa fa-facebook\",this.imageicon.facebook=\"fa fa-twitter\",this.imageicon.instagram=\"fa fa-instagram\",this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.user_name||t.item.o.username||t.item.o.realname,i=t.item.o.serviceId;this.parent.detailmentions(null,null,i,e,null,null,\"Author\",null,null,null,null,null)},this.render=t=>{if(APP.log(\"influent-sosial : render\"),!this.influencer)return void this.MostActive();let i=_.clone(this.parent.search);this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:i,success:e=>{this.total=e.total;var i=_.each(e.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=i,this.update({isLoading:!1,isLoadingerror:!1}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.mostinfluence=()=>{this.update({influencer:!0,isLoading:!0}),this.render()},this.MostActive=()=>{APP.log(\"most active sosial : render\");let t=_.clone(this.parent.search);this.update({isLoading:!0,influencer:!1}),this.xhr=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{if(null!=t){this.total1=t.total;var e=_.map(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.mostactive=e}this.update({isLoading:!1,isLoadingerror:!1})},error:t=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()}),this.totaldataangka=t=>{this.totalangka=t,this.update({totalangka:t})},this.downloadcsv=()=>{var t=\"\",e=\"\";this.influencer?(e=\"Most_Influential_\",t=this.items.map(t=>({user_name:t.user_name?t.user_name:t.realname,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}))):(e=\"Most_Active_\",t=this.mostactive.map(t=>({user_name:t.user_name?t.user_name:t.realname,sentiment_rate:t.rate?t.rate:0,mentions:t.score?t.score.formatMoney(0):0}))),t.length>0&&APP.downloadcsv(t,\"\"+(e+p(\"project\")),!0)}}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"popularmentions\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/popular-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">POPULAR MENTIONS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top 5 most engaged (replied, liked or shared) mentions of your chosen keyword\">?</span> </span> </div> <div class=\"card widget-5\"> <div class=\"list-group list-group-flush height650 textcenter mg-t-0\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"list-group list-group-flush height650\" if=\"{total != 0}\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <a class=\"list-group-item list-group-item-action media height80\" each=\"{o,i in items}\" if=\"{i < 8}\"> <img alt=\"\" class=\"imageclass\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" alt=\"\" onerror=\"{reqExImg}\" name=\"{o.user.name}\"> <img alt=\"\" class=\"imageclass\" if=\"{!o.user.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\" width=\"20\" onerror=\"{reqExImg}\" name=\"{o.user.name}\" alt=\"\"> <div class=\"media-body scrollhidden\"> <div class=\"msg-top\"> <span class=\"cursor-pointer\" onclick=\"{popularvalue}\" id=\"{o.source}\">{o.user.real_name ? o.user.real_name :o.user.name}</span> <span><i class=\"icon ion-calendar\"></i> {o.date_format}</span> </div> <div class=\"pd-5 \"> <p class=\"msg-summary whitespaceNowrap\">{o.text.length > totalangka ? o.text.substring(0,totalangka) + \\'...\\' : o.text}</p> </div> </div> </a> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.totalangka=70,this.isLoading=!0,this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.popularvalue=t=>{const e=t.item.o.user.name;this.parent.detailmentions(null,null,null,e,null,null,\"Author\",null,null,null,null,null)},this.render=t=>{this.update({isLoading:!0});let i=this.parent.search;i.pagination=\"no\";var s=\"\",o=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,\"section\"===t&&(s+=\",popular\"),o++);this.xhr=APP.apiPost({path:\"stream\"+s,success:(e,i,s)=>{this.items=e.item,this.total=e.item.length,a(),this.update({isLoading:!1,isLoadingerror:!1}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.totaldataangka=t=>{this.totalangka=t,this.items=this.items,this.update({totalangka:t})};var i=this;function a(){var t=window.innerWidth;t>1407&&i.totaldataangka(70),t<1407&&i.totaldataangka(65),t<1407&&i.totaldataangka(65),t<1305&&i.totaldataangka(55),t<1170&&i.totaldataangka(45),t<1063&&i.totaldataangka(30),t<500&&i.totaldataangka(50)}this.downloadcsv=()=>{let t=this.items.map(t=>({date:t.date,service:t.service,profile:t.user.profile,followers:t.user.followers,following:t.user.following,text:String(t.text).replace(/#/g,\"-\").replace(\"/\\n/g\",\" \")}));t.length>0&&APP.downloadcsv(t,\"PopularMentions_\"+p(\"project\"),!0)},window.onload=function(){a()},window.onresize=function(){a()}}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"potentialreach\",'<div class=\"card shadow-base bd-0\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\" id=\"tombolrefres\"></tombol-refres> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/group-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> POTENTIAL REACH </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Potential reach is the estimated number of people that could have had contact with social media mentions from your buzzer(s). Potential Reach is based on the number buzzers, the number of their followers/subscribers/friends and the typical visibility percentage for the selected social networks (this percentage describes how many of their friends / followers on average actually see their posts)\">?</span> </span> </div> <div class=\"card-body d-xs-flex justify-content-between align-items-center\" if=\"{isLoadingerror}\"> <h4 class=\"mg-b-0 tx-inverse tx-lato tx-bold\">0</h4> <p class=\"mg-b-0 tx-sm\" riot-style=\"color: {color}\"><span class=\"tx-success\"> <i class=\"\"> </i>0 %</span></p> </div> <div class=\"card-body d-xs-flex justify-content-between align-items-center\" if=\"{isLoading}\"> <h4 class=\"mg-b-0 tx-inverse tx-lato tx-bold\">0</h4> <p class=\"mg-b-0 tx-sm\" riot-style=\"color: {color}\"><span class=\"tx-success\"> <i class=\"\"> </i>0 %</span></p> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> <div class=\"card-body d-xs-flex justify-content-between align-items-center\" each=\"{reachtotal}\"> <h4 class=\"mg-b-0 tx-inverse tx-lato tx-bold\">{total ? total.formatMoney(0) : 0}</h4> <p class=\"mg-b-0 tx-sm\" riot-style=\"color: {color}\"><span> <i class=\"{caret}\"> </i> {percent} %</span></p> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.render=t=>{this.update({isLoading:!0});let i=_.clone(this.parent.search);i.compare=!0,APP.apiGet({path:\"summary/potential-reach\",data:i,success:e=>{var i=_.map(e,t=>{let e={};const i=t.movement?t.movement:[];return e.caret=\"up\"===i[0]?\"fa fa-caret-up\":\"down\"===i[0]?\"fa fa-caret-down\":\"fa fa-minus\",e.color=\"up\"===i[0]?\"#23BF08\":\"down\"===i[0]?\"#DC3545\":\"#d2dc35\",e.status=i[0],e.total=t.potential_reach,e.percent=i[1],e});this.reachtotal=i,this.update({isLoading:!1,isLoadingerror:!1}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,setTimeout(()=>{$(\"#tombolrefres .tombol-refres\").css(\"top\",\"25%\")},1),this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{var t=this.reachtotal.map(t=>({status:t.status,percent:t.percent,total:t.total?t.total.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Potential_Reach_\"+p(\"project\"),!0)}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(19),s=i.n(a);i(6);i(0).tag2(\"reac-of-mention\",'<div class=\"widget-2 mg-t-10\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> REACH VS MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-20 bd-color-gray-lighter height250 textcenter mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter \" if=\"{!nodata}\"> <div class=\"row no-gutters tx-center height250\" id=\"chartreachofmention\"> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.mentionreach=[{color:\"#0a95a0\",id:\"mention\",name:\"Mention\",no:1},{color:\"#e27c73\",id:\"reach\",name:\"Reach\",no:2}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const i=_.find(this.times,{selected:!0}).id;let a=_.clone(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=i,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var o=[];async.each(this.mentionreach,(i,s)=>{if(!this.isExist)return!1;a.section=i.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:t=>{t=t.items;let e=[];e=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),e.length>0&&(this.nodata=!1),o.push({id:\"response\",shadow:!1,noid:i.no,name:i.name,type:\"Mention\"==i.name?\"areaspline\":\"column\",lineWidth:1,color:i.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.color],[1,Highcharts.Color(i.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:e,yAxis:\"Mention\"==i.name?1:0}),s()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},s),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartreachofmention\";this.update({nodata:this.nodata}),o=_.orderBy(o,[\"noid\"],[\"asc\"]),this.data=o,this.chart=s()(t,i,\"#ccc\");for(var e=0;e<=o.length-1;e++)this.chart.addSeries(o[e])}this.update({Loader:!1,isLoadingerror:!1}),_.isFunction(t)&&t()})},this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\"),s=_.result(e,\"Mention[0].count\",0),o=_.result(e,\"Reach[0].count\",0),r=s+o;a.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),mentions:s,reach:o,total:r})}a.length>0&&APP.downloadcsv(a,\"Reach_vs_mention_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,e=0,this.update(),this.render()}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(18),s=i.n(a);i(6);i(0).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"shareofvoice\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;let i=[{name:\"Facebook\",count:0},{name:\"Twitter\",count:0},{name:\"Instagram\",count:0},{name:\"Video\",count:0},{name:\"Portal\",count:0},{name:\"Forum\",count:0},{name:\"Blog\",count:0}];this.render=t=>{let i=_.clone(this.parent.search);i.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:i,success:e=>{_.isFunction(t)&&t(),e=e.items;let i=[],a={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Image:\"#d28a57\",Portal:\"#a77e0c\"};console.log({res:e});for(const t in e){let s={};s={y:e[t].count,name:t,color:a[t],colorval:a[t]},i.push(s)}i.map((function(t){return\"Tiktok\"==t.name&&(t.name=\"Video\"),\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));if(0===i.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),i=_.orderBy(i,[\"y\"],[\"desc\"]);_.map(i,t=>t.colorval);this.items=i,(this.chartpie=s()(\"shareofvoice\")).addSeries({data:i}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{var t=this.items.map(t=>({name:t.name,count:t.y?t.y.formatMoney(0):0}));const e=_.map(t,t=>t.name);let a=_.filter(i,t=>e.indexOf(t.name)<0);(t=_.concat(t,a)).length>0&&APP.downloadcsv(t,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">SOURCE OF MENTIONS </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <div class=\" pd-10 min-height305\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height305 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1;const i={Video:{icon:\"../assets/img/svg/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"../assets/img/svg/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"../assets/img/svg/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"../assets/img/svg/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"../assets/img/svg/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"../assets/img/svg/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"../assets/img/svg/chat-grey.png\",name:\"Forum\",idchannels:5}};this.isLoading=!0,this.render=t=>{this.update({isLoading:!0}),APP.log(\"influent-sosial : render\");let a=_.clone(this.parent.search);a.compare=!0,APP.apiGet({path:\"mentions/composition\",data:a,success:e=>{const a=e.items,s=_.sumBy(a,\"total\");var o=_.map(a,t=>{let e={},a=100*t.total/s;const o=t.difference&&t.difference.total?t.difference.total:[];return e.caret=\"up\"===o[0]?\"fa fa-caret-up\":\"down\"===o[0]?\"fa fa-caret-down\":\"fa fa-minus\",e.color=\"up\"===o[0]?\"#23BF08\":\"down\"===o[0]?\"#DC3545\":\"#d2dc35\",e.percent=o[1],e.width=a?a.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,e.total=t.total,e.name=i[t.name]&&i[t.name].name?i[t.name].name:\"\",e.icon=i[t.name]&&i[t.name].icon?i[t.name].icon:\"\",e.idch=i[t.name]&&i[t.name].idchannels?i[t.name].idchannels:\"\",e});const r=_.map(o,t=>t.name),n=_.filter(i,t=>r.indexOf(t.name)<0).map(t=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:t.name,icon:t.icon,total:0,idch:t.idchannels}));o=_.orderBy(o,[\"total\"],[\"desc\"]),this.channels=o.concat(n),this.total=o.length,this.update({isLoading:!1,isLoadingerror:!1}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.selectchannels=t=>{let e=t.item.o.idch;this.parent.detailmentions(null,null,e,null,null,null,null,null,null,null,null,null)}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(29),s=i.n(a);i(6);i(0).tag2(\"timeline-of-mentions\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"masuk\"> TIMELINE OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <span class=\"textcenter\" if=\"{nodata}\">No data found, please input another dates</span> <div class=\"row no-gutters tx-center height295\" id=\"chartSentimentpositivenegative\"> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.sentimen=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#279aff\",id:\"negative,positive,neutral\",nameval:\"all\",name:\"All\",no:1},{color:\"#5dff27\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:2},{color:\"#ff4027\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:3},{color:\"#f3973e\",id:\"neutral\",nameval:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const i=_.find(this.times,{selected:!0}).id;let a=_.clone(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=i,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var o=[];async.each(this.sentimentall,(i,s)=>{if(!this.isExist)return!1;a.section=i.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:t=>{t=t.items;let e=[];e=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),e.length>0&&(this.nodata=!1);var a=0;_.each(e,(t,e)=>{a+=t[1]}),o.push({id:\"response\",shadow:!1,noid:a,name:i.name,nameval:i.nameval,type:\"areaspline\",lineWidth:1,color:i.color,colorval:i.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.color],[1,Highcharts.Color(i.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:e}),s()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},s),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});const e=_.result(this.parent,\"updatesentimenval\",\"\").split(\",\");let r=_.filter(o,t=>e.indexOf(t.nameval)>-1);r=_.orderBy(r,[\"noid\"],[\"desc\"]),this.data=r,setTimeout(()=>{this.chart=s()(t,i,\"#868ba1\",a);for(var e=0;e<=r.length-1;e++)this.chart.addSeries(r[e])},500)}this.update({Loader:!1,isLoadingerror:!1}),_.isFunction(t)&&t()})},this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\"),s=_.result(e,\"Positive[0].count\",0),o=_.result(e,\"Negative[0].count\",0),r=_.result(e,\"Neutral[0].count\",0),n=s+o+r;a.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),positive:s,negative:o,neutral:r,total:n})}a.length>0&&APP.downloadcsv(a,\"Timelineofmentions_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"tophashtagandword\",'<div class=\"card mg-t-20 shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\">TOP HASHTAGS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer tx-12 pd-y-15 bg-transparent height276 pd-t-10-i\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total == 0}\" class=\"textcenter\"> No data found, please input another dates </div> <table class=\"table table-striped mg-b-0\" if=\"{total != 0}\"> <thead> <tr> <th>HASHTAGS</th> <th class=\"text-right\">MENTIONS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" if=\"{i < 5}\"> <td onclick=\"{tophastagsvalue}\" class=\"cursor-pointers\">#{o._id.tag.length > 30 ? o._id.tag.substring(0,30) + \\'...\\' : o._id.tag}</td> <td class=\"text-right\">{o.count.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0;var e=0;this.isLoadingerror=!1,this.render=t=>{let i=_.clone(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,i.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:i,success:e=>{this.total=e.items.length,this.items=e.items,this.update({isLoading:!1,isLoadingerror:!1,total:e.items.length}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.tophastagsvalue=t=>{t.item.o._id.tag},this.downloadcsv=()=>{var t=this.items.map(t=>({count:t.count,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+p(\"project\"),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"total-sentiment-all\",'<div class=\"row row-sm\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\" id=\"totalcount\"></tombol-refres> <div class=\"col-sm-6 col-lg-3 cursor-pointer \" id=\"all\" onclick=\"{selectAll}\"> <div class=\"{bg-info:allSelected} rounded overflow-hidden {noactivebackground:!allSelected} shadow-base\" id=\"all\"> <p class=\"pull-right pd-5 tx-white {textcolor:!allSelected} cursor-default\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"How many time your chosen keyword has been mentioned in the internet, compared with the previous period\" style=\"font-size: 10px;\">?</p> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"all\"> <img alt=\"\" src=\"../assets/img/svg/totalchat.png\" width=\"50\" height=\"50\" class=\"center displayinitial mg-t-10\"> <div class=\"mg-l-10\" id=\"all\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 {textcolor:!allSelected} title-text-total\">TOTAL MENTIONS</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 {textcolor:!allSelected} title-text-total-count\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <span class=\"tx-11 tx-roboto tx-white-8 {textcolor:!allSelected} title-text-total-percent\" riot-style=\"color : {colorpersent}\"><i class=\"{totalicon} mg-t-10\" aria-hidden=\"true\"> </i> {totalpercent} % </span> </div> </div> <div id=\"ch1\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> <div class=\"{colmd} cursor-pointer\" each=\"{sentiment}\" onclick=\"{selectSentiment}\"> <div class=\"{bg-info:selected} {bgcolor} {noactivebackground:!selected} shadow-base\" id=\"{id}\"> <p class=\"pull-right pd-5 tx-white {textcolor:!selected} cursor-default\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{tooltip}\" style=\"font-size: 10px;\">?</p> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"{id}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"50\" height=\"50\" class=\"center displayinitial mg-t-10\"> <div class=\"mg-l-10\" id=\"{id}\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 {textcolor:!selected} title-text-total\">{name}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 {textcolor:!selected} title-text-total-count\" if=\"{!isLoading}\">{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <span class=\"tx-11 tx-roboto tx-white-8 {textcolor:!selected} title-text-total-percent \" riot-style=\"color: {colorsentiment[id]}\"> <i class=\"{iconsentiment[id]} mg-t-10\" aria-hidden=\"true\"> </i> {this.sentPersence[id] ? this.sentPersence[id] : 0} %</span> </div> </div> <div id=\"ch{idchart}\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.idTO=null,this.allSelected=!1,this.sValue=[],this.sentPersence=[],this.iconsentiment=[],this.colorsentiment=[],this.persentasedata=[],this.sentiment=[{id:\"positive\",idchart:2,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"POSITIVE MENTIONS\",selected:!0,color:\"count-txt color-green-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/thumbs-up.png\",tooltip:\"How many times your chosen keyword has been mentioned in a positive manner, compared with the previous period\"},{id:\"negative\",idchart:3,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"NEGATIVE MENTIONS\",selected:!0,color:\"count-txt color-red-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/thumbs-down.png\",tooltip:\"How many times your chosen keyword has been mentioned in a negative manner, compared with the previous period\"},{id:\"neutral\",idchart:4,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"NEUTRAL MENTIONS\",selected:!0,color:\"count-txt color-orange-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/help.png\",tooltip:\"How many times your chosen keyword has been mentioned in a neutral manner, compared with the previous period\"}],this.on(\"mount\",()=>{this.chartimageseries()}),this.render=t=>{APP.log(\"sentiment : render\"),this.update_data(t)},this.selectAll=t=>{t.preventDefault(),clearTimeout(this.idTO),this.allSelected=!this.allSelected,setTimeout(()=>{this.sentiment_selectedall()},500)},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const i=_.filter(this.sentiment,t=>t.selected),a=_.map(i,t=>t.id);if(this.allSelected)var e=\"\";else e=\"allfalse\";t.cb(a.join(\",\"),e)}},this.sentiment_selectedall=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){if(this.allSelected)var e=\"all\",i=\"\";else{const t=_.filter(this.sentiment,t=>t.selected);e=_.map(t,t=>t.id).join(\",\"),i=\"allfalse\"}t.cb(e,i)}},this.update_data=t=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let i=_.clone(this.parent.search);i.project=p(\"project\")?p(\"project\"):APP.getProject(),i.limit=\"\",i.page=\"\",i.section=\"positive,negative,neutral\",i.compare=!0,this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:i,success:e=>{e=e.items,this.total=e.total.current?e.total.current:0,this.totalpercent=e.total.movement[1]?e.total.movement[1]:0;const i=e.total.movement[0];this.totalicon=\"up\"===i?\"fa fa-caret-up\":\"down\"===i?\"fa fa-caret-down\":\"fa fa-minus\",this.colorpersent=\"up\"===i?\"#a7fb98\":\"down\"===i?\"#ffc3c3\":\"#d2dc35\",this.sValue.positive=e.positive.current?e.positive.current:0,this.sentPersence.positive=e.positive.movement[1]?e.positive.movement[1]:0;const a=e.positive.movement[0];this.iconsentiment.positive=\"up\"===a?\"fa fa-caret-up\":\"down\"===a?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.positive=\"up\"===a?\"#a7fb98\":\"down\"===a?\"#ffc3c3\":\"#d2dc35\",this.sValue.negative=e.negative.current?e.negative.current:0,this.sentPersence.negative=e.negative.movement[1]?e.negative.movement[1]:0;const s=e.negative.movement[0];this.iconsentiment.negative=\"up\"===s?\"fa fa-caret-up\":\"down\"===s?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.negative=\"up\"===s?\"#ffc3c3 \":\"down\"===s?\"#a7fb98\":\"#d2dc35\",this.sValue.neutral=e.neutral.current?e.neutral.current:0,this.sentPersence.neutral=e.neutral.movement[1]?e.neutral.movement[1]:0;const o=e.neutral.movement[0];this.iconsentiment.neutral=\"up\"===o?\"fa fa-caret-up\":\"down\"===o?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.neutral=\"up\"===o?\"#a7fb98\":\"down\"===o?\"#ffc3c3\":\"#d2dc35\",this.update(),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,setTimeout(()=>{$(\"#totalcount .refres-error\").css(\"background\",\"#ffffffbf\"),$(\"#totalcount .tombol-refres\").css(\"background\",\"rgba(255, 255, 255, 0.48)\")},1),this.update()),_.isFunction(t)&&t()}}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,isLoadingerror:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},menu.on(\"sidebar\",t=>{$(\"#ch1 svg\").remove(),$(\"#ch2 svg\").remove(),$(\"#ch3 svg\").remove(),$(\"#ch4 svg\").remove(),setTimeout(()=>{this.chartimageseries()},300)}),this.chartimageseries=()=>{var t=[{x:0,y:40},{x:1,y:49},{x:2,y:38},{x:3,y:30},{x:4,y:32},{x:5,y:40},{x:6,y:20},{x:7,y:10},{x:8,y:20},{x:9,y:25},{x:10,y:35},{x:11,y:20},{x:12,y:40}];new Rickshaw.Graph({element:document.querySelector(\"#ch1\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch2\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch3\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch4\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render()}}))},function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"wordcloaudsummary\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/cloud-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">WORDCLOUD </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representation of popular words in your mentions. The more a word mentioned the bigger and bolder it appears in the word cloud.\">?</b> </span> </div> <div class=\"card-body\"> <div class=\"col-md-12 wordcloudheight235 textcenter\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"col-md-12\" if=\"{total != 0}\"> <div id=\"wordcloud_canvas \"> <div id=\"wordcloud_all\" class=\"wordcloudheight235\"> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.value={},this.dataall={},this.xhr=null,this.render=t=>{this.update_data(t)},this.update_data=t=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0,total:1});let i=_.clone(this.parent.search);i.is_total=null,i.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:i,success:t=>{let e=t.items;var a=_.clone(e);if(\"negative\"===i.section||\"negative,neutral\"===i.section||\"neutral,negative\"===i.section)var s=a&&a.negative?a.negative:[];if(\"positive\"===i.section||\"positive,neutral\"===i.section||\"neutral,positive\"===i.section)s=a&&a.positive?a.positive:[];if(\"positive,negative\"===i.section||\"negative,positive\"===i.section){var o=a&&a.positive?a.positive:[],r=a&&a.negative?a.negative:[];s=_.concat(o,r)}if(\"\"===i.section||null===i.section||void 0===i.section||\"positive,negative,neutral\"===i.section||\"positive,neutral,negative\"===i.section||\"negative,positive,neutral\"===i.section||\"negative,neutral,positive\"===i.section||\"neutral,negative,positive\"===i.section||\"neutral,positive,negative\"===i.section){s=a&&a.all?a.all:[];this.dataall.all=s}if(\"neutral\"===i.section)s=this.dataall.all;s=_.orderBy(s,[1],\"desc\"),this.dataVal=s,this.dataresizeseries=s,this.renderedData(s),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.renderedData=t=>{let e=t;if(this.total=t?t.length:0,this.update({total:this.total}),this.total>0){const t=e[0][1];e.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>10&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:e,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\",null,null,null,null,null)}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show()},$(window).resize(()=>{this.dataresize()}),this.dataresize=()=>{this.update({isLoading:!0});var t=this.dataresizeseries;if(t&&t.length>0){const e=t[0][1];t.map(t=>{const i=t[0].length,a=parseInt(t[1]);let s=a/e*100;return i>10&&(s=10,a/e*100>60&&(s=a/e*50)),s<15&&(s=15),t[1]=s,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:t,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\")}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()});this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.is_total=null,t.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{e=e.items;var i=_.clone(e);if(\"negative\"===t.section||\"negative,neutral\"===t.section||\"neutral,negative\"===t.section)var a=i&&i.negative?i.negative:[];if(\"positive\"===t.section||\"positive,neutral\"===t.section||\"neutral,positive\"===t.section)a=i&&i.positive?i.positive:[];if(\"positive,negative\"===t.section||\"negative,positive\"===t.section){var s=i&&i.positive?i.positive:[],o=i&&i.negative?i.negative:[];a=_.concat(s,o)}if(\"\"===t.section||null===t.section||void 0===t.section||\"positive,negative,neutral\"===t.section||\"positive,neutral,negative\"===t.section||\"negative,positive,neutral\"===t.section||\"negative,neutral,positive\"===t.section||\"neutral,negative,positive\"===t.section||\"neutral,positive,negative\"===t.section){a=i&&i.all?i.all:[];this.dataall.all=a}if(\"neutral\"===t.section)a=this.dataall.all;var r=a;(r=_.map(r,(function(t,e){return{keyword:t[0],count:t[1].formatMoney(0)}}))).length>0&&APP.downloadcsv(r,\"WordcloudSummary_\"+p(\"project\"),!0)}})}}))},function(t){t.exports=JSON.parse('[{\"hash\":\"source\",\"tag\":\"source\",\"import\":\"modules/maniac/source/source.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/health-index-r10..\",\"tag\":\"healthindex-account\",\"import\":\"modules/maniac/advanced-analysis/health-index-account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/health-index..\",\"tag\":\"health-index\",\"import\":\"modules/maniac/advanced-analysis/health-index.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/buzzer-tracking-r10..\",\"tag\":\"buzzer-tracking-account\",\"import\":\"modules/maniac/advanced-analysis/buzzer-tracker-account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/buzzer-tracking..\",\"tag\":\"buzzer-tracking\",\"import\":\"modules/maniac/advanced-analysis/buzzer-tracking.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"project..\",\"tag\":\"project\",\"import\":\"modules/maniac/projects/project.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"project/add..\",\"tag\":\"project-form\",\"import\":\"modules/maniac/projects/project-form.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"stream..\",\"tag\":\"stream\",\"import\":\"modules/maniac/stream/stream.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting\",\"tag\":\"setting\",\"import\":\"modules/maniac/setting/setting.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"analysis/my-stream..\",\"tag\":\"my-stream\",\"import\":\"modules/maniac/analysis/my-stream.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"analysis/competitive..\",\"tag\":\"competitive\",\"import\":\"modules/maniac/analysis/competitive.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"infographic..\",\"tag\":\"infographic\",\"import\":\"modules/maniac/infographic/infographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/pr-dashboard..\",\"tag\":\"advanced-dashboard\",\"import\":\"modules/maniac/advanced-analysis/advanced-dashboard.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"advanced-analysis/prdashboard..\",\"tag\":\"prdashboard\",\"import\":\"modules/maniac/advanced-analysis/prdashboard.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"command-center..\",\"tag\":\"command-center\",\"import\":\"modules/maniac/command-center/command-center.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"test\",\"tag\":\"test\",\"import\":\"modules/maniac/test.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"login\",\"tag\":\"login\",\"layout\":\"login\",\"import\":\"modules/maniac/main/login.tag\"},{\"hash\":\"change-password..\",\"tag\":\"change-password\",\"import\":\"modules/maniac/setting/change-password.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project-setup..\",\"tag\":\"project-setup\",\"import\":\"modules/maniac/setting/project-setup.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project-update..\",\"tag\":\"project-update\",\"import\":\"modules/maniac/setting/project-update.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/account..\",\"tag\":\"account\",\"import\":\"modules/maniac/setting/account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/facebook..\",\"tag\":\"facebook\",\"import\":\"modules/maniac/setting/facebook.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/spike-notification..\",\"tag\":\"spike-notification\",\"import\":\"modules/maniac/setting/spike-notification.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/infographic..\",\"tag\":\"infographic\",\"import\":\"modules/maniac/setting/infographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/author-marker..\",\"tag\":\"author-marker\",\"import\":\"modules/maniac/setting/author-marker.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/buzzer-account..\",\"tag\":\"buzzer-account\",\"import\":\"modules/maniac/setting/buzzer-account.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"Correction..\",\"tag\":\"correction\",\"import\":\"modules/maniac/correction/Correction.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"downloadcsv..\",\"tag\":\"downloadcsv\",\"import\":\"modules/maniac/downloads/DownloadCSV.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"domain/infographic..\",\"tag\":\"domaininfographic\",\"import\":\"modules/maniac/domain-infographic/infographic.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/global-setting..\",\"tag\":\"global-setting\",\"import\":\"modules/maniac/setting/global-setting.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/filterlist..\",\"tag\":\"filterlist\",\"import\":\"modules/maniac/setting/filterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/addfilterlist..\",\"tag\":\"addfilterlist\",\"import\":\"modules/maniac/setting/addfilterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/aditfilterlist..\",\"tag\":\"aditfilterlist\",\"import\":\"modules/maniac/setting/editfilterlist.tag\",\"layout\":\"main\",\"auth\":true},{\"hash\":\"setting/project..\",\"tag\":\"setting-project\",\"import\":\"modules/maniac/setting/setting-project.tag\",\"layout\":\"main\",\"auth\":true}]')},function(t){t.exports=JSON.parse('{\"a\":\"2.8.14-rc2\"}')},function(t,e){var i,a,s=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function n(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i=\"function\"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{a=\"function\"==typeof clearTimeout?clearTimeout:r}catch(t){a=r}}();var l,c=[],d=!1,h=-1;function m(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&u())}function u(){if(!d){var t=n(m);d=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,d=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new p(t,e)),1!==c.length||d||n(u)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title=\"browser\",s.browser=!0,s.env={},s.argv=[],s.version=\"\",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(t){return[]},s.binding=function(t){throw new Error(\"process.binding is not supported\")},s.cwd=function(){return\"/\"},s.chdir=function(t){throw new Error(\"process.chdir is not supported\")},s.umask=function(){return 0}},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){var a={\"./\":24,\"./helpers/ma\":68,\"./helpers/ma.js\":68,\"./helpers/rg-tags\":69,\"./helpers/rg-tags.js\":69,\"./helpers/services\":11,\"./helpers/services.js\":11,\"./helpers/url\":15,\"./helpers/url.js\":15,\"./index\":24,\"./index.js\":24,\"./modules/bracket-plus/advanced-analysis/advanced-analysis.tag\":199,\"./modules/bracket-plus/advanced-analysis/advanced-dashboard.tag\":200,\"./modules/bracket-plus/advanced-analysis/buzzer-engagementmetrics.tag\":33,\"./modules/bracket-plus/advanced-analysis/buzzer-influencemetrics.tag\":34,\"./modules/bracket-plus/advanced-analysis/buzzer-reachmetrics.tag\":35,\"./modules/bracket-plus/advanced-analysis/buzzer-stream-timeline.tag\":36,\"./modules/bracket-plus/advanced-analysis/buzzer-summary-brand.tag\":37,\"./modules/bracket-plus/advanced-analysis/buzzer-summary.tag\":38,\"./modules/bracket-plus/advanced-analysis/buzzer-tracker-account.tag\":201,\"./modules/bracket-plus/advanced-analysis/buzzer-tracking.tag\":202,\"./modules/bracket-plus/advanced-analysis/buzzer_picker.tag\":39,\"./modules/bracket-plus/advanced-analysis/health-index-account.tag\":203,\"./modules/bracket-plus/advanced-analysis/health-index.tag\":204,\"./modules/bracket-plus/advanced-analysis/health-interaction-metric.tag\":43,\"./modules/bracket-plus/advanced-analysis/health-sentiment-channel.tag\":41,\"./modules/bracket-plus/advanced-analysis/health-summary.tag\":40,\"./modules/bracket-plus/advanced-analysis/health-tweet-density.tag\":42,\"./modules/bracket-plus/advanced-analysis/modal-streams.tag\":77,\"./modules/bracket-plus/advanced-analysis/prdash-channel.tag\":70,\"./modules/bracket-plus/advanced-analysis/prdash-filter-2.tag\":205,\"./modules/bracket-plus/advanced-analysis/prdash-filter.tag\":75,\"./modules/bracket-plus/advanced-analysis/prdash-graph.tag\":72,\"./modules/bracket-plus/advanced-analysis/prdash-sentiment.tag\":71,\"./modules/bracket-plus/advanced-analysis/prdash-stream-modal.tag\":74,\"./modules/bracket-plus/advanced-analysis/prdash-stream.tag\":73,\"./modules/bracket-plus/advanced-analysis/prdash-total.tag\":78,\"./modules/bracket-plus/advanced-analysis/prdashChart.tag\":79,\"./modules/bracket-plus/advanced-analysis/prdashTimeline.tag\":80,\"./modules/bracket-plus/advanced-analysis/prdashboard.tag\":206,\"./modules/bracket-plus/advanced-analysis/stream-html.tag\":32,\"./modules/bracket-plus/analysis/analysis.tag\":207,\"./modules/bracket-plus/analysis/competitive.tag\":208,\"./modules/bracket-plus/analysis/competitive/_channel-competitive.tag\":209,\"./modules/bracket-plus/analysis/competitive/_chart-negative.tag\":210,\"./modules/bracket-plus/analysis/competitive/_number-summary.tag\":211,\"./modules/bracket-plus/analysis/competitive/_sentiment.tag\":212,\"./modules/bracket-plus/analysis/competitive/average-daily.tag\":91,\"./modules/bracket-plus/analysis/competitive/brand-positioning.tag\":213,\"./modules/bracket-plus/analysis/competitive/chart-positive.tag\":82,\"./modules/bracket-plus/analysis/competitive/chart/chart-negative\":28,\"./modules/bracket-plus/analysis/competitive/chart/chart-negative.js\":28,\"./modules/bracket-plus/analysis/competitive/chart/chart-positive\":27,\"./modules/bracket-plus/analysis/competitive/chart/chart-positive.js\":27,\"./modules/bracket-plus/analysis/competitive/chart/menu.tag\":16,\"./modules/bracket-plus/analysis/competitive/chart/sentiment-composition.tag\":44,\"./modules/bracket-plus/analysis/competitive/competitive-share-of-voice.tag\":83,\"./modules/bracket-plus/analysis/competitive/facebook-comparison.tag\":86,\"./modules/bracket-plus/analysis/competitive/geo-competitive.tag\":94,\"./modules/bracket-plus/analysis/competitive/influence.tag\":88,\"./modules/bracket-plus/analysis/competitive/instagram-comparison.tag\":87,\"./modules/bracket-plus/analysis/competitive/most-active.tag\":89,\"./modules/bracket-plus/analysis/competitive/share-of-voicesentiment.tag\":84,\"./modules/bracket-plus/analysis/competitive/top-hastag.tag\":90,\"./modules/bracket-plus/analysis/competitive/top-mention-dayli.tag\":92,\"./modules/bracket-plus/analysis/competitive/top-word.tag\":93,\"./modules/bracket-plus/analysis/competitive/twitter-comparison.tag\":85,\"./modules/bracket-plus/analysis/my-stream.tag\":214,\"./modules/bracket-plus/analysis/my-streams/_buzz-geo.tag\":215,\"./modules/bracket-plus/analysis/my-streams/_source-table.tag\":216,\"./modules/bracket-plus/analysis/my-streams/chart-average-daily-mention.tag\":96,\"./modules/bracket-plus/analysis/my-streams/chart_share_streams.tag\":217,\"./modules/bracket-plus/analysis/my-streams/chart_streams-time.tag\":95,\"./modules/bracket-plus/analysis/my-streams/influent_sosial.tag\":97,\"./modules/bracket-plus/analysis/my-streams/mentions-stats.tag\":103,\"./modules/bracket-plus/analysis/my-streams/most_active_sosial.tag\":98,\"./modules/bracket-plus/analysis/my-streams/my-filter.tag\":46,\"./modules/bracket-plus/analysis/my-streams/popular-mentions-streams.tag\":218,\"./modules/bracket-plus/analysis/my-streams/popular_location.tag\":102,\"./modules/bracket-plus/analysis/my-streams/sociograph.tag\":100,\"./modules/bracket-plus/analysis/my-streams/stream-composition.tag\":219,\"./modules/bracket-plus/analysis/my-streams/summaries.tag\":99,\"./modules/bracket-plus/analysis/my-streams/top-hastags.tag\":220,\"./modules/bracket-plus/analysis/my-streams/tophashtags.tag\":104,\"./modules/bracket-plus/analysis/my-streams/wordcloud.tag\":101,\"./modules/bracket-plus/author/author/sociograh-author.tag\":105,\"./modules/bracket-plus/author/dashboard-author.tag\":221,\"./modules/bracket-plus/buzzertracking/buzzertracking.tag\":222,\"./modules/bracket-plus/buzzertracking/buzzertracking/buzzer-picker.tag\":49,\"./modules/bracket-plus/buzzertracking/buzzertracking/engagement-metric.tag\":53,\"./modules/bracket-plus/buzzertracking/buzzertracking/influencer-metric.tag\":52,\"./modules/bracket-plus/buzzertracking/buzzertracking/reach-metric.tag\":51,\"./modules/bracket-plus/buzzertracking/buzzertracking/streamsbuzzer.tag\":50,\"./modules/bracket-plus/buzzertracking/buzzertracking/summary-buzzer.tag\":48,\"./modules/bracket-plus/buzzertracking/buzzertracking/totalbuzzer-tracking.tag\":47,\"./modules/bracket-plus/buzzertracking/buzzertracking10.tag\":223,\"./modules/bracket-plus/command-center/command-center.tag\":224,\"./modules/bracket-plus/correction/Correction.tag\":225,\"./modules/bracket-plus/correction/action-correction.tag\":109,\"./modules/bracket-plus/correction/datepicker.tag\":107,\"./modules/bracket-plus/correction/search-correction.tag\":106,\"./modules/bracket-plus/correction/streams-correction.tag\":108,\"./modules/bracket-plus/dashboard/pr-dashboard.tag\":226,\"./modules/bracket-plus/domain-infographic/infographic.tag\":227,\"./modules/bracket-plus/domain-infographic/my-infographic/buzz-volume.tag\":119,\"./modules/bracket-plus/domain-infographic/my-infographic/buzzGeoInfographic.tag\":127,\"./modules/bracket-plus/domain-infographic/my-infographic/channel-sentiment.tag\":154,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-average-daily-mention.tag\":148,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-conversation-group.tag\":133,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-conversation.tag\":128,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-sentiment-negative.tag\":230,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-sentiment-neutral.tag\":131,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-sentiment-positive-negative.tag\":126,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-sentiment-total.tag\":118,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-share-streams.tag\":113,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-stream.tag\":110,\"./modules/bracket-plus/domain-infographic/my-infographic/chart-streams-time.tag\":149,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/composisistrems\":55,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/composisistrems.js\":55,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/composition\":155,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/composition.js\":155,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/sentiment-composition\":22,\"./modules/bracket-plus/domain-infographic/my-infographic/chart/sentiment-composition.js\":22,\"./modules/bracket-plus/domain-infographic/my-infographic/competisi-medio-distributor-chart.tag\":146,\"./modules/bracket-plus/domain-infographic/my-infographic/competisi-sentiment-chart.tag\":117,\"./modules/bracket-plus/domain-infographic/my-infographic/competition-media-distribution.tag\":145,\"./modules/bracket-plus/domain-infographic/my-infographic/composition-by-brand.tag\":151,\"./modules/bracket-plus/domain-infographic/my-infographic/filter-form.tag\":56,\"./modules/bracket-plus/domain-infographic/my-infographic/influence-social-author.tag\":132,\"./modules/bracket-plus/domain-infographic/my-infographic/influence_sosial_for_kemenkes.tag\":152,\"./modules/bracket-plus/domain-infographic/my-infographic/most-active-sosial.tag\":134,\"./modules/bracket-plus/domain-infographic/my-infographic/mostActiveKemenkes.tag\":153,\"./modules/bracket-plus/domain-infographic/my-infographic/number-summary.tag\":144,\"./modules/bracket-plus/domain-infographic/my-infographic/reach-of-mention.tag\":231,\"./modules/bracket-plus/domain-infographic/my-infographic/sentiment-competition-pie.tag\":130,\"./modules/bracket-plus/domain-infographic/my-infographic/sentiment-competition.tag\":143,\"./modules/bracket-plus/domain-infographic/my-infographic/share-of-voice.tag\":124,\"./modules/bracket-plus/domain-infographic/my-infographic/souce-of-mention.tag\":112,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-negative.tag\":141,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-negativepie.tag\":137,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-neutral.tag\":140,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-neutralpie.tag\":138,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-positive.tag\":139,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mention-positivepie.tag\":136,\"./modules/bracket-plus/domain-infographic/my-infographic/source-of-mentions-pie.tag\":135,\"./modules/bracket-plus/domain-infographic/my-infographic/stream-composition.tag\":111,\"./modules/bracket-plus/domain-infographic/my-infographic/streams-negative.tag\":122,\"./modules/bracket-plus/domain-infographic/my-infographic/streams-netral.tag\":120,\"./modules/bracket-plus/domain-infographic/my-infographic/streams-positive.tag\":121,\"./modules/bracket-plus/domain-infographic/my-infographic/summary-by-brand.tag\":150,\"./modules/bracket-plus/domain-infographic/my-infographic/table-of-mention.tag\":125,\"./modules/bracket-plus/domain-infographic/my-infographic/top-hashtags.tag\":147,\"./modules/bracket-plus/domain-infographic/my-infographic/top-words.tag\":129,\"./modules/bracket-plus/domain-infographic/my-infographic/total-sentiment.tag\":142,\"./modules/bracket-plus/domain-infographic/my-infographic/wordcloud-all.tag\":123,\"./modules/bracket-plus/domain-infographic/my-infographic/wordcloud-negative.tag\":116,\"./modules/bracket-plus/domain-infographic/my-infographic/wordcloud-neutral.tag\":115,\"./modules/bracket-plus/domain-infographic/my-infographic/wordcloud-positive.tag\":114,\"./modules/bracket-plus/domain/dasboarindosat.tag\":232,\"./modules/bracket-plus/domain/infographicindosat/sourceofmentionnegativepie.tag\":156,\"./modules/bracket-plus/domain/infographicindosat/sourceofmentionpositivepie.tag\":157,\"./modules/bracket-plus/downloads/DownloadCSV.tag\":233,\"./modules/bracket-plus/downloads/component-download/stream-timeline-dowload.tag\":158,\"./modules/bracket-plus/downloads/download.tag\":234,\"./modules/bracket-plus/downloads/downloadcharts.tag\":235,\"./modules/bracket-plus/extras/TombolRefres.tag\":6,\"./modules/bracket-plus/extras/breadcrumb.tag\":2,\"./modules/bracket-plus/extras/channel.tag\":14,\"./modules/bracket-plus/extras/chart-average\":12,\"./modules/bracket-plus/extras/chart-average.js\":12,\"./modules/bracket-plus/extras/chart-bar\":1,\"./modules/bracket-plus/extras/chart-bar-sentiment\":29,\"./modules/bracket-plus/extras/chart-bar-sentiment.js\":29,\"./modules/bracket-plus/extras/chart-bar.js\":1,\"./modules/bracket-plus/extras/chart-pie\":18,\"./modules/bracket-plus/extras/chart-pie.js\":18,\"./modules/bracket-plus/extras/chart-toptime\":10,\"./modules/bracket-plus/extras/chart-toptime.js\":10,\"./modules/bracket-plus/extras/chart.treemp\":159,\"./modules/bracket-plus/extras/chart.treemp.js\":159,\"./modules/bracket-plus/extras/date-picker.tag\":3,\"./modules/bracket-plus/extras/group-by.tag\":8,\"./modules/bracket-plus/extras/group-project.tag\":236,\"./modules/bracket-plus/extras/modal-filter.tag\":237,\"./modules/bracket-plus/extras/pagging.tag\":5,\"./modules/bracket-plus/extras/pagination.tag\":81,\"./modules/bracket-plus/extras/prdash-filter-2.tag\":76,\"./modules/bracket-plus/extras/reachVSmention\":19,\"./modules/bracket-plus/extras/reachVSmention.js\":19,\"./modules/bracket-plus/extras/rg-tags.tag\":238,\"./modules/bracket-plus/extras/sendMail.tag\":25,\"./modules/bracket-plus/extras/sentiment.tag\":13,\"./modules/bracket-plus/extras/tabmenu.tag\":239,\"./modules/bracket-plus/healtindex/digitalhealtindex/averagedailymention.tag\":58,\"./modules/bracket-plus/healtindex/digitalhealtindex/interactionmetric.tag\":59,\"./modules/bracket-plus/healtindex/digitalhealtindex/sentimentperchannel.tag\":60,\"./modules/bracket-plus/healtindex/digitalhealtindex/summarydigitalhealt.tag\":61,\"./modules/bracket-plus/healtindex/digitalhealtindex/total-healt-index.tag\":62,\"./modules/bracket-plus/healtindex/healthindexaccount.tag\":240,\"./modules/bracket-plus/healtindex/healtindex10.tag\":241,\"./modules/bracket-plus/infographic/competitioninfographic.tag\":242,\"./modules/bracket-plus/infographic/headerinfographic.tag\":160,\"./modules/bracket-plus/infographic/infographicmybrand.tag\":243,\"./modules/bracket-plus/infographic/mybrand/buzzgeodistributioninfographic.tag\":244,\"./modules/bracket-plus/infographic/mybrand/buzzvolume.tag\":245,\"./modules/bracket-plus/infographic/mybrand/chartsentiment.tag\":246,\"./modules/bracket-plus/infographic/mybrand/pagethreewordnegative.tag\":247,\"./modules/bracket-plus/infographic/mybrand/pagethreewordpositive.tag\":248,\"./modules/bracket-plus/infographic/mybrand/reachVSmention.tag\":249,\"./modules/bracket-plus/infographic/mybrand/sahreofvoicepagetwo.tag\":250,\"./modules/bracket-plus/infographic/mybrand/summarypagetwo.tag\":251,\"./modules/bracket-plus/infographic/summaryinfographic/buzzgeodistibution.tag\":175,\"./modules/bracket-plus/infographic/summaryinfographic/buzzsource.tag\":169,\"./modules/bracket-plus/infographic/summaryinfographic/buzzvolume.tag\":168,\"./modules/bracket-plus/infographic/summaryinfographic/chartjs/twittervsmention\":31,\"./modules/bracket-plus/infographic/summaryinfographic/chartjs/twittervsmention.js\":31,\"./modules/bracket-plus/infographic/summaryinfographic/mostinfluencer.tag\":174,\"./modules/bracket-plus/infographic/summaryinfographic/sentimentchart.tag\":167,\"./modules/bracket-plus/infographic/summaryinfographic/sentimentpositivenegative.tag\":172,\"./modules/bracket-plus/infographic/summaryinfographic/shareofvoice.tag\":171,\"./modules/bracket-plus/infographic/summaryinfographic/summary-inf.tag\":173,\"./modules/bracket-plus/infographic/summaryinfographic/twittervsmention.tag\":170,\"./modules/bracket-plus/infographic/summmarycomptition/chart/chartspline\":30,\"./modules/bracket-plus/infographic/summmarycomptition/chart/chartspline.js\":30,\"./modules/bracket-plus/infographic/summmarycomptition/chartcompetitor.tag\":161,\"./modules/bracket-plus/infographic/summmarycomptition/compositionbranddaily.tag\":163,\"./modules/bracket-plus/infographic/summmarycomptition/compositionbrandlast.tag\":165,\"./modules/bracket-plus/infographic/summmarycomptition/sentimentcompetition.tag\":166,\"./modules/bracket-plus/infographic/summmarycomptition/shareofdaily.tag\":162,\"./modules/bracket-plus/infographic/summmarycomptition/shareofvoicelast.tag\":164,\"./modules/bracket-plus/main/Auth\":4,\"./modules/bracket-plus/main/Auth.js\":4,\"./modules/bracket-plus/main/header.tag\":66,\"./modules/bracket-plus/main/left-side.tag\":67,\"./modules/bracket-plus/main/login.tag\":252,\"./modules/bracket-plus/main/main.tag\":65,\"./modules/bracket-plus/mentions/_chart-sentiment.tag\":253,\"./modules/bracket-plus/mentions/_chart-source.tag\":254,\"./modules/bracket-plus/mentions/_comparison.tag\":255,\"./modules/bracket-plus/mentions/_popup.tag\":256,\"./modules/bracket-plus/mentions/_project.tag\":257,\"./modules/bracket-plus/mentions/chart-stream.tag\":45,\"./modules/bracket-plus/mentions/dashboar-mentions.tag\":258,\"./modules/bracket-plus/mentions/filter.tag\":9,\"./modules/bracket-plus/mentions/stream-timeline.tag\":54,\"./modules/bracket-plus/projects/project-form.tag\":259,\"./modules/bracket-plus/projects/project.tag\":260,\"./modules/bracket-plus/setting/account.tag\":261,\"./modules/bracket-plus/setting/addfilterlist.tag\":262,\"./modules/bracket-plus/setting/author-marker.tag\":263,\"./modules/bracket-plus/setting/brand-infographic.tag\":176,\"./modules/bracket-plus/setting/buzzer-account.tag\":264,\"./modules/bracket-plus/setting/change-password.tag\":265,\"./modules/bracket-plus/setting/competitiveness-infographic.tag\":177,\"./modules/bracket-plus/setting/editfilterlist.tag\":266,\"./modules/bracket-plus/setting/facebook.tag\":267,\"./modules/bracket-plus/setting/filterlist.tag\":268,\"./modules/bracket-plus/setting/global-setting.tag\":269,\"./modules/bracket-plus/setting/header-menu.tag\":7,\"./modules/bracket-plus/setting/infographic.tag\":270,\"./modules/bracket-plus/setting/project-setup.tag\":271,\"./modules/bracket-plus/setting/project-update.tag\":272,\"./modules/bracket-plus/setting/setting-project.tag\":273,\"./modules/bracket-plus/setting/setting.tag\":274,\"./modules/bracket-plus/setting/spike-formemail.tag\":178,\"./modules/bracket-plus/setting/spike-formsms.tag\":179,\"./modules/bracket-plus/setting/spike-notification.tag\":275,\"./modules/bracket-plus/setting/taginglist.tag\":276,\"./modules/bracket-plus/source/source.tag\":277,\"./modules/bracket-plus/summary/component-summary/audient-infographic.tag\":180,\"./modules/bracket-plus/summary/component-summary/buzzgeodistribution.tag\":181,\"./modules/bracket-plus/summary/component-summary/detail-mentions.tag\":17,\"./modules/bracket-plus/summary/component-summary/everage-mention.tag\":182,\"./modules/bracket-plus/summary/component-summary/filterform.tag\":21,\"./modules/bracket-plus/summary/component-summary/most-author.tag\":183,\"./modules/bracket-plus/summary/component-summary/popular-mentions.tag\":184,\"./modules/bracket-plus/summary/component-summary/potential-reach.tag\":185,\"./modules/bracket-plus/summary/component-summary/reach-of-mentions.tag\":186,\"./modules/bracket-plus/summary/component-summary/social-share-of-voice.tag\":187,\"./modules/bracket-plus/summary/component-summary/source-of-mention.tag\":188,\"./modules/bracket-plus/summary/component-summary/time-line-of-mentions.tag\":189,\"./modules/bracket-plus/summary/component-summary/tophashtagAndword.tag\":190,\"./modules/bracket-plus/summary/component-summary/total-sentimentall.tag\":191,\"./modules/bracket-plus/summary/component-summary/wordcloudsummary.tag\":192,\"./modules/bracket-plus/summary/dashboard-summary.tag\":278,\"./modules/bracket-plus/test.tag\":279,\"./modules/bracket-plus/trendings/google-trends.tag\":280,\"./modules/bracket-plus/trendings/twitter-trends.tag\":281,\"./routes/bracket-plus\":26,\"./routes/bracket-plus.json\":26,\"./routes/maniac\":193,\"./routes/maniac.json\":193};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(a,t)){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id=198},function(t,e,i){i(0).tag2(\"advanced-analysis\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"page-title\">Advan Analysis<small>your small text goes here</small></h1> <h2 if=\"{projectId}\">Project ID: {projectId}</h2> <div id=\"bs-daterangepicker\" class=\"btn bg-grey-200 padding-10-20 no-border color-grey-600 pull-right border-radius-10 hidden-xs no-shadow\"><i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i></div> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body no-padding-top bg-white height100 margin-bottom-10\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{APP.log(\"advanced-analysis : mount\"),this.update(),ripple10.loaddaterangepicker()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(8),i(70),i(71),i(72),i(73),i(75),i(76);i(0).tag2(\"advanced-dashboard\",'<div class=\"page-head bg-grey-100 nopaddingbottm\"> <h1 class=\"header-title nomargin inblock\"> PUBLIC RELATION DASHBOARD</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-9\"> <prdash-channel loading=\"{isLoading}\" cb=\"{updateChannel}\" ref=\"prdashchannel\"></prdash-channel> </div> <div class=\"col-md-3\"> <prdash-sentiment loading=\"{isLoading}\" cb=\"{updateSentiment}\" ref=\"prsentiment\"></prdash-sentiment> </div> <div class=\"col-md-12\"> <prdash-graph loading=\"{isLoading}\" ref=\"prgraph\"></prdash-graph> <div class=\"clearfix\"></div> </div> <div class=\"col-md-8\"> <prdash-filter-2 class=\"visible-xs visible-sm hidden-md\" cb=\"{updateFilter}\" ref=\"prfilter\"></prdash-filter-2> <prdash-stream-timeline cb=\"{changeStream}\" ref=\"prstream\"></prdash-stream-timeline> </div> <div class=\"col-md-4 visible-lg visible-md hidden-xs\"> <prdash-filter cb=\"{updateFilter}\" ref=\"prfilter2\"></prdash-filter> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null,pr_service:!0,section:\"positive,negative,neutral\"},this.render=()=>{this.refs.prgraph.render(),this.refs.prstream.render(),setTimeout(()=>{this.refs.prsentiment.render()},2e3),this.update()},this.getAPI=()=>{APP.log(\"advanced-dashboard : getApi\"),this.isLoading=!0,this.update();let t=this.search,e=(this.refs,this);async.parallel({index:function(e){APP.apiGet({path:\"prdash\",data:t,success:function(t){e(null,t)}})},graph:function(e){APP.apiGet({path:\"prdash/graph\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.isLoading=!1,e.update()}))},this.updateDate=(t,e)=>{APP.log(\"advanced-dashboard : updateDate\"),this.search.since=t,this.search.until=e,this.render(),this.refs.prdashchannel.render()},this.updateChannel=t=>{APP.log(\"advanced-dashboard : updateChannel\"),this.refs.prgraph.filterchannel(t);let e=[];_.forEach(t,(function(t){t.selected&&e.push(t.cat_id)})),setTimeout(()=>{this.refs.prsentiment.render(t)},2e3),this.search.section=this.sentimentparams,this.search.service_category=e.toString(),this.render()},this.updateSentiment=t=>{this.sentimentparams=t,APP.log(\"advanced-dashboard : updateSentiment\"),this.refs.prstream.isLoading=!0,this.search.section=this.sentimentparams,setTimeout(()=>{this.refs.prdashchannel.render(),this.render(),this.update()},1e3)},this.changeStream=()=>{this.render()},this.updateFilter=t=>{var e=this.refs.prsentiment.sentiment,i=_.filter(e,(function(t){return t.selected}));let a=[];_.forEach(i,(function(t){a.push(t.id)})),this.refs.prstream.isLoading=!0,this.search.section=a.join(\",\"),APP.log(\"advanced-dashboard : updateFilter\"),this.search.q=t.q,this.search.domain=t.domain,this.search.author=t.author,this.getAPI()},this.projectId=null,this.on(\"mount\",()=>{APP.log(\"advanced-dashboard : mount\"),menuActive.trigger(\"activated\",[\"pr_dashboard\"]),urlStream.trigger(\"changeUrl\",\"advanced-analysis/pr-dashboard\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),p(\"filter\")&&this.getfilterlistid(),ripple10.loaddaterangepicker()}),this.getfilterlistid=()=>{APP.log(\"project : project\"),APP.apiGet({path:\"bookmark-filter/list/\"+p(\"filter\"),data:{id:p(\"filter\")},success:function(t){this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,this.refs.prfilter.getfilterlist(t),this.refs.prfilter2.getfilterlist(t),this.getAPI(),this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";i.r(e);i(39),i(3),i(38),i(35),i(34),i(33),i(36),i(37);i(0).tag2(\"buzzer-tracking-account\",'<div class=\"page-head\"> <h1 class=\"header-title nomargin inblock\">BUZZER TRACKING</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div if=\"{load}\" class=\"loaderpanel\"> <div class=\"txtcentertop\"> <p>No data found, please input another dates</p> <br> <p class=\" pointer refres-streams\" onclick=\"{getAPI}\"> <a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"> Reload </a></p> </div> </div> <div class=\"row\"> <div class=\"col-md-7\"> <chart-buzzer-summary loading=\"{isLoading}\" ref=\"chartsummary\"></chart-buzzer-summary> </div> <div class=\"col-md-5\"> <div class=\"btn-group\"> <buzzer-picker cb=\"{updateBuzzer}\" ref=\"buzzerpicker\"></buzzer-picker> </div> </div> <div class=\"col-md-7\"> <buzzer-summary-brand loading=\"{isLoading}\" ref=\"chartsummaryBrand\"></buzzer-summary-brand> <buzzer-stream-timeline loading=\"{isLoading}\" ref=\"bzstreamTimeline\"></buzzer-stream-timeline> </div> <div class=\"col-md-5\"> <div class=\"panel\"> <reach-metric loading=\"{isLoading}\" ref=\"reachmetrics\"></reach-metric> </div> <div class=\"panel\"> <influence-metric loading=\"{isLoading}\" ref=\"influencemetrics\"></influence-metric> </div> <div class=\"panel\"> <engagement-metric loading=\"{isLoading}\" ref=\"engagementmetrics\"></engagement-metric> </div> </div> </div> </div>',\"\",\"\",(function(t){this.updateBuzzer=t=>{this.isLoading=!0,APP.log(\"buzzer-tracker-account: updateBuzzer\");let e={};_.forEach(t,(function(t,i){let a=[];for(let e=0;e<t.length;e++)t[e].check&&a.push(t[e].username);e[i]=a})),this.DataBuzzer={buzzer_twitter:e.twitter?e.twitter.join(\",\"):\"\",buzzer_facebook:e.facebook?e.facebook.join(\",\"):\"\",buzzer_instagram:e.instagram?e.instagram.join(\",\"):\"\"},this.search.buzzer_twitter=e.twitter?e.twitter.join(\",\"):\"\",this.search.buzzer_facebook=e.facebook?e.facebook.join(\",\"):\"\",this.search.buzzer_instagram=e.instagram?e.instagram.join(\",\"):\"\",this.update(),this.apiGet()},this.setBuzzers=t=>{APP.log(\"buzzer-tracker-account: setBuzzers\"),this.refs.buzzerpicker.setItems(t)},this.getBuzzers=()=>{var t={project:this.search.project,service_category:this.search.project};APP.log(\"buzzer-tracker-account: getBuzzers\");let e=this;APP.apiGet({path:\"health/buzzers\",data:t,success:function(t){e.setBuzzers(t)}})},this.search={since:null,until:null,project:null},this.buzzhealth=[],this.buzzsentiment=[],this.apiGet=()=>{APP.log(\"buzzer-tracker-account: getAPI\"),this.refs.engagementmetrics.notdata=!1,this.refs.influencemetrics.notdata=!1,this.refs.reachmetrics.notdata=!1,this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs,i=this;e.bzstreamTimeline.render();var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(a+=s>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,s++);var o={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+a,data:o,success:function(e){t(null,e)}})},sentiment:function(t){APP.apiPost({path:\"health/buzzersentiment\"+a,data:o,success:function(e){t(null,e)}})}},(function(t,a){a.index.length>0?(e.engagementmetrics.notdata=!1,i.load=!1,i.buzzhealth=a.index,i.buzzsentiment=a.sentiment,e.chartsummary.render(a.index,a.sentiment),e.chartsummaryBrand.render(a.index,a.sentiment),e.reachmetrics.render(a.index),e.influencemetrics.render(a.index,a.sentiment),e.engagementmetrics.render(a.index),i.isLoading=!1,i.update()):(i.load=!0,i.buzzhealth=a.index,i.buzzsentiment=a.sentiment,e.chartsummary.render(a.index,a.sentiment),e.chartsummaryBrand.render(a.index,a.sentiment),e.reachmetrics.render(a.index),e.influencemetrics.render(a.index,a.sentiment),e.engagementmetrics.render(a.index),i.isLoading=!1,i.update())}))},this.updateDate=(t,e)=>{APP.log(\"buzzer-tracker-account: updateDate\"),this.search.since=t,this.search.until=e,this.getBuzzers()},this.on(\"mount\",()=>{APP.log(\"buzzer-tracker-account: mount\"),urlStream.trigger(\"changeUrl\",\"advanced-analysis/buzzer-tracking-r10\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"buzz_tracking\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker()}),this.downloadcsv=()=>{APP.log(\"buzzer-tracker-account: downloadcsv\");const t=[],e=this;_.forEach(this.buzzhealth,(function(i){let a=_.findIndex(e.buzzsentiment,{username:i.username,service:i.service}),s=e.buzzsentiment[a];t.push({\"Buzzer Name\":i.username,Service:i.service,Klout:s.klout_score,Post:i.postsCount,\"Potential Reach\":i.potentialReach,\"Neutral Sentiment\":s.neutralCount,\"Positive Sentiment\":s.positiveCount,\"Negative Sentiment\":s.negativeCount,\"Followers/Friends\":i.followers,\"Comment/Reply\":i.commentsCount,\"Retweet/Share\":i.sharesCount,\"Like/Favorite/+1\":i.likes_count,\"Applause Rate\":numeral(i.likes_count/i.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(i.commentsCount/i.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(i.sharesCount/i.postsCount).format(\"0,0.0\")})}));var i=this.refs.chartsummaryBrand.dataSummary,a=_.map(i,(function(t,e){return{\"Buzzer Name\":t.username,Service:t.service,Klout:t.klout_score,Post:t.postsCount,\"Potential Reach\":t.potentialReach,\"Neutral Sentiment\":t.neutralCount,\"Positive Sentiment\":t.positiveCount,\"Negative Sentiment\":t.negativeCount,\"Followers/Friends\":t.followers,\"Comment/Reply\":t.commentsCount,\"Retweet/Share\":t.sharesCount,\"Like/Favorite/+1\":t.likes_count,\"Applause Rate\":numeral(t.likes_count/t.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(t.commentsCount/t.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(t.sharesCount/t.postsCount).format(\"0,0.0\")}})),s=_.concat(t,a);this.JSONToCSVConvertor(s,\"Buzzer Tracking\",!0)},this.JSONToCSVConvertor=(t,e,i)=>{APP.log(\"buzzer-tracker-account: JSONToCSVConvertor\");var a=\"object\"!=typeof t?JSON.parse(t):t,s=\"\";if(s+=e+\"\\r\\n\\n\",i){var o=\"\";for(var r in a[0])o+=r+\",\";s+=(o=o.slice(0,-1))+\"\\r\\n\"}for(var n=0;n<a.length;n++){o=\"\";for(var r in a[n]){o+='\"'+(a[n][r]?a[n][r]:\"0\")+'\",'}o.slice(0,o.length-1),s+=o+\"\\r\\n\"}if(\"\"!=s){var l=\"Report_\";l+=e.replace(/ /g,\"_\");var c=\"data:text/csv;charset=utf-8,\"+escape(s),d=document.createElement(\"a\");d.href=c,d.style=\"visibility:hidden\",d.download=l+\".csv\",document.body.appendChild(d),d.click(),document.body.removeChild(d)}else alert(\"Invalid data\")}}))},function(t,e,i){\"use strict\";i.r(e);i(39),i(3),i(38),i(35),i(34),i(33),i(36),i(37);i(0).tag2(\"buzzer-tracking\",'<div class=\"page-head\"> <h1 class=\"header-title nomargin inblock\">BUZZER TRACKING</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div if=\"{load}\" class=\"loaderpanel\"> <div class=\"txtcentertop\"> <p>No data found, please input another dates</p> <br> <p class=\" pointer refres-streams\" onclick=\"{getAPI}\"> <a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"> Reload </a></p> </div> </div> <div class=\"row\"> <div class=\"col-md-7\"> <chart-buzzer-summary loading=\"{isLoading}\" ref=\"chartsummary\"></chart-buzzer-summary> </div> <div class=\"col-md-5\"> <div class=\"btn-group\"> <buzzer-picker cb=\"{updateBuzzer}\" ref=\"buzzerpicker\"></buzzer-picker> </div> </div> <div class=\"col-md-7\"> <buzzer-summary-brand loading=\"{isLoading}\" ref=\"chartsummaryBrand\"></buzzer-summary-brand> <buzzer-stream-timeline loading=\"{isLoading}\" ref=\"bzstreamTimeline\"></buzzer-stream-timeline> </div> <div class=\"col-md-5 \"> <div class=\"panel\"> <reach-metric loading=\"{isLoading}\" ref=\"reachmetrics\"></reach-metric> </div> <div class=\"panel\"> <influence-metric loading=\"{isLoading}\" ref=\"influencemetrics\"></influence-metric> </div> <div class=\"panel\"> <engagement-metric loading=\"{isLoading}\" ref=\"engagementmetrics\"></engagement-metric> </div> </div> </div> </div>',\"\",\"\",(function(t){this.updateBuzzer=t=>{APP.log(\"buzzer-tracker-account: updateBuzzer\");let e={};_.forEach(t,(function(t,i){let a=[];for(let e=0;e<t.length;e++)t[e].check&&a.push(t[e].username);e[i]=a})),this.DataBuzzer={buzzer_twitter:e.twitter?e.twitter.join(\",\"):\"\",buzzer_facebook:e.facebook?e.facebook.join(\",\"):\"\",buzzer_instagram:e.instagram?e.instagram.join(\",\"):\"\"},this.search.buzzer_twitter=e.twitter?e.twitter.join(\",\"):\"\",this.search.buzzer_facebook=e.facebook?e.facebook.join(\",\"):\"\",this.search.buzzer_instagram=e.instagram?e.instagram.join(\",\"):\"\",this.update(),this.apiPost()},this.setBuzzers=t=>{APP.log(\"buzzer-tracker-account: setBuzzers\"),this.refs.buzzerpicker.setItems(t)},this.getBuzzers=()=>{APP.log(\"buzzer-tracker-account: getBuzzers\");var t={project:this.search.project,service_category:this.search.project};let e=this;APP.apiGet({path:\"health/buzzers\",data:t,success:function(t){e.setBuzzers(t)}})},this.search={since:null,until:null,project:null,buzzer_twitter:\"\",buzzer_facebook:\"\",buzzer_instagram:\"\"},this.buzzhealth=[],this.buzzsentiment=[],this.apiPost=()=>{APP.log(\"buzzer-tracker-account: getAPI\"),this.refs.engagementmetrics.notdata=!1,this.refs.influencemetrics.notdata=!1,this.refs.reachmetrics.notdata=!1,this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs,i=this;e.bzstreamTimeline.render();var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(a+=s>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,s++);var o={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+a,data:o,success:function(e){t(null,e)}})},sentiment:function(t){APP.apiPost({path:\"health/buzzersentiment\"+a,data:o,success:function(e){t(null,e)}})}},(function(t,a){a.index.length>0?(i.load=!1,i.buzzhealth=a.index,i.buzzsentiment=a.sentiment,e.chartsummary.render(a.index,a.sentiment),e.chartsummaryBrand.render(a.index,a.sentiment),e.reachmetrics.render(a.index),e.influencemetrics.render(a.index,a.sentiment),e.engagementmetrics.render(a.index),i.isLoading=!1,i.update()):(i.load=!0,i.buzzhealth=a.index,i.buzzsentiment=a.sentiment,e.chartsummary.render(a.index,a.sentiment),e.chartsummaryBrand.render(a.index,a.sentiment),e.reachmetrics.render(a.index),e.influencemetrics.render(a.index,a.sentiment),e.engagementmetrics.render(a.index),i.isLoading=!1,i.update())}))},this.updateDate=(t,e)=>{APP.log(\"buzzer-tracker-account: updateDate\"),this.search.since=t,this.search.until=e,this.getBuzzers()},this.on(\"mount\",()=>{APP.log(\"buzzer-tracker-account: mount\"),urlStream.trigger(\"changeUrl\",\"advanced-analysis/buzzer-tracking\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker()}),this.downloadcsv=()=>{APP.log(\"buzzer-tracker-account: downloadcsv\");const t=[],e=this;_.forEach(this.buzzhealth,(function(i){let a=_.findIndex(e.buzzsentiment,{username:i.username,service:i.service}),s=e.buzzsentiment[a];t.push({\"Buzzer Name\":i.username,Service:i.service,Klout:s.klout_score,Post:i.postsCount,\"Potential Reach\":i.potentialReach,\"Neutral Sentiment\":s.neutralCount,\"Positive Sentiment\":s.positiveCount,\"Negative Sentiment\":s.negativeCount,\"Followers/Friends\":i.followers,\"Comment/Reply\":i.commentsCount,\"Retweet/Share\":i.sharesCount,\"Like/Favorite/+1\":i.likes_count,\"Applause Rate\":numeral(i.likes_count/i.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(i.commentsCount/i.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(i.sharesCount/i.postsCount).format(\"0,0.0\")})}));var i=this.refs.chartsummaryBrand.dataSummary,a=_.map(i,(function(t,e){return{\"Buzzer Name\":t.username,Service:t.service,Klout:t.klout_score,Post:t.postsCount,\"Potential Reach\":t.potentialReach,\"Neutral Sentiment\":t.neutralCount,\"Positive Sentiment\":t.positiveCount,\"Negative Sentiment\":t.negativeCount,\"Followers/Friends\":t.followers,\"Comment/Reply\":t.commentsCount,\"Retweet/Share\":t.sharesCount,\"Like/Favorite/+1\":t.likes_count,\"Applause Rate\":numeral(t.likes_count/t.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(t.commentsCount/t.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(t.sharesCount/t.postsCount).format(\"0,0.0\")}})),s=_.concat(t,a);this.JSONToCSVConvertor(s,\"Buzzer Tracking\",!0)},this.JSONToCSVConvertor=(t,e,i)=>{APP.log(\"buzzer-tracker-account: JSONToCSVConvertor\");var a=\"object\"!=typeof t?JSON.parse(t):t,s=\"\";if(s+=e+\"\\r\\n\\n\",i){var o=\"\";for(var r in a[0])o+=r+\",\";s+=(o=o.slice(0,-1))+\"\\r\\n\"}for(var n=0;n<a.length;n++){o=\"\";for(var r in a[n]){o+='\"'+(a[n][r]?a[n][r]:\"0\")+'\",'}o.slice(0,o.length-1),s+=o+\"\\r\\n\"}if(\"\"!=s){var l=\"Report_\";l+=e.replace(/ /g,\"_\");var c=\"data:text/csv;charset=utf-8,\"+escape(s),d=document.createElement(\"a\");d.href=c,d.style=\"visibility:hidden\",d.download=l+\".csv\",document.body.appendChild(d),d.click(),document.body.removeChild(d)}else alert(\"Invalid data\")}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(40),i(41),i(42),i(43);i(0).tag2(\"healthindex-account\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"header-title nomargin inblock\">DIGITAL HEALTH INDEX</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div if=\"{load}\" class=\"loaderpanel\"> <div class=\"txtcentertop\"> <p>No data found, please input another dates</p> <br> <p class=\" pointer refres-streams\" onclick=\"{getAPI}\"> <a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"> Reload </a></p> </div> </div> <div class=\"col-md-7\"> <chart-summary loading=\"{isLoading}\" ref=\"chartsummary\"></chart-summary> <div class=\"panel \"> <chart-tweet-density loading=\"{isLoading}\" ref=\"chartdensity\"></chart-tweet-density> </div> </div> <div class=\"col-md-5\"> <div class=\"panel \"> <chart-sentiment-channel loading=\"{isLoading}\" ref=\"chartsentiment\"></chart-sentiment-channel> </div> <div class=\"panel\"> <chart-interaction-metric loading=\"{isLoading}\" ref=\"chartinteraction\"></chart-interaction-metric> </div> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null},this.getAPI=()=>{APP.log(\"health-index-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs,i=this;async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,a){null!=a.index.twitter||null!=a.index.facebook||null!=a.index.instagram?(i.load=!1,e.chartsummary.render(a.index,a.sentiment),e.chartsentiment.render(a.sentiment),e.chartinteraction.render(a.index),e.chartdensity.render(),i.isLoading=!1,i.update()):(i.isLoading=!1,i.load=!0,e.chartsummary.render(a.index,a.sentiment),e.chartsentiment.render(a.sentiment),e.chartinteraction.render(a.index),e.chartdensity.render(),i.update())}))},this.updateDate=(t,e)=>{APP.log(\"health-index-account: updateDate\"),this.search.since=t,this.search.until=e,this.getAPI()},this.on(\"mount\",()=>{APP.log(\"health-index-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"advanced-analysis/health-index-r10\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(40),i(41),i(42),i(43);i(0).tag2(\"health-index\",'<div class=\"page-head bg-grey-100 nopaddingbottm\"> <h1 class=\"header-title nomargin inblock\">DIGITAL HEALTH INDEX</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div if=\"{load}\" class=\"loaderpanel\"> <div class=\"txtcentertop\"> <p>No data found, please input another dates</p><br> <p class=\" pointer refres-streams\" onclick=\"{getAPI}\"> <a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"> Reload </a></p> </div> </div> <div class=\"col-md-7\"> <chart-summary loading=\"{isLoading}\" ref=\"chartsummary\"></chart-summary> <div class=\"panel \"> <chart-tweet-density loading=\"{isLoading}\" ref=\"chartdensity\"></chart-tweet-density> </div> </div> <div class=\"col-md-5\"> <div class=\"panel \"> <chart-sentiment-channel loading=\"{isLoading}\" ref=\"chartsentiment\"></chart-sentiment-channel> </div> <div class=\"panel \"> <chart-interaction-metric loading=\"{isLoading}\" ref=\"chartinteraction\"></chart-interaction-metric> </div> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null},this.getAPI=()=>{APP.log(\"health-index: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs,i=this;async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(function(t,a){null!=a.index.twitter||null!=a.index.facebook||null!=a.index.instagram?(i.load=!1,e.chartsummary.render(a.index,a.sentiment),e.chartsentiment.render(a.sentiment),e.chartinteraction.render(a.index),e.chartdensity.render(),i.isLoading=!1,i.update()):(i.isLoading=!1,i.load=!0,e.chartsummary.render(a.index,a.sentiment),e.chartsentiment.render(a.sentiment),e.chartinteraction.render(a.index),e.chartdensity.render(),i.update())}))},this.updateDate=(t,e)=>{APP.log(\"health-index: updateDate\"),this.search.since=t,this.search.until=e,this.getAPI()},this.on(\"mount\",()=>{APP.log(\"health-index: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"advanced-analysis/health-index\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker()})}))},function(t,e,i){i(0).tag2(\"prdash-filter-2\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"col-xs-12 filter\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-1\" class=\"exc\" value=\"true\"> <label for=\"checkbox-inline-1\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div style=\"margin-top:20px\"> <button type=\"submit\" class=\"accsaved pointer\" id=\"addprojectaccount\"> Show Result</button> <button class=\"addprojectaccount \" id=\"cancel\" onclick=\"{reset}\"> Reset Filter </button> </div> </div> </form>',\"\",\"\",(function(t){this.kirim=e=>{e.preventDefault(),APP.log(\"prdash-filter: kirim\");let i={};if(null==$(\".exc:checked\").val())var a=!1;else a=$(\".exc:checked\").val();i.q=this.refs.internet.value,i.domain=this.refs.domain.value,i.author=this.refs.author.value,i.filterbot=a,\"function\"==typeof t.cb&&t.cb(i)},this.reset=()=>{APP.log(\"prdash-filter: reset\");let e={q:\"\",domain:\"\",author:\"\"};\"function\"==typeof t.cb&&t.cb(e)}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(78),i(79),i(80);i(0).tag2(\"prdashboard\",'<div class=\"page-head bg-grey-100 nopaddingbottm \"> <h1 class=\"header-title nomargin inblock hidden-xs\"> PUBLIC RELATION DASHBOARD</h1> <h1 class=\"header-title nomargin inblock visible-xs\"> PR DASHBOARD</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <prdashchart ref=\"prgraph\"></prdashChart> <div class=\"clearfix\"></div> </div> <div class=\"col-md-8\"> <prdashtimeline ref=\"prstream\"></prdashtimeline> </div> <div class=\"col-md-4\" style=\"margin-top: 50px;\"> <prdash-total ref=\"prsentiment\"></prdash-total> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null,pr_service:!0},this.render=()=>{this.refs.prstream.render(),this.refs.prgraph.render()},this.updateDate=(t,e)=>{APP.log(\"advanced-dashboard : updateDate\"),this.search.since=t,this.search.until=e,this.render()},this.projectId=null,this.on(\"mount\",()=>{APP.log(\"advanced-dashboard : mount\"),urlStream.trigger(\"changeUrl\",\"advanced-analysis/pr-dashboard\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update()})}))},function(t,e,i){i(0).tag2(\"analysis\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"page-title\">Analysis<small>your small text goes here</small></h1> <h2 if=\"{projectId}\">Project ID: {projectId}</h2> <div id=\"bs-daterangepicker\" class=\"btn bg-grey-200 padding-10-20 no-border color-grey-600 pull-right border-radius-10 hidden-xs no-shadow\"> <i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i> </div> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body no-padding-top bg-white height100 margin-bottom-10\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.projectId=null,this.on(\"mount\",()=>{this.projectId=p(\"id\"),this.update(),ripple10.loaddaterangepicker()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(8),i(13),i(14),i(9),i(44),i(16),i(82),i(83),i(84),i(85),i(86),i(87),i(88),i(89),i(90),i(91),i(92),i(93),i(94),i(2),i(17),i(21);i(0).tag2(\"competitive\",'<breadcrumb current=\"Dashboard Competitive\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">COMPETITIVE COMPARISON </h4> </div> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i> Filter</button> <group-competitive types=\"comparison\"></group-competitive> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\">ADD COMPARISON</button> </group-competitive> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <filtervalue ref=\"filterformvalue\"></filtervalue> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"sentimentcomposition\"> <sentiment-composition cb=\"{updateSentiment}\" ref=\"sentiment_composition\"></sentiment-composition> </div> </div> <chart-positive ref=\"chart_positive\"></chart-positive> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <competitive-share-of-voice ref=\"competitive_share_of_voice\"></competitive-share-of-voice> </div> <div class=\"col-md-6 mg-t-20\"> <shareofvoicesentiment ref=\"share_of_voice_sentiment\"></shareOfvoicesentiment> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <twittercomparison ref=\"twittercomparison\"></twitterComparison> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <facebookcomaprison ref=\"facebookcomparison\"></facebookComaprison> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <instagramcomaprison ref=\"instagramcomparison\"></instagramComaprison> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <influence ref=\"influence\"></influence> </div> </div> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <most-active ref=\"most_active\"></most-active> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <average-daily ref=\"average_daily_competitive\"></average-daily> </div> <div class=\"col-md-6 mg-t-20\"> <topmention-daily ref=\"topmentionsdaily\"></topmention-daily> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <top-hastag ref=\"top_hastags\"></top-hastag> </div> </div> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <toword ref=\"topWord\"> </topword> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <geo-competitive ref=\"buzz_geo\"></geo-competitive> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter ref=\"filterval\" namefilter=\"false\"></filter> </div> </div> </form> </div> </div> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <detaimention ref=\"detailmentions\"></detaimention> </div> </div> </div>',\"\",\"\",(function(t){function e(){for(var t=($(\"#sentimentcomposition\").width()-20)/3,e=document.getElementsByClassName(\"widthsentiment\"),i=0;i<e.length;i++)e[i].style.width=t+\"px\"}this.author=!0,this.search={since:null,until:null,project:null,service_category:null,type:null},this.dataProjects=[],this.xhr=null,this.xhrrender=null,this.channels=null,this.project=null,this.on(\"mount\",()=>{APP.log(\"competitive: mount\"),this.since=localStorage.getItem(\"since\"),this.until=localStorage.getItem(\"until\"),this.update(),menuActive.trigger(\"activated\",[\"analysis\",\"competitiveness\"]),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),urlStream.trigger(\"changeUrl\",\"comparison\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),e(),$(\"body,html\").animate({scrollTop:0},500),this.project=this.dataProjects,this.setItem()}),this.on(\"unmount\",()=>{}),this.render=()=>{APP.log(\"competitive: render\");const t=_.map(this.channels,t=>t.id);this.search.service_category=t.join(\",\"),this.refs.twittercomparison.render(),this.refs.chart_positive.render(()=>{this.refs.competitive_share_of_voice.render(),this.refs.share_of_voice_sentiment.render(()=>{this.author&&this.refs.most_active.render(),this.refs.influence.render()}),this.refs.topWord.render(),this.refs.buzz_geo.render(),this.refs.topmentionsdaily.render(),this.refs.average_daily_competitive.render(),this.refs.top_hastags.render()})},renderchart.on(\"chartstream_multiproject\",(t,e,i,a,s,o,r,n,l,c,d,h)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),setTimeout(()=>{_.isEmpty(this.refs)||this.refs.detailmentions.modalsentimentvalue(t,e,i,a,s,o,r,n,l,c,d,h)},500)}),rendercharttoptime.on(\"topmentionstime\",(t,e)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),this.detailmentions(t,null,null,null,null,e,null,null)}),this.detailmentions=(t,e,i,a,s,o,r,n)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),_.isEmpty(this.refs)||this.refs.detailmentions.modalsentimentvalue(t,e,i,a,s,o,r,n)},this.updateDate=(t,e)=>{APP.log(\"competitive: updateDate\"),this.search.since=t,this.search.until=e,setTimeout(()=>{this.render()},1e3)},this.updateChannel=t=>{APP.log(\"competitive: updateChannel\"),this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),this.render()},this.updateSentiment=t=>{APP.log(\"competitive: updateSentiment\"),this.search.section=t,this.search.since=localStorage.since,this.search.until=localStorage.until,setTimeout(function(){this.render()}.bind(this),100)},this.updatefiltername=()=>{var t={name:this.namefiltervalue,keywords:this.search.q,domain:this.search.domain,author:this.search.author,filterbot:this.search.filterbot};!this.refs.filterformvalue.saveshowdropdown&&this.refs.filterformvalue.filtervalue&&this.refs.filterformvalue._id&&APP.apiPost({path:p(\"project\"),data:t,success:e=>{APP.success(\"sukses\",()=>{this.refs.filterval.updatevaluekey(t),this.search.q=t.keywords,this.search.domain=t.domain,this.search.author=t.author,this.search.filterbot=\"true\"==t.filterbot,this.update(),this.render()})}})},this.resetFilter=()=>{setTimeout(function(){this.refs.filterformvalue.filtervalue=!1,this.render(),this.update()}.bind(this),100)},this.setItem=()=>{const t=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color\"},success:e=>{var i=e;_.map(i,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(e=>{t.indexOf(e.id)>-1?e.checked=!0:e.checked=!1,this.dataProjects.push(e)}),this.data=_.filter(this.dataProjects,(function(t){return t.checked})),this.updateData=_.sortBy(this.dataProjects,[function(t){return!t.checked}]),menu.trigger(\"nameproject\",this.dataProjects),this.update()}})},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.search.group_service=\"true\",this.search.service_category=null,this.xhr=APP.apiGet({path:\"mentions\",data:this.search,success:t=>{this.update()}})},this.inputfocus=()=>{$(\"#modalfilterlist\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnameauthor\").focus()}))},this.updateFilter=t=>{this.refs.filterformvalue.updateFilter(t)},this.on(\"mount\",()=>{this.xhr=null,this.xhrrender=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.xhrrender&&this.xhrrender.abort(),delete this.xhrrender,delete this.xhr}),this.getfilterlistid=()=>{APP.log(\"project : project\"),null==APP.currentProject&&null==APP.currentProject||APP.apiGet({path:\"bookmark-filter/list/\"+APP.currentProject,data:{id:p(\"filter\")},success:t=>{this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,this.refs.filfilter.getfilterlist(t),this.render()}})},window.onload=function(){e()},window.onresize=function(){e()},menu.on(\"sidebar\",t=>{setTimeout(()=>{e()},1e3)})}))},function(t,e,i){i(0).tag2(\"channel-cometitive\",'<div class=\"panel bg-grey-50\"> <div class=\"btn-group\"> <button type=\"button\" id=\"ser-cat\" class=\"btn btn-default btn-source {\\'bg-grey-300\\': allSelected}\" onclick=\"{selectAllChannel}\"> <div class=\"ion-earth icon-source\"></div>All <p>{numeral(total).format(\\'0 a\\')}</p> </button> <button type=\"button\" class=\"btn btn-default btn-source {\\'bg-grey-300\\': selected}\" each=\"{channels}\" onclick=\"{selectChannel}\"> <div class=\"{icon} icon-source\"></div>{name} <p>{numeral(count).format(\\'0 a\\')}</p> </button> </div> </div>',\"\",\"\",(function(t){this.total=0,this.allSelected=!0,this.idTO=null,this.channels=[{id:1,name:\"Facebook\",selected:!0,icon:\"ion-social-facebook\",color:\"#425F9C\",count:0},{id:2,name:\"Twitter\",selected:!0,icon:\"ion-social-twitter\",color:\"#00ACEE\",count:0},{id:4,name:\"Blogs\",selected:!0,icon:\"ion-social-rss\",color:\"#000000\",count:0},{id:5,name:\"Forum\",selected:!0,icon:\"ion-android-chat\",color:\"#babcbc\",count:0},{id:3,name:\"News\",selected:!0,icon:\"ion-ios-paper\",color:\"#eda900\",count:0},{id:6,name:\"Video\",selected:!0,icon:\"ion-ios-videocam\",color:\"#b2576e\",count:0},{id:7,name:\"Photo\",selected:!0,icon:\"ion-images\",color:\"#847667\",count:0},{id:8,name:\"Other\",selected:!0,icon:\"ion-ios-keypad\",color:\"#758452\",count:0}],this.selectAllChannel=t=>{t.preventDefault(),clearTimeout(this.idTO);const e=this.allSelected=!this.allSelected;this.channels=_.map(this.channels,t=>(t.selected=e,t)),this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},1250)},this.selectChannel=t=>{APP.log(\"channel-cometitive: selectChannel\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected;const e=_.find(this.channels,{selected:!1});this.allSelected=!e,this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},1250)},this.channelSelected=()=>{if(APP.log(\"channel-cometitive: channelSelected\"),\"function\"==typeof t.cb){const e=this.getChannelSelected();e.length>0&&t.cb(e)}},this.getChannelSelected=()=>{APP.log(\"channel-cometitive: getChannelSelected\");return _.filter(this.channels,t=>t.selected)},this.updateCount=(t,e)=>{APP.log(\"channel-cometitive: updateCount\");const i=_.findIndex(this.channels,{id:t});this.channels[i].count=e,this.total=_.sumBy(this.channels,\"count\"),this.update()},this.on(\"mount\",()=>{APP.log(\"channel-cometitive: mount\"),this.update({total:_.sumBy(this.channels,\"count\")})})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(28),s=i.n(a);i(1);i(0).tag2(\"chart-negative\",'<div if=\"{this.nuull}\"> <div class=\"header-title\">NEGATIVE SENTIMENT</div> <div class=\"panel padding-10-20\" if=\"{!notdata}\"> <div class=\"col-md-6\"> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" style=\"z-index: 901;\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-sm btn-outline btn-info \"><i class=\"fa fa-refresh\"></i></a> </i> </div> <div class=\"clearfix\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div id=\"chartstream1\" class=\"panel-body bg-white height300\"> </div> </div> </div> <div class=\"panel\" if=\"{notdata}\"> <div class=\"panel-body\"> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.dataProjects=[],this.xhr=null,this.type=\"daily\",this.isExist=!0,this.chartnegative=null,this.isLoading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{APP.log(\"chart-negative: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{this.prj=this.parent.data,this.update(),setTimeout(()=>{},3e3)}),this.render=t=>{this.notdata=!1,APP.log(\"chart-negative: render\"),this.xhr=setTimeout(()=>{this.nuull=!0;var e=_.filter(this.parent.dataProjects,(function(t){return t.checked}));const i=_.find(this.times,{selected:!0}).id;let a=_.clone(this.parent.search);a.project=p(\"project\")?p(\"project\"):APP.getProject(),a.type=i;var o=e.map((function(t){return{name:t.name,color:t.color}})),r=_.reduce(o,(function(t,e){return t[e.name]=e.color,t}),{});if(this.update({isLoading:!0}),void 0!==a.section&&\"\"!==a.section&&null!==a.section&&\"negative,neutral,positive\"!==a.section&&\"neutral,negative,positive\"!==a.section&&\"positive,neutral,negative\"!==a.section&&\"neutral,positive,negative\"!==a.section&&\"positive,neutral,negative\"!==a.section&&\"positive,negative,neutral\"!==a.section&&\"negative,neutral\"!==a.section&&\"positive,negative\"!==a.section&&\"negative\"!==a.section)return this.update({isLoading:!1,nuull:!1}),this.nuull=!1,!1;a.section=\"negative\";const n=this.chartnegative=s()(\"chartstream1\",i);this.xhr=APP.apiGet({path:\"stream/brand/mention\",data:a,success:function(e){0===e.length?this.notdata=!0:this.update({notdata:!1});var i=_.groupBy(e,(function(t){return t.brand_name}));i=Object.keys(i).sort().reduce((t,e)=>(t[e]=i[e],t),{});for(let t in i){var a=_.sortBy(i[t],t=>moment(t.date).toDate());if(a=a.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!this.isExist)return;n.addSeries({id:\"response\",shadow:!1,name:t,lineWidth:2,color:r[t],marker:{radius:3},data:a})}this.update({isLoading:!1}),_.isFunction(t)&&t()}.bind(this)})},3e3)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart-negative: unmount\"),this.xhr&&this.xhr.abort(),this.chartnegative&&this.chartnegative.destroy()})}))},function(t,e,i){i(0).tag2(\"number-summary\",'<div class=\"col-md-12\"> <div class=\"header-title\">NUMBER SUMMARY</div> <div class=\"panel\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"scrolling outer box-outer-tbl\"> <div class=\"arrow-left-tbl\"> <svg class=\"pn-Advancer_Icon-tbl\" style=\"margin-top: 10px\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right-tbl\"> <svg class=\"pn-Advancer_Icon-tbl\" style=\"margin-top: 10px\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"inner box-inner-tbl\"> <table class=\" tablemarginbottom \" style=\"cursor: ew-resize;\"> <tr class=\"tr td th toptable \"> <th style=\"border-bottom: 1px solid #eee; height:50px;\"></th> <td colspan=\"7\" style=\"text-align: center;\" class=\"bordersummary\"><i class=\"fa fa-twitter\" aria-hidden=\"true\"> </i>Twitter</td> <td colspan=\"4\" style=\"text-align: center;\" class=\"bordersummary\"><i class=\"fa fa-facebook\" aria-hidden=\"true\"></i> Facebook</td> <td colspan=\"6\" style=\"text-align: center;\" class=\"bordersummary\"><i class=\"fa fa-instagram\" aria-hidden=\"true\"></i> Instagram <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline1 btn-info1 btn-sm\"><i class=\"fa fa-refresh\"></i></a></i></td> </tr> <tr style=\"text-align:center;\" class=\"tr td th\"> <th style=\"color:white; \" class=\"tr\">Brand</th> <td>Unique </br>Account</td> <td> Potential</br> Reach</td> <td> Top 10</br>Potential</br> Reach</td> <td>Regular </br> Tweet</td> <td> Re-Tweet</td> <td>Avg </br>Exposure</td> <td class=\"bordersummary\">Reply</td> <td>Unique </br>Account</br>(Post)</td> <td>Regular </br>Post</br>(Fanpage)</td> <td>#Comment </br>(Fanpage)</td> <td class=\"bordersummary\">Reply</td> <td>Unique </br>Account</br> Post</td> <td>Potential </br>Reach</td> <td>Top 10</br>Potential</br> Reach</td> <td>Regular </br>Post</td> <td>#Comment</td> <td>Reply</td> </tr> <tr each=\"{o,i in data}\" class=\"tr td th\"> <th style=\"color:white; border:1px solid #eee;\">{o.name}</th> <td>{o.unique_account_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.top_reach_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.top_reach10_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.regular_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.retweet_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.ae_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td class=\"bordersummary\">{o.reply_tw.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.unique_account_fb.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.regular_fb.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>0</td> <td class=\"bordersummary\">{o.reply_fb.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.unique_account_ig.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.top_reach_ig.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.top_reach10_ig.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>{o.regular_ig.toLocaleString({ minimumFractionDigits: 2 })}</td> <td>0</td> <td>{o.reply_ig.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!1,this.xhr=null,this.chacheSummary={},this.render=()=>{APP.log(\"number summary : render\");let t=_.clone(this.parent.search);t.type=null,this.update({isLoading:!0});let e=this;setTimeout((function(){APP.log(\"query summary\"),this.xhr=APP.apiGet({path:\"summary/bybrand\",data:t,success:function(t){e.data=t,e.update({isLoading:!1})}})}),2e4)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.data=null,this.xhr&&this.xhr.abort(),delete this.data}),$(window).resize((function(){$(\".box-inner-tbl\").scrollLeft()>=130?($(\"div.arrow-right-tbl\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-tbl\").removeClass(\"hide\"));$(\".box-inner-tbl\")[0].scrollWidth==$(\".box-outer-tbl\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-tbl\").addClass(\"hide\"))})),$(document).ready((function(){$(\".box-inner-tbl\").scrollLeft()>=130?($(\"div.arrow-right-tbl\").addClass(\"hide\"),$(\"div.arrow-left-tbl\").removeClass(\"hide\")):($(\"div.arrow-left-tbl\").addClass(\"hide\"),$(\"div.arrow-right-tbl\").removeClass(\"hide\"));$(\"div.arrow-left-tbl\").click((function(){var t=$(\".box-inner-tbl\").scrollLeft();$(\".box-inner-tbl\").animate({scrollLeft:t-300},1),0==$(\".box-inner-tbl\").scrollLeft()?($(\"div.arrow-left-tbl\").addClass(\"hide\"),$(\"div.arrow-right-tbl\").removeClass(\"hide\")):($(\"div.arrow-right-tbl\").removeClass(\"hide\"),$(\"div.arrow-left-tbl\").removeClass(\"hide\"))})),$(\"div.arrow-right-tbl\").click((function(){var t=$(\".box-inner-tbl\").scrollLeft();$(\".box-inner-tbl\").animate({scrollLeft:t+300},1);var e=$(\".box-inner-tbl\")[0].scrollWidth-$(\".box-outer-tbl\")[0].scrollWidth;$(\".box-inner-tbl\").scrollLeft()>=e?($(\"div.arrow-right-tbl\").addClass(\"hide\"),$(\"div.arrow-left-tbl\").removeClass(\"hide\")):($(\"div.arrow-left-tbl\").removeClass(\"hide\"),$(\"div.arrow-right-tbl\").removeClass(\"hide\"))}))}))}))},function(t,e,i){i(0).tag2(\"sentiment1\",'<div class=\"col-md-4\"> <div class=\"panel bg-grey-50\"> <div class=\"btn-group\"> <div class=\"col-md-4\"> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"count-txt color-500\">12,9K</div><br>Positif</button> </div> <div class=\"col-md-4\"> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"count-txt color-500\">23K</div><br>Negatif</button> </div> <div class=\"col-md-4\"> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"count-txt color-500\">11K</div><br>Neutral</button> </div> </div> </div> </div>',\"\",\"\",(function(t){}))},function(t,e,i){i(0).tag2(\"chart-brand-positioning\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"><i class=\"fa fa-bullseye mg-r-5 iconcolor\" aria-hidden=\"true\"></i>BRAND POSITIONING</h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter \" id=\"chartbrandposition\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.isLoading=!0,this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"brand-positioning: render\");_.find(this.times,{selected:!0});var e=_.clone(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/brand-positioning\",data:e,success:function(t){if(0===(t=t.items).length)return this.notdata=!0,this.isLoading=!1,this.update(),!1;this.update({notdata:!1}),this.isExist&&(Highcharts.chart(\"chartbrandposition\",{chart:{type:\"bubble\",height:300,plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!0,align:\"right\"},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},title:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Conversation Rate\"},labels:{format:\" \"},plotLines:[{}]},yAxis:{gridLineWidth:1,title:{text:\"Applause Rate\"},labels:{format:\" \"},plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3>{point.series.name}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>amplification rate :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},series:t}),this.items=t.items,this.update({isLoading:!1}))}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(14),i(9),i(13),i(45),i(95),i(96),i(97),i(98),i(99),i(100),i(101),i(102),i(103),i(104),i(2),i(17),i(21);i(0).tag2(\"my-stream\",'<breadcrumb current=\"Dashboard Analysis\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">ANALYSIS</h4> </div> <button onclick=\"{updatefilternamemodal}\" if=\"{updatefilternamenews}\" data-toggle=\"modal\" data-target=\"#modaldemo3\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button onclick=\"{updatefiltername}\" if=\"{!updatefilternamenews}\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save {cursor-pointer:!colorblue}\" disabled=\"{disabled:colorblue}\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i>Filter</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <filtervalue ref=\"filterformvalue\"></filtervalue> <div class=\"row row-sm\"> <div class=\"col-md-5 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <mentionsstats ref=\"mentionstats\"></mentionsStats> </div> </div> <div class=\"col-md-7 mg-t-20\"> <summaries ref=\"summary\"></summaries> </div> </div> <div class=\"row row-sm \"> <div class=\"col-md-7 mg-t-20\"> <sociograh ref=\"sociograph\"></SocioGrah> </div> <div class=\"col-md-5 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <tophashtaganalysis ref=\"tophastags\"></tophashtaganalysis> </div> </div> </div> <div class=\"row row-sm mg-t-0\"> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <influent-sosial ref=\"influence\"></influent-sosial> </div> </div> <div class=\"col-md-6 mg-t-20\"> <div class=\"card shadow-base bd-0\"> <mostactivesosial ref=\"most_active\"></mostactivesosial> </div> </div> </div> <div class=\"row row-sm \"> <div class=\"col-md-6 mg-t-20\"> <chart-daily-mention ref=\"average_daily_mention\"></chart-daily-mention> </div> <div class=\"col-md-6 mg-t-20\"> <chart-top-streams ref=\"top_stream\"></chart-top-streams> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-6\"> <popularlocation ref=\"popularLocation\"></popularlocation> </div> <div class=\"col-md-6\"> <wordcloud ref=\"wordcloud\"></wordcloud> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilter}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter namefilter=\"false\" ref=\"filterval\"></filter> </div> </div> </form> </div> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilter\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <detaimention ref=\"detailmentions\"></detaimention> </div> </div> </div> <channel cb=\"{updateChannel}\" ref=\"channel\" style=\"display:none\"></channel>',\"\",\"\",(function(t){this.updatefilternamenews=!1,this.error=!1,this.colorblue=!1,this.author=!0,this.search={since:null,until:null,project:null,service_category:null,type:null},this.channels=null,this.on(\"mount\",()=>{$('[data-toggle=\"tooltip\"]').tooltip(),menu.on(\"menubrand\",function(t){this.data=_.filter(t,(function(t){return t.checked})),this.update()}.bind(this)),menuActive.trigger(\"activated\",[\"mystream\"]),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),this.refs.breadcrumb.breadCrumb([{link:\"#\",title:\"Projects\"},{link:\"#\",title:localStorage.name},{title:\"Dashboard Analysis\"}]),urlStream.trigger(\"changeUrl\",\"analysis/my-stream\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),setTimeout(()=>{const t=this.channels=this.refs.channel.getChannelSelected(),e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\")},500),p(\"filter\")&&this.getfilterlistid(),$(\"body,html\").animate({scrollTop:0},500)}),rendercharttoptime.on(\"topstream\",(t,e)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),this.detailmentions(t,null,null,null,null,e,null,null)}),this.detailmentions=(t,e,i,a,s,o,r)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),_.isEmpty(this.refs)||this.refs.detailmentions.modalsentimentvalue(t,e,i,a,s,o,r)},this.inputfocus=()=>{$(\"#modalfilterlist\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnameauthor\").focus()}))},this.render=()=>{this.refs.summary.render(),this.refs.mentionstats.render(),this.refs.tophastags.render(),this.refs.influence.render(),this.refs.most_active.render(),this.refs.average_daily_mention.render(),this.refs.top_stream.render(),this.refs.popularLocation.render(),this.refs.wordcloud.render(),this.refs.sociograph.render()},this.updateDate=(t,e)=>{this.refs.mentionstats.isLoading=!0,this.refs.tophastags.isLoading=!0,this.refs.influence.isLoading=!0,this.refs.most_active.isLoading=!0,this.refs.average_daily_mention.isLoading=!0,this.refs.top_stream.isLoading=!0,this.refs.popularLocation.isLoading=!0,this.refs.wordcloud.isLoading=!0,this.refs.sociograph.isLoading=!0,this.refs.summary.isLoading=!0,this.search.since=t,this.search.until=e,setTimeout(()=>{this.render()},1e3)},this.updateChannel=t=>{this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.updatefiltername=()=>{var t={name:this.namefiltervalue,keywords:this.search.q,domain:this.search.domain,author:this.search.author,filterbot:this.search.filterbot};!this.refs.filterformvalue.saveshowdropdown&&this.refs.filterformvalue.filtervalue&&this.refs.filterformvalue._id&&APP.apiPost({path:p(\"project\"),data:t,success:e=>{APP.success(\"sukses\",()=>{this.refs.filterval.updatevaluekey(t),this.search.q=t.keywords,this.search.domain=t.domain,this.search.author=t.author,this.search.filterbot=\"true\"==t.filterbot,this.update(),this.render()})}})},this.updateFilter=t=>{this.refs.filterformvalue.updateFilter(t)},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilter.value,this.updatenamefilter?(this.colorblue=!0,this.refs.filterval.savefilter(t),this.updatefilternamenews=!1,this.update()):(this.error=!0,this.update())},this.updatefilternamemodal=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.getfilterlistid=()=>{APP.log(\"project : project\"),null==APP.currentProject&&null==APP.currentProject||APP.apiGet({path:\"bookmark-filter/list/\"+APP.currentProject,data:{id:p(\"filter\")},success:t=>{this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,this.refs.filfilter.getfilterlist(t),this.render(),this.update()}})},this.resetFilter=()=>{setTimeout(function(){this.updatefilternamenews=!1,this.refs.filterformvalue.filtervalue=!1,this.render(),this.update()}.bind(this),100)},this.on(\"unmount\",()=>{localStorage.removeItem(\"Project_devault\")})}))},function(t,e,i){i(0).tag2(\"buzz-geo\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-md-12\"> <div class=\"header-title\">BUZZ GEO DISTRIBUTION</div> <div class=\"panel\"> <div class=\"panel-body \" if=\"{!notdata}\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-sm btn-outline btn-info\"><i class=\"fa fa-refresh\"></i></a></i> <div if=\"{isLoading}\" class=\"loader\"></div> <div id=\"buzzgeo\"></div> </div> <div class=\"panel-body \" if=\"{notdata}\"> <div class=\"txtcenter\">No Data </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=()=>{APP.log(\"buzzgeo : render\");let t=_.clone(this.parent.search);t.group_service=\"false\";let e=[],i=[],a=[],s=[],o=[],r=[];$.getJSON(\"/assets/js/id-all.geo.json\",(function(t){e=t})),$.getJSON(\"/assets/js/province.json\",(function(t){a=t})),this.xhr=APP.apiGet({path:\"stream/buzzgeo\",data:t,success:function(t){0===(t=t.map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1}),i=t,_.each(i,(function(t){null!=t&&a.features&&(s=getProvince(a.features,t.lat||0,t.lon||0),_.isEmpty(s)||(r[s.HASC_1]?r[s.HASC_1].z++:r[s.HASC_1]={name:s.NAME_1,hasc:s.HASC_1.replace(\".\",\"-\").toLowerCase(),z:1},o.push([r[s.HASC_1].hasc,r[s.HASC_1].z])))})),Highcharts.mapChart(\"buzzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:o,name:\"Streams\",states:{hover:{color:\"#58cabb\"}}}]}),this.update({isLoading:!1})}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"source-table\",'<div class=\"header-title\">SHARE OF STREAM</div> <div class=\"panel\"> <div class=\"panel-body\" if=\"{!notdata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-sm btn-outline btn-info\"><i class=\"fa fa-refresh\"></i></a> </i> <div id=\"shareofstream1\"></div> </div> <div class=\"panel-body\" if=\"{notdata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=()=>{APP.log(\"chart share streams : render\");let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){this.update({isLoading:!1})}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"chart-share\",'<div class=\"header-title {fontsizecolor:fontcolor}\">SHARE OF STREAM</div> <div class=\"panel\"> <div class=\"panel-body\" if=\"{!notdata}\" style=\"height: 480px;\"> <div if=\"{isLoading}\" class=\"loader\"></div> <i class=\" pull-right pointer\" onclick=\"{reload}\" if=\"{tombolrefres}\"><a class=\"btn btn-sm btn-outline btn-info\"><i class=\"fa fa-refresh\"></i></a> </i> <div id=\"shareofstream\"></div> </div> <div class=\"panel-body \" style=\"min-height: 480px;\" if=\"{notdata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.tombolrefres=!1,this.xhr=null,this.fontcolor=!1,this.render=()=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let t=_.clone(this.parent.search);t.is_total=null,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash?(this.fontcolor=!0,this.sizelegend=\"14px\",p(\"section\")?t.section=p(\"section\"):t.section=null):(this.fontcolor=!1,this.sizelegend=\"11px\"),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:function(t){let e=[],i={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const a in t){let s={};s={y:t[a].count,name:a,color:i[a]},e.push(s)}e.map((function(t){return\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1}),Highcharts.chart(\"shareofstream\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:400},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{enabled:!0,format:\"<b>{point.name}</b> <br> {point.percentage:.1f} %\",style:{fontSize:this.sizelegend}}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0}),this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"popularmenstionstreams\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"><i class=\"mg-r-5 ion-android-chat iconcolor\"></i>POPULAR MENTIONS</h6> </div> <div class=\"btn-group mg-t-min-8\" role=\"group\" aria-label=\"Basic example\"> <pagging pagination=\"{pagination}\" class=\"pagingright\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\"> <div class=\"col-md-12\" if=\"{total == 0}\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\"mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10\" each=\"{items}\" if=\"{!isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\"media mg-b-25\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{user.name}\"> <img alt=\"\" if=\"{!user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14\"><a href=\"{source}\" target=\"_blank\" class=\"tx-inverse\">{user.name}</a> <p class=\"tx-12 pull-right\"><i class=\"icon ion-calendar\"></i> {date_format}</p> </h6> <div class=\"tx-12\"> <span class=\"metricsentimentone\"> <a href=\"{source}\" target=\"_blank\"><i class=\"fa fa-share-alt\" aria-hidden=\"true\"></i> {service} </a></span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"likes {details.likes ? details.likes.formatMoney(0) : 0}\"> <i class=\" fa fa-thumbs-o-up\" aria-hidden=\"true\"></i> {details.likes ? details.likes.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"replies {details.shares ? details.shares.formatMoney(0) : 0}\"> <i class=\" fa fa-share-square-o\" aria-hidden=\"true\"></i> {details.shares ? details.shares.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"comments {details.comments ? details.comments.formatMoney(0) : 0}\"> <i class=\" fa fa-commenting-o\" aria-hidden=\"true\"></i> {details.comments ? details.comments.formatMoney(0) : 0} </span> </div> </div> </div> <p class=\"tx-14 mg-b-25 mg-t-m-15 textjustify\"> <span> <img alt=\"\" if=\"{image != ⁗⁗ && image != null}\" riot-src=\"{image}\" class=\"imagestreams cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalf}\" onerror=\"{reqExImg}\" name=\"{user.name}\"></img> </span > {text.length > 500 ? text.substring(0,500) + \\'...\\' : text} </p> <div class=\"media align-items-center pull-right\" style=\"margin-top: -30px;\"> </div> <p class=\"mg-t-auto mg-b-0 tx-13\"> </p> </div> </div> </div> <div class=\"row row mg-t-20\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> </div> <div class=\"btn-group mg-t-min-8\" role=\"group\" aria-label=\"Basic example\"> <pagging pagination=\"{pagination}\" class=\"pagingright\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={modalName}\\'\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.likes={},this.isLoading=!0,this.reply={},this.repost={},this.dataStreams=[];this.on(\"mount\",(function(){this.isLoading=!1,this.update()})),this.query={limit:pageLimit,page:0,sort:\"-name\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),this.query.page=(t-1)*this.query.limit,this.render(),$(\"body,html\").animate({scrollTop:570},500)}},this.render=()=>{this.isLoading=!0,APP.log(\"render Stream timeline\"),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.update({isLoading:!0});const t=_.find(this.times,{selected:!0}),e=_.map(this.parent.channels,t=>t.id);let i=this.parent.search;i.type=t,i.limit=this.query.limit,i.page=this.query.page,i.pagination=\"yes\",i.service_category=e.join(\",\");var a=\"\",s=0;for(let t in i)i[t]&&\"\"!=i[t]&&(a+=s>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,\"section\"===t&&(a+=\",popular\"),s++);this.xhr=APP.apiPost({path:\"stream\"+a,success:function(t,e,i){this.dataImage=t.item.map(t=>t.user.avatar);var a=t.item;a&&a.forEach(t=>{t.checked=!1,this.dataStreams.push(t)}),this.items=a,this.total=this.items.length,this.pagination.pages=Math.ceil(t.total/this.query.limit),this.isLoading=!1,this.update()}.bind(this)})},this.imgmodalf=t=>{this.modalName=t.item.user.name,this.imgmodal=t.item.image}}))},function(t,e,i){i(0).tag2(\"stream-composition\",'<div class=\"header-title {fontsizecolor:fontcolor}\">STREAM COMPOSITION</div> <div class=\"panel\" riot-style=\"{heighttotal}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"scrolling outer\"> <div class=\"inner\"> <table class=\"tablemarginbottom \" riot-style=\"cursor: ew-resize; {fonttable}\"> <tr class=\"tr td th toptable\"> <th class=\"colorborder\">Source</th> <td style=\"text-align: center;\" class=\"bordersummary\">Total Stream</td> <td style=\"text-align: center;\" class=\"bordersummary\"> Neutral</td> <td style=\"text-align: center;\" class=\"bordersummary\"> Positive</td> <td style=\"text-align: center;\" class=\"bordersummary\"> Negative</td> </tr> <tr class=\"tr td th txtcenter\" each=\"{items}\"> <th class=\"colorborder\">{name}</th> <td class=\"bordersummary txtcenter\">{total}</td> <td class=\"bordersummary txtcenter\"> {neutral}</td> <td class=\"bordersummary txtcenter\"> {positive}</td> <td class=\"bordersummary txtcenter\">{negative}</td> </tr> <tr class=\"tr td th txtcenter\" if=\"{this.total == 0}\"> <th>No Data</th> </tr> </tr> </table> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.fontcolor=!1,this.heighttotal=\"height: 480px\",this.render=()=>{APP.log(\"influent-sosial : render\");const t=_.find(this.times,{selected:!0});let e=_.clone(this.parent.search);e.type=t,this.update({isLoading:!0}),\"analysis/my-stream..\"==APP.currentHash?(this.heighttotal=\"height: 480px\",this.update({heighttotal:\"height: 480px\",fonttable:\"\",fontcolor:!1})):(this.update({heighttotal:\"\",fonttable:\"font-size: 20px;\",fontcolor:!0}),p(\"section\")?e.section=p(\"section\"):e.section=null),this.total=0,this.xhr=APP.apiGet({path:\"mentions/composition\",data:e,success:function(t){this.update({total:t.length,items:t}),this.total=t.length,this.items=t}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},function(t,e,i){i(0).tag2(\"top-hastags\",'<div class=\"header-title {fontsizecolor:fontcolor}\">TOP HASHTAGS</div> <div class=\"table-responsive panel {height505:maxheight}\"> <table class=\"table bgwhite\" riot-style=\"{fonttable}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <tr class=\"tr td th toptable\"> <td>Hashtags</td> <td>Amount </td> </tr> <tr class=\"tr td th\" each=\"{items}\"> <td onclick=\"{tophastagsvalue}\" class=\"cursor-pointers\">#{_id.tag}</td> <td>{count.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> <tr class=\"tr td th\" if=\"{this.total2 == 0}\"> <td colspan=\"2\" class=\"textcenter\"> No Data</td> </tr> </table> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0,this.tophastagsvalue=t=>{t.item.o._id.tag},this.render=()=>{APP.log(\"top hastags : render\"),\"analysis/my-stream..\"==APP.currentHash?(this.fonttable=\"\",this.fontcolor=!1,this.maxheight=!0,this.update()):(this.fonttable=\"font-size: 20px;\",this.fontcolor=!0,this.maxheight=!1,this.update()),this.items=[];_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,t.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:t,success:function(t){this.total2=t.total,this.items=t.items,this.update({isLoading:!1,total2:t.total})}.bind(this)}),this.xhrtophastags.readyState&&this.update({isLoading:!1,total2:0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(9),i(105),i(17),i(21),i(44);i(0).tag2(\"dashboard-author\",'<breadcrumb current=\"Dashboard Author\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">AUTHORS</h4> </div> <button onclick=\"{updatefilternamemodal}\" if=\"{updatefilternamenews}\" data-toggle=\"modal\" data-target=\"#modaldemo3\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button onclick=\"{updatefiltername}\" if=\"{!updatefilternamenews}\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save {cursor-pointer:!colorblue}\" disabled=\"{disabled:colorblue}\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i> Filter</button> <button onclick=\"{dowloadcontacts}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 mg-t-0-r10 width100 mobilesbutton cursor-pointer mgt-mobile-max-415\">Export</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <filtervalue ref=\"filterformvalue\"></filtervalue> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"sentimentcomposition\"> <sentiment-composition cb=\"{updateSentiment}\"></sentiment-composition> </div> </div> <div class=\"row\"> <div class=\"col-md-12 mg-t-20\"> <sociograpauthor ref=\"sociographauthor\"></sociograpauthor> </div> <div class=\"col-md-12\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter \"> <div class=\"pd-t-20 pd-r-20 pd-b-20 pd-l-20\"> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\" width=\"10\"></th> <th scope=\"col\" width=\"400\">AUTHOR</th> <th scope=\"col\" width=\"30\">SITE </th> <th scope=\"col\" class=\"text-right\" onclick=\"{filtermentions}\">MENTIONS </th> <th scope=\"col\" class=\"text-right\" onclick=\"{filterfollower}\">FOLLOWERS</th> <th scope=\"col\" class=\"text-right\" onclick=\"{filtersentiment}\">SENTIMENT RATE</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\"> <td scope=\"row\" data-label=\"no\">{i + 1}</td> <td data-label=\"AUTHOR\" onclick=\"{authorvalue}\" class=\"cursor-pointer\"> <img alt=\"\" riot-src=\"{o.profile_pic}\" if=\"{o.profile_pic}\" class=\"wd-30 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.name}\"> <img alt=\"\" class=\"wd-30 \" if=\"{!o.profile_pic}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.name}\" onerror=\"{reqExImg}\" name=\"{o.name}\"> {o.name} </td> <td data-label=\"SITE\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"text-right\">{o.post ? o.post.formatMoney(0) : 0}</td> <td data-label=\"FOLLOWERS\" class=\"text-right\">{o.followers ? o.followers.formatMoney(0) : 0}</td> <td data-label=\"SENTIMENT SCORE\" class=\"text-right\">{o.sentiment_score === ⁗0.00⁗ ? 0 : (o.sentiment_score * 100).toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 1})} %</td> </tr> </tbody> <tfoot if=\"{loadingList}\"> <tr> <td colspan=\"6\" class=\"text-center\">Loading...</td> </tr> </tfoot> </table> </div> </div> <div class=\"card-footer textcenter\" if=\"{total == 0}\"> <p> No data found, please input another dates</p> </div> <div class=\"card-footer textcenter bkcwhite button-center pd-0\"> <button class=\"btn btn-primary active btn-block mg-b-10 mg-r-10 mg-t-10 width100 cursor-pointer\" onclick=\"{showmore}\">Show More</button> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilter}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter namefilter=\"false\" ref=\"filterval\"></filter> </div> </div> </form> </div> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{saveFilterBookmark}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilter\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{saveFilterBookmark}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <detaimention ref=\"detailmentions\"></detaimention> </div> </div> </div>',\"\",\"\",(function(t){this.updatefilternamenews=!1,this.error=!1,this.colorblue=!1,this.tombolShow=!1,this.items=[],this.search={since:null,until:null,project:null,page:1,limit:10},this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.updateSentiment=t=>{this.search.section=t,setTimeout(function(){this.render()}.bind(this),100)},this.authorvalue=t=>{$(\"#modaldetailmentions\").modal(\"toggle\");const e=t.item.o.username,i=t.item.o.service;if(\"Facebook\"==i)var a=1;if(\"Twitter\"==i)a=2;if(\"Video\"==i)a=6;if(\"Image\"==i)a=7;if(\"Portal\"==i)a=3;if(\"Blog\"==i)a=4;if(\"Forum\"==i)a=5;let s=a;this.detailmentions(null,null,s,e,null,null,\"Author\",null)},this.detailmentions=(t,e,i,a,s,o,r,n,l,c,d)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),_.isEmpty(this.refs)||this.refs.detailmentions.modalsentimentvalue(t,e,i,a,s,o,r,n,l,c,d)},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"authors\"]),urlStream.trigger(\"changeUrl\",\"authors\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),e()}),this.isLoading=!0,this.xhr=null,this.updateDate=(t,e)=>{this.search.since=t,this.search.until=e,setTimeout(function(){this.render(),this.update()}.bind(this),1e3)},this.showmore=()=>{this.search.page+=1,this.getAuthorsList()},this.getAuthorsList=()=>{this.update({loadingList:!0}),this.xhr=APP.apiGet({path:\"summary/authors\",data:this.search,success:t=>{this.update({isLoading:!1}),this.total=t.count,this.items=this.items.concat(t.items),this.update({loadingList:!1})}})},this.render=()=>{APP.log(\"influent-sosial : render\"),this.update({isLoading:!0}),this.refs.sociographauthor.render(),this.getAuthorsList()},this.filtermentions=()=>{this.items=_.orderBy(this.items,[\"post\"],[\"desc\"]),this.update()},this.filterfollower=()=>{this.items=_.orderBy(this.items,[\"followers\"],[\"desc\"]),this.update()},this.filtersentiment=()=>{this.items=_.orderBy(this.items,[\"sentiment_score\"],[\"desc\"]),this.update()},this.inputfocus=()=>{$(\"#modalfilterlist\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnameauthor\").focus()}))},this.updatefiltername=()=>{var t={name:this.namefiltervalue,keywords:this.search.q,domain:this.search.domain,author:this.search.author,filterbot:this.search.filterbot};!this.refs.filterformvalue.saveshowdropdown&&this.refs.filterformvalue.filtervalue&&this.refs.filterformvalue._id&&APP.apiPost({path:\"bookmark-filter/update/\"+this.refs.filterformvalue._id+\"?project=\"+p(\"project\"),data:t,success:e=>{APP.success(\"sukses\",()=>{this.refs.filterval.updatevaluekey(t),this.search.q=t.keywords,this.search.domain=t.domain,this.search.author=t.author,this.search.filterbot=\"true\"==t.filterbot,this.update(),this.render()})}})},this.updateFilter=t=>{this.refs.filterformvalue.updateFilter(t)},this.saveFilterBookmark=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilter.value,this.updatenamefilter?(this.colorblue=!0,this.refs.filterval.savefilter(t),this.updatefilternamenews=!1,this.update()):(this.error=!0,this.update())},this.updatefilternamemodal=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.resetFilter=()=>{setTimeout(function(){this.updatefilternamenews=!1,this.refs.filterformvalue.filtervalue=!1,this.render(),this.update()}.bind(this),100)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null,$(\"body,html\").animate({scrollTop:0},500)}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),localStorage.removeItem(\"Project_devault\")}),this.dowloadcontacts=()=>{$.notify(\"Download Contact \",\"info\"),this.Loading=!0;let t=this.search;const e=\"download/contacts?type=daily&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")};function e(){for(var t=($(\"#sentimentcomposition\").width()-20)/3,e=document.getElementsByClassName(\"widthsentiment\"),i=0;i<e.length;i++)e[i].style.width=t+\"px\"}window.onload=function(){e()},window.onresize=function(){e()},menu.on(\"sidebar\",t=>{setTimeout(()=>{e()},1e3)})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(47),i(48),i(49),i(50),i(51),i(52),i(53);i(0).tag2(\"buzzertracking10\",'<div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">BUZZER TRACKING</h4> </div> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-r-10 mg-t-0 cursor-pointer width200save\" data-toggle=\"modal\" data-target=\"#buzzerModal\">Show / Hide Buzzers</button> <button onclick=\"{Donwloadbuzzercsv}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-r-10 mg-t-0 mg-t-0-r10 width100 mobilesbutton cursor-pointer\" ref=\"downloadbuzzer\" onclick=\"{DonwloadCSV}\">Export</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"totalbuzzer\" style=\" padding-right: 0px;\"> <totalbuzzer ref=\"totalbuzzer\"></totalbuzzer> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <summarybuzzer ref=\"summmaryBuzzer\"></summarybuzzer> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-20\"> <streambuzzer ref=\"streamBuzzer\"></streambuzzer> </div> <div class=\"col-md-4 mg-t-20\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <reachmecric ref=\"reachmetrics\"></reachMecric> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <influence-metric ref=\"influencemetric\"></influence-metric> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <engagement-metric ref=\"engagementMetric\"> </engagement-metric> </div> </div> </div> </div> <buzzer-picker cb=\"{updateBuzzer}\" ref=\"buzzerpicker\"> </buzzer-picker> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null},this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"buzz_tracking\"]),urlStream.trigger(\"changeUrl\",\"buzzer-tracking\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject()}),this.Donwloadbuzzercsv=()=>{this.downloadcsv()},this.updateDate=(t,e)=>{this.search.since=t,this.search.until=e,setTimeout(function(){this.render(),this.update()}.bind(this),1e3)},this.render=()=>{},this.updateBuzzer=t=>{this.refs.engagementMetric.isLoading=!0,this.refs.influencemetric.isLoading=!0,this.refs.reachmetrics.isLoading=!0,this.refs.totalbuzzer.isLoading=!0,this.refs.summmaryBuzzer.isLoading=!0,this.isLoading=!0,this.update(),APP.log(\"buzzer-tracker-account: updateBuzzer\"),setTimeout(()=>{let e={};_.forEach(t,(function(t,i){let a=[];for(let e=0;e<t.length;e++)t[e].check&&a.push(t[e].username);e[i]=a})),this.DataBuzzer={buzzer_twitter:e.twitter?e.twitter.join(\",\"):\"\",buzzer_facebook:e.facebook?e.facebook.join(\",\"):\"\",buzzer_instagram:e.instagram?e.instagram.join(\",\"):\"\"},this.search.buzzer_twitter=e.twitter?e.twitter.join(\",\"):\"\",this.search.buzzer_facebook=e.facebook?e.facebook.join(\",\"):\"\",this.search.buzzer_instagram=e.instagram?e.instagram.join(\",\"):\"\",this.update(),this.apiGet()},1e3)},this.setBuzzers=t=>{APP.log(\"buzzer-tracker-account: setBuzzers\"),this.refs.buzzerpicker.setItems(t.items)},this.getBuzzers=()=>{var t={project:this.search.project};APP.log(\"buzzer-tracker-account: getBuzzers\");let e=this;APP.apiGet({path:\"health/buzzers\",data:t,success:function(t){e.setBuzzers(t)}})},this.search={since:null,until:null,project:null},this.buzzhealth=[],this.buzzsentiment=[],this.apiGet=()=>{APP.log(\"buzzer-tracker-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs,i=this;e.streamBuzzer.render();var a=\"\",s=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(a+=s>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,s++);var o={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};if(0===t.buzzer_instagram.length&&0===t.buzzer_twitter.length&&0===t.buzzer_facebook.length)return this.load=!0,this.isLoading=!1,this.refs.engagementMetric.render([]),this.refs.influencemetric.render([],[]),this.refs.reachmetrics.render([]),this.refs.totalbuzzer.render([],[]),this.refs.summmaryBuzzer.render([],[]),this.update(),!1;async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+a,data:o,success:function(e){t(null,e)}})},sentiment:function(t){APP.apiPost({path:\"health/buzzersentiment\"+a,data:o,success:function(e){t(null,e)}})}},(t,e)=>{e.index.items.length>0?(i.load=!1,i.buzzhealth=e.index.items,i.buzzsentiment=e.sentiment.items,this.refs.engagementMetric.render(e.index.items),this.refs.influencemetric.render(e.index.items,e.sentiment.items),this.refs.reachmetrics.render(e.index.items),this.refs.totalbuzzer.render(e.index.items,e.sentiment.items),this.refs.summmaryBuzzer.render(e.index.items,e.sentiment.items),i.isLoading=!1,i.update()):(i.load=!0,i.buzzhealth=e.index.items,i.buzzsentiment=e.sentiment.items,this.refs.engagementMetric.render(e.index.items),this.refs.influencemetric.render(e.index.items,e.sentiment.items),this.refs.reachmetrics.render(e.index.items),this.refs.totalbuzzer.render(e.index.items,e.sentiment.items),this.refs.summmaryBuzzer.render(e.index.items,e.sentiment.items),i.isLoading=!1,i.update())})},this.updateDate=(t,e)=>{APP.log(\"buzzer-tracker-account: updateDate\"),this.search.since=t,this.search.until=e,this.getBuzzers()},this.on(\"mount\",()=>{APP.log(\"buzzer-tracker-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"buzz_tracking\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)}),this.on(\"unmount\",()=>{localStorage.removeItem(\"Project_devault\")}),this.downloadcsv=()=>{APP.log(\"buzzer-tracker-account: downloadcsv\");const t=this.refs.summmaryBuzzer.items;t.filter(t=>t.check);let e=_.map(t,(function(t,e){return{\"Buzzer Name\":t.username,Service:t.service,Klout:t.klout_score,Post:t.postsCount,\"Potential Reach\":t.potentialReach,\"Neutral Sentiment\":t.neutralCount,\"Positive Sentiment\":t.positiveCount,\"Negative Sentiment\":t.negativeCount,\"Followers/Friends\":t.followers,\"Comment/Reply\":t.commentsCount,\"Retweet/Share\":t.sharesCount,\"Like/Favorite/+1\":t.likesCount,\"Applause Rate\":numeral(t.likesCount/t.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(t.commentsCount/t.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(t.sharesCount/t.postsCount).format(\"0,0.0\")}}));this.JSONToCSVConvertor(e,\"Buzzer Tracking\",!0)},this.JSONToCSVConvertor=(t,e,i)=>{APP.log(\"buzzer-tracker-account: JSONToCSVConvertor\");var a=\"object\"!=typeof t?JSON.parse(t):t,s=\"\";if(s+=e+\"\\r\\n\\n\",i){var o=\"\";for(var r in a[0])o+=r+\",\";s+=(o=o.slice(0,-1))+\"\\r\\n\"}for(var n=0;n<a.length;n++){o=\"\";for(var r in a[n]){o+='\"'+(a[n][r]?a[n][r]:\"0\")+'\",'}o.slice(0,o.length-1),s+=o+\"\\r\\n\"}if(\"\"!=s){var l=\"Report_\";l+=e.replace(/ /g,\"_\");var c=\"data:text/csv;charset=utf-8,\"+escape(s),d=document.createElement(\"a\");d.href=c,d.style=\"visibility:hidden\",d.download=l+\".csv\",document.body.appendChild(d),d.click(),document.body.removeChild(d)}else alert(\"Invalid data\")}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(47),i(48),i(49),i(50),i(51),i(52),i(53);i(0).tag2(\"buzzertracking\",'<breadcrumb current=\"Dashboard Buzzer Tracking\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">BUZZER TRACKING</h4> </div> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-r-10 mg-t-0 width200save cursor-pointer\" data-toggle=\"modal\" data-target=\"#buzzerModal\">Show / Hide Buzzers</button> <button onclick=\"{Donwloadbuzzercsv}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-r-10 mg-t-0 mg-t-0-r10 width100 mobilesbutton cursor-pointer\" ref=\"downloadbuzzer\">Export</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span><date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"totalbuzzer\" style=\" padding-right: 0px;\"> <totalbuzzer ref=\"totalbuzzer\"></totalbuzzer> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <summarybuzzer cb=\"{streamUpdate}\" ref=\"summmaryBuzzer\"></summarybuzzer> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-20\"> <streambuzzer ref=\"streamBuzzer\"></streambuzzer> </div> <div class=\"col-md-4 mg-t-20\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <reachmecric ref=\"reachmetrics\"></reachMecric> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <influence-metric ref=\"influencemetric\"></influence-metric> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <engagement-metric ref=\"engagementMetric\"> </engagement-metric> </div> </div> </div> </div> <buzzer-picker cb=\"{updateBuzzer}\" ref=\"buzzerpicker\"> </buzzer-picker> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null},this.totalBuzzer=0,this.buzzerCurrentPage={},this.search={since:null,until:null,project:null},this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"buzz_tracking\"]),urlStream.trigger(\"changeUrl\",\"buzzer-tracking-r10\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject()}),this.Donwloadbuzzercsv=()=>{this.downloadcsv()},this.updateDate=(t,e)=>{this.render(),this.update()},this.render=()=>{},this.updateBuzzer=t=>{this.refs.engagementMetric.isLoading=!0,this.refs.streamBuzzer.isLoading=!0,this.refs.influencemetric.isLoading=!0,this.refs.reachmetrics.isLoading=!0,this.refs.totalbuzzer.isLoading=!0,this.refs.summmaryBuzzer.isLoading=!0,this.isLoading=!0,this.update(),APP.log(\"buzzer-tracker-account: updateBuzzer\");let e={};_.forEach(t,(function(t,i){let a=[];for(let e=0;e<t.length;e++)t[e].check&&a.push(t[e].username);e[i]=a})),e.twitter.length==t.twitter.length&&(e.twitter=[\"*\"]),e.instagram.length==t.instagram.length&&(e.instagram=[\"*\"]),e.facebook.length==t.facebook.length&&(e.facebook=[\"*\"]),this.DataBuzzer={buzzer_twitter:e.twitter?e.twitter.join(\",\"):\"\",buzzer_facebook:e.facebook?e.facebook.join(\",\"):\"\",buzzer_instagram:e.instagram?e.instagram.join(\",\"):\"\"},this.search.buzzer_twitter=e.twitter?e.twitter.join(\",\"):\"\",this.search.buzzer_facebook=e.facebook?e.facebook.join(\",\"):\"\",this.search.buzzer_instagram=e.instagram?e.instagram.join(\",\"):\"\",this.update(),this.apiGet()},this.setBuzzers=t=>{APP.log(\"buzzer-tracker-account: setBuzzers\"),this.refs.buzzerpicker.setItems(t.items)},this.getBuzzers=()=>{var t={project:this.search.project};APP.log(\"buzzer-tracker-account: getBuzzers\");let e=this;APP.apiGet({path:\"buzzers?nocache=false&remove_cache=false\",data:t,success:function(t){e.setBuzzers(t)}})},this.buzzhealth=[],this.buzzsentiment=[],this.apiGet=()=>{APP.log(\"buzzer-tracker-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=this.refs;e.summmaryBuzzer.render(),e.totalbuzzer.render();var i=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,i++);t.buzzer_facebook,t.buzzer_instagram,t.buzzer_twitter;if(0===t.buzzer_instagram.length&&0===t.buzzer_twitter.length&&0===t.buzzer_facebook.length)return this.load=!0,this.isLoading=!1,this.refs.engagementMetric.render([]),this.refs.influencemetric.render([],[]),this.refs.reachmetrics.render([]),this.refs.totalbuzzer.render([],[]),this.update(),!1},this.updateDate=(t,e)=>{APP.log(\"buzzer-tracker-account: updateDate\"),this.search.since=t,this.search.until=e,this.getBuzzers()},this.on(\"mount\",()=>{APP.log(\"buzzer-tracker-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"buzz_tracking\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)}),this.on(\"unmount\",()=>{localStorage.removeItem(\"Project_devault\")}),this.downloadcsv=()=>{APP.log(\"buzzer-tracker-account: downloadcsv\");let t=this.search;t.useDetail=!0,t.nocache=!1,t.remove_cache=!1,t.limit=this.totalBuzzer,t.page=0;var e=\"\",i=0;for(let a in t)t[a]&&\"\"!=t[a]&&\"buzzer_twitter\"!=a&&\"buzzer_facebook\"!=a&&\"buzzer_instagram\"!=a&&(e+=i>0?`&${a}=${encodeURIComponent(t[a])}`:`?${a}=${encodeURIComponent(t[a])}`,i++);APP.apiPost({path:\"buzzers/stats\"+e,data:this.DataBuzzer,success:function(t){var e=_.map(t.items,(function(t,e){return{\"Buzzer Name\":t.username,Service:t.service,Post:t.regular_post_count,\"Potential Reach\":t.potential_reach,\"Neutral Sentiment\":t.neutral_count,\"Positive Sentiment\":t.positive_count,\"Negative Sentiment\":t.negative_count,\"Followers/Friends\":t.followers,\"Comment/Reply\":t.comments_count,\"Retweet/Share\":t.shares_count,\"Like/Favorite/+1\":t.likes_count,\"Applause Rate\":t.applause,\"Conversation Rate\":t.conversation,\"Amplification Rate\":t.amplification}}));this.JSONToCSVConvertor(e,\"Buzzer Tracking\",!0)}.bind(this)})},this.JSONToCSVConvertor=(t,e,i)=>{APP.log(\"buzzer-tracker-account: JSONToCSVConvertor\");var a=\"object\"!=typeof t?JSON.parse(t):t,s=\"\";if(s+=e+\"\\r\\n\\n\",i){var o=\"\";for(var r in a[0])o+=r+\",\";s+=(o=o.slice(0,-1))+\"\\r\\n\"}for(var n=0;n<a.length;n++){o=\"\";for(var r in a[n]){o+='\"'+(a[n][r]?a[n][r]:\"0\")+'\",'}o.slice(0,o.length-1),s+=o+\"\\r\\n\"}if(\"\"!=s){var l=\"Report_\";l+=e.replace(/ /g,\"_\");var c=\"data:text/csv;charset=utf-8,\"+escape(s),d=document.createElement(\"a\");d.href=c,d.style=\"visibility:hidden\",d.download=l+\".csv\",document.body.appendChild(d),d.click(),document.body.removeChild(d)}else alert(\"Invalid data\")},this.streamUpdate=t=>{APP.log(\"buzzer-tracker-account: updateStream\"),this.refs.streamBuzzer.isLoading=!0,this.refs.engagementMetric.isLoading=!0,this.refs.influencemetric.isLoading=!0,this.refs.reachmetrics.isLoading=!0,this.refs.streamBuzzer.render(),this.refs.streamBuzzer.update(),this.refs.engagementMetric.render(t),this.refs.engagementMetric.update(),this.refs.influencemetric.render(t),this.refs.influencemetric.update(),this.refs.reachmetrics.render(t),this.refs.reachmetrics.update()}}))},function(t,e,i){i(0).tag2(\"command-center\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"page-title\">Command center </h1> <h2 if=\"{projectId}\">Project ID: {projectId}</h2> <div id=\"bs-daterangepicker\" class=\"btn bg-grey-200 padding-10-20 no-border color-grey-600 pull-right border-radius-10 hidden-xs no-shadow\"><i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i></div> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body no-padding-top height100 margin-bottom-10\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.projectId=null,this.on(\"mount\",()=>{urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),urlStream.trigger(\"changeUrl\",\"comman-center\"),this.update(),ripple10.loaddaterangepicker()})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(14),i(13),i(8),i(9),i(54),i(106),i(108),i(109);i(0).tag2(\"correction\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">CORRECTION</h4> </div> <button onclick=\"{updatefilternamemodal}\" if=\"{updatefilternamenews}\" data-toggle=\"modal\" data-target=\"#modaldemo3\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button onclick=\"{updatefiltername}\" if=\"{!updatefilternamenews}\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save {cursor-pointer:!colorblue}\" disabled=\"{disabled:colorblue}\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filter</button> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i> Filter</button> <group-competitive></group-competitive> </group-competitive> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row\" if=\"{filtervalue}\"> <div class=\"col-md-12 mg-t-10\"> <div class=\"widget-2 showAndHide\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\"row\"> <label class=\"col-sm-2 form-control-label mg-t-10\"> <span class=\"tx-danger\"></span> Active Filters : </label> <div class=\"col-sm-10 heighselect2 form-layout\"> <div class=\"box-inner-filter\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-8 maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 maxwidth width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> </div> <i class=\"fa fa-chevron-down pull-right mg-t-15 cursor-pointer\" if=\"{tombolShow}\" onclick=\"{showlistfilter}\"></i> </div> </div> </div> </div> </div> </div> <div class=\"col-md-12 widget-2 transition-fade-parents hideAndShow\" style=\"display:none\"> <div class=\"filterdropdown\"> <div class=\"card overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body\"> <div class=\" heighselect2 form-layout\"> <label class=\"col-sm-12 form-control-label pd-l-0 pd-r-0 mg-b-0\"><span class=\"tx-danger\"></span> Keywords <span class=\"pd-5 pull-right cursor-default \"> <i class=\"fa fa-chevron-up cursor-pointer\" onclick=\"{hiddenlistfilter}\"></i></span> </label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in keywordfilter}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterkey}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">keyword : {o} </span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Domain</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in domainkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterdomain}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\" ref=\"masukpak\">Domain : {o}</span> </div> </a> </div> <label class=\"col-sm-12 form-control-label pd-l-0 mg-b-0 mg-t-10\"><span class=\"tx-danger\"></span> Author</label> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 pd-l-0 pd-r-0\"> <a class=\"btn btn-primary btn-with-icon btn-block mg-t-5 width-color-list-filter\" id=\"{o}\" each=\"{o,i in authorkeyword}\"> <div class=\"ht-30 justify-content-between\"> <span class=\"icon wd-30 cursor-pointer color-bg-color\" onclick=\"{savefilterauthor}\"> <i class=\"fa fa-close\"></i> </span> <span class=\"pd-x-15\"> Author : {o} </span> </div> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-10 pd-r-0\" id=\"channels\"> <channel cb=\"{updateChannel}\" ref=\"channel\"></channel> </div> <div class=\"col-md-4 mg-t-10 pd-r-0\" id=\"sentiment\"> <sentiment cb=\"{updateSentiment}\" ref=\"sentiment\"></sentiment> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <streams-correction ref=\"streamTimeline\" corection=\"true\"></streams-correction> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilterValue\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter ref=\"filterval\" namefilter=\"false\"></filter> </div> </div> </form> </div> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilter\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div>',\"\",\"\",(function(t){this.filtervalue=!1,this.showdropfilter=!1,this.saveshowdropdown=!1,this.updatefilternamenews=!1,this.error=!1,this.colorblue=!1,this.tombolShow=!1,this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"Correction\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.search.since=localStorage.since,this.search.until=localStorage.until,urlStream.trigger(\"changeUrl\",\"correction\"),this.setTotal(),$(\"body,html\").animate({scrollTop:0},500)}),this.search={since:null,until:null,project:null,section:\"mention\",service_category:null},this.savefilterkey=t=>{const e=t.item.o;$(\"#\"+e).hide(500),this.search.q=\"\",this.keywordfilter=null,this.refs.filterval.keyword=\"\",this.update(),this.render()},this.savefilterdomain=t=>{const e=t.item.o;var i=_.filter(this.domainkeyword,t=>t!=e);this.search.domain=i.join(\",\"),this.refs.filterval.domain=i.join(\",\"),this.domainkeyword=i,this.update(),this.render()},this.savefilterauthor=t=>{const e=t.item.o;var i=_.filter(this.authorkeyword,t=>t!=e);this.search.author=i.join(\",\"),this.refs.filterval.author=i.join(\",\"),this.authorkeyword=i,this.update(),this.render()},this.inputfocus=()=>{$(\"#modalfilterlist\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnameauthor\").focus()}))},this.showlistfilter=()=>{setTimeout((function(){$(\".showAndHide\").hide(500),$(\".hideAndShow\").show(500)}),1),this.update()},this.hiddenlistfilter=()=>{this.saveshowdropdown=!1,setTimeout((function(){$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500)}),1)},this.updatefiltername=()=>{var t={name:this.namefiltervalue,keywords:this.search.q,domain:this.search.domain,author:this.search.author,filterbot:this.search.filterbot};!this.saveshowdropdown&&this.filtervalue&&this._id&&APP.apiPost({path:p(\"project\"),data:t,success:e=>{APP.success(\"sukses\",()=>{this.refs.filterval.updatevaluekey(t),this.search.q=t.keywords,this.search.domain=t.domain,this.search.author=t.author,this.search.filterbot=\"true\"==t.filterbot,this.update(),this.render()})}})},this.updateFilter=t=>{this.refs.streamTimeline.isLoading=!0,this.refs.streamTimeline.query={page:0,limit:this.refs.streamTimeline.query.limit},this.refs.streamTimeline.pagination.page=1,t.filter_name?(this._id=t._id,this.namefiltervalue=t.filter_name,this.namefilter=[\"name : \"+t.filter_name],this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"],this.filtervalue=!0):(this.updatefilternamenews=!0,this.filtervalue=!0,this.keywordfilter=t.filter_keywords?[t.filter_keywords]:null,this.domainkeyword=t.filter_domain?t.filter_domain.split(\",\"):\"\",this.authorkeyword=t.filter_author?t.filter_author.split(\",\"):\"\",this.filterbot=1==t.filter_filterbot||\"true\"==t.filter_filterbot||\"on\"==t.filter_filterbot?[\"true\"]:[\"false\"]),this.update(),setTimeout(function(){$(\".showAndHide\").show(500),$(\".hideAndShow\").hide(500),this.render(),this.update()}.bind(this),100)},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilter.value,this.updatenamefilter?(this.colorblue=!0,this.refs.filterval.savefilter(t),this.updatefilternamenews=!1,this.update()):(this.error=!0,this.update())},this.updatefilternamemodal=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.updateDate=(t,e)=>{this.search.since=t,this.search.until=e,setTimeout(function(){this.render(),this.update()}.bind(this),1e3)},this.updateChannel=t=>{this.refs.streamTimeline.isLoading=!0,this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.updateSentiment=t=>{this.search.section=t,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.searchsentiment=()=>{this.refs.streamTimeline.isLoading=!0,this.refs.streams.query={page:0,limit:this.refs.streams.query.limit},this.refs.streams.pagination.page=1,this.update(),this.render()},this.render=()=>{this.refs.sentiment.render(),this.refs.streamTimeline.render(),this.setTotal()},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.refs.channel.updateRenderSentiment()},this.resetFilter=()=>{this.refs.streamTimeline.isLoading=!0,this.refs.streamTimeline.query={page:0,limit:this.refs.streamTimeline.query.limit},this.refs.streamTimeline.pagination.page=1,this.updatefilternamenews=!1,this.filtervalue=!1,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilterValue.value,this.updatenamefilter?(this.refs.filterval.savefilter(t),this.update()):(this.error=!0,this.update())},this.on(\"unmount\",()=>{localStorage.removeItem(\"Project_devault\")})}))},function(t,e,i){i(0).tag2(\"pr-dashboard\",'<div class=\"page-head\"> <h1 class=\"page-title\">Public Relation Dashboard </h1> <ol class=\"breadcrumb\"> <li><a href=\"#\"><i class=\"ion-home margin-right-5\"></i> Dashboard</a></li> <li><a href=\"#\">Projects</a></li> <li class=\"active\">List</li> </ol> </div>',\"\",\"\",(function(t){}))},function(t,e,i){\"use strict\";i.r(e);i(14),i(13),i(110),i(111),i(112),i(113),i(114),i(115),i(116),i(117),i(118),i(119),i(120),i(121),i(122),i(123),i(124),i(125),i(126),i(127),i(128),i(56),i(129),i(130),i(131),i(132),i(133),i(134),i(135),i(136),i(137),i(138),i(139),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147),i(148),i(149),i(150),i(151),i(152),i(153);i(0).tag2(\"domaininfographic\",'<div class=\"container-fluid\" style=\"background: white;\"> <div class=\"row pd-t-20 pd-l-5\"> <div class=\"col-md-4\" style=\"color: #58cabb;\"> <h2 class=\"header-title nomargin inblock\">DOMAIN INFOGRAPHIC</h2> </div> <div class=\"col-md-8\"> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since.replace(/%20/g, \\' \\')}\" until=\"{localStorage.until.replace(/%20/g, \\' \\')}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> </div> <div class=\"row\"> <div class=\"col-md-12 panel\" style=\"padding:20px;\"> <filter-form ref=\"filter_form\"></filter-form> </div> </div> <div class=\"row\" style=\"margin-top:30px;\"> <div class=\"col-md-8\" id=\"channels\"> <channel cb=\"{updateChannel}\" ref=\"channel\" id=\"targetDiv\"></channel> </div> <div class=\"col-md-4\" id=\"sentiment\"> <sentiment cb=\"{updateSentiment}\" ref=\"sentiment\"></sentiment> </div> </div> <div class=\"row\" id=\"05-mentions\"> <div class=\"col-md-12\"> <chart-stream ref=\"chartstream\"></chart-stream> </div> </div> <div class=\"row\" id=\"08-mention-conversation\" if=\"{allprject}\"> <div class=\"col-md-12\"> <charconversationgroup ref=\"Conversationgroup\"></charconversationgroup> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"06-composition\"> <stream-composition ref=\"source_table\"> </stream-composition> </div> </div> <div class=\"row\"> <div class=\"col-md-6\" id=\"07-share-of-stream\"> <chart-share ref=\"share_of_streams\"></chart-share> </div> </div> <div class=\"row\" id=\"08-mention-conversation\" if=\"{!allprject}\"> <div class=\"col-md-12\"> <chartconfersation ref=\"chart_composition\"></chartconfersation> </div> </div> <div class=\"row\" id=\"09-chart-neutral\"> <div class=\"col-md-12\"> <chartsentimentneutral ref=\"chart_sentiment_neutral\"></chartsentimentneutral> </div> </div> <div class=\"row\" id=\"10-positive-negative-sentiment\"> <div class=\"col-md-12\"> <sentiment-positive-negative ref=\"chart_sentiment_positive_negative\"></sentiment-positive-negative> </div> </div> <div class=\"row\" id=\"\"> <div class=\"col-md-12\"> <chartsentimenttotal ref=\"chart_sentiment_total\"></chartsentimenttotal> </div> </div> <div class=\"row panel\"> <div class=\"col-md-6\" id=\"11-positive-wordcloud\"> <wordcloud-positive ref=\"wordcloud_positive\"></wordcloud-positive> </div> <div class=\"col-md-6\" id=\"12-negative-wordcloud\"> <wordcloud-negative ref=\"wordcloud_negative\"></wordcloud-negative> </div> </div> <div class=\"row\"> <div class=\"col-md-6 panel\" id=\"111-neutral-wordcloud\"> <wordcloud-neutral ref=\"wordcloud_neutral\"></wordcloud-neutral> </div> </div> <div class=\"row\"> <div class=\"col-md-6\" id=\"13-streams-neutral\"> <streams-neutral ref=\"streams_neutral\"></streams-neutral> </div> <div class=\"col-md-6\" id=\"14-wordcloud-all\"> <wordcloud-all ref=\"wordcloud_all\"></wordcloud-all> </div> </div> <div class=\"row\"> <div class=\"col-md-6\" id=\"15-positive-streams\"> <sentimentpositive ref=\"sentimentpositive\"></sentimentPositive> </div> <div class=\"col-md-6\" id=\"16-negative-streams\"> <sentimentnegative ref=\"sentimentnegative\"></sentimentNegative> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"17-number-summary\"> <numbersummary ref=\"summary\" style=\"font-size:20px\"></numbersummary> </div> </div> <div class=\"row\"> <div class=\"col-md-7\"> <top-hashtags ref=\"top_hashtags\"></top-hashtags> </div> <div class=\"col-md-5\"> <top-words ref=\"top_words\"></top-words> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"19-average-daily-mention\"> <chart-daily-mention ref=\"average_daily_mention\"></chart-daily-mention> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"20-top-stream-time\"> <chart-top-streams ref=\"top_stream\"></chart-top-streams> </div> </div> <div class=\"row\"> <div class=\"col-md-6\" id=\"21-most-influencers-author\"> <influenc-sosial-author ref=\"influence\"></influenc-sosial-author> </div> <div class=\"col-md-6\" id=\"22-most-active-author\"> <most-active-sosial ref=\"most_active\"></most-active-sosial> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-7\" id=\"24-share-of-voice\"> <share-of-voice ref=\"shareofvoice\"></share-of-voice> </div> </div> <div class=\"row\"> <div class=\"col-md-7\" id=\"23-buzz-volume\"> <buzz-volume ref=\"buzzvolume\"></buzz-volume> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-12\" id=\"25-table-of-mention\"> <tablemention ref=\"tablementions\"></tablemention> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"26-source-of-mention\"> <sourceofmention ref=\"sourceofmentions\"></sourceofmention> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"\"> <sourceofmentionpie ref=\"sourceofmentionspie\"></sourceofmentionpie> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"27-positive-searchofmention\"> <sourceofmentionpositive ref=\"sourcemention_positive\"></sourceofmentionpositive> </div> </div> <div class=\"row\"> <div class=\"col-md-12\" id=\"\"> <sourceofmentionpositivepie ref=\"sourcemention_positivepie\"></sourceofmentionpositivepie> </div> </div> <div class=\"row\"> <div class=\"col-md-12\" id=\"28-negative-searchofmention\"> <sourceofmentionnegative ref=\"sourcemention_negative\"></sourceofmentionnegative> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <sourceofmentionnegativepie ref=\"sourcemention_negativepie\"></sourceofmentionnegativepie> </div> </div> <div class=\"row\"> <div class=\"col-md-10\" id=\"28-neutral-searchofmention\"> <sourceofmentionneutral ref=\"sourcemention_neutral\"></sourceofmentionneutral> </div> </div> <div class=\"row\"> <div class=\"col-md-10\"> <sourceofmentionneutralpie ref=\"sourcemention_neutralpie\"></sourceofmentionneutralpie> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <totalsentiment ref=\"totalsentiments\"> </totalsentiment> </div> <div class=\"col-md-10\" id=\"30-competition-sentiment-chart\" if=\"{competition}\"> <competisi-sentiment-chart ref=\"competisissentimentchart\"> </competisi-sentiment-chart> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-8\" id=\"31-sentiment-competition\"> <sentimentcompetiton ref=\"sentimentcompetition\"></sentimentcompetiton> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-8\" id=\"\"> <sentimentcompetitionpie ref=\"sentimentcompetitionpie\"></sentimentCompetitionPie> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-12\" id=\"32-media-distribution\"> <mediadistributorchart ref=\"mediadistributorcahrt\" id=\"32-media-distribution-1\"></mediaDistributorChart> <media-distribution ref=\"mediadistribution\" id=\"32-media-distribution-2\"></media-distribution> </div> </div> <div class=\"row\" if=\"{competition}\"> <div class=\"col-md-12\"> <summarybybrand ref=\"summarybybrand\"></summarybybrand> </div> </div> <div class=\"row\" id=\"37-composition-Bybrand\" if=\"{competition}\"> <div class=\"col-md-12\"> <compositionbybrand ref=\"compositionbybrand\"></compositionbybrand> </div> </div> <div class=\"row\"> <div class=\"col-md-12 mg-t-20\"> <buzz-geo-infographic ref=\"buzzgeoinfographic\"></buzz-geo-infographic> </div> </div> <div class=\"row\"> <div class=\"col-md-6 mg-t-20\"> <most-active-kemenkes ref=\"most_active_kemenkes\"></most-active-kemenkes> </div> <div class=\"col-md-6 mg-t-20\"> <influenc-sosial-kemenkes ref=\"influencsosialkemenkes\"></influenc-sosial-kemenkes> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.nameproject={},this.active=!1,this.data=localStorage.nameprj,this.updateData=JSON.parse(localStorage.getItem(\"projects\")),this.search={since:null,until:null,project:null},this.channels=null,this.projectList=[],APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:t=>{this.projectList=t}}).done(()=>{APP.log(\"project request done\")}),this.updateSentiment=t=>{this.search.section=t,this.render()},this.updateChannel=t=>{this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.on(\"mount\",()=>{if(this.search.since=localStorage.since.replace(/%20/g,\" \"),this.search.until=localStorage.until.replace(/%20/g,\" \"),document.projectCompetition=p(\"competition\")?p(\"competition\").split(\",\").filter(t=>t&&t.length>0).toString():\"\",this.competitionProjects=document.projectCompetition.split(\",\").map(t=>parseInt(t)),APP.log(\"domaint infographic: mount\"),urlStream.trigger(\"changeUrl\",\"domain/infographic\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.projectAll=APP.currentProject+\",\"+this.competitionProjects,p(\"q\")&&(document.keyword=decodeURIComponent(\"\"+p(\"q\")),this.search.q=document.keyword),p(\"domain\")&&(this.search.domain=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(document.author=decodeURIComponent(\"\"+p(\"author\")),this.search.author=document.author),p(\"filterbot\")&&(document.filterbot=0==p(\"filterbot\")?\"\":decodeURIComponent(\"\"+p(\"filterbot\")),this.search.filterbot=document.filterbot),localStorage.prj=p(\"project\"),p(\"since\")){const t=decodeURIComponent(\"\"+p(\"since\"));this.search.since=t.substring(0,10),localStorage.since=t.substring(0,10)}if(p(\"until\")){const t=decodeURIComponent(\"\"+p(\"until\"));localStorage.until=t.substring(0,10),this.search.until=t.substring(0,10)}setTimeout(()=>{const t=this.channels=this.refs.channel.getChannelSelected(),e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),this.update(),this.project(),this.render()},500)}),this.changeMore=()=>{this.height=\"700px\",this.more=!this.more,this.Isopen=!0,this.active=this.active,this.active=!0,this.update()},this.render=()=>{let t=this;p(\"project\").split(\",\").length>1?p(\"competition\")||(this.allprject=!0,setTimeout(()=>{this.refs.Conversationgroup.render()},500),this.update()):(this.allprject=!1,setTimeout(()=>{this.refs.chart_composition.render(),this.update()},500)),p(\"competition\")?(this.competition=!0,this.update(),setTimeout(()=>{this.refs.chartstream.render(),this.refs.summary.render(),this.refs.buzzgeoinfographic.render(),this.refs.share_of_streams.render(),this.refs.source_table.render(),this.refs.channel.updateRenderSentiment(),this.refs.sentiment.render(),this.refs.most_active.render(),this.refs.influence.render(),this.refs.average_daily_mention.render(),this.refs.top_stream.render(),this.refs.top_hashtags.render(),this.refs.wordcloud_all.render(),this.refs.chart_sentiment_total.render(),this.refs.top_words.render(),this.refs.tablementions.render(),this.refs.competisissentimentchart.render(),this.refs.sentimentcompetition.render(),this.refs.sentimentcompetitionpie.render(),this.refs.mediadistribution.render(),this.refs.summarybybrand.render(),this.refs.compositionbybrand.render(),this.refs.shareofvoice.render(),this.refs.buzzvolume.render(),this.refs.sourceofmentions.render(),this.refs.sourceofmentionspie.render(),this.refs.chart_sentiment_positive_negative.render(),this.refs.chart_sentiment_neutral.render(),this.refs.sourcemention_negative.render(),this.refs.sourcemention_neutral.render(),this.refs.sourcemention_negativepie.render(),this.refs.sourcemention_positive.render(),this.refs.sourcemention_positivepie.render(),this.refs.sourcemention_neutralpie.render(),this.refs.wordcloud_positive.render(),this.refs.wordcloud_neutral.render(),this.refs.wordcloud_negative.render(),this.refs.most_active_kemenkes.render(),this.refs.influencsosialkemenkes.render(),this.refs.filter_form.getfilterlist(),this.refs.totalsentiments.render(),this.update()},2e3)):(this.competition=!1,this.update(),setTimeout(()=>{this.refs.chartstream.render(),this.refs.filter_form.getfilterlist(),this.refs.summary.render(),this.refs.channel.updateRenderSentiment(),this.refs.sentiment.render(),this.refs.most_active.render(),this.refs.chart_sentiment_total.render(),this.refs.influence.render(),this.refs.totalsentiments.render(),this.refs.source_table.render(),this.refs.share_of_streams.render(),this.refs.buzzvolume.render(),this.refs.average_daily_mention.render(),this.refs.top_stream.render(),this.refs.sourceofmentions.render(),this.refs.sourceofmentionspie.render(),this.refs.chart_sentiment_positive_negative.render(),this.refs.buzzgeoinfographic.render(),this.refs.most_active_kemenkes.render(),this.refs.influencsosialkemenkes.render(),setTimeout(()=>{t.refs.chart_sentiment_neutral.render(),t.refs.sourcemention_negative.render(),t.refs.sourcemention_neutral.render(),t.refs.sourcemention_neutralpie.render(),t.refs.sourcemention_negativepie.render(),t.refs.sourcemention_positive.render(),t.refs.sourcemention_positivepie.render()},1e3),setTimeout(()=>{t.refs.top_hashtags.render(),t.refs.top_words.render(),t.refs.wordcloud_positive.render(),t.refs.wordcloud_neutral.render(),t.refs.wordcloud_negative.render(),t.refs.wordcloud_all.render()},5e3)},2e3))},this.projectsetting=()=>{window.location=\"#domain/infographic?project=\"+localStorage.prjId},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var e=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=e.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}})).forEach(t=>{i.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.nameproject[e]=this.dataProjects,this.nameprj=_.filter(this.dataProjects,(function(t){return t.checked})),this.data=this.nameprj[0].name,this.updateData=_.sortBy(this.dataProjects,[function(t){return!t.checked}]),this.update()}},this.updateFilter=t=>{this.search=t,this.render()}}))},function(t,e){t.exports=function(){throw new Error(\"define cannot be used indirect\")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chart-sentiment-negative\",'<div class=\"header-title fontsizecolor\">MENTION NEGATIVE</div> <div class=\"panel padding-10-20\" if=\"{!nodata}\"> <div class=\"col-md-6\"> </div> <div class=\"clearfix\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div id=\"chartSentimentStream\" class=\"panel-body bg-white height400 \"> </div> </div> <div class=\"clearfix\"></div> <div class=\"panel height400\" if=\"{nodata}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.sentiment=[{color:\"#ec8f8f\",id:\"negative\",name:\"Negative\"}],this.ajaxChannels=[],this.isExist=!0,this.render=t=>{setTimeout(()=>{this.nodata=!0,APP.log(\"chart streams : render\");let e=_.clone(this.parent.search);e.group_service=\"false\",e.project=p(\"project\"),this.update({isLoading:!0}),this.chart&&this.chart.spacing&&this.chart.destroy();var i=[];async.each(this.sentiment,(t,a)=>{if(!this.isExist)return!1;e.section=t.id;var s=APP.apiGet({path:\"mentions\",data:e,success:function(e){let s=[];s=(e=_.sortBy(e,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:t.name,lineWidth:2,color:t.color,marker:{radius:3},data:s}),a()}.bind(this)});this.ajaxChannels.push(s)},()=>{if(!this.nodata){const t=\"chartSentimentStream\";this.update({nodata:this.nodata});for(var e=this.chart=s()(t),a=0;a<=i.length-1;a++)e.addSeries(i[a])}this.update({isLoading:!1}),_.isFunction(t)&&t()})},500)},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,_.each(this.ajaxChannels,(function(t){t.abort()})),APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"reachofmention\",'<div class=\"header-title fontsizecolor\">REACH OF MENTIONS</div> <div class=\"panel padding-10-20\" if=\"{!nodata}\"> <div class=\"col-md-6\"> </div> <div class=\"clearfix\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div id=\"chartmentionreach\" class=\"panel-body bg-white \" style=\"height: 300px;\"> </div> </div> <div class=\"clearfix\"></div> <div class=\"panel\" if=\"{nodata}\" style=\"height: 350px;\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <div class=\"txtcenter\">No Data </div> </div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.isLoading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=()=>{let t=_.clone(this.parent.search);const e=_.find(this.times,{selected:!0}).id;t.type=e,t.group_service=\"false\",t.is_total=null,this.update({isLoading:!0});var i=[];async.each([\"mention\",\"reach\"],(e,a)=>{if(!this.isExist)return!1;t.section=e;var s=APP.apiGet({path:\"mentions\",data:t,success:function(t){let s=[];s=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),i.push({id:\"response\",shadow:!1,name:e,lineWidth:2,type:\"mention\"==e?\"spline\":\"column\",color:\"mention\"==e?\"#60c2ef\":\"#ed3833\",marker:{radius:3},data:s}),a()}.bind(this)});this.ajaxChannels.push(s)},()=>{if(!this.nodata){const o=\"chartmentionreach\";this.update({nodata:this.nodata});for(var t=this.chart=s()(o,e),a=0;a<=i.length-1;a++)t.addSeries(i[a])}this.update({isLoading:!1})})}}))},function(t,e,i){\"use strict\";i.r(e);i(156),i(157),i(154),i(56);i(0).tag2(\"dasboardindosat\",'<div class=\"container-fluid\" style=\"background: white;\"> <div class=\"row\"> <div class=\"col-md-12 panel\" style=\"padding:20px;\"> <filter-form ref=\"filter_form\"></filter-form> </div> </div> <div class=\"row\" style=\"margin-top:30px;\"> <div class=\"col-md-12\"> <channel-sentiment cb=\"{updateChannel}\" ref=\"channel\" id=\"targetDiv\"></channel-sentiment> </div> </div> <sourceofmentionpositivepie ref=\"sourcemention_positivepie\"></sourceofmentionpositivepie> <sourceofmentionnegativepie ref=\"sourcemention_negativepie\"></sourceofmentionnegativepie> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.nameproject={},this.active=!1,this.data=localStorage.nameprj,this.updateData=JSON.parse(localStorage.getItem(\"projects\")),this.search={since:null,until:null,project:null},this.channels=null,this.projectList=[],APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:t=>{this.projectList=t}}).done(()=>{APP.log(\"project request done\")}),this.on(\"mount\",()=>{if(this.search.since=localStorage.since.replace(/%20/g,\" \"),this.search.until=localStorage.until.replace(/%20/g,\" \"),document.projectCompetition=p(\"competition\")?p(\"competition\").split(\",\").filter(t=>t&&t.length>0).toString():\"\",this.competitionProjects=document.projectCompetition.split(\",\").map(t=>parseInt(t)),APP.log(\"domaint infographic: mount\"),urlStream.trigger(\"changeUrl\",\"domain/indosatreport\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),p(\"q\")&&(document.keyword=decodeURIComponent(\"\"+p(\"q\")),this.search.q=document.keyword),p(\"domain\")&&(this.search.domain=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(document.author=decodeURIComponent(\"\"+p(\"author\")),this.search.author=document.author),p(\"filterbot\")&&(document.filterbot=0==p(\"filterbot\")?\"\":decodeURIComponent(\"\"+p(\"filterbot\")),this.search.filterbot=document.filterbot),localStorage.prj=p(\"project\"),p(\"since\")){const t=decodeURIComponent(\"\"+p(\"since\"));this.search.since=t.substring(0,10),localStorage.since=t.substring(0,10)}if(p(\"until\")){const t=decodeURIComponent(\"\"+p(\"until\"));localStorage.until=t.substring(0,10),this.search.until=t.substring(0,10)}setTimeout(()=>{const t=this.channels=this.refs.channel.getChannelSelected(),e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),this.update(),this.project(),this.render()},500)}),this.render=()=>{setTimeout(()=>{this.refs.channel.render(),this.refs.sourcemention_positivepie.render(),this.refs.sourcemention_negativepie.render(),this.setTotal()},1e3)},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.search.project=p(\"project\")?p(\"project\"):\"undefined\",this.search.group_service=\"true\",this.search.section=\"\";let t={};this.xhr=APP.apiGet({path:\"mentions\",data:this.search,success:t=>{this.refs.channel.updateCount(t.items)}}),this.xhr.readyState&&(this.refs.channel.updateCount(t),this.update())},this.projectsetting=()=>{window.location=\"#domain/infographic?project=\"+localStorage.prjId},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var e=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=e.split(\",\").map(Number);_.map(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}})).forEach(t=>{i.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.nameproject[e]=this.dataProjects,this.nameprj=_.filter(this.dataProjects,(function(t){return t.checked})),this.data=this.nameprj[0].name,this.updateData=_.sortBy(this.dataProjects,[function(t){return!t.checked}]),this.update()}},this.updateFilter=t=>{this.search=t,setTimeout(function(){const t=this.search.project,e=this.search.since,i=this.search.until;localStorage.prj=t,localStorage.since=e,localStorage.until=i,this.render(),this.update()}.bind(this),100)}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2);i(0).tag2(\"downloadcsv\",'<breadcrumb current=\"Dashboard donwload csv\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DOWNLOAD CSV</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"br-section-wrapper pd-20 mg-t-20\"> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"stream_timeline\"> <div class=\"tx-46 tx-white\" id=\"stream_timeline\"><i class=\"fa fa-download\" id=\"stream_timeline\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"stream_timeline\">Stream Timeline</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"stream_topposts\"> <div class=\"tx-46 tx-white\" id=\"stream_topposts\"><i class=\"fa fa-download\" id=\"stream_topposts\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"stream_topposts\">Stream Topposts</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"stream_influencers\"> <div class=\"tx-46 tx-white\" id=\"stream_influencers\"><i class=\"fa fa-download\" id=\"stream_influencers\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"stream_influencers\">Stream Influencers</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"stream_keywords\"> <div class=\"tx-46 tx-white\" id=\"stream_keywords\"><i class=\"fa fa-download\" id=\"stream_keywords\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"stream_keywords\">Stream Keywords</div> </a> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"stream_hashtags\"> <div class=\"tx-46 tx-white\" id=\"stream_hashtags\"><i class=\"fa fa-download\" id=\"stream_hashtags\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"stream_hashtags\">Stream Hashtags</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"profile_top_post_time\"> <div class=\"tx-46 tx-white\" id=\"profile_top_post_time\"><i class=\"fa fa-download\" id=\"profile_top_post_time\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"profile_top_post_time\">Profile Top Post Time</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"profile_timeline\"> <div class=\"tx-46 tx-white\" id=\"profile_timeline\"><i class=\"fa fa-download\" id=\"profile_timeline\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"profile_timeline\">Profile Timeline</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"profile_followers\"> <div class=\"tx-46 tx-white\" id=\"profile_followers\"><i class=\"fa fa-download\" id=\"profile_followers\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"profile_followers\">Profile Followers</div> </a> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"profile_hashtags\"> <div class=\"tx-46 tx-white\" id=\"profile_hashtags\"><i class=\"fa fa-download\" id=\"profile_hashtags\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"profile_hashtags\">Profile Hashtags</div> </a> </div> <div class=\"col-lg-3 cursor-pointer\"> <a onclick=\"{Donwloads}\" class=\"donwloadcsv d-block text-center\" id=\"profile_post_types\"> <div class=\"tx-46 tx-white\" id=\"profile_post_types\"><i class=\"fa fa-download\" id=\"profile_post_types\"></i></div> <div class=\"bold pd-b-10 tx-white\" id=\"profile_post_types\">Profile Post Types</div> </a> </div> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null},this.on(\"mount\",()=>{urlStream.trigger(\"changeUrl\",\"downloadcsv\")}),this.Donwloads=t=>{var e=t.target.id;$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let i=this.search;i.project=p(\"project\")?p(\"project\"):APP.getProject(),i.since=localStorage.since,i.until=localStorage.until;const a=\"download/\"+e+\"?type=daily&token=\"+localStorage.AuthToken;var s=APP.apiUrl+a;for(let t in i)i[t]&&i[t].length>0&&(s+=`&${t}=${i[t]}`);this.doDownload(s)},this.doDownload=t=>{window.open(t,\"_blank\")}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(14),i(13),i(8),i(5),i(9),i(46),i(158),i(2);i(0).tag2(\"download\",'<breadcrumb current=\"Dashboard Mentions\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DOWNLOAD DATA</h4> </div> <group-competitive></group-competitive> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width200 cursor-pointer\">Combine Project</button> </group-competitive> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style \" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-10 pd-r-0\" id=\"channels\"> <channel cb=\"{updateChannel}\" ref=\"channel\"></channel> </div> <div class=\"col-md-4 mg-t-10 pd-r-0\" id=\"sentiment\"> <sentiment cb=\"{updateSentiment}\" ref=\"sentiment\"></sentiment> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-20\" id=\"maxfollowscroll\"> <streamsdowload ref=\"streamTimelinedownload\" corection=\"false\"></streamsDowload> </div> <div class=\"col-md-4 mg-t-20\"> <filter namefilter=\"true\" ref=\"filterval\"></filter> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> <a href=\"javascript:\" id=\"return-to-top\" onclick=\"{scrolltop}\"><i class=\"fa fa-chevron-up\"></i></a> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilterValue\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div>',\"\",\"\",(function(t){this.error=!1,this.search={since:null,until:null,project:null},this.channels=null,this.on(\"mount\",()=>{window.innerWidth>=500&&$(\"#showmax500hidden\").hide(),urlStream.trigger(\"changeUrl\",\"download\"),menuActive.trigger(\"activated\",[\"download\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.xhrdata=null,p(\"filter\")&&this.getfilterlistid(),setTimeout(()=>{const t=this.channels=this.refs.channel.getChannelSelected(),e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\")},500),p(\"author\")&&this.getAuthor(),$(\"body,html\").animate({scrollTop:0},500)}),this.render=()=>{let t=this;null!=this.search.project||null!=this.search.project?(t.refs.sentiment.render(),t.refs.streamTimelinedownload.render(),this.setTotal()):swal(\"Oops...\",\"Create your project\",\"warning\")},this.updateDate=(t,e)=>{this.refs.streamTimelinedownload.isLoading=!0,this.refs.channel.isLoading=!0,this.search.since=t,this.search.until=e,setTimeout(function(){this.render(),this.update()}.bind(this),1e3)},this.updateChannel=t=>{this.refs.streamTimelinedownload.isLoading=!0,this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.updateSentiment=t=>{this.refs.streamTimelinedownload.isLoading=!0,this.search.section=t,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.refs.channel.updateRenderSentiment()},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilterValue.value,this.updatenamefilter?(window.innerWidth>=500?this.refs.filterval.savefilter(t):this.refs.filtervalmobile.savefilter(t),this.update()):(this.error=!0,this.update())},this.on(\"unmount\",()=>{}),this.updateFilter=()=>{this.refs.streamTimelinedownload.isLoading=!0,this.refs.streamTimelinedownload.query={page:0,limit:this.refs.streamTimelinedownload.query.limit},this.refs.streamTimelinedownload.pagination.page=1,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.resetFilter=()=>{this.refs.streamTimelinedownload.isLoading=!0,this.refs.streamTimelinedownload.query={page:0,limit:this.refs.streamTimelinedownload.query.limit},this.refs.streamTimelinedownload.pagination.page=1,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.getfilterlistid=()=>{APP.log(\"project : project\"),APP.apiGet({path:\"bookmark-filter/list/\"+p(\"filter\"),data:{id:p(\"filter\")},success:t=>{this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,window.innerWidth>=500?this.refs.filterval.getfilterlist(t):this.refs.filtervalmobile.getfilterlist(t),this.render(),this.update()}})},$(document).ready(()=>{$(\"#maxfollowscroll\").height();var t=null;setTimeout((function(){t=$(\"#follow-scroll\"),$(window).scroll((function(){t.css(\"position\",\"relative\"),$(window).on(\"scroll\",(function(e){var i=$(window).scrollTop();$(window).scrollTop()<$(\"#maxfollowscroll\").height()&&$(window).scrollTop()<$(\"#maxfollowscroll\").height()&&t.stop(!1,!1).animate({top:i<null?0:i-null+60},500)}))}))}),100)}),this.getAuthor=()=>{this.search.author=p(\"author\").replace(/%20/g,\" \"),window.innerWidth>=500?this.refs.filterval.getfilterauthor(p(\"author\").replace(/%20/g,\" \")):this.refs.filtervalmobile.getfilterauthor(p(\"author\").replace(/%20/g,\" \")),this.render()},this.dowloadStreams=()=>{$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let t=this.search;const e=\"stream/download?type=daily&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")},this.on(\"unmount\",()=>{this.xhrdata&&this.xhrdata.destroy()}),$(window).scroll((function(){$(this).scrollTop()>=50?$(\"#return-to-top\").fadeIn(200):$(\"#return-to-top\").fadeOut(200)})),this.scrolltop=()=>{$(\"body,html\").animate({scrollTop:0},500)}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(9);i(0).tag2(\"downloadcharts\",'<breadcrumb current=\"Dashboard Mentions\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">STREAMS MENTIONS</h4> </div> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i> Filter</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style \" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row no-gutters widget-2 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-10-imp\"> <h6 class=\"card-title\">CHOOSE CHARTS TO DOWNLOAD </h6> </div> <div class=\"card-body displayblock pd-b-20\"> <div class=\"row\"> <div class=\"col-md-6 mg-t-20 mg-xl-t-0\"> <table class=\"table table-striped mg-b-0 b-1\"> <thead> <tr> <th><h4>SUMMARY</h4></th> <th></th> <th> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changesummaryall}\"> <div class=\"toggle toggle-light primary add summaryall\" data-toggle-on=\"{this.summaryall}\"></div> </div> </th> </tr> </thead> <tbody> <tr each=\"{o in summary}\"> <th scope=\"row\">{o.name} <div class=\"btn-group pull-right\" role=\"group\" aria-label=\"Type\" if=\"{o.mentions}\"> <select class=\"btn btn-outline-info-table btn-icon mg-r-5 pull-right mg-t-20 selecttable cursor-pointer\" ref=\"typementions\"> <option value=\"Hourly\" selected=\"{selected:typevalue == \\'Hourly\\'}\">Hourly</option> <option value=\"Daily\" selected=\"{selected:typevalue == \\'Daily\\'}\">Daily</option> <option value=\"Monthly\" selected=\"{selected:typevalue == \\'Monthly\\'}\">Monthly</option> </select> </div> </th> <td> <a href=\"#\" class=\"tooltip-images\"> <img src=\"assets/img/svg/help-grey.png\" width=\"20\"> <span> <img riot-src=\"{o.image}\" style=\"width:100%;\"> <div class=\"group-more-capture\"></div> </span> </a> </td> <td> <div class=\"toggle-wrapper mg-t-m-10 \" onclick=\"{changesummary}\" id=\"{o.class}\"> <div class=\"toggles toggle-light primary {o.class}\" data-toggle-on=\"{o.checked}\"></div> </div> </td> </tr> </tbody> </table> <table class=\"table table-striped mg-b-0 mg-t-20 b-1\"> <thead> <tr> <th><h4>OTHER</h4></th> <th></th> <th> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changeotherall}\"> <div class=\"toggle toggle-light primary otherall\" data-toggle-on=\"{this.otherall}\"></div> </div> </th> </tr> </thead> <tbody> <tr each=\"{o in other}\"> <th scope=\"row\">{o.name} <div class=\"btn-group pull-right\" role=\"group\" aria-label=\"Limit\" if=\"{o.limit}\"> <select class=\"btn btn-outline-info-table btn-icon mg-r-5 pull-right mg-t-20 selecttable cursor-pointer\" ref=\"limitsosiographauthor\"> <option value=\"100\" selected=\"{selected:limitvalue == \\'100\\'}\">100</option> <option value=\"500\" selected=\"{selected:limitvalue == \\'500\\'}\">500</option> <option value=\"1000\" selected=\"{selected:limitvalue == \\'1000\\'}\">1000</option> <option value=\"2000\" selected=\"{selected:limitvalue == \\'2000\\'}\">2000</option> <option value=\"3000\" selected=\"{selected:limitvalue == \\'3000\\'}\">3000</option> <option value=\"4000\" selected=\"{selected:limitvalue == \\'4000\\'}\">4000</option> </select> </div> </th> <td> <a href=\"#\" class=\"tooltip-images\"> <img src=\"assets/img/svg/help-grey.png\" width=\"20\"> <span> <img riot-src=\"{o.image}\" style=\"width:100%;\"> <div class=\"group-more-capture\"></div> </span> </a> </td> <td> <div class=\"toggle-wrapper mg-t-m-10 \" onclick=\"{changeother}\" id=\"{o.name}\"> <div class=\"toggle toggle-light primary {o.class}\" data-toggle-on=\"{o.checked}\"></div> </div> </td> </tr> </tbody> </table> </div> <div class=\"col-md-6 mg-t-20 mg-xl-t-0\"> <table class=\"table table-striped mg-b-0 b-1\"> <thead> <tr> <th><h4>ANALISYS</h4></th> <th></th> <th> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changeanalisysall}\"> <div class=\"toggle toggle-light primary analisysall\" data-toggle-on=\"{this.analisysall}\"></div> </div> </th> </tr> </thead> <tbody> <tr each=\"{o in analisys}\"> <th scope=\"row\">{o.name} <div class=\"btn-group pull-right\" role=\"group\" aria-label=\"Limit\" if=\"{o.limit}\"> <select class=\"btn btn-outline-info-table btn-icon mg-r-5 pull-right mg-t-20 selecttable cursor-pointer\" ref=\"limitsosiograph\"> <option value=\"100\" selected=\"{selected:limitvalue == \\'100\\'}\">100</option> <option value=\"500\" selected=\"{selected:limitvalue == \\'500\\'}\">500</option> <option value=\"1000\" selected=\"{selected:limitvalue == \\'1000\\'}\">1000</option> <option value=\"2000\" selected=\"{selected:limitvalue == \\'2000\\'}\">2000</option> <option value=\"3000\" selected=\"{selected:limitvalue == \\'3000\\'}\">3000</option> <option value=\"4000\" selected=\"{selected:limitvalue == \\'4000\\'}\">4000</option> </select> </div> </th> <td> <a href=\"#\" class=\"tooltip-images\"> <img src=\"assets/img/svg/help-grey.png\" width=\"20\"> <span> <img riot-src=\"{o.image}\" style=\"width:100%;\"> <div class=\"group-more-capture\"></div> </span> </a></td> <td> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changeanalisys}\" id=\"{o.class}\"> <div class=\"toggle toggle-light primary {o.class}\" data-toggle-on=\"{o.checked}\"></div> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-20\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> </div> <button onclick=\"{donwload}\" class=\"btn btn-outline-secondary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\" id=\"images\"><i class=\"mg-r-5 fa fa-picture-o\" id=\"images\"></i> Download as Image</button> <button onclick=\"{donwload}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\" id=\"ppt\"><i class=\"mg-r-5 fa fa-file-powerpoint-o\" id=\"ppt\"></i> Download as PPT</button> </div> </div> </div> </div> </div> <div class=\"modal-footer \" style=\"height:71px;\"> </div> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter ref=\"filterval\" namefilter=\"false\"></filter> </div> </div> </form> </div> </div>',\"\",\"\",(function(t){this.summaryall=!1,this.analisysall=!1,this.otherall=!1,this.typevalue=\"Daily\",this.limitvalue=1e3,this.search={project:null,since:null,until:null,components:null,limit_sg_author:null,limit_sg_key:null,type_chart:null,download_type:null,token:null},this.other=[{name:\"Sociograph Author\",checked:!1,class:\"sociographauthor\",limit:!0,image:\"assets/img/image-capture/sosiograph-keywords.png\",id:18}],this.summary=[{name:\"Total Sentiment\",checked:!1,image:\"assets/img/image-capture/total-sentiment.png\",class:\"totalsentiment\",id:1},{name:\"Timeline of Mentions\",checked:!1,image:\"assets/img/image-capture/timeline-mentions.png\",class:\"timeline\",mentions:!0,id:2},{name:\"Source of Mentions\",checked:!1,image:\"assets/img/image-capture/source-of-mentions.png\",class:\"sourcementions\",id:3},{name:\"Popular Mentions\",checked:!1,image:\"assets/img/image-capture/popular-mentions.png\",class:\"popular\",id:4},{name:\"Buzz Geodistributions\",checked:!1,image:\"assets/img/image-capture/buzz-geodistribution.png\",class:\"buzzgeo\",id:5}],this.analisys=[{name:\"Mentions Stats\",checked:!1,class:\"mentionstats\",image:\"assets/img/image-capture/mentions-stats.png\",id:6},{name:\"Twitter Stats\",checked:!1,class:\"twitterstats\",image:\"assets/img/image-capture/twitter-stats.png\",id:7},{name:\"Facebook Stats\",checked:!1,class:\"facebookstats\",image:\"assets/img/image-capture/facebook-stats.png\",id:8},{name:\"Instagrams Stats\",checked:!1,class:\"instagramstats\",image:\"assets/img/image-capture/instagrams-stats.png\",id:9},{name:\"Sociograph Keywords\",checked:!1,class:\"sociograph\",limit:!0,image:\"assets/img/image-capture/sosiograph-keywords.png\",id:10},{name:\"Top Hashtags\",checked:!1,class:\"tophashtags\",image:\"assets/img/image-capture/tophashtags.png\",id:11},{name:\"Most Influential Authors \",checked:!1,class:\"influencer\",image:\"assets/img/image-capture/influence.png\",id:12},{name:\"Most Active Authors\",checked:!1,class:\"mostactive\",image:\"assets/img/image-capture/most-active.png\",id:13},{name:\"Average Daily Mentions \",checked:!1,class:\"average\",image:\"assets/img/image-capture/average.png\",id:14},{name:\"Top Mentions Time \",checked:!1,class:\"mentionstime\",image:\"assets/img/image-capture/top-metions-time.png\",id:15},{name:\"Most Active Locations \",checked:!1,class:\"locations\",image:\"assets/img/image-capture/most-locations.png\",id:16},{name:\"Wordcloud\",checked:!1,class:\"wordcloud\",image:\"assets/img/image-capture/wordcloud.png\",id:17}],this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"donwloadcharts\"]),$(\".toggle\").toggles({height:20}),$(\".toggles\").toggles({height:20})}),this.updateFilter=()=>{},this.donwload=t=>{var e=t.target.id,i=_.filter(this.summary,t=>t.checked),a=_.filter(this.analisys,t=>t.checked),s=_.filter(this.other,t=>t.checked);let o=_.concat(i,a,s);o=_.map(o,t=>t.id),this.menuUrl=o.join(\",\"),this.search.download_type=e,this.search.components=this.menuUrl,this.search.type_chart=this.refs.typementions.value.toLowerCase(),this.search.limit_sg_key=this.refs.limitsosiograph.value,this.search.limit_sg_author=this.refs.limitsosiographauthor.value,this.search.token=localStorage.getItem(\"AuthToken\"),this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.search.since=localStorage.getItem(\"since\"),this.search.until=localStorage.getItem(\"until\");let r=this.search;var n=\"\",l=0;for(let t in r)r[t]&&\"\"!=r[t]&&(n+=l>0?`&${t}=${r[t]}`:`?${t}=${r[t]}`,l++);window.open(\"https://ping.r10.co/\"+n,\"_blank\")},this.changesummaryall=t=>{this.summaryall=!this.summaryall,this.summary=_.map(this.summary,(t,e)=>($(\".\"+t.class).toggles(this.summaryall),t.checked=this.summaryall,t)),this.update()},this.changesummary=t=>{t.item.o.checked=!t.item.o.checked,_.filter(this.summary,t=>!t.checked).length>0&&(this.summaryall=!1,$(\".summaryall\").toggles(this.summaryall)),this.update()},this.changeother=t=>{t.item.o.checked=!t.item.o.checked,_.filter(this.other,t=>!t.checked).length>0&&(this.otherall=!1,$(\".otherall\").toggles(this.otherall)),this.update()},this.changeotherall=()=>{this.otherall=!this.otherall,this.other=_.map(this.other,(t,e)=>($(\".\"+t.class).toggles(this.otherall),t.checked=this.otherall,t)),this.update()},this.changeanalisys=t=>{t.item.o.checked=!t.item.o.checked,_.filter(this.analisys,t=>!t.checked).length>0&&(this.analisysall=!1,$(\".analisysall\").toggles(this.analisysall)),this.update()},this.changeanalisysall=()=>{this.analisysall=!this.analisysall,this.analisys=_.map(this.analisys,(t,e)=>($(\".\"+t.class).toggles(this.analisysall),t.checked=this.analisysall,t)),this.update()}}))},function(t,e,i){i(0).tag2(\"group-project\",'<button type=\"button\" class=\"btn combgroup pull-right\" data-toggle=\"modal\" data-target=\"#exampleModal\"> <i class=\"fa fa-users\"></i> Combine Project </button> <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <h4> Group brand</h4> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-md-4 \"> <div class=\"checkbox checkbox-theme\" if=\"{i < 10}\" each=\"{o, i in dataProjects}\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" class=\"a\" riot-value=\"{o.id}\" checked=\"{o.checked}\" onchange=\"{changeProjects}\"> <label for=\"checkbox-inline-{o.id}\" onclick=\"{changeProjects}\">{o.name}</label> </div> </div> <div class=\"col-md-4 \"> <div class=\"checkbox checkbox-theme\" if=\"{i >= 10}\" each=\"{o, i in dataProjects}\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" class=\"a\" riot-value=\"{o.id}\" checked=\"{o.checked}\" onchange=\"{changeProjects}\"> <label for=\"checkbox-inline-{o.id}\">{o.name}</label> </div> </div> <div class=\"col-md-4 \"> <div class=\"checkbox checkbox-theme\" if=\"{i >= 20}\" each=\"{o, i in dataProjects}\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" class=\"a\" riot-value=\"{o.id}\" checked=\"{o.checked}\" onchange=\"{changeProjects}\"> <label for=\"checkbox-inline-{o.id}\">{o.name}</label> </div> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> <button type=\"button\" class=\"btn btn-primary\" onclick=\"{group}\" data-dismiss=\"modal\">Save changes</button> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.on(\"mount\",()=>{this.setItem(),this.update()}),this.setItem=()=>{const t=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);Auth.projects.forEach(e=>{t.indexOf(e.id)>-1?e.checked=!0:e.checked=!1,this.dataProjects.push(e)})},this.on(\"mount\",()=>{console.log(\"sms,\")}),this.group=t=>{urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()});let e=$(\".a:checked\").val(),i=[];null!=e?($(\".a:checked\").each((function(t){i.push($(this).attr(\"value\"))})),window.location=\"#\"+this.currentUrlStream+\"?project=\"+i.join(\",\"),this.update()):alert(\"checked tidak boleh kosong\")},this.changeProjects=t=>{console.log(t),t.preventDefault(),console.log(this.dataProjects[t.item.i].checked),this.dataProjects[t.item.i].checked=!this.dataProjects[t.item.i].checked,this.update()},urlStream.on(\"changeUrl\",t=>{this.currentUrlStream=t,this.update()})}))},function(t,e,i){i(0).tag2(\"modalfilter\",'<div id=\"modalfilter\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header pd-x-20\"> <h6 class=\"tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold\">Filter Author</h6> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">×</span> </button> </div> <div class=\"modal-body pd-20\"> <div class=\"form-layout form-layout-4\" style=\"background: white;\"> <h6 class=\"br-section-label mg-t-20\">FILTER</h6> <div class=\"row\"> <label class=\"col-sm-5 form-control-label\">Filter By Text<span class=\"tx-danger\"></span></label> <div class=\"col-sm-7 mg-t-10 mg-sm-t-0\"> <input type=\"text\" class=\"form-control\" placeholder=\"\" ref=\"keyword\" riot-value=\"{keyword}\"> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-5 form-control-label\">Filter By Domain <span class=\"tx-danger\"></span></label> <div class=\"col-sm-7 mg-t-10 mg-sm-t-0\"> <input type=\"text\" class=\"form-control\" placeholder=\"\" ref=\"domain\" riot-value=\"{domain}\"> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-5 form-control-label\">Filter By Author <span class=\"tx-danger\"></span></label> <div class=\"col-sm-7 mg-t-10 mg-sm-t-0\"> <input type=\"text\" class=\"form-control\" placeholder=\"\" ref=\"author\" riot-value=\"{author}\"> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-5 form-control-label\">Filter By Location <span class=\"tx-danger\"></span></label> <div class=\"col-sm-7 mg-t-10 mg-sm-t-0\"> <input type=\"text\" class=\"form-control\" placeholder=\"\" ref=\"location\" riot-value=\"{location}\"> </div> </div> <div class=\"row mg-t-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <label class=\"ckbox\" style=\"\"> <input type=\"checkbox\" class=\"exc\"><span> Show Marked Author </span> </label> </div> </div> <div class=\"form-layout-footer mg-t-30\"> <button type=\"submit\" class=\"btn btn-outline-primary mg-b-10\" data-dismiss=\"modal\" onclick=\"{kirim}\">Submit Form</button> <button class=\"btn btn-outline-warning mg-b-10\" id=\"cancel\" data-dismiss=\"modal\" onclick=\"{reset}\">Reset</button> </div> </div> </div> </div> </form> </div> </div>',\"\",\"\",(function(t){this.kirim=t=>{t.preventDefault();var e=$(\".exc:checked\").val();this.parent.search.q=this.refs.keyword.value,this.parent.search.domain=this.refs.domain.value,this.parent.search.author=this.refs.author.value,this.parent.search.filterbot=null!=e,this.update(),this.parent.updateFilter()},this.reset=()=>{document.getElementById(\"myFormid\").reset(),this.parent.search.q=\"\",this.parent.search.domain=\"\",this.parent.search.author=\"\",this.parent.search.filterbot=!1,this.parent.updateFilter()}}))},function(t,e,i){i(0).tag2(\"rg-tags\",'<div class=\"tags\"> <span class=\"tags__container\"> <button each=\"{opts.tags.tags}\" onclick=\"{removeTag}\" type=\"button\" class=\"button button--primary tag\"> {text} <span class=\"tag__close\">×</span> </button> </span> <div class=\"tags__field-container\"> <input type=\"{opts.tags.filter ? \\'search\\' : \\'text\\'}\" name=\"selectfield\" ref=\"selectfield\" class=\"field\" placeholder=\"{opts.tags.placeholder}\" onkeydown=\"{navigate}\" oninput=\"{filterOptions}\" onfocus=\"{open}\" readonly=\"{!opts.tags.filter}\"> <ul class=\"menu menu--high\" if=\"{opts.tags.isvisible}\"> <li each=\"{options}\" no-reorder onclick=\"{parent.select}\" class=\"menu__item {\\'menu__item--active\\': selected, \\'menu__item--disabled\\': disabled, \\'menu__item--hover\\': active}\"> {text} </li> </ul> </div> </div>','rg-tags .menu,[data-is=\"rg-tags\"] .menu{ position: absolute; }',\"\",(function(t){t.tags||(t.tags={options:[],tags:[]}),t.tags.options||(t.tags.options=[]),t.tags.tags||(t.tags.tags=[]);const e=t=>{this.root.contains(t.target)||this.close(),this.update()},i=()=>{this.refs.selectfield.value=\"\";for(let e=0;e<t.tags.options.length;e++){t.tags.options[e].selected=!1}};this.filterOptions=()=>{this.options=t.tags.options,t.tags.filter&&(this.options=this.options.filter(e=>{const i=e[t.tags.filter];return i&&i.toLowerCase().indexOf(this.refs.selectfield.value.toLowerCase())>-1})),this.trigger(\"filter\",this.refs.selectfield.value)};const a=()=>{const e=function(){var t=window,e=document,i=e.documentElement,a=e.getElementsByTagName(\"body\")[0];return{width:t.innerWidth||i.clientWidth||a.clientWidth,height:t.innerHeight||i.clientHeight||a.clientHeight}}(),i=this.root.querySelector(\".menu\");if(!i)return;if(!t.tags.isvisible)return i.style.marginTop=\"\",void(i.style.marginLeft=\"\");const a=i.getBoundingClientRect();e.width<a.left+a.width&&(i.style.marginLeft=e.width-(a.left+a.width)-20+\"px\"),a.left<0&&(i.style.marginLeft=\"20px\"),e.height<a.top+a.height&&(i.style.marginTop=e.height-(a.top+a.height)-20+\"px\")};this.navigate=e=>{if([13,38,40].indexOf(e.keyCode)>-1&&!t.tags.isvisible)return e.preventDefault(),this.open(),!0;var i=this.options.length;if(i>0&&[13,38,40].indexOf(e.keyCode)>-1){e.preventDefault();var a=null;for(let t=0;t<i;t++){if(this.options[t].active){a=t;break}}null!=a&&(this.options[a].active=!1),38==e.keyCode?null==a||0==a?this.options[i-1].active=!0:this.options[a-1].active=!0:40==e.keyCode?null==a||a==i-1?this.options[0].active=!0:this.options[a+1].active=!0:13==e.keyCode&&null!=a&&this.select({item:this.options[a]})}return!0},this.open=()=>{t.tags.isvisible=!0,this.trigger(\"open\")},this.close=()=>{t.tags.isvisible&&(t.tags.isvisible=!1,this.trigger(\"close\"))},this.select=e=>{t.tags.options.forEach(t=>t.selected=!1),e.item.selected=!0,this.addTag(e.item),i(),this.filterOptions(),this.trigger(\"select\",e.item)},this.addTag=e=>{-1==t.tags.tags.indexOf(e)&&t.tags.tags.push(e)},this.removeTag=e=>{t.tags.tags=t.tags.tags.filter(t=>{if(t._id!=e.item._id)return t})},this.on(\"mount\",()=>{i(),this.filterOptions(),document.addEventListener(\"click\",e),this.update()}),this.on(\"update\",()=>{t.tags.options.forEach(t=>{t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)}),t.tags.tags.forEach(t=>{t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)}),t.tags.filter||i(),a()}),this.on(\"unmount\",()=>{document.removeEventListener(\"click\",e)})}))},function(t,e,i){i(0).tag2(\"tabmenu\",'<div class=\"tab-overflow overflow-right\"> <ul class=\"nav nav-tabs nav-tabs-inverse\"> <li class=\"prev-button\" style=\"\"><a href=\"javascript:;\" onclick=\"{tabfirst}\" class=\"text-success\"><i class=\"fa fa-arrow-left\"></i></a></li> <li class=\"active\" if=\"{a1}\"><a href=\"#nav-tab-1\" data-toggle=\"tab\">Brand A</a></li> <li class=\"\" if=\"{a2}\"><a href=\"#nav-tab-2\" data-toggle=\"tab\">Brand B</a></li> <li class=\"\" if=\"{a3}\"><a href=\"#nav-tab-3\" data-toggle=\"tab\">Brand C</a></li> <li class=\"\" if=\"{a4}\"><a href=\"#nav-tab-4\" data-toggle=\"tab\">Brand D</a></li> <li class=\"\" if=\"{a5}\"><a href=\"#nav-tab-5\" data-toggle=\"tab\">Brand E</a></li> <li class=\"\" if=\"{a6}\"><a href=\"#nav-tab-6\" data-toggle=\"tab\">Brand F</a></li> <li class=\"\" if=\"{a7}\"><a href=\"#nav-tab-7\" data-toggle=\"tab\">Brand G</a></li> <li class=\"\" if=\"{a8}\"><a href=\"#nav-tab-8\" data-toggle=\"tab\">Brand H</a></li> <li class=\"\" if=\"{a9}\"><a href=\"#nav-tab-9\" data-toggle=\"tab\">Brand I</a></li> <li class=\"\" if=\"{a10}\"><a href=\"#nav-tab-10\" data-toggle=\"tab\">Brand J</a></li> <li class=\"\" if=\"{a12}\"><a href=\"#nav-tab-11\" data-toggle=\"tab\">Brand K</a></li> <li class=\"\" if=\"{a12}\"><a href=\"#nav-tab-12\" data-toggle=\"tab\">Brand L</a></li> <li class=\"\" if=\"{a13}\"><a href=\"#nav-tab-13\" data-toggle=\"tab\">Brand M</a></li> <li class=\"\" if=\"{a14}\"><a href=\"#nav-tab-14\" data-toggle=\"tab\">Brand N</a></li> <li class=\"\" if=\"{a15}\"><a href=\"#nav-tab-15\" data-toggle=\"tab\">Brand O</a></li> <li class=\"next-button\" style=\"\"><a href=\"javascript:;\" onclick=\"{tablast}\" class=\"text-success\"><i class=\"fa fa-arrow-right\"></i></a></li> </ul> </div>',\"\",\"\",(function(t){}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(62),i(61),i(60),i(59),i(58);i(0).tag2(\"healthindexaccount\",'<breadcrumb current=\"Dashboard Digital Helath Index\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DIGITAL HEALTH INDEX</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"totalbuzzer\" style=\" padding-right: 0px;\"> <totalhealtindex ref=\"totalbuzzer\"></totalhealtindex> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <summarydigitalhelat ref=\"summarydigitalhelat\"></summarydigitalhelat> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <sentimentchannels ref=\"sentimenperchannels\"></sentimentchannels> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <interactionmetric ref=\"interctionmetric\"></interactionMetric> </div> <div class=\"col-md-6 mg-t-20\"> <averagedailymentions ref=\"averagedailymention\"></averagedailymentions> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null},this.getAPI=()=>{APP.log(\"healt-index-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=(this.refs,this);async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(t,i)=>{null!=i.index.items.twitter||null!=i.index.items.facebook||null!=i.index.items.instagram?(e.load=!1,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),e.isLoading=!1,e.update()):(e.isLoading=!1,e.load=!0,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),e.update())})},this.updateDate=(t,e)=>{APP.log(\"healt-index-account: updateDate\"),this.refs.totalbuzzer.isLoading=!0,this.refs.summarydigitalhelat.isLoading=!0,this.refs.sentimenperchannels.isLoading=!0,this.refs.interctionmetric.isLoading=!0,this.refs.averagedailymention.isLoading=!0,this.search.since=t,this.search.until=e,setTimeout(()=>{this.getAPI()},1e3)},this.on(\"mount\",()=>{APP.log(\"healt-index-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"health-index-r10\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(62),i(61),i(60),i(59),i(58);i(0).tag2(\"healtindex10\",'<div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DIGITAL HEALTH INDEX</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-10\" id=\"totalbuzzer\" style=\" padding-right: 0px;\"> <totalhealtindex ref=\"totalbuzzer\"></totalhealtindex> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <summarydigitalhelat ref=\"summarydigitalhelat\"></summarydigitalhelat> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <sentimentchannels ref=\"sentimenperchannels\"></sentimentchannels> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <interactionmetric ref=\"interctionmetric\"></interactionMetric> </div> <div class=\"col-md-6 mg-t-20\"> <averagedailymentions ref=\"averagedailymention\"></averagedailymentions> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null},this.getAPI=()=>{APP.log(\"healt-index-account: getAPI\"),this.load=!1,this.isLoading=!0,this.update();let t=this.search,e=(this.refs,this);async.parallel({index:function(e){APP.apiGet({path:\"health\",data:t,success:function(t,i){e(null,t)}})},sentiment:function(e){APP.apiGet({path:\"health/sentiment\",data:t,success:function(t){e(null,t)}})}},(t,i)=>{null!=i.index.items.twitter||null!=i.index.items.facebook||null!=i.index.items.instagram?(e.load=!1,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),e.isLoading=!1,e.update()):(e.isLoading=!1,e.load=!0,this.refs.totalbuzzer.render(i.index.items,i.sentiment.items),this.refs.summarydigitalhelat.render(i.index.items,i.sentiment.items),this.refs.sentimenperchannels.render(i.sentiment.items),this.refs.interctionmetric.render(i.index.items),this.refs.averagedailymention.render(),e.update())})},this.updateDate=(t,e)=>{APP.log(\"healt-index-account: updateDate\"),this.refs.totalbuzzer.isLoading=!0,this.refs.summarydigitalhelat.isLoading=!0,this.refs.sentimenperchannels.isLoading=!0,this.refs.interctionmetric.isLoading=!0,this.refs.averagedailymention.isLoading=!0,this.search.since=t,this.search.until=e,setTimeout(()=>{this.getAPI()},1e3)},this.on(\"mount\",()=>{APP.log(\"healt-index-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"health-index\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)})}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(160),i(161),i(162),i(163),i(164),i(165),i(166),i(8),i(23);i(0).tag2(\"competitioninfographic\",'<div class=\"container px-5 d-sm-block container-infg\" id=\"infographicc-competitions\"> <div class=\"row mb-4 desktopshow\" id=\"searchvalue\"> <div class=\"col-md-8 col-8 pr-0 mg-t-10\"> <div class=\"row\"> <div class=\"col-md-2 col-2 a141 text-center f14 pr-1 pl-0 buttonproject\"> <div class=\"row m-0\"> <div class=\"\"> <div class=\"dropdown mg-b-1\"> <group-competitive></group-competitive> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary cursor-pointer height55 pd-r-5 pd-l-5 btn btn-outline-primary cursor-pointer height55 pd-r-5 pd-l-5 textoverflowhidden \" riot-style=\"width:{widthbutton}px;\"> <span>Compare Projects</span></button> </div> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"New Date\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker\" placeholder=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"End Date\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker2\" placeholder=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-4 col-4 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show entries from marked authors. By default, mentions from marked authors are hidden and not calculated in analysis\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 border-topmenu\"> <div class=\"row\"> <div class=\"col-md-5 col-6 py-2 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 py-2 px-1\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> </div> </div> </div> </div> </div> <div class=\"col-md-4 col-4 mt1\"> <div class=\"row pd-l-18\"> <div class=\"col-md-2 col-2 p-0 a141 text-center f14 cursor-pointer\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-10 mg-r-15 cursor-pointer height55 cursor-pointer\"> <b>Go</b> </button> </div> <div class=\"col-md-10 col-10 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"input-group\"> <div class=\" search-wrapper\"> <input type=\"text\" class=\"form-control header-search height55\" placeholder=\"Filter by Keyword\" ref=\"valuekey\"> </div> <span class=\"input-group-btn\"> <button class=\"btn bd bg-white tx-gray-600 height55 cursor-pointer\" type=\"button\" onclick=\"{Gosend}\"><i class=\"fa fa-search\"></i></button> </span> </div> </div> </div> </div> </div> <div class=\"row mb-4s d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6\"> <div class=\"dropdown mg-b-1 mg-t-10\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"btn btn-outline-secondary\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus icon-project-infg\"></i> <span>{selectedProject.name}</span> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg-mobile\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> <div class=\"col-6\"> <div class=\"drop pull-right mg-t-10\"> <span class=\"label hidden-md-down\"> </span> <button aria-label=\"Select project\" onclick=\"{showforms}\" class=\"btn btn-outline-secondary height38\"> <i class=\"fa fa-bars f18 icon-project-infg\"></i> </button> <div class=\"dropdown-menu dropdown-menu-header wd-250 mobile-infographic\" id=\"formmenu\"> <div class=\"row pd-l-20 pd-r-25\"> <div class=\"col-12 py-2 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"New Date\"> <input id=\"datepicker-m\" width=\"100%\" placeholder=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate2\" riot-value=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-12 py2 pl-1 pr-0 a141 text-center f10\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"End Dtae\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m1\" width=\"100%\" placeholder=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate2\" riot-value=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> </div> <div class=\"col-12 py-2 p-1 a141 text-center f10\" style=\"padding: 0.50rem !important;\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show entries from marked authors. By default, mentions from marked authors are hidden and not calculated in analysis\"> <div class=\"row border-topmenu m-0 height40 pd-filter-bot-infg\"> <div class=\"col-md-5 col-6 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 p-0\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> <div class=\"ccol-12 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"input-group\"> <div class=\" search-wrapper\"> <input type=\"text\" class=\"form-control header-search height25\" placeholder=\"Filter by Keyword\" ref=\"valuekey2\"> </div> <span class=\"input-group-btn\"> <button class=\"btn bd bg-white tx-gray-600 height25\" type=\"button\" onclick=\"{Gosend}\"><i class=\"fa fa-search\"></i></button> </span> </div> </div> </div> <div class=\"col-md-12 col-12 a141 text-center f14 cursor-pointer mg-b-10 pd-l-10 pd-r-10\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10cursor-pointer cursor-pointer wd-100p pd-l-10 pd-r-10\"> <b>Go</b> </button> </div> </div> </div> </div> </div> </div> <div class=\"row py-2 mb4 header-styling desktopshow\"> <div class=\"col-md-6 py-2 f36\"> <b class=\"text-uppercase\">{selectedProject.name}</b> <p class=\"tx-14\" if=\"{perhari}\"> {moment(search.since).format(\\'MMMM, DD YYYY\\')} </p> <p class=\"tx-14\" if=\"{!perhari}\"> {moment(localStorage.since).format(\\'MMMM, DD YYYY\\')} - {moment(localStorage.until).format(\\'MMMM, DD YYYY\\')} </p> </div> <div class=\"col-md-6 py-3 text-right \"> <img src=\"assets/img/ripple10.svg\" class=\"logo-images\" width=\"230\"> </div> </div> <div class=\"row py-2 mb-4s header-styling d-block d-sm-none\"> <div class=\"col-md-12\"> <div class=\"row\"> <div class=\"col-6 py-3\"> <span class=\"text-uppercase\">{selectedProject.name}</span> </div> <div class=\"col-6 py-3 text-right\"> <span>18 November 2019</span> </div> </div> </div> </div> <div class=\"row p-0 mb-4 b-b-dashed mg-0\"> </div> <chartcompetition ref=\"chartcompetitions\"></chartcompetition> <shareofdaily ref=\"shareofdailys\"></shareofdaily> <compositionbybrand ref=\"compositionbybrands\"></compositionbybrand> <div class=\"row p-0 mt-4 b-b-dashed-2 mg-0\"> </div> <shareofvoicelast ref=\"shareofvoicelasts\"></shareofvoicelast> <compositionbrandlast ref=\"compositionbrandlasts\"></compositionbrandlast> <sentimentcompetititon ref=\"sentimentcompetititons\"></sentimentcompetititon> <div class=\"row p-0 mt-4 b-b-dashed mg-0\"> </div> </div> <a id=\"showandhide\" onclick=\"{eventsearch}\" class=\"cursor-pointer\"><i class=\"fa fa-cogs tx-white\" aria-hidden=\"true\"></i></a> <span id=\"{this.idcomplite}\"></span> <footer class=\"br-footer d-block text-center\"> <div class=\"align-items-center\"><i class=\"fa fa-copyright\" aria-hidden=\"true\"> </i> &nbsp; Ripple10 {moment(new Date()).format(\\'YYYY\\')}</div> </footer>',\"\",\"\",(function(t){i(57);this.checkedval=!1,this.searchvalue=!1,this.search={since:null,until:null,project:null},this.competition=!1,this.perhari=!1,this.idcomplite=\"\",this.searchText=\"\",this.selectedProject={},this.searchResult=[],this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[];var e=this;this.component={chartcompetitor:!1,shareofdaily:!1,compositionbranddaily:!1,shareofvoicelast:!1,compositionbrandlast:!1,sentimentcompetition:!1},this.on(\"mount\",()=>{$(\"#searchvalue\").hide(),$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"}),$('[data-toggle=\"tooltip\"]').tooltip(),p(\"screenshot\")&&$(\"#showandhide\").hide();const t=p(\"project\")?p(\"project\"):APP.getProject();this.projectCompetition=p(\"competition\")?p(\"competition\").split(\",\").filter(t=>t&&t.length>0).toString():\"\";let e=\"\";\"\"!=this.projectCompetition?(e=t+\",\"+this.projectCompetition,this.projectAll=e,this.competition=!0):(e=t,this.competition=!1,this.projectAll=e),this.updateDates(moment(localStorage.since).format(\"YYYY-MM-DD\"),moment(localStorage.until).format(\"YYYY-MM-DD\")),this.project(),this.update(),urlStream.trigger(\"changeUrl\",\"competition/infographic\"),APP.currentProject=this.search.project=e}),this.showforms=()=>{this.formfilter?$(\"#formmenu\").removeClass(\"show\"):$(\"#formmenu\").addClass(\"show\"),this.formfilter=!this.formfilter,this.update()},this.eventsearch=()=>{this.searchvalue=!this.searchvalue,this.searchvalue?($(\"#searchvalue\").show(500),this.showval=\"Hide\",setTimeout(()=>{$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"})},1),setTimeout(()=>{this.widthbutton=$(\".buttonproject\").width(),this.update()},500)):(this.showval=\"Show\",$(\"#searchvalue\").hide(500)),$(\"body,html\").animate({scrollTop:0},500),this.update()},this.updateid=()=>{this.idcomplite=\"complete\",this.update()},this.updateDates=(t,e)=>{this.search.since=moment(t).format(\"YYYY-MM-DD\"),this.search.until=moment(e).format(\"YYYY-MM-DD\"),setTimeout(()=>{this.render()},1)},this.Gosend=t=>{t.preventDefault(),this.formfilter?$(\"#formmenu\").removeClass(\"show\"):$(\"#formmenu\").addClass(\"show\"),this.formfilter=!this.formfilter;var e=this.refs.startdate.value?moment(this.refs.startdate.value).format(\"YYYY-MM-DD\"):moment(this.refs.startdate2.value).format(\"YYYY-MM-DD\"),i=this.refs.enddate.value?moment(this.refs.enddate.value).format(\"YYYY-MM-DD\"):moment(this.refs.enddate2.value).format(\"YYYY-MM-DD\");e=\"Invalid date\"!=e?e:localStorage.since,i=\"Invalid date\"!=i?i:localStorage.until,localStorage.setItem(\"since\",e),localStorage.setItem(\"until\",i);let a=this.refs.valuekey.value?this.refs.valuekey.value:this.refs.valuekey2.value;this.search.since=e,this.search.until=i,this.search.q=a,this.search.filterbot=this.checkedval,this.render()},this.switchlabel=()=>{this.checkedval=!this.checkedval},this.render=()=>{this.search.since==this.search.until?this.perhari=!0:this.perhari=!1,this.refs.chartcompetitions.render(),this.refs.shareofdailys.render(),this.refs.compositionbybrands.render(),this.refs.shareofvoicelasts.render(),this.refs.compositionbrandlasts.render(),this.refs.sentimentcompetititons.render()},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{this.listproject=t,localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.resetSearch=()=>{$(\"#formmenu\").removeClass(\"show\"),this.formfilter=!1,!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.norequestProject=t=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var e=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);t=this.reArrangeRecent(t,e);var i=_.map(t,(function(t,e){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}}));this.selectedProject=!1,i.forEach((t,i)=>{e.indexOf(t.id)>-1?(t.checked=!0,this.selectedProject||(this.selectedProject=t,breadCrumb.project=t)):t.checked=!1,this.projects.push(t)}),this.recentProject=this.projects.slice(0,9),this.update()}},this.reArrangeRecent=(t,e)=>{let i=-1;if(t.some((function(t,a){if(e.indexOf(t.key_id)>=0&&i<0)return i=a,a})),i>0){let e=t[i];delete t[i],t.unshift(e),t=t.filter(t=>!!t),localStorage.setItem(\"projects\",JSON.stringify(t))}return t},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.projects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},window.onresize=function(){e.widthbutton=$(\".buttonproject\").width(),e.update()}}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(23);i(0).tag2(\"infographicmybrand\",'<div class=\"container px-5 d-sm-block container-infg\" id=\"infographic\"> <div class=\"row mb-4 desktopshow\" id=\"searchvalue\"> <div class=\"col-md-8 col-8 pr-0 mg-t-10\"> <div class=\"row\"> <div class=\"col-md-2 col-2 a141 text-center f14 pr-1 pl-0 buttonproject\"> <div class=\"row m-0\"> <div class=\" \"> <div class=\"dropdown mg-b-1\"> <span class=\"label hidden-md-down\"> </span> <button aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"btn btn-outline-primary height55 textoverflowhidden\" data-toggle=\"dropdown\" riot-style=\"width:{widthbutton}px;\"> <span class=\"mg-t-10\">Project Select</span> </button> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"New Date\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker\" placeholder=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-3 col-3 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"End Date\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 p-0 border-topmenu\"> <input id=\"datepicker2\" placeholder=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate\" class=\"cursor-pointer wd-100\" riot-value=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-md-4 col-4 a141 text-center f14 pr-1 pl-0\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show entries from marked authors. By default, mentions from marked authors are hidden and not calculated in analysis\"> <div class=\"row m-0\"> <div class=\"col-md-12 py-2 border-topmenu\"> <div class=\"row\"> <div class=\"col-md-5 col-6 py-2 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 py-2 px-1\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> </div> </div> </div> </div> </div> <div class=\"col-md-4 col-4 mt1\"> <div class=\"row pd-l-18\"> <div class=\"col-md-1 col-1 p-0 a141 text-center f14 cursor-pointer\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-10 mg-r-10cursor-pointer height55 cursor-pointer\"> <b>Go</b> </button> </div> <div class=\"col-md-10 col-10 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"input-group\"> <div class=\" search-wrapper\"> <input type=\"text\" class=\"form-control header-search height55\" placeholder=\"Filter by Keyword\" ref=\"valuekey\"> </div> <span class=\"input-group-btn\"> <button class=\"btn bd bg-white tx-gray-600 height55 cursor-pointer\" type=\"button\" onclick=\"{Gosend}\"><i class=\"fa fa-search\"></i></button> </span> </div> </div> </div> </div> </div> <div class=\"row mb-4s d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6\"> <div class=\"dropdown mg-b-1 mg-t-10\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" aria-label=\"Select project\" onclick=\"{resetSearch}\" class=\"btn btn-outline-secondary\" data-toggle=\"dropdown\"> <i class=\"fa fa-plus icon-project-infg\"></i> <span>{selectedProject.name}</span> </a> <div class=\"dropdown-menu dropdown-menu-header wd-250 top-left-infg-mobile\"> <div class=\"form-group mg-5\"> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Project\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{recentProject}\"> <a onclick=\"{changeProject}\" href=\"#infographic?project={id}\"> <i class=\"{ion-checkmark:checked==true}\"></i> {name} </a> </li> </ul> </div> </div> </div> <div class=\"col-6\"> <div class=\"drop pull-right mg-t-10\"> <span class=\"label hidden-md-down\"> </span> <button aria-label=\"Select project\" onclick=\"{showforms}\" class=\"btn btn-outline-secondary height38\"> <i class=\"fa fa-bars f18 icon-project-infg\"></i> </button> <div class=\"dropdown-menu dropdown-menu-header wd-250 mobile-infographic\" id=\"formmenu\"> <div class=\"row pd-l-20 pd-r-25\"> <div class=\"col-12 py-2 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m\" width=\"100%\" placeholder=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\" ref=\"startdate2\" riot-value=\"{moment(this.search.since).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> <div class=\"col-12 py2 pl-1 pr-0 a141 text-center f10\"> <div class=\"row border-topmenu m-0\"> <div role=\"wrapper\" class=\"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group wd-100\"> <input id=\"datepicker-m1\" width=\"100%\" placeholder=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\" ref=\"enddate2\" riot-value=\"{moment(this.search.until).format(\\'MM/DD/YYYY\\')}\"> </div> </div> </div> </div> <div class=\"col-12 py-2 p-1 a141 text-center f10\" style=\"padding: 0.50rem !important;\"> <div class=\"row border-topmenu m-0 height40 pd-filter-bot-infg\"> <div class=\"col-md-5 col-6 px-1\"> <b>FILTER BOT</b> </div> <div class=\"col-md-7 col-6 p-0\"> <span class=\"{a9a : checkedval}\" riot-style=\"font-weight: {bold : !checkedval};\">Off</span> &nbsp; <label class=\"switch\"> <input type=\"checkbox\" onclick=\"{switchlabel}\"> <span class=\"slider round\"></span> </label> &nbsp; <span class=\"{a9a : !checkedval}\" riot-style=\"font-weight: {bold : checkedval};\">ON</apan> </div> </div> <div class=\"ccol-12 a141 pr-0 d-flex mg-t-10 pd-l-0\"> <div class=\"input-group\"> <div class=\" search-wrapper\"> <input type=\"text\" class=\"form-control header-search height25\" placeholder=\"Filter by Keyword\" ref=\"valuekey2\"> </div> <span class=\"input-group-btn\"> <button class=\"btn bd bg-white tx-gray-600 height25\" type=\"button\"><i class=\"fa fa-search\"></i></button> </span> </div> </div> </div> <div class=\"col-md-12 col-12 a141 text-center f14 cursor-pointer mg-b-10 pd-l-10 pd-r-10\" onclick=\"{Gosend}\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10cursor-pointer cursor-pointer wd-100p pd-l-10 pd-r-10\"> <b>Go</b> </button> </div> </div> </div> </div> </div> </div> <div class=\"row py-2 mb4 header-styling desktopshow\"> <div class=\"col-md-6 py-2 f36\"> <b class=\"text-uppercase\">{selectedProject.name}</b> <p class=\"tx-14 mg-b-5\" if=\"{selectedProject.is_combine}\">{projectactive}</p> <p class=\"tx-14\" if=\"{perhari}\"> {moment(search.since).format(\\'MMMM, DD YYYY\\')} </p> <p class=\"tx-14\" if=\"{!perhari}\"> {moment(search.since).format(\\'MMMM, DD YYYY HH:mm\\')} - {moment(search.until).format(\\'MMMM, DD YYYY HH:mm\\')} </p> </div> <div class=\"col-md-6 py-3 text-right \"> <img src=\"assets/img/ripple10.svg\" class=\"logo-images\" width=\"230\"> </div> </div> <div class=\"row py-2 mb-4s header-styling d-block d-sm-none\"> <div class=\"col-md-12\"> <div class=\"row\"> <div class=\"col-6 py-3\"> <span class=\"text-uppercase\">{selectedProject.name}</span> </div> <div class=\"col-6 py-3 text-right\"> <span>18 November 2019</span> </div> </div> </div> </div> <div class=\"row p-0 mb-4 b-b-dashed mg-0\"> </div> <sentimentchart ref=\"sentimentcharts\"> </sentimentchart> <div class=\"row\"> <div class=\"col-md-5 col-12\"> <buzzvolume ref=\"buzzvolumes\"></buzzvolume> </div> <div class=\"col-md-7 col-12\"> <buzzsource ref=\"sources\"></buzzsource> </div> </div> <twittervsmention ref=\"twittervsmentions\"></twittervsmention> <shareofvoice ref=\"shareofvoices\"> </shareofvoice> <sentimentpositivenegative ref=\"sentimentnegative\"></sentimentpositivenegative> <summaryinfographic ref=\"summaryinfg\"> </summaryinfographic> <mostinfluencer ref=\"influencer\"></mostinfluencer> <buzzgeodistribution ref=\"buzzgeo\"></buzzgeodistribution> <div class=\"row p-0 mt-4 b-b-dashed\"> </div> </div> <a id=\"showandhide\" onclick=\"{eventsearch}\" class=\"cursor-pointer\"><i class=\"fa fa-cogs tx-white\" aria-hidden=\"true\"></i></a> <span id=\"{this.idcomplite}\"></span> <footer class=\"br-footer d-block text-center\"> <div class=\"align-items-center\"><i class=\"fa fa-copyright\" aria-hidden=\"true\"> </i> &nbsp; Ripple10 {moment(new Date()).format(\\'YYYY\\')}</div> </footer>',\"\",\"\",(function(t){i(57);this.namefilter=\"No Filter\",this.searchText=\"\",this.idcomplite=\"\",this.searchResult=[],this.recentTemp=[],this.selectedProject={},this.checkedval=!1,this.perhari=!1,this.showval=\"Show\",this.searchvalue=!1,this.formfilter=!1,this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.projects=[],this.search={since:null,until:null,project:null};var e=this;this.component={sentimentchart:!1,buzzvolume:!1,buzzsource:!1,twittervsmention:!1,shareofvoice:!1,sentimentpositivenegative:!1,summary:!1,mostinfluencer:!1,buzzgeodistibution:!1},this.on(\"mount\",()=>{$(\"#searchvalue\").hide(),$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"}),$('[data-toggle=\"tooltip\"]').tooltip(),p(\"screenshot\")&&$(\"#showandhide\").hide(),p(\"q\")&&(this.search.q=decodeURIComponent(\"\"+p(\"q\"))),setTimeout(()=>{this.widthbutton=$(\".buttonproject\").width()},500),this.updateDates(localStorage.since,localStorage.until),this.project(),this.update(),urlStream.trigger(\"changeUrl\",\"infographic\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject()}),this.showforms=()=>{this.formfilter?$(\"#formmenu\").removeClass(\"show\"):$(\"#formmenu\").addClass(\"show\"),this.formfilter=!this.formfilter,this.update()},this.eventsearch=()=>{this.searchvalue=!this.searchvalue,this.searchvalue?($(\"#searchvalue\").show(500),this.showval=\"Hide\",setTimeout(()=>{$(\"#datepicker\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker2\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m\").datepicker({uiLibrary:\"bootstrap4\"}),$(\"#datepicker-m1\").datepicker({uiLibrary:\"bootstrap4\"})},1)):(this.showval=\"Show\",$(\"#searchvalue\").hide(500)),setTimeout(()=>{this.widthbutton=$(\".buttonproject\").width(),this.update()},500),$(\"body,html\").animate({scrollTop:0},500),this.update()},this.updateid=()=>{this.idcomplite=\"complete\",this.update()},this.updateDates=(t,e)=>{this.search.since=t,this.search.until=e,setTimeout(()=>{this.render()},1)},this.Gosend=t=>{t.preventDefault(),this.formfilter?$(\"#formmenu\").removeClass(\"show\"):$(\"#formmenu\").addClass(\"show\"),this.formfilter=!this.formfilter;var e=this.refs.startdate.value,i=this.refs.enddate.value;window.innerWidth<500&&(e=this.refs.startdate2.value,i=this.refs.enddate2.value),e=\"Invalid date\"!=e?e:localStorage.since,i=\"Invalid date\"!=i?i:localStorage.until,localStorage.setItem(\"since\",e),localStorage.setItem(\"until\",i);let a=this.refs.valuekey.value?this.refs.valuekey.value:this.refs.valuekey2.value;this.search.since=e,this.search.until=i,this.search.q=a,this.search.filterbot=this.checkedval,this.render()},this.switchlabel=()=>{this.checkedval=!this.checkedval},this.render=()=>{this.search.since==this.search.until?this.perhari=!0:this.perhari=!1,this.refs.sentimentcharts.render(),this.refs.twittervsmentions.render(),this.refs.shareofvoices.render(),this.refs.buzzgeo.render(),this.refs.buzzvolumes.render(),this.refs.influencer.render(),this.refs.summaryinfg.render(),this.refs.sentimentnegative.render(),this.refs.sources.render()},this.downloadpdf=()=>{var t=new jsPDF,e=window.document.getElementsByTagName(\"body\")[0];t.fromHTML(e,15,15,{width:180,elementHandlers:{\"#words\":function(t,e){return!0}}}),t.save(\"pdf-version.pdf\")},this.runcapture=()=>{let t=new jsPDF(\"p\",\"pt\",\"a4\",!0);return t.addHTML($(\"#content\"),(function(){t.save(\"html.pdf\")})),!1},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:t=>{localStorage.setItem(\"projects\",JSON.stringify(t)),this.norequestProject(t)}})},this.norequestProject=t=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var e=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);t=this.reArrangeRecent(t,e),_.map(t,(function(t,e){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color,hi:t.key_is_health_index,bt:t.key_is_buzzer_tracking,pr:t.key_is_prdashboard,cc:t.key_is_cc}})).forEach((t,i)=>{console.log({defaultChecked:e,i:t.id}),e.indexOf(t.id)>-1?(t.checked=!0,e.length>1?(this.selectedProject.is_combine=!0,this.selectedProject.name=\"combined projects\",p(\"custom_name\")&&(this.selectedProject.name=decodeURIComponent(p(\"custom_name\")))):(this.selectedProject=t,breadCrumb.project=t)):t.checked=!1,this.projects.push(t)});let i=_.filter(this.projects,t=>t.checked);this.projectactive=_.map(i,t=>t.name).join(\", \"),this.recentProject=this.projects.slice(0,9),this.update()}},this.reArrangeRecent=(t,e)=>{let i=-1;if(t.some((function(t,a){if(e.indexOf(t.key_id)>=0&&i<0)return i=a,a})),i>0){let e=t[i];delete t[i],t.unshift(e),t=t.filter(t=>!!t),localStorage.setItem(\"projects\",JSON.stringify(t))}return t},this.searchProject=t=>{this.searchResult=[];let e=t.target.value;_.each(this.projects,t=>{t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(t)}),e.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.resetSearch=()=>{$(\"#formmenu\").removeClass(\"show\"),this.formfilter=!1,!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},window.onresize=function(){e.widthbutton=$(\".buttonproject\").width(),e.update()}}))},function(t,e,i){i(0).tag2(\"buzzgeodistributionpage\",'<div class=\"col-md-12 mg-t-20\"> <span class=\"panel-body header-title mg-t-70\"> <span class=\"tx-tittle-infg\"> BUZZ GEO DISTRIBUTION</span> </span> <div class=\"body\" id=\"sentimentbuzgeo\" riot-style=\"height: {heightval}px;\"></div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.heightval=(window.innerHeight-200)/2,this.update()}),this.render=()=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let t=_.clone(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject();let e=[],i=[],a=[];async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(i){e=i,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){i=e,t()}))}],()=>{this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...t,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=_.map(t,(function(t){let e=null;return null!=t&&i.features&&(a=getProvince(i.features,t.lat||0,t.lon||0),_.isEmpty(a)||a&&(e={\"hc-key\":a.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:a.NAME_1,value:t.count})),e}));e=_.reduce(e,(function(t,e){return _.isObject(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var s=[];_.each(e,(t,e)=>{s.push(t)}),e=s,Highcharts.mapChart(\"sentimentbuzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},colorAxis:{dataClasses:[{color:\"#C40401\"}]},colorAxis:{min:0,stops:[[0,\"#d5dbde\"],[.5,\"#7f8d96\"],[1,\"#384d5a\"]]},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#85c4b5\"}}}]}),this.update({isLoading:!1})}})})}}))},function(t,e,i){i(0).tag2(\"buzzvolume\",'<div style=\"margin-right: 0px;margin-left: 0px;\"> <div class=\"pd-x-25 mg-r--1\"> <h1 class=\"tx-30 tx-uppercase tx-tittle-infg tx-semibold tx-spacing-1 mg-t-20\">BUZZ VOLUME </h1> <h1 class=\"tx-40 tx-light tx-tittle-infg mg-b-0\">{this.sValue[\\'total\\'] ? this.sValue[\\'total\\'].formatMoney(0) : 0}</h1> </div> <div class=\"container\"> <div class=\"row\"> <div class=\"col-md-12\"> <h3 class=\"progress-title tx-greent-infg\">POSITIVE ({this.sValue[\\'positive\\'] ? this.sValue[\\'positive\\'].formatMoney(0) : 0}) </h3> <div class=\"progress positive\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'positive\\'] < 10 ? 10 :this.persentasedata[\\'positive\\']}%; background:#66ae9b;\"> <span class=\"progress-icon fa fa-thumbs-o-up\"></span> <div class=\"progress-value\"><span>{this.persentasedata[\\'positive\\']}</span>%</div> </div> </div> <h3 class=\"progress-title tx-red-infg\">NEGATIVE ({this.sValue[\\'negative\\'] ? this.sValue[\\'negative\\'].formatMoney(0) : 0})</h3> <div class=\"progress negative\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'negative\\'] < 10 ? 10 : this.persentasedata[\\'negative\\']}%; background:#dc8c81;\"> <span class=\"progress-icon fa fa-thumbs-o-down\"></span> <div class=\"progress-value\"><span>{this.persentasedata[\\'negative\\']}</span>%</div> </div> </div> <h3 class=\"progress-title tx-orange-infg\">NEUTRAL ({this.sValue[\\'neutral\\'] ? this.sValue[\\'neutral\\'].formatMoney(0) : 0})</h3> <div class=\"progress neutral\"> <div class=\"progress-bar\" riot-style=\"width:{this.persentasedata[\\'neutral\\'] < 10 ? 10 : this.persentasedata[\\'neutral\\']}%; background:#eaa25c;\"> <span class=\"progress-icon fa fa-question-circle\"></span> <div class=\"progress-value\"><span id=\"{this.persentasedata[\\'neutral\\']}\"> {this.persentasedata[\\'neutral\\']}</span>%</div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.sValue=[],this.persentasedata=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.on(\"mount\",()=>{let t=(window.innerHeight-200)/2;this.heightval=t-30,window.innerWidth<500?this.bdRadius=50:this.bdRadius=100,this.update()}),this.render=()=>{this.update_data(),this.renderchartdefault()},this.update_data=()=>{APP.log(\"sentiment : update data\");let t=_.clone(this.parent.search);this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{const e=(t=t.items).negative?parseInt(t.negative):0,i=t.positive?parseInt(t.positive):0,a=t.neutral?parseInt(t.neutral):0;return this.total=e+i+a,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:parseFloat(this.valueNegative.toFixed(1)),positive:parseFloat(this.valuePositive.toFixed(1)),neutral:parseFloat(this.valueNeutral.toFixed(1))},this.isLoading=!1,this.sValue=t,this.update(),!1}}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.renderchartdefault=()=>{}}))},function(t,e,i){\"use strict\";i.r(e);var a=i(1),s=i.n(a);i(0).tag2(\"chartsentiment\",'<div class=\"row\" style=\"height:200px\"> <div class=\"col-xs-6 col-md-6 col-md-6-r10\"> <div class=\"row row-sm \"> <div class=\"col\"> <p class=\"mg-b-0 tx-uppercase tx-15 tx-mont tx-semibold tx-greent-infg\">POSITIVE</p> <p class=\"tx-lato tx-greent-infg tx-normal mg-b-0 tx-80\">{sValue[\\'positive\\']}</p> <span class=\"tx-15 tx-roboto\" riot-style=\"color:{colorsentiment[\\'positive\\']}\"><i class=\"{iconsentiment[\\'positive\\']}\"></i>{sentPersence[\\'positive\\']}%</span> </div> </div> </div> <div class=\"col-xs-6 col-md-6 col-md-6-r10\"> <div class=\"row row-sm \"> <div class=\"col\"> <p class=\"mg-b-0 tx-uppercase tx-15 tx-mont tx-semibold tx-red-infg\">NEGATIVE</p> <p class=\"tx-lato tx-red-infg tx-normal mg-b-0 tx-80\">{sValue[\\'negative\\']}</p> <span class=\"tx-15 tx-roboto\" riot-style=\"color:{colorsentiment[\\'negative\\']}\"><i class=\"{iconsentiment[\\'negative\\']}\"></i>{sentPersence[\\'negative\\']}%</span> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"card bg-primary-teals bd-0\" riot-style=\"height: {heightval}px;\"> <div class=\"\"> <h6 class=\"tx-15 tx-uppercase tx-medium tx-spacing-1 mg-b-10 tx-tittle-infg\">Daily Statistics</h6> <div id=\"sentimentdaily\" class=\" mg-t-m-30\" riot-style=\"height: {heightval - 30}px;\"> </div> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"card bg-primary-teals bd-0\"> <div class=\"\"> <h6 class=\"tx-15 tx-uppercase tx-medium tx-spacing-1 mg-b-10 tx-tittle-infg\">Hourly Statistics</h6> <div id=\"sentimenthourly\" class=\"mg-t-m-30\" riot-style=\"height: {heightval - 30}px;\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.dataProjects=[],this.sValue=[],this.sentPersence=[],this.iconsentiment=[],this.colorsentiment=[],this.persentasedata=[],this.type=\"hourly\",this.chart=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#66ae9b\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:1},{color:\"#dc8c81\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:2}],this.on(\"mount\",()=>{this.heightval=(window.innerHeight-300)/2,this.update()}),this.render=t=>{this.renderdaily(),this.update_data(),this.renderhourly()},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=_.clone(this.parent.search);t.limit=\"\",t.page=\"\",t.section=\"positive,negative,neutral\",t.compare=!0,this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:t=>{t=t.items,this.total=t.total.current?t.total.current:0,this.totalpercent=t.total.movement[1]?t.total.movement[1]:0;const e=t.total.movement[0];this.totalicon=\"up\"===e?\"fa fa-caret-up\":\"down\"===e?\"fa fa-caret-down\":\"fa fa-minus\",this.colorpersent=\"up\"===e?\"#1c770c\":\"down\"===e?\"rgb(220, 53, 69, 0.8)\":\"#d2dc35\",this.sValue.positive=t.positive.current?t.positive.current:0,this.sentPersence.positive=t.positive.movement[1]?t.positive.movement[1]:0;const i=t.positive.movement[0];this.iconsentiment.positive=\"up\"===i?\"fa fa-caret-up\":\"down\"===i?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.positive=\"up\"===i?\"#1c770c\":\"down\"===i?\"rgb(220, 53, 69, 0.8)\":\"#d2dc35\",this.sValue.negative=t.negative.current?t.negative.current:0,this.sentPersence.negative=t.negative.movement[1]?t.negative.movement[1]:0;const a=t.negative.movement[0];this.iconsentiment.negative=\"up\"===a?\"fa fa-caret-up\":\"down\"===a?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.negative=\"up\"===a?\"rgb(220, 53, 69, 0.8) \":\"down\"===a?\"#1c770c\":\"#d2dc35\",this.sValue.neutral=t.neutral.current?t.neutral.current:0,this.sentPersence.neutral=t.neutral.movement[1]?t.neutral.movement[1]:0;const s=t.neutral.movement[0];this.iconsentiment.neutral=\"up\"===s?\"fa fa-caret-up\":\"down\"===s?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.neutral=\"up\"===s?\"#1c770c\":\"down\"===s?\"rgb(220, 53, 69, 0.8)\":\"#d2dc35\",this.update()}})},this.renderdaily=()=>{let t=_.clone(this.parent.search);t.group_service=\"false\",t.project=APP.currentProject,this.renderdata(t,\"daily\",\"sentimentdaily\")},this.renderhourly=()=>{let t=_.clone(this.parent.search);t.group_service=\"false\",t.project=APP.currentProject,this.renderdata(t,\"hourly\",\"sentimenthourly\")},this.renderdata=(t,e,i)=>{t.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var a=[];async.each(this.sentimentall,(e,i)=>{t.section=e.id;this.chart=APP.apiGet({path:\"mentions\",data:t,success:t=>{t=t.items;let s=[];s=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1);var o=0;_.each(s,(t,e)=>{o+=t[1]}),a.push({id:\"response\",shadow:!1,noid:o,name:e.name,nameval:e.nameval,type:\"areaspline\",lineWidth:1,color:e.color,colorval:e.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.color],[1,Highcharts.Color(e.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s}),i()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},i)},()=>{if(!this.nodata){const o=i;this.update({nodata:this.nodata});let r=_.orderBy(a,[\"noid\"],[\"desc\"]);this.chart=s()(o,e,\"#ccc\",!1);for(var t=0;t<=r.length-1;t++)this.chart.addSeries(r[t])}this.update({Loader:!1})})}}))},function(t,e,i){i(0).tag2(\"mybrandnegative\",'<div class=\"widget-2\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"myButtonR10\">NEGATIVE WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_negative\" riot-style=\"height:{heightval - 150}px; width:100%;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-4 col-md-4-r10\"> <h4 class=\"header-title\"><span class=\"myButtonR10 streams\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordnegativeinfographic\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> <div class=\"col-md-8 col-md-8-r10\"> <h4 class=\"panel-body header-title\"> <span class=\"myButtonR10 streams\">NEGATIVE STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-auto;\" each=\"{items}\"> <div class=\"panel-body streams\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,200)} <br> <a class=\"servicetext\"> {service}</a></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.value={},this.xhr=null,this.render=()=>{this.update_data(),this.topwordnegative()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"negative\",t.limit=4e3,t.page=0,t.project=p(\"project\"),t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(e){let i=e&&e.items&&e.items.negative?e.items.negative:[],a=t.q;if(a)this.streamsnegative(a);else{if(i.length>0)var s=i?i.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else s=null;this.streamsnegative(s)}var o=_.clone(i);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=25),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").show(),WordCloud(\"wordcloud_negative\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\").width()/1024),minSize:10,weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\").html(\"Empty\"),$(\"#wordcloud_negative\").show();this.update({isLoading:!1})}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordnegative=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"negative\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streamsnegative=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search),a=i.q?i.q:t;i.type=e,i.section=\"negative\",i.limit=3,i.q=a,i.group_service=!1;var s=\"\",o=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+s,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.on(\"mount\",()=>{this.heightval=window.innerHeight/2,this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},function(t,e,i){i(0).tag2(\"mybrandpositive\",'<div class=\"widget-2\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent borderbottom0 d-block text-center\"> <h4 class=\"panel-body header-title\"> <span class=\"myButtonR10teal\">POSITIF WORDCLOUD</span> </h4> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div id=\"wordcloud_container \"> <div id=\"wordcloud_canvas \" class=\"table-responslive mg-b-20\"> <div id=\"wordcloud_positive\" riot-style=\"height:{heightval - 150}px; width:100%;\"> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-8 col-md-8-r10\"> <h4 class=\"panel-body header-title\"> <span class=\"myButtonR10teal streams\">POSITIF STREAMS</span> </h4> <div class=\"panel \" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel \" if=\"{this.total==0 && !isLoading}\" style=\" min-height: 290px; margin-top: 60px;\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div> <div class=\"panels mg-t-10\" style=\"text-align: -webkit-right;\" each=\"{items}\"> <div class=\"panel-body streams\" if=\"{!isLoading && this.total != 0}\">{text.substring(0,200)} <br> <a class=\"servicetext\"> {service}</a></div> </div> </div> </div> <div class=\"col-md-4 col-md-4-r10\"> <h4 class=\"header-title\"><span class=\"myButtonR10teal streams\">PHRASE </span></h4> <div class=\"accsaved mg-t-10 topwordpositiveinfographic\" each=\"{o,i in topword}\" if=\"{i < 5}\"> {o.phrase}</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.render=()=>{this.isLoading=!0,this.notdata=!1,this.value={},this.update_data(),this.topwordpositive()},this.update_data=()=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0});_.find(this.times,{selected:!0});let t=_.clone(this.parent.search);t.section=\"positive\",t.limit=4e3,t.page=0,t.is_total=null,this.xhrWordCloud=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:function(e){let i=e&&e.items&&e.items.positive?e.items.positive:[],a=t.q;if(a)this.streampositive(a);else{if(i.length>0)var s=i?i.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else s=\"\";this.streampositive(s)}var o=_.concat(i);if((o=_.orderBy(o,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=o[0][1];o.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>20&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\").show(),WordCloud(\"wordcloud_positive\",{list:o,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\").width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\").html(\"Empty\"),$(\"#wordcloud_positive\").show()}.bind(this)}),this.xhrWordCloud.readyState&&this.update({isLoading:!1,notdata:!0})},this.topwordpositive=()=>{let t=_.clone(this.parent.search);this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",this.xhrTopWords=APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topword=t.items,this.update({isLoading:!1})}}),this.xhrTopWords.readyState&&this.update({isLoading:!1,total2:0})},this.streampositive=t=>{APP.log(\"render Stream timeline\");const e=_.find(this.times,{selected:!0});let i=_.clone(this.parent.search),a=i.q?i.q:t;i.type=e,i.section=\"positive\",i.limit=3,i.q=a,i.group_service=!1;var s=\"\",o=0;this.total=0;for(let t in i)i[t]&&\"\"!=i[t]&&(s+=o>0?`&${t}=${encodeURIComponent(i[t])}`:`?${t}=${encodeURIComponent(i[t])}`,o++);this.xhrStream=APP.apiPost({path:\"stream\"+s,success:function(t){this.dataImage=t.item.map(t=>t.user.avatar),this.items=t.item,this.total=this.items.length,this.isLoading=!1,this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.xhrStream.readyState&&this.update({isLoading:!1,total:0})},this.on(\"mount\",()=>{this.heightval=window.innerHeight/2,this.xhrWordCloud=null,this.xhrStream=null,this.xhrTopWords=null}),this.on(\"unmount\",()=>{this.xhrWordCloud&&this.xhrWordCloud.abort(),this.xhrStream&&this.xhrStream.abort(),this.xhrTopWords&&this.xhrTopWords.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(19),s=i.n(a);i(0).tag2(\"reac-vs-mention\",'<div class=\"col-md-12 mg-t-20\"> <span class=\"panel-body header-title mg-t-70\"> <span class=\"tx-tittle-infg\"> REACH VS MENTIONS</span> </span> <div class=\"body\" id=\"chartreachofmention\" riot-style=\"height: {heightval}px;\"></div> </div>',\"\",\"\",(function(t){this.type=\"daily\",this.chart=null,this.Loader=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.mentionreach=[{color:\"#66ae9b\",id:\"mention\",name:\"Mention\",no:1},{color:\"#384d5a\",id:\"reach\",name:\"Reach\",no:2}],this.ajaxChannels=[],this.isExist=!0,this.on(\"mount\",()=>{this.heightval=(window.innerHeight-200)/2,this.update()}),this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const e=_.find(this.times,{selected:!0}).id;let i=_.clone(this.parent.search);i.group_service=\"false\",i.project=APP.currentProject,i.type=e,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var a=[];async.each(this.mentionreach,(t,e)=>{if(!this.isExist)return!1;i.section=t.id;this.chart=APP.apiGet({path:\"mentions\",data:i,success:i=>{i=i.items;let s=[];s=(i=_.sortBy(i,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),s.length>0&&(this.nodata=!1),a.push({id:\"response\",shadow:!1,noid:t.no,name:t.name,type:\"Mention\"==t.name?\"areaspline\":\"column\",lineWidth:1,color:t.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,t.color],[1,Highcharts.Color(t.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:s,yAxis:\"Mention\"==t.name?1:0}),e()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},e),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartreachofmention\";this.update({nodata:this.nodata}),a=_.orderBy(a,[\"noid\"],[\"asc\"]),this.chart=s()(t,e,\"#ccc\");for(var i=0;i<=a.length-1;i++)this.chart.addSeries(a[i])}this.update({Loader:!1}),_.isFunction(t)&&t()})},this.reload=()=>{this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},function(t,e,i){\"use strict\";i.r(e);i(10);i(0).tag2(\"sahreofvoicepagetwo\",'<div class=\"card-body bg-primary-teals\" id=\"chartsentiment\" riot-style=\"height:{heightchart}px\"></div>',\"\",\"\",(function(t){this.sValue=[],this.persentasedata=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.on(\"mount\",()=>{this.heightval=window.innerHeight/2,window.innerWidth<500?(this.innerSize=30,this.minSize=70,this.heightchart=this.heightval-150):(this.innerSize=100,this.minSize=200,this.heightchart=this.heightval),this.update()}),this.render=()=>{this.toptime()},this.toptime=()=>{APP.log(\"chart streams time : render\");let t=_.clone(this.parent.search);this.xhrtopstreams=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let e={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};var i=_.map(t,t=>t);i=_.sumBy(i,\"count\");let a=_.map(t,(t,a)=>{var s=t.count/i*100;return{name:a,color:e[a],y:parseFloat(s.toFixed(1)),totalvalue:t.count}});Highcharts.chart(\"chartsentiment\",{chart:{type:\"pie\",options3d:{enabled:!0,alpha:45}},title:{text:\"\"},subtitle:{text:\"\"},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h6>{point.name}</h6></th></tr><tr><th>Total : {point.totalvalue} </th><td>({point.y} %)</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{pie:{innerSize:this.innerSize,depth:45,dataLabels:{formatter:function(){return\"<span style='font-size:12px; color:#333;'> \"+this.point.name+\"</br></span>\"},useHTML:!0},minSize:this.minSize}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},series:[{name:\"Persentase\",data:a}]})}})}}))},function(t,e,i){i(0).tag2(\"summarypagetwo\",'<div class=\"row m-auto text-center\"> <div class=\"col-4 princing-item twitter\" riot-style=\"height: {heightchart}px;\"> <div class=\"pricing-divider \" style=\"height: 82px;\"> <h3 class=\"text-light\">TWITTER</h3> <svg class=\"pricing-divider-img\" enable-background=\"new 0 0 300 100\" height=\"50px\" id=\"Layer_1\" preserveaspectratio=\"none\" version=\"1.1\" viewbox=\"0 0 300 100\" width=\"300px\" x=\"0px\" xml:space=\"preserve\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" y=\"0px\"> <path class=\"deco-layer deco-layer--1\" d=\"M30.913,43.944c0,0,42.911-34.464,87.51-14.191c77.31,35.14,113.304-1.952,146.638-4.729 c48.654-4.056,69.94,16.218,69.94,16.218v54.396H30.913V43.944z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--2\" d=\"M-35.667,44.628c0,0,42.91-34.463,87.51-14.191c77.31,35.141,113.304-1.952,146.639-4.729 c48.653-4.055,69.939,16.218,69.939,16.218v54.396H-35.667V44.628z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--3\" d=\"M43.415,98.342c0,0,48.283-68.927,109.133-68.927c65.886,0,97.983,67.914,97.983,67.914v3.716 H42.401L43.415,98.342z\" fill=\"#FFFFFF\" opacity=\"0.7\"></path> <path class=\"deco-layer deco-layer--4\" d=\"M-34.667,62.998c0,0,56-45.667,120.316-27.839C167.484,57.842,197,41.332,232.286,30.428 c53.07-16.399,104.047,36.903,104.047,36.903l1.333,36.667l-372-2.954L-34.667,62.998z\" fill=\"#FFFFFF\"></path> </svg> </div> <div class=\"card-body bg-white mt-0 shadow pd-0\"> <ul class=\"list-unstyled position-relative tx-20 \"> <li each=\"{item in datatw}\"><b>{item.unique_account_tw > 1000 ? numeral(item.unique_account_tw).format(\\'0.0 a\\') : item.unique_account_tw}</b> Unique Accounts</li> <li each=\"{item in datatw}\"><b>{item.top_reach_tw > 1000 ? numeral(item.top_reach_tw).format(\\'0.0 a\\') : item.top_reach_tw}</b> Potential Reach</li> <li each=\"{item in datatw}\"><b>{item.top_reach10_tw > 1000 ? numeral(item.top_reach10_tw).format(\\'0.0 a\\') : item.top_reach10_tw}</b> Top 10 Reach</li> <li each=\"{item in datatw}\"><b>{item.regular_tw > 1000 ? numeral(item.regular_tw).format(\\'0.0 a\\') : item.regular_tw}</b> Regular Posts</li> <li each=\"{item in datatw}\"><b>{item.ae_tw > 1000 ? numeral(item.ae_tw).format(\\'0.0 a\\') : item.ae_tw}</b> Average Exposure</li> <li each=\"{item in datatw}\"><b>{item.retweet_tw > 1000 ? numeral(item.retweet_tw).format(\\'0.0 a\\') : item.retweet_tw}</b> Retweets</li> </ul> </div> </div> <div class=\"col-4 princing-item facebook\" riot-style=\"height: {heightchart}px;\"> <div class=\"pricing-divider \" style=\"height: 82px;\"> <h3 class=\"text-light\">FACEBOOK</h3> <svg class=\"pricing-divider-img\" enable-background=\"new 0 0 300 100\" height=\"50px\" id=\"Layer_1\" preserveaspectratio=\"none\" version=\"1.1\" viewbox=\"0 0 300 100\" width=\"300px\" x=\"0px\" xml:space=\"preserve\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" y=\"0px\"> <path class=\"deco-layer deco-layer--1\" d=\"M30.913,43.944c0,0,42.911-34.464,87.51-14.191c77.31,35.14,113.304-1.952,146.638-4.729 c48.654-4.056,69.94,16.218,69.94,16.218v54.396H30.913V43.944z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--2\" d=\"M-35.667,44.628c0,0,42.91-34.463,87.51-14.191c77.31,35.141,113.304-1.952,146.639-4.729 c48.653-4.055,69.939,16.218,69.939,16.218v54.396H-35.667V44.628z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--3\" d=\"M43.415,98.342c0,0,48.283-68.927,109.133-68.927c65.886,0,97.983,67.914,97.983,67.914v3.716 H42.401L43.415,98.342z\" fill=\"#FFFFFF\" opacity=\"0.7\"></path> <path class=\"deco-layer deco-layer--4\" d=\"M-34.667,62.998c0,0,56-45.667,120.316-27.839C167.484,57.842,197,41.332,232.286,30.428 c53.07-16.399,104.047,36.903,104.047,36.903l1.333,36.667l-372-2.954L-34.667,62.998z\" fill=\"#FFFFFF\"></path> </svg> </div> <div class=\"card-body bg-white mt-0 shadow pd-0\"> <ul class=\"list-unstyled position-relative tx-20\"> <li each=\"{item in datafb}\"><b>{item.unique_account_fb > 1000 ? numeral(item.unique_account_fb).format(\\'0.0 a\\') : item.unique_account_fb}</b> Unique Accounts</li> <li each=\"{item in datafb}\"><b>{item.regular_fb > 1000 ? numeral(item.regular_fb).format(\\'0.0 a\\') : item.regular_fb}</b> Reg.Post (Fanpage)</li> <li each=\"{item in datafb}\"><b>{item.comments_fb > 1000 ? numeral(item.comments_fb).format(\\'0.0 a\\') : item.comments_fb}</b> Comments (Fanspage)</li> <li each=\"{item in datafb}\"><b>{item.reply_fb > 1000 ? numeral(item.reply_fb).format(\\'0.0 a\\') : item.reply_fb}</b> Replies</li> <li each=\"{item in datafb}\"><b>{item.likes_fb ? (item.likes_fb > 1000 ? numeral(item.likes_fb).format(\\'0.0 a\\') : item.likes_fb) : 0}</b> Likes</li> </ul> </div> </div> <div class=\"col-4 princing-item ig\" riot-style=\"height: {heightchart}px;\"> <div class=\"pricing-divider \" style=\"height: 82px;\"> <h3 class=\"text-light\">INSTAGRAM</h3> <svg class=\"pricing-divider-img\" enable-background=\"new 0 0 300 100\" height=\"50px\" id=\"Layer_1\" preserveaspectratio=\"none\" version=\"1.1\" viewbox=\"0 0 300 100\" width=\"300px\" x=\"0px\" xml:space=\"preserve\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" y=\"0px\"> <path class=\"deco-layer deco-layer--1\" d=\"M30.913,43.944c0,0,42.911-34.464,87.51-14.191c77.31,35.14,113.304-1.952,146.638-4.729 c48.654-4.056,69.94,16.218,69.94,16.218v54.396H30.913V43.944z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--2\" d=\"M-35.667,44.628c0,0,42.91-34.463,87.51-14.191c77.31,35.141,113.304-1.952,146.639-4.729 c48.653-4.055,69.939,16.218,69.939,16.218v54.396H-35.667V44.628z\" fill=\"#FFFFFF\" opacity=\"0.6\"></path> <path class=\"deco-layer deco-layer--3\" d=\"M43.415,98.342c0,0,48.283-68.927,109.133-68.927c65.886,0,97.983,67.914,97.983,67.914v3.716 H42.401L43.415,98.342z\" fill=\"#FFFFFF\" opacity=\"0.7\"></path> <path class=\"deco-layer deco-layer--4\" d=\"M-34.667,62.998c0,0,56-45.667,120.316-27.839C167.484,57.842,197,41.332,232.286,30.428 c53.07-16.399,104.047,36.903,104.047,36.903l1.333,36.667l-372-2.954L-34.667,62.998z\" fill=\"#FFFFFF\"></path> </svg> </div> <div class=\"card-body bg-white mt-0 shadow pd-0\"> <ul class=\"list-unstyled position-relative tx-20\"> <li each=\"{item in dataig}\"><b>{item.unique_account_ig > 1000 ? numeral(item.unique_account_ig).format(\\'0.0 a\\') : item.unique_account_ig}</b> Unique Accounts</li> <li each=\"{item in dataig}\"><b>{item.top_reach_ig > 1000 ? numeral(item.top_reach_ig).format(\\'0.0 a\\') : item.top_reach_ig}</b> Potential Reach</li> <li each=\"{item in dataig}\"><b>{item.top_reach10_ig > 1000 ? numeral(item.top_reach10_ig).format(\\'0.0 a\\') : item.top_reach10_ig} </b> Top 10 Reach</li> <li each=\"{item in dataig}\"><b>{item.regular_ig > 1000 ? numeral(item.regular_ig).format(\\'0.0 a\\') : item.regular_ig}</b> Regular Posts</li> <li each=\"{item in dataig}\"><b>{item.reply_ig > 1000 ? numeral(item.reply_ig).format(\\'0.0 a\\') :item.reply_ig}</b> Replies</li> </ul> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.heightval=window.innerHeight/2,window.innerWidth<500?this.heightchart=260:this.heightchart=330,this.update()}),this.datatw=[{ae_tw:0,top_reach_tw:0,top_reach10_tw:0,regular_tw:0,reply_tw:0,retweet_tw:0,unique_account_tw:0}],this.datafb=[{likes_fb:0,reply_fb:0,comments_fb:0,regular_fb:0,unique_account_fb:0}],this.dataig=[{unique_account_ig:0,top_reach_ig:0,top_reach10_ig:0,regular_ig:0,reply_ig:0}],this.getData=(t,e)=>{let i=_.clone(this.parent.search);i.is_total=null,i.type=null,this.xhr=APP.apiGet({path:\"summary/\"+e,data:i,success:e=>{t(e)}})},this.render=()=>{var t=this;async.parallel({twitter:function(e){t.getData((function(t){e(null,t)}),\"twitter\")},facebook:function(e){t.getData((function(t){e(null,t)}),\"facebook\")},instagram:function(e){t.getData((function(t){e(null,t)}),\"instagram\")}},(function(e,i){i&&t.renderData(i)}))},this.renderData=t=>{this.datafb=[t.facebook.items],this.datatw=[t.twitter.items],this.dataig=[t.instagram.items];t.facebook.items,t.twitter.items,t.instagram.items;return this.update(),!1}}))},function(t,e,i){i(0).tag2(\"login\",'<div class=\"d-flex align-items-center justify-content-center bg-br-primary ht-100v\" style=\"background: #f4f8f9\"> <div class=\"overlay-body d-flex align-items-center justify-content-center\"> <div class=\"login-wrapper wd-300 wd-xs-350 pd-25 pd-xs-40 bg-white rounded shadow-base\" style=\" box-shadow: 0px 10px 20px 4px rgba(0, 0, 0, 0.10) !important;\"> <div class=\"signin-logo tx-center tx-28 tx-bold tx-inverse\"><span class=\"tx-normal\"></span> Welcome !</span> </div> <div class=\"tx-center mg-b-60\">Sign in to your account</div> <form id=\"checkform\" method=\"post\" onsubmit=\"{login}\"> <div class=\"input-group mg-t-20\"> <span class=\"input-group-addon\"><i class=\"ion ion-ios-email-outline tx-16 lh-0 op-6\"></i></span> <input type=\"text\" class=\"form-control\" name=\"username\" ref=\"username\" placeholder=\"Enter your username\"> </div> <div class=\"input-group mg-t-20\"> <span class=\"input-group-addon\"><i class=\"ion ion-ios-locked-outline tx-16 lh-0 op-6\"></i></span> <input type=\"password\" class=\"form-control\" name=\"password\" ref=\"password\" placeholder=\"Enter your password\"> </div> <button type=\"submit\" class=\"btn btn-info btn-block cursor-pointer mg-t-20\">Sign in</button> </form> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{$(\"body\").attr(\"class\",\"auth-page height-auto bg-custom\"),this.refs.username.focus(),urlStream.trigger(\"changeUrl\",\"#login\"),localStorage.clear()}),this.login=t=>{t.preventDefault(),APP.forceLogin=!1;const e=this.refs.username.value,i=this.refs.password.value;\"\"!=e&&\"\"!=i?$.ajax({url:APP.apiUrl+\"auth/login \",method:\"post\",data:{username:e,password:i},dataType:\"json\",success:function(t){const e=t.data,i=_.result(e,\"client_projects[0].key_id\"),a=JSON.stringify(_.result(e,\"package.channels\",\"1,2,3,4,5,6,7,8\")),s=_.result(e,\"package.records.max_date\");localStorage.setItem(\"package\",JSON.stringify(e.package)),localStorage.setItem(\"channels\",a),localStorage.setItem(\"maxdate\",s),localStorage.setItem(\"level\",e.level),null!=s?(localStorage.setItem(\"since\",moment(s).subtract(3,\"d\").format(\"YYYY-MM-DD\")),localStorage.setItem(\"until\",moment(s).format(\"YYYY-MM-DD\"))):(localStorage.setItem(\"since\",moment().subtract(3,\"d\").format(\"YYYY-MM-DD\")),localStorage.setItem(\"until\",moment().format(\"YYYY-MM-DD\"))),localStorage.setItem(\"userid\",e.id),localStorage.setItem(\"clientid\",e.clientid),localStorage.removeItem(\"projects\"),localStorage.removeItem(\"images\"),localStorage.removeItem(\"name\"),Auth.login({token:e.token,level:e.level,projects:_.map(e.project,(function(t){return{id:t.key_id,date:moment(t.time_add).format(\"DD MMMM YYYY\"),name:t.key_name,index:t.index}})),name:e.name});let o=0;$.ajaxSetup({beforeSend:function(t,e){t.setRequestHeader(\"Authorization\",\"Bearer \"+Auth.getToken())},statusCode:{401:function(t){o<1&&(swal({text:\"Invalid User or Password\"},()=>{APP.goTo(\"/\")}),o++)}}}),APP.forceLogin=!1,APP.goTo(\"/summary?project=\"+i)},error:function(t,e,i){var a=t.responseJSON.message;swal({title:\"Alert\",text:a,type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}),APP.error(t)}}):swal(\"Oops...\",\"Invalid credential\",\"warning\")}}))},function(t,e,i){i(0).tag2(\"chart-sentiment\",'<div class=\"panel\"> <div class=\"panel-body bg-white\" id=\"sentimentcart\"></div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{APP.log(\"chart sentiment : mount\"),Highcharts.chart(\"sentimentcart\",{chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1,type:\"pie\"},style:{fontFamily:\"Helvetica Neue\",fontSize:\"12px\"},title:{text:\"Mentions Of Project\",align:\"center\",verticalAlign:\"top\",y:5},colors:[\"#A3C85E\",\"#F3D760\",\"#E16976\"],tooltip:{pointFormat:\"{series.name}: <b>{point.percentage:.1f}%</b>\"},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0,center:[\"50%\",\"55%\"]}},legend:{enabled:!0},credits:{enabled:!1},series:[{type:\"pie\",name:\"mentions\",data:[[\"Positif\",60],[\"Negatif\",30],[\"Netral\",20]]}],navigation:{buttonOptions:{enabled:!1}}})})}))},function(t,e,i){i(0).tag2(\"chart-source\",'<div class=\"panel\"> <div class=\"panel-body bg-white height300\" id=\"sourcecart\"></div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{Highcharts.chart(\"sourcecart\",{chart:{type:\"bar\",style:{fontFamily:\"Helvetica Neue\",fontSize:\"12px\"}},title:{text:\"Source Of Mentions\"},subtitle:{text:\"\"},xAxis:{categories:[\"Facebook\",\"Twitter\",\"Blogs\",\"Forum\",\"News\",\"Video\",\"Photo\",\"Others\"],title:{text:null}},colors:[\"#FF9800\"],yAxis:{min:0,title:{text:\"\",align:\"high\"},labels:{overflow:\"justify\"}},tooltip:{valueSuffix:\"\"},plotOptions:{bar:{dataLabels:{enabled:!1}}},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\" mentions\",data:[5e3,4500,2300,2e3,1800,1500,1100,800],pointWidth:20}]})})}))},function(t,e,i){i(0).tag2(\"comparison\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"page-title\">Comparison<small>your small text goes here</small></h1> <div id=\"bs-daterangepicker\" class=\"btn bg-grey-200 padding-10-20 no-border color-grey-600 pull-right border-radius-10 hidden-xs no-shadow\"><i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i></div> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body bg-white height50 margin-bottom-10\"> <div class=\"form-group\"> <p class=\"text-light\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500</p> <div class=\"col-sm-12\"> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-1\"> <label for=\"checkbox-inline-1\" class=\"padding-left-30\"> Project 1</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-2\"> <label for=\"checkbox-inline-2\" class=\"padding-left-30\">Project 2</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-3\"> <label for=\"checkbox-inline-3\" class=\"padding-left-30\">Project 3</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-4\"> <label for=\"checkbox-inline-3\" class=\"padding-left-30\">Project 4</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-3\"> <label for=\"checkbox-inline-3\" class=\"padding-left-30\">Project 5 </label> </div> <button class=\"btn btn-success pull-right\">SHOW COMPARISON</button> </div> </div> </div> </div> </div> <div class=\"col-md-12\"> <div class=\"panel padding-10-20\"> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF COMPARISON</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button type=\"button\" class=\"btn btn-default btn-sm\">hourly</button> <button type=\"button\" class=\"btn btn-default btn-sm bg-grey-200\">daily</button> <button type=\"button\" class=\"btn btn-default btn-sm\">monthly</button> </div> </div> <div class=\"clearfix\"></div> <div class=\"panel-body bg-white height300\" id=\"comparison_cart\"> </div> </div> </div> <div class=\"col-md-8\"> <div class=\"panel bg-grey-50\"> <div class=\"btn-group\"> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-earth icon-source\"></div>All <p>5000</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-social-facebook icon-source\"></div>Facebook <p>2500</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-social-twitter icon-source\"></div>Twitter <p>1500</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-social-rss icon-source\"></div>Blogs <p>500</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-android-chat icon-source\"></div>Forum<p>400</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-ios-paper icon-source\"></div>News <p>200</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-ios-videocam icon-source\"></div>Video<p>100</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-images icon-source\"></div>Photo<p>20</p></button> <button type=\"button\" class=\"btn btn-default btn-source\"><div class=\"ion-ios-keypad icon-source\"></div>Others<p>10</p></button> </div> </div> <div class=\"panel\"> <div class=\"panel-body bg-white margin-bottom-10\"> <div class=\"col-md-12\"> <p class=\"text-light padding-top-10 border-bottom-1\"><strong>PROJECT 1</strong></p> </div> <div class=\"col-md-8\"> <div class=\"panel-body bg-white height300\" id=\"cartsourceproject0\"> </div> </div> <div class=\"col-md-4\"> <div class=\"btn-group\"> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">50K</div> <p>(100%)<br>Mentions</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">12,9K</div><p>(60%)<br>Positif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23K</div><p>(30%)<br>Negatif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23,5K</div> <p>(10%)<br>Netral</p></button> </div> </div> </div> </div> <div class=\"panel\"> <div class=\"panel-body bg-white margin-bottom-10\"> <div class=\"col-md-12\"> <p class=\"text-light padding-top-10 border-bottom-1\"><strong>PROJECT 2</strong></p> </div> <div class=\"col-md-8\"> <div class=\"panel-body bg-white height300\" id=\"cartsourceproject1\"> </div> </div> <div class=\"col-md-4\"> <div class=\"btn-group\"> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">50K</div> <p>(100%)<br>Mentions</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">12,9K</div><p>(60%)<br>Positif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23K</div><p>(30%)<br>Negatif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23,5K</div> <p>(10%)<br>Netral</p></button> </div> </div> </div> </div> <div class=\"panel\"> <div class=\"panel-body bg-white margin-bottom-10\"> <div class=\"col-md-12\"> <p class=\"text-light padding-top-10 border-bottom-1\"><strong>PROJECT 3</strong></p> </div> <div class=\"col-md-8\"> <div class=\"panel-body bg-white height300\" id=\"cartsourceproject2\"> </div> </div> <div class=\"col-md-4\"> <div class=\"btn-group\"> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">50K</div> <p>(100%)<br>Mentions</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">12,9K</div><p>(60%)<br>Positif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23K</div><p>(30%)<br>Negatif</p></button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23,5K</div> <p>(10%)<br>Netral</p></button> </div> </div> </div> </div> </div> <div class=\"col-md-4\"> <div class=\"panel\"> <div class=\"panel-body bg-white margin-bottom-10\"> <div class=\"form-group\"> <p class=\"text-light\">FILTER BY KEYWORD</p> <div class=\"col-sm-12 margin-bottom-10\"> <input type=\"text\" class=\"form-control\" id=\"input-text\" placeholder=\"internet\"> </div> <p class=\"text-light\">FILTER BY SENTIMENT</p> <div class=\"col-sm-12 margin-bottom-10\"> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-1\"> <label for=\"checkbox-inline-1\" class=\"padding-left-30\"> Positif</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-2\"> <label for=\"checkbox-inline-2\" class=\"padding-left-30\">Negatif</label> </div> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-3\"> <label for=\"checkbox-inline-3\" class=\"padding-left-30\">Neutral</label> </div> </div> <p class=\"text-light\">FILTER BY DOMAIN</p> <div class=\"col-sm-12 margin-bottom-10\"> <input type=\"text\" class=\"form-control\" id=\"input-text\" placeholder=\"detik.com\"> </div> <p class=\"text-light\">FILTER BY AUTHOR</p> <div class=\"col-sm-12 margin-bottom-10\"> <input type=\"text\" class=\"form-control\" id=\"input-text\" placeholder=\"@account name\"> </div> <div class=\"col-sm-12 margin-bottom-10\"> <button class=\"btn btn-success pull-right\">SHOW RESULT</button> </div> </div> </div> </div> <div class=\"panel bg-grey-50\"> <div class=\"btn-group\"> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">50K</div>All Mentions</button> <button type=\"button\" class=\"btn btn-default btn-source col-md-6\"><div class=\"icon-source\">23,5K</div> Mentions</button> <button type=\"button\" class=\"btn btn-default btn-source col-md-4\"><div class=\"icon-source\">12,9K</div>Positif</button> <button type=\"button\" class=\"btn btn-default btn-source col-md-4\"><div class=\"icon-source\">23K</div>Negatif</button> <button type=\"button\" class=\"btn btn-default btn-source col-md-4\"><div class=\"icon-source\">11K</div>Neutral</button> </div> </div> <div class=\"panel\"> <div class=\"panel-body bg-white margin-bottom-10\" id=\"summaryproject\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{this.update(),this.comparisonCart(),this.summaryCart(),this.sourceProjectCart(\"cartsourceproject0\"),this.sourceProjectCart(\"cartsourceproject1\"),this.sourceProjectCart(\"cartsourceproject2\"),ripple10.loaddaterangepicker()}),this.sourceProjectCart=t=>{Highcharts.chart(t,{chart:{type:\"bar\",spacingLeft:0},title:{text:\"\"},xAxis:{categories:[\"Facebook\",\"Twitter\",\"Blogs\",\"Grapes\",\"Forum\",\"News\",\"Video\",\"Photo\",\"Others\"]},yAxis:{min:0,title:{text:\"\"}},legend:{reversed:!0},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{stacking:\"normal\"}},series:[{name:\"Positif\",pointWidth:22,color:\"#4CAF50\",data:[5,3,4,7,2,5,3,2]},{name:\"Negatif\",pointWidth:22,color:\"#F44336\",data:[2,2,3,2,3,4,1,2]},{name:\"Neutral\",pointWidth:22,color:\"#FFB300\",data:[3,4,4,2,5,5,6,3]}]})},this.summaryCart=()=>{Highcharts.chart(\"summaryproject\",{chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1,type:\"pie\"},style:{fontFamily:\"Helvetica Neue\",fontSize:\"12px\"},title:{text:\"Mentions Of Project\",align:\"center\",verticalAlign:\"top\",y:5},colors:[\"#A3C85E\",\"#F3D760\",\"#E16976\"],tooltip:{pointFormat:\"{series.name}: <b>{point.percentage:.1f}%</b>\"},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0,center:[\"50%\",\"55%\"]}},legend:{enabled:!0},credits:{enabled:!1},series:[{type:\"pie\",name:\"mentions\",data:[[\"Project 1\",60],[\"Project 2\",30],[\"Project 3\",20]]}]})},this.comparisonCart=()=>{Highcharts.chart(\"comparison_cart\",{title:{text:\"\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1},yAxis:{title:{text:null},labels:{align:\"left\",x:3,y:6,format:\"{value:.,0f}\"},showFirstLabel:!1},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{pointStart:2010}},series:[{name:\"Project 1\",lineWidth:4,marker:{radius:4},color:\"#2B645D\",data:[43934,52503,7177,69658,97031,119931,137133,154175,27792,98989,7283]},{name:\"Project 2\",color:\"#E1AE45\",data:[24916,24064,9742,29851,32490,30282,38121,40434,8838,83892,8839]},{name:\"Project 3\",color:\"#88242C\",data:[11744,17722,6005,19771,20185,24377,32147,39387,1829,8389,2893]}]})}}))},function(t,e,i){i(0).tag2(\"popup\",\"\",\"\",\"\",(function(t){}))},function(t,e,i){i(0).tag2(\"project\",'<div id=\"contactForm\"> <h3>Project Group</h3> <form> <div style=\"overflow-y: scroll; height:200px;\"> <div style=\"text-align:left; margin-left:80px;\" each=\"{o, i in dataProjects}\"> <div class=\"col-md-2\"> <input type=\"checkbox\" id=\"checkbox-inline-{o.id}\" class=\"a\" riot-value=\"{o.id}\" checked=\"{o.checked}\" onchange=\"{changeProjects}\"> </div> <div class=\"col-md-10\"> <label for=\"checkbox-inline-{o.id}\" style=\"margin-left:-50px;\" class=\"padding-left-30\">{o.name}</label> </div> </div> </div> <br> <input class=\"formBtn\" onclick=\"{group}\" type=\"submit\"> <input class=\"formBtn2\" onclick=\"{cancel}\" type=\"submit\" value=\"cancel\"> </form> </div>',\"\",\"\",(function(t){$((function(){$(\"#contact\").click((function(){$(\"#contactForm\").fadeToggle()}))}))}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(14),i(13),i(8),i(5),i(45),i(9),i(46),i(54),i(2),i(17);i(0).tag2(\"dashboarmentions\",'<breadcrumb current=\"Dashboard Mentions\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">STREAMS MENTIONS</h4> </div> <group-competitive></group-competitive> <button onclick=\"{dowloadStreams}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 mg-t-0-r10 width100 mobilesbutton cursor-pointer mgt-mobile-max-415\">Export</button> </group-competitive> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style \" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <chart-stream-metions ref=\"chartstream\"></chart-stream-metions> <div class=\"row row-sm\"> <div class=\"col-md-8 mg-t-10 pd-r-0\" id=\"channels\"> <channel cb=\"{updateChannel}\" ref=\"channel\"></channel> </div> <div class=\"col-md-4 mg-t-10 pd-r-0\" id=\"sentiment\"> <sentiment cb=\"{updateSentiment}\" ref=\"sentiment\"></sentiment> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-4 mg-t-20 showmax500\"> <filter calss=\"showmax500\" namefilter=\"true\" ref=\"filtervalmobile\"></filter> </div> <div class=\"col-md-8 mg-t-20\" id=\"maxfollowscroll\"> <stream-timeline ref=\"streamTimeline\" corection=\"false\"></stream-timeline> </div> <div class=\"col-md-4 mg-t-20 hiddenmax500\"> <filter namefilter=\"true\" ref=\"filterval\"></filter> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> <a href=\"javascript:\" id=\"return-to-top\" onclick=\"{scrolltop}\"><i class=\"fa fa-chevron-up\"></i></a> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilterValue\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <detaimention ref=\"detailmentions\"></detaimention> </div> </div> </div>',\"\",\"\",(function(t){this.error=!1,this.search={since:null,until:null,project:null},this.channels=null,this.on(\"mount\",()=>{this.xhr=null,window.innerWidth>=500&&$(\"#showmax500hidden\").hide(),urlStream.trigger(\"changeUrl\",\"mentions\"),menuActive.trigger(\"activated\",[\"mentions\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.xhrdata=null,p(\"filter\")&&this.getfilterlistid(),setTimeout(()=>{const t=this.channels=this.refs.channel.getChannelSelected(),e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\")},500),p(\"author\")&&this.getAuthor(),$(\"body,html\").animate({scrollTop:0},500)}),this.render=()=>{p(\"valsection\")&&(this.search.section=p(\"valsection\")),null!=this.search.project||null!=this.search.project?this.xhrdata=this.refs.chartstream.render(()=>{this.refs.sentiment.render(),this.refs.streamTimeline.render(),this.setTotal()}):swal(\"Oops...\",\"Create your project\",\"warning\")},this.updateDate=(t,e)=>{p(\"valsince\")?this.search.since=p(\"valsince\"):this.search.since=t,p(\"valuntil\")?this.search.until=p(\"valuntil\"):this.search.until=e,this.refs.streamTimeline.isLoading=!0,this.refs.streamTimeline.total=1,this.refs.channel.isLoading=!0,setTimeout(function(){this.render(),this.update()}.bind(this),1e3)},this.updateChannel=t=>{this.refs.streamTimeline.isLoading=!0,this.channels=t;const e=_.map(t,t=>t.id);this.search.service_category=e.join(\",\"),this.search.since=localStorage.since,this.search.until=localStorage.until,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.updateSentiment=t=>{this.refs.streamTimeline.isLoading=!0,this.search.section=t,this.search.since=localStorage.since,this.search.until=localStorage.until,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.refs.channel.updateRenderSentiment()},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilterValue.value,this.updatenamefilter?(window.innerWidth>=500?this.refs.filterval.savefilter(t):this.refs.filtervalmobile.savefilter(t),this.update()):(this.error=!0,this.update())},this.updateFilter=()=>{this.refs.streamTimeline.isLoading=!0,this.refs.streamTimeline.query={page:0,limit:this.refs.streamTimeline.query.limit},this.refs.streamTimeline.pagination.page=1,setTimeout(function(){this.render(),this.update()}.bind(this),100)},this.resetFilter=()=>{this.refs.streamTimeline.isLoading=!0,this.refs.streamTimeline.query={page:0,limit:this.refs.streamTimeline.query.limit},this.refs.streamTimeline.pagination.page=1,setTimeout(function(){this.render(),this.update()}.bind(this),100)};this.xhr=renderchart.on(\"chartstream\",(t,e,i,a)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),setTimeout(()=>{_.isEmpty(this.refs)||(\"hourly\"==a&&this.refs.detailmentions.modalsentimentvalue(t,null,e,null,null,i,null,null,null,null,null,null),\"daily\"==a&&this.refs.detailmentions.modalsentimentvalue(t,null,e,null,null,null,null,null,null,null,null,null),\"monthly\"==a&&this.refs.detailmentions.modalsentimentvalue(t,null,e,null,null,null,null,null,null,null,null,a))},500),this.search.since=t,this.search.until=t,_.isEmpty(this.refs)||(this.refs.streamTimeline.render(),this.refs.sentiment.render(),this.setTotal())}),this.getfilterlistid=()=>{APP.log(\"project : project\"),APP.apiGet({path:\"bookmark-filter/list/\"+p(\"filter\"),data:{id:p(\"filter\")},success:t=>{this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,window.innerWidth>=500?this.refs.filterval.getfilterlist(t):this.refs.filtervalmobile.getfilterlist(t),this.render(),this.update()}})},$(document).ready(()=>{$(\"#maxfollowscroll\").height();var t=null;setTimeout((function(){t=$(\"#follow-scroll\"),$(window).scroll((function(){t.css(\"position\",\"relative\"),$(window).on(\"scroll\",(function(e){var i=$(window).scrollTop();$(window).scrollTop()<$(\"#maxfollowscroll\").height()&&$(window).scrollTop()<$(\"#maxfollowscroll\").height()&&t.stop(!1,!1).animate({top:i<null?0:i-null+60},500)}))}))}),100)}),this.getAuthor=()=>{this.search.author=p(\"author\").replace(/%20/g,\" \"),window.innerWidth>=500?this.refs.filterval.getfilterauthor(p(\"author\").replace(/%20/g,\" \")):this.refs.filtervalmobile.getfilterauthor(p(\"author\").replace(/%20/g,\" \")),this.render()},this.dowloadStreams=()=>{$.notify(\"Download Streams \",\"info\"),this.Loading=!0;let t=this.search;const e=\"stream/download?type=daily&token=\"+localStorage.AuthToken;var i=APP.apiUrl+e;for(let e in t)t[e]&&t[e].length>0&&(i+=`&${e}=${t[e]}`);this.doDownload(i)},this.doDownload=t=>{window.open(t,\"_blank\")},this.on(\"unmount\",()=>{this.xhrdata&&this.xhrdata.destroy(),this.xhr&&this.xhr.destroy(),localStorage.removeItem(\"Project_devault\")}),$(window).scroll((function(){$(this).scrollTop()>=50?$(\"#return-to-top\").fadeIn(200):$(\"#return-to-top\").fadeOut(200)})),this.scrolltop=()=>{$(\"body,html\").animate({scrollTop:0},500)}}))},function(t,e,i){i(0).tag2(\"project-form\",'<div class=\"page-head\"> <h1 class=\"page-title\">Create Projects </h1> <ol class=\"breadcrumb\"> <li><a href=\"#\"><i class=\"ion-home margin-right-5\"></i> Dashboard</a></li> <li><a href=\"#project\">Projects</a></li> <li class=\"active\">Create</li> </ol> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"panel\"> <div class=\"text-center padding-left-20 padding-top-20 padding-right-20 margin-bottom-20 border-bottom-1 border-grey-100\"> <h3 class=\"color-grey-700 margin-top-30\">Create Project</h3> <p class=\"text-light margin-bottom-30\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s</p> </div> <form role=\"form\" class=\"form-horizontal\" id=\"registerForm\"> <div class=\"row\"> <div class=\"col-lg-8\"> <div class=\"panel-body padding-bottom-40 padding-left-20 padding-right-20\"> <div class=\"form-group\"> <label for=\"username\" class=\"control-label col-lg-3\">Keyword</label> <div class=\"col-lg-9\"> <input type=\"text\" class=\"form-control\" id=\"username\" name=\"username\"> <div class=\"help-block\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500</div> </div> </div> <div class=\"form-group\"> <label for=\"email\" class=\"control-label col-lg-3\">Languange</label> <div class=\"col-lg-9\"> <select class=\"form-control\"> <option>All</option> <option>Indonesia</option> <option>English</option> </select> <div class=\"help-block\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</div> </div> </div> <div class=\"form-group\"> <label for=\"password\" class=\"control-label col-lg-3\">Keyword Include</label> <div class=\"col-lg-9\"> <textarea class=\"form-control\" name=\"Contactmessage\" rows=\"3\" id=\"message\"></textarea> <div class=\"help-block\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500</div> </div> </div> <div class=\"form-group\"> <label for=\"password\" class=\"control-label col-lg-3\">Keyword Exclude</label> <div class=\"col-lg-9\"> <textarea class=\"form-control\" name=\"Contactmessage\" rows=\"3\" id=\"message\"></textarea> <div class=\"help-block\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</div> </div> </div> </div> </div> <div class=\"col-lg-3\"> <h3 class=\"color-grey-700 margin-top-10 font-size-20\">Help</h3> <p class=\"text-light margin-bottom-30\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500</p> <p class=\"text-light margin-bottom-30\">Lorem Ipsum and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500</p> <p class=\"text-light margin-bottom-30\">Lorem Ipsum is simply dummy text of the printing and typesetting.</p> </div> </div> <div class=\"text-center padding-top-20 padding-bottom-20 border-top-1 border-grey-100\"> <button type=\"submit\" class=\"btn bg-orange-500 color-white btn-dark margin-right-10 padding-left-40 padding-right-40\">Cancel</button> <button type=\"submit\" class=\"btn bg-green-500 color-white btn-dark padding-left-40 padding-right-40\">Create Project</button> </div> </form> </div> </div> </div> </div>',\"\",\"\",(function(t){}))},function(t,e,i){\"use strict\";i.r(e);i(2);i(0).tag2(\"project\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">PROJECT</h4> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-12\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-body pd-0 bd-color-gray-lighter \"> <div class=\"pd-t-20 pd-r-20 pd-b-20 pd-l-20 table-responsive\"> <div if=\"{isLoading}\" class=\"loader\"></div> <table class=\"table table-striped mg-t-20\"> <tr class=\"tr td th toptable\"> <th>Project Name</th> <th>Created Date</th> <th>Actions</th> </tr> <tr each=\"{this.data}\" class=\"tr td th pointer\"> <td class=\"vertical-middle\" id=\"{id}\" onclick=\"{openProject}\"><a href=\"#summary?project={id}\" style=\"color: #8f8ba1;\">{name}</a></td> <td class=\"vertical-middle\" id=\"{id}\" onclick=\"{openProject}\">{date}</td> <td class=\"vertical-middle\"> <div class=\"dropdown\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\"> <div class=\"ht-25 pd-x-20 bd d-flex align-items-center justify-content-center\"> <span class=\"mg-r-10 tx-13 tx-medium\"><i class=\"fa fa-gear\"></i></span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu pd-0 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a href=\"#setting/project-update?project={id}\" class=\"nav-link\"> Details </a> </nav> </div> </div> </td> </tr> </table> </div> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.createproject=!0,this.on(\"mount\",()=>{APP.log(\"project : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting\"),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject(),this.project()}),this.openProject=t=>{var e=t.target.id;window.location=\"#stream?project=\"+e},this.project=()=>{APP.log(\"project : project\"),this.update({isLoading:!0});APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date\"},success:function(t){this.maxproject(t);var e=t,i=_.map(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name}}));this.data=i,menu.trigger(\"menubrand\",this.dataProjects),menu.trigger(\"projectmenu\",this.dataProjects),this.update({isLoading:!1})}.bind(this)})},this.maxproject=t=>{t=t.length;APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_projects\"},success:e=>{t>=e&&(this.createproject=!1),null==e&&(this.createproject=!0),this.update()}})},this.create=()=>{}}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(2);i(0).tag2(\"account\",'<breadcrumb current=\"Facebook Fanpages\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-1 shadow-base\"> <div class=\"col-sm-6 col-lg-12\"> <div class=\"card\"> <div class=\"card-body displayblock bb-1 height50\"> <div class=\"row\"> <div class=\"col-sm-9 mg-t-15\" style=\"border-right: 1px solid #eee ;\"> <h6 class=\"card-title\">FACEBOOK FANPAGES </h6> <a href=\"\" class=\"pull-right\" style=\"margin-top: -20px;\"> </a> </div> <div class=\"col-sm-3 mg-t-15\"> <h6 class=\"card-title help\">HELP </h6> <a href=\"\" class=\"pull-right\" style=\"margin-top: -20px;\"> </a> </div> </div> </div> <div class=\"card-body displayblock\"> <div class=\"row\"> <div class=\"col-lg-9 mg-t-20 mg-xl-t-0\" style=\"border-right: 1px solid #eee ;\"> <div class=\"row mg-t-50\"> <div class=\"col-sm-4 form-control-label\"> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 cursor-pointer\" onclick=\"{myFacebookLogin}\" if=\"{this.accountHide}\">Add Facebook Account</button> </div> </div> <div class=\"row mg-t-50\"> <label class=\"col-sm-4 form-control-label\">Account Authorization : </label> </div> <div class=\"row mg-t-10\"> <div class=\"col-sm-5\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\" style=\"font-weight: 100; color:#0a7dc3;\" each=\"{o,i in  profile}\"> <i class=\"icon ion-social-facebook\"></i> <span class=\"cursor-pointer colorhover\" id=\"{o.profile_id}\">{o.profile_name} </span> <a class=\"deletefilter\" onclick=\"{deleteAccount}\" id=\"{o.profile_id}\"> delete</a> </div> </div> <div class=\"col-sm-7\"> <div class=\"row\" each=\"{key, index in selectedPages}\" id=\"{key.selectorId}\"> <div class=\"col-md-12\" id=\"{key.selectorId}\"> <a class=\"btn btn-primary btn-with-icon btn-block pull-right\" style=\" border: 1px solid; width: max-content; color: white;\" id=\"{key.selectorId}\" id=\"4\" if=\"{subcribedPage.indexOf(key.fanpage_fb_id) > -1}\"> <div class=\"ht-40 justify-content-between\"> <span class=\"pd-x-15\"> {key.fanpage_name} </span> <span class=\"icon wd-40\" style=\"color:white; background-color: #1566c6;\" onclick=\"{deleteunsubscription}\"><i class=\"fa fa-close\"></i></span> </div> </a> </div> </div> </div> </div> <div class=\"row mg-t-10\"> <div class=\"col-sm-7\"> </div> <div class=\"col-sm-5 mgt-m-70\"> <div class=\"dropdown pull-right\"> <a href=\"\" class=\"tx-gray-800 d-inline-block\" data-toggle=\"dropdown\"> <div class=\"ht-45 pd-x-20 bd d-flex align-items-center justify-content-center\"> <span class=\"mg-r-10 tx-13 tx-medium\">Project Fanpages</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu pd-10 wd-200\"> <nav class=\"nav nav-style-1 flex-column\"> <a onclick=\"{subscribe}\" id=\"{o.fanpage_fb_id}\" class=\"nav-link\" each=\"{o,i in this.pages}\" if=\"{subcribedPage.indexOf(o.fanpage_fb_id) < 0}\"> <i class=\"icon ion-ios-person\"></i> {o.fanpage_name} </a> </nav> </div> </div> </div> </div> </div> <div class=\"col-lg-3 mg-t-20 mg-xl-t-0\"> <h6 class=\"card-title help1 bb-1\">HELP </h6> <p class=\"mg-t-20\"> \"Ripple10 will gather all posts from connected Facebook fanpages. This enables you to monitor key fanpages, even if the entries do not contain the monitored keyword. </br> </br> This function was designed for fanpage owners who wish to have everything in one place - not just mentions about their brands, but also information from other selected fanpages.\" </p> </div> </div> </div> <div class=\"modal-footer height50 mg-t-m-20\"> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.addAccount=!1,this.refresh=!0,this.accountHide=!0,this.profileId=null,this.selectedPages=[],this.subcribedPage=[],this.indexdata=[],this.closedId,this.on(\"mount\",()=>{APP.log(\"Account : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/account\"),this.getClientSocmed(),APP.animationFadeIn(),$(\"select#custom\").select2({tags:!0})}),menu.on(\"nameproject\",t=>{this.data=_.filter(t,(function(t){return t.checked})),this.update()});this.fbtoken=\"\",this.myFacebookLogin=()=>{console.log(APP.apiDomain+\"/api/v2/facebook/login\");window.open(APP.apiDomain+\"/api/v2/facebook/login\",\"facebook login\",\"height=550,width=700\")},this.receiveMessage=t=>{t.origin===APP.apiDomain&&(this.fbtoken=t.data.token,this.accountId=t.data.accountId,this.getStatus({profile_id:this.accountId,profile_token:this.fbtoken,fb_connect:!0}))},window.addEventListener(\"message\",this.receiveMessage,!1),this.getClientSocmed=()=>{var t=p(\"project\"),e=_.head(t.split(\",\"));APP.apiGet({path:\"facebook/get-profile\",data:{project:e},success:function(t){this.profile=t,0!=t.length&&(this.accountHide=!1,this.update({accountHide:!1})),this.getStatus(t[0]),this.update()}.bind(this)})},this.getStatus=t=>{APP.log(\"account : getStatus\");var e=this;if(!t)return null;e.addAccount=!0,e.profileId=t.profile_id,e.token=t.profile_token,APP.apiGet({path:\"facebook/get-me\",data:{profileid:e.profileId,access_token:e.token},success:function(i){if(\"Internal Server Error\"!==i.statusText){e.id=i.id,e.name=i.name,t.fb_connect&&(e.profile=[{profile_name:e.name,profile_id:e.id}],this.accountHide=!1),e.update();var a=p(\"project\"),s=_.head(a.split(\",\")),o={profileid:e.profileId,clientid:localStorage.clientid,tmp_token:e.token,fb_name:e.name,refresh:!0,project:s};APP.apiGet({path:\"facebook/get-saved-pages?key=\"+s,success:function(t){this.id;var i=t.map(t=>{let e=t;return e.selectorId=t.fanpage_name.replace(/[^a-zA-Z0-9]/g,\"\").replace(/ /g,\"\").toLowerCase(),e}).filter((function(t){return t.sc_user_id===e.profileId}));for(let t in i)this.subcribedPage.push(i[t].fanpage_fb_id);e.selectedPages=i,console.log(\"data,dt\",i),e.update()}.bind(e)}),APP.apiGet({path:\"facebook/get-pages/\"+e.profileId,data:o,success:function(t){e.pages=t.map((function(t,e){let i=t;return i.checked=!1,i})),e.update()}})}else this.getStatus(this.profile[1])}.bind(e)})},this.deleteunsubscription=t=>{swal({title:\"Alert\",text:\"Are you sure you want to delete this page?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{var e=t.item.key.fanpage_fb_id,i=(t.item.key.selectorId,t.item.key.fanpage_token);if(i){var a={page_id:e,page_token:i};APP.apiPost({path:\"facebook/webhook-unsubscription/\"+e,data:a,success:function(t){this.subcribedPage.splice(this.subcribedPage.indexOf(e),1),this.subcribedPage.filter(t=>\"\"!==t||t.length>0),this.update()}.bind(this)})}else console.log(\" no page token\")})},this.deleteAccount=t=>{var e=t.item.o.profile_id;if(this.selectedPages.length>0)var i=this.selectedPages[0].sc_user_id;if(i===(e=t.item.o.profile_id))if(0===this.subcribedPage.length){e=t.item.o.profile_id;swal({title:\"Alert\",text:\"Are you sure you want to delete this Account?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiGet({path:\"facebook/remove-account/\"+e,success:function(t){var i=_.remove(this.profile,(function(t){return t.profile_id!=e}));this.profile=i,0===this.profile.length&&(this.accountHide=!0),this.update()}.bind(this)})})}else swal({title:\"Alert\",text:\"Please remove your fans page?\",type:\"error\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \"});else{e=t.item.o.profile_id;swal({title:\"Alert\",text:\"Are you sure you want to delete this Account?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiGet({path:\"facebook/remove-account/\"+e,success:function(t){var i=_.remove(this.profile,(function(t){return t.profile_id!=e}));this.profile=i,0===this.profile.length&&(this.accountHide=!0),this.update()}.bind(this)})})}},this.subscribe=t=>{APP.log(\"account : subcribe\");var e=t.target.id,i={page_id:t.item.o.fanpage_id,page_name:t.item.o.fanpage_name,page_category:t.item.o.fanpage_category,page_permissions:t.item.o.fanpage_permisions,page_token:t.item.o.fanpage_access_token,project_id:parseInt(localStorage.prj),client_id:t.item.o.fanpage_client_id,profile_id:this.profileId,sc_user_id:this.profileId};APP.apiPost({path:\"facebook/webhook-subscription/\"+e,data:i,parse_data:!0,success:function(t){if(200===t.statusCode){this.selectedPages.push({fanpage_name:i.page_name,fanpage_fb_id:e,fanpage_token:i.page_token,page_id:i.page_id,selectorId:i.page_name.replace(/[^a-zA-Z0-9]/g,\"\").replace(/ /g,\"\").toLowerCase(),sc_user_id:i.sc_user_id}),this.selectedPages=_.uniqBy(this.selectedPages,\"selectorId\"),console.log(\" this.selectedPages\",this.selectedPages);var a=_.findIndex(this.pages,{fanpage_fb_id:e});this.pages[a].checked=!0,this.subcribedPage.push(e),this.update()}}.bind(this)})},this.closed=t=>this.closedId===t,this.close=t=>{console.log(t.target.id)},this.on(\"unmount\",()=>{})}))},function(t,e,i){\"use strict\";i.r(e);i(2),i(7);var a=i(11);i(0).tag2(\"addfilterlist\",'<breadcrumb current=\"Saved Filter\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p style=\" color: #6B6B6B; font-family: Roboto; font-weight: 700;\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 mg-t-30\"> <div class=\"row no-gutters widget-1 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-9 col-lg-9\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{createlist}\"> <div class=\"card\"> <div class=\"card-header\" style=\"border-bottom: 1px solid #e8ecee;\"> <h6 class=\"card-title\">ADD FILTER </h6> </div> <div class=\"displayblock\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Filter Name :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"name\" class=\"form-control\" required=\"\"> <ul class=\"parsley-errors-list filled\" if=\"{error}\"> <li class=\"parsley-required\">This value is required.</li> </ul> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Keyword :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"keyword\" class=\"form-control\" required=\"\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Domain :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"domain\" class=\"form-control\" required=\"\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Author :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"author\" class=\"form-control\" required=\"\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Channel :</label> <div class=\"col-sm-6 mg-sm-t col-xs-12-0\"> <div class=\"row mg-t-20\"> <div class=\"col-6\" each=\"{service in services}\"> <div class=\"form-check\"> <input type=\"checkbox\" onclick=\"{() => toggleService(service.id)}\" riot-value=\"{service.id}\" style=\"margin-left: 0px;\" checked=\"{service.selected}\"> <label class=\"form-check-label\"> {service.name} </label> </div> </div> </div> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-10\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span></label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"ckbox\"> <input type=\"checkbox\" checked=\"{checkeds}\" class=\"exc\"><span> Show Marked Author </span> </label> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> </div> <div class=\"modal-footer mg-t-15\"> <div onclick=\"{cancel}\" class=\"btn btn-outline-warning btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\"> cancel</div> <button onclick=\"{createlist}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\"> Create</button> </div> </div> </form> </div> <div class=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 mg-t-1 mg-sm-t-0 col-custom\"> <div class=\"card content\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"></a> </div> <div class=\"card-body displayblock mg-t-10 {mb23:error}\"> <p class=\"mg-t-20\"> </p> </div> <div class=\"card-footer\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div>','addfilterlist .col-custom,[data-is=\"addfilterlist\"] .col-custom{ display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-flow: column; flex-flow: column; } addfilterlist .col-custom .content,[data-is=\"addfilterlist\"] .col-custom .content{ -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1; } addfilterlist input[type=checkbox],[data-is=\"addfilterlist\"] input[type=checkbox]{ -ms-transform: scale(1.3); -moz-transform: scale(1.3); -webkit-transform: scale(1.3); -o-transform: scale(1.3); }',\"\",(function(t){this.services=[...a.serviceCategory],this.error=!1,this.on(\"mount\",()=>{$(\"select#keywords\").select2({tags:!0,width:\"100%\"}),$(\"select#Domain\").select2({tags:!0,width:\"100%\"}),$(\"select#Author\").select2({tags:!0,width:\"100%\"}),urlStream.trigger(\"changeUrl\",\"setting/addfilterlist\"),menuActive.trigger(\"activated\",[\"project_settings\"]),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject()}),this.toggleService=t=>{this.services.forEach((e,i)=>{e.id==t&&(this.services[i].selected=!this.services[i].selected)})},this.createlist=t=>{t.preventDefault();var e=p(\"project\")?p(\"project\"):APP.getProject(),i=this.refs.name.value,a=this.refs.keyword.value,s=this.refs.domain.value,o=this.refs.author.value;if(r=$(\".exc:checked\").val())r=!0;else var r=!1;var n={name:i,keywords:a,domain:s,author:o,filterbot:r};let l=this.services.filter(t=>1==t.selected).map(t=>t.id);l.length>0&&(n.service_category=l.join(\",\")),i?APP.apiPost({path:\"bookmark-filter/create?project=\"+e,data:n,success:function(t){APP.success(\"sukses\",(function(){window.location=\"#setting/filterlist?project=\"+p(\"project\")}))}}):this.error=!0},this.cancel=()=>{window.location=\"#setting/filterlist?project=\"+p(\"project\")}}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(2);i(0).tag2(\"author-marker\",'<breadcrumb current=\"Author Marker\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-8 col-md-9 col-lg-9 col-xs-12\"> <div class=\"card \"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">AUTHOR MARKER </h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock\"> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-30\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Facebook Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"facebook\" required> <option selected=\"{selected:o}\" each=\"{o,i in fb}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none pd-0\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-10\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Twitter Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"twitter\" required> <option selected=\"{selected:o}\" each=\"{o,i in tw}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Twitter accounts that you want to mark, without @\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none pd-0\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Twitter accounts that you want to mark, without @\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-10\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Instagram Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"instagram\" required> <option selected=\"{selected:o}\" each=\"{o,i in ig}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Instagram accounts that you want to mark, without @\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-md-block d-lg-block d-sm-none d-xs-none pd-0\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Instagram accounts that you want to mark, without @\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> </div> <div class=\"modal-footer mg-t-10\"> <button onclick=\"{saved}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">save</button> </div> </div> </div> <div class=\"col-sm-4 col-md-3 col-lg-3 col-xs-12 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock author-marker-help mg-t-0 mg-b-30\" style=\"\"> <p class=\"mg-t-10\">This section contains the list of authors to be marked. Mentions by marked authors will still be collected and tracked but by default, they will be hidden from your streams. <br><br> You can add authors manually on this page or mark authors from Stream of Mentions. </p> </div> <div class=\"card-footer bg-white\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.tooltip=()=>{$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()}))},this.on(\"mount\",()=>{APP.log(\"autor marker : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/author-marker\"),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",$(\"select#custom\").select2({tags:!0,tokenSeparators:[\",\"],width:this.maxwidth}),this.tooltip(),this.getautomarker(),APP.animationFadeIn()}),this.saved=()=>{APP.log(\"autor marker : saved\");var t=this.refs.facebook,e=this.refs.twitter,i=this.refs.instagram,a=$(t).val()?$(t).val().toString():\"\",s=$(e).val()?$(e).val().toString():\"\",o=$(i).val()?$(i).val().toString():\"\",r={project:p(\"project\"),facebook_account:a,twitter_account:s,ig_account:o};APP.apiPost({path:\"projects/marking-bot\",data:r,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})},this.getautomarker=()=>{APP.log(\"author marker : getautomarker\");var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),selected_fields:\"key_id, acc_fb_bot, acc_twitter_bot, acc_ig_bot \"};APP.apiGet({path:\"projects\",data:t,success:function(t){null!=t[0].acc_fb_bot&&(this.fb=t[0].acc_fb_bot.split(\",\").filter(t=>t.length>0&&\"0\"!==t),this.tw=t[0].acc_twitter_bot.split(\",\").filter(t=>t.length>0&&\"0\"!==t),this.ig=t[0].acc_ig_bot.split(\",\").filter(t=>t.length>0&&\"0\"!==t),console.log({fb:this.fb,tw:this.tw,ig:this.ig})),this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";i.r(e);i(7);i(0).tag2(\"buzzer-account\",'<breadcrumb current=\"Buzzer Account\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p style=\" color: #6B6B6B; font-family: Roboto; font-weight: 700;\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-9 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">BUZZER ACCOUNTS </h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock\"> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-30\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Facebook Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"facebook\" required> <option selected=\"{selected:o}\" each=\"{o,i in fb}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put facebook account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 pd-0\"> <b class=\"fa-1x d-lg-block d-sm-none d-xs-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put facebook account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Twitter Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"twitter\" required> <option selected=\"{selected:o}\" each=\"{o,i in tw}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put twitter account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none mg-t-10 pd-0\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put twitter account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Instagram Accounts:</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"instagram\" required> <option selected=\"{selected:o}\" each=\"{o,i in ig}\">{o}</option> </select> <b class=\"fa-1x toltiptext pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put instagram account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none mg-t-10 pd-0\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put instagram account name for author that want to be registered as a buzzer\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> </div> <div class=\"modal-footer mg-t-20\"> <button onclick=\"{saved}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">save</button> </div> </div> </div> <div class=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock buzzer-account-help mg-b-20\"> <p class=\"mg-t-20\"> If you work with buzzers/influencers, track their performance by putting their accounts here. Their performance can be seen in the Buzzer Tracking page. <br><br> Mentions by buzzer accounts will still be shown on your streams. </p> </div> <div class=\"card-footer bg-white\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.tooltip=()=>{$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()}))},this.on(\"mount\",()=>{APP.log(\"buzzer-account : mount\"),urlStream.trigger(\"changeUrl\",\"setting/buzzer-account\"),menuActive.trigger(\"activated\",[\"project_settings\"]),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",$(\"select#custom\").select2({tags:!0,tokenSeparators:[\",\"],width:this.maxwidth}),this.tooltip(),this.getbuzzer(),APP.animationFadeIn()}),this.saved=()=>{APP.log(\"buzzer-account : saved\");var t=this.refs.facebook,e=this.refs.twitter,i=this.refs.instagram,a=$(t).val()?$(t).val().toString():\"\",s=$(e).val()?$(e).val().toString():\"\",o=$(i).val()?$(i).val().toString():\"\",r={project:p(\"project\"),facebook_account:a,twitter_account:s,ig_account:o};APP.apiPost({path:\"projects/buzzer-account\",data:r,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})},this.getbuzzer=()=>{APP.log(\"buzzer-account : getbuzzer\");var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),selected_fields:\"key_id, buzzer_fb, buzzer_ig, buzzer_twitter \"};APP.apiGet({path:\"projects\",data:t,success:function(t){null!=t[0].buzzer_fb&&(this.fb=t[0].buzzer_fb.split(\",\"),this.tw=t[0].buzzer_twitter.split(\",\"),this.ig=t[0].buzzer_ig.split(\",\")),this.update()}.bind(this)})}}))},function(t,e,i){i(0).tag2(\"change-password\",'<div class=\"card\" style=\"border: 0px solid rgba(0, 0, 0, 0.125);\"> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\"> </div> <div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{save}\"> <div class=\"card shadow-base\"> <div class=\"card-header\" style=\"border-bottom: 1px solid #e8ecee;\"> <h6 class=\"card-title\">Change Password</h6> </div> <div class=\"card-body displayblock mg-t-20\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Old Password :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" ref=\"Oldpassword\" required> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">New Password :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" ref=\"password\" title=\"alphanumeric min 6 chars\" required> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Confirm New Password:</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" ref=\"newpassword\" required> <p if=\"{error}\"> <font color=\"red\">make sure the Confirm New Password you enter is the same new Password</font> </p> <p if=\"{iserror}\"> <font color=\"red\">alphanumeric min 6 chars</font> </p> </div> </div> <div class=\"col-md-12 mg-t-10\"> <button onclick=\"{simpan_pass}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10pull-right cursor-pointer\">Change password</button> </div> </div> </div> </div> <div class=\"modal-footer height50\"> </div> </div> </form> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer>',\"\",\"\",(function(t){this.error=!1,this.iserror=!1,this.simpan_pass=function(t){t.preventDefault(),APP.log(\"change-password : simpan_pass\");var e=this.refs.password.value,i=this.refs.newpassword.value;if(/^([a-zA-Z0-9]+){6}$/.test(e)&&/\\d/.test(e)&&/[A-Z]/i.test(e))if(e===i){var a={token:localStorage.getItem(\"AuthToken\"),oldpassword:this.refs.Oldpassword.value,password:e,confirmation:i};APP.apiPost({path:\"auth/changepassword\",data:a,parse_data:!0,success:function(t){APP.success(t,(function(){window.location=\"#project\",this.update()}))}})}else this.error=!0,this.iserror=!1;else this.error=!1,this.iserror=!0}}))},function(t,e,i){\"use strict\";i.r(e);i(7);var a=i(11);i(0).tag2(\"aditfilterlist\",'<breadcrumb current=\"Saved Filter\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p style=\" color: #6B6B6B; font-family: Roboto; font-weight: 700;\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 mg-t-30\"> <div class=\"row no-gutters widget-1 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-9 col-lg-9\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{createlist}\"> <div class=\"card\"> <div class=\"card-header\" style=\"border-bottom: 1px solid #e8ecee;\"> <h6 class=\"card-title\">EDIT FILTER </h6> </div> <div class=\"displayblock\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\" style=\"display:none\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Id :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"id\" class=\"form-control\" required riot-value=\"{id}\" disabled> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Filter Name :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"name\" class=\"form-control\" required=\"\" riot-value=\"{name}\"> <ul class=\"parsley-errors-list filled\" if=\"{error}\"> <li class=\"parsley-required\">This value is required.</li> </ul> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Keyword :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"keyword\" class=\"form-control\" riot-value=\"{keyword}\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Domain :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"domain\" class=\"form-control\" riot-value=\"{domain}\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Author :</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <input type=\"text\" ref=\"author\" class=\"form-control\" riot-value=\"{author}\"> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-20\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Channel :</label> <div class=\"col-sm-6 mg-sm-t col-xs-12-0\"> <div class=\"row mg-t-20\"> <div class=\"col-6\" each=\"{service in services}\"> <div class=\"form-check\"> <input type=\"checkbox\" onclick=\"{() => toggleService(service.id)}\" riot-value=\"{service.id}\" style=\"margin-left: 0px;\" checked=\"{service.selected}\"> <label class=\"form-check-label\"> {service.name} </label> </div> </div> </div> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-10\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span></label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <label class=\"ckbox\"> <input type=\"checkbox\" checked=\"{chacked}\" class=\"exc\"><span> Show Marked Author </span> </label> </div> <div class=\"col-md-2\"> </div> </div> </div> </div> </div> <div class=\"modal-footer mg-t-15\"> <div onclick=\"{cancel}\" class=\"btn btn-outline-warning btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\"> cancel</div> <button onclick=\"{updatelist}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">save</button> </div> </div> </form> </div> <div class=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 mg-t-1 mg-sm-t-0 col-custom\"> <div class=\"card content\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height330 mg-t-10 {mb23:error}\"> <p class=\"mg-t-20\"> </p> </div> <div class=\"card-footer\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div>','aditfilterlist .col-custom,[data-is=\"aditfilterlist\"] .col-custom{ display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-flow: column; flex-flow: column; } aditfilterlist .col-custom .content,[data-is=\"aditfilterlist\"] .col-custom .content{ -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1; } aditfilterlist input[type=checkbox],[data-is=\"aditfilterlist\"] input[type=checkbox]{ -ms-transform: scale(1.3); -moz-transform: scale(1.3); -webkit-transform: scale(1.3); -o-transform: scale(1.3); }',\"\",(function(t){this.services=[...a.serviceCategory],this.error=!1,this.on(\"mount\",()=>{$(\"select#keywords\").select2({tags:!0,width:\"100%\"}),$(\"select#Domain\").select2({tags:!0,width:\"100%\"}),$(\"select#Author\").select2({tags:!0,width:\"100%\"}),urlStream.trigger(\"changeUrl\",\"setting/addfilterlist\"),menuActive.trigger(\"activated\",[\"project_settings\"]),this.getfilterlistid()}),this.getfilterlistid=()=>{APP.log(\"project : project\");var t=p(\"project\")?p(\"project\"):APP.getProject();APP.apiGet({path:\"bookmark-filter/list/\"+p(\"id\"),data:{id:p(\"id\"),project:t},success:function(t){this.id=t._id,this.name=t.filter_name,this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.chacked=t.filter_filterbot;let e=t.filter_service_category.split(\",\");e.length>0&&(e=e.map(t=>parseInt(t)),this.services.forEach((t,i)=>{e.includes(t.id)?this.services[i].selected=!0:this.services[i].selected=!1})),1==this.chacked?this.chacked=!0:this.chacked=!1,this.update()}.bind(this)})},this.toggleService=t=>{this.services.forEach((e,i)=>{e.id==t&&(this.services[i].selected=!this.services[i].selected)})},this.updatelist=t=>{t.preventDefault();var e=p(\"project\")?p(\"project\"):APP.getProject(),i=this.refs.id.value,a=this.refs.name.value,s=$(this.refs.keyword).val().toString(),o=$(this.refs.domain).val().toString(),r=$(this.refs.author).val().toString();if(n=$(\".exc:checked\").val())n=!0;else var n=!1;var l={project:e,id:i,name:a,keywords:s,domain:o,author:r,filterbot:n};let c=this.services.filter(t=>1==t.selected).map(t=>t.id);c.length>0&&(l.service_category=c.join(\",\")),a?APP.apiPost({path:\"bookmark-filter/update/\"+i+\"?project=\"+e,data:l,success:function(t){APP.success(\"sukses\",(function(){window.location=\"#setting/filterlist?project=\"+p(\"project\")}))}}):this.error=!0},this.cancel=()=>{window.location=\"#setting/filterlist?project=\"+p(\"project\")}}))},function(t,e,i){\"use strict\";i.r(e);i(7);i(0).tag2(\"facebook\",'<div class=\"panel\"> <header-menu></header-menu> </div> <div class=\"container-fluid fade\" style=\"margin-top:20px;\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"row\" style=\" border-bottom: 2px solid #eee;\"> <div class=\"col-md-9\" style=\"border-right: 1px solid #eee ;\"> <h4 class=\"panel-head\"> Facebook<h4> <hr> <div class=\"panel-body\"> <form class=\"form-horizontal\"> <div class=\"form-group\"> <label for=\"date\" class=\"control-label col-sm-3\"><p>Facebook Account</p></label> <div class=\"col-sm-6\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"facebook\" required> <option selected=\"{selected:o.fans_url}\" each=\"{o,i in getfanpage}\" id=\"{o.fans_page_id}\">{o.fans_url}</option> </select> <i class=\"fa fa-info-circle fa-1x toltiptext visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put facebook account name for author that want to be registered as a buzzer\" data-placement=\"left\"></i> </div> <div class=\"col-sm-3\"><i class=\"fa fa-info-circle fa-1x hidden-xs hidden-sm\" aria-hidden=\"true\" style=\"margin-top:20px\" data-toggle=\"tooltip\" title=\"facebook account \" data-placement=\"right\"></i> </div> </div> </form> </div> </div> <div class=\"col-md-3\"> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-md-2 col-md-offset-10\"> <div>&nbsp;</div> <div id=\"addprojectaccount\" class=\"accsaved pointer\" onclick=\"{postfacebook}\">save</div> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.addAccount=!1,this.refresh=!0,this.accountHide=!0,this.profileId=null,this.selectedPages=[],this.subcribedPage=[],this.indexdata=[],this.closedId,this.errordata=!1,this.on(\"mount\",()=>{APP.log(\"Account : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/facebook\"),APP.animationFadeIn(),this.getfacebook(),$(\"select#custom\").select2({tags:!0,width:\"100%\"})}),$(document).ready((function(){$(\"select#custom\").on(\"select2:closing\",(function(t){let e=t.params.args.originalSelect2Event;if(!e)return null;if(e=e.data.element,void 0===e)return null;var i=e.id;if(!i)return null;swal({title:\"Alert\",text:\"Are you sure you want to delete this URL facebook crawl?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},t=>{if(t){var e={project:p(\"project\")?p(\"project\"):APP.getProject()};APP.apiGet({path:\"projects/client-fanpage/\"+i,data:e,success:function(t){setTimeout(()=>{swal({title:\"Success\",text:\"Succes\",type:\"success\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})},1e3)}})}else location.reload()})}))})),this.postfacebook=()=>{APP.log(\"buzzer-account : postfacebook\");var t=this.refs.facebook,e=$(t).val().toString(),i={project:p(\"project\")?p(\"project\"):APP.getProject(),fanpages:e,parse_data:!0};APP.apiPost({path:\"projects/client-fanpage\",data:i,parse_data:!0,success:function(t){console.log(\"succes\",t);var e=t.data;if(t.data)_.forEach(e,(function(t){_.isEmpty(t)||$(\".select2-selection__rendered li\").each((function(e){var i=$(this).attr(\"title\");i===t.url&&($(this).css(\"color\",\"red\"),$(this).html('<span class=\"select2-selection__choice__remove\" role=\"presentation\">×</span>'+i+\" (invalid url) \"))}))}));t.data?swal({title:\"Alert\",text:\"invalid URL\",type:\"warning\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \"}):swal({title:\"Success\",text:\"Succes\",type:\"success\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})}})},this.getfacebook=()=>{APP.log(\"buzzer-account : postfacebook\");var t={project:p(\"project\")?p(\"project\"):APP.getProject()};APP.apiGet({path:\"projects/client-fanpage\",data:t,success:function(t){this.getfanpage=t,this.update()}.bind(this)})}}))},function(t,e,i){\"use strict\";i.r(e);i(2),i(7);i(0).tag2(\"filterlist\",'<breadcrumb current=\"Saved Filter\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p style=\" color: #6B6B6B; font-family: Roboto; font-weight: 700;\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-9 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-10-imp\"> <h6 class=\"card-title\">SAVED FILTER </h6> <button onclick=\"{create}\" class=\"btn btn-outline-primary btn-block width100 pull-right cursor-pointer\" style=\"line-height: 0.25;\">Create Filter</button> </div> <div class=\"card-body displayblock pd-b-0 height615\"> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0\"> <thead> <tr> <th style=\"width:70%\">Filter Name</th> <th style=\"width:15%\">Action</th> <th style=\"width:15%\"></th> </tr> </thead> <tbody> <tr each=\"{o,i in this.data}\" if=\"{i <= 9}\"> <th scope=\"row\" style=\"width:70%\">{o.filter_name}</th> <td style=\"width:15%\"><a href=\"#setting/editfilterlist?project={UrlProject}&id={o._id}\"><i class=\"fa fa-pencil mg-r-10\"></i>Edit</a></td> <td style=\"width:15%\"> <a class=\"deleteformfilter\" onclick=\"{removelist}\"><i class=\"fa fa-trash-o mg-r-10\"></i>Delete</i></a></td> </tr> </tbody> </table> </div> <div class=\"row\"> <div class=\"col-md-10\"> </div> <div class=\"col-md-2\"> <div class=\"ht-65 d-flex align-items-center justify-content-between mg-t-10\" if=\"{total > 10}\"> <button type=\"button\" class=\"btn btn-info rounded-0 cursor-pointer\" onclick=\"{Previewpage}\" disabled=\"{disabled:previewdisable}\"><i class=\"fa fa-chevron-left\"></i></button> <button type=\"button\" class=\"btn btn-info rounded-0 cursor-pointer\" onclick=\"{Nextpage}\" disabled=\"{disabled:nextdisable}\"><i class=\"fa fa-chevron-right\"></i></button> </div> </div> </div> </div> <div class=\"col-lg-4 mg-t-20 mg-xl-t-0\"> </div> </div> </div> <div class=\"modal-footer \" style=\"height:71px;\"> </div> </div> </div> <div class=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-10-imp\" style=\" height: 47px;\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblockmg-b-0 height615\"> </div> <div class=\"card-footer bg-white \" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{APP.log(\"project : mount\"),urlStream.trigger(\"changeUrl\",\"setting/filterlist\"),menuActive.trigger(\"activated\",[\"project_settings\"]),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject(),this.getfilterlist()}),this.openProject=t=>{var e=t.target.id;window.location=\"#stream?project=\"+e},this.getfilterlist=()=>{APP.log(\"project : project\"),this.update({isLoading:!0}),APP.apiGet({path:\"bookmark-filter/list\",data:{project:this.UrlProject},success:function(t){this.data=t,this.mapData=t,this.total=t.length,t.length<9&&(this.nextdisable=!0),this.update({isLoading:!1})}.bind(this)})},this.no=0,this.datapage={},this.nextdisable=!1,this.previewdisable=!0,this.Nextpage=()=>{if(this.total/10>=this.no){this.no=this.no+1,this.novalue=this.no;var t=_.filter(this.data,(t,e)=>e>9);this.data=t,this.datapage[this.no]=t,this.previewdisable=!1,t.length<7&&(this.nextdisable=!0)}else this.nextdisable=!0;this.update()},this.Previewpage=()=>{if(this.no<1)return!1;this.no=this.no-1,this.nextdisable=!1,0==this.no?(this.data=this.mapData,this.previewdisable=!0):this.data=this.datapage[this.no],this.update()},this.removelist=t=>{const e=t.item.o._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this list filter?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiGet({path:\"bookmark-filter/remove/\"+e+\"?project=\"+this.UrlProject,success:function(t){this.getfilterlist()}.bind(this)})})},this.create=()=>{window.location=\"#setting/addfilterlist?project=\"+this.UrlProject}}))},function(t,e,i){\"use strict\";i.r(e);i(8);i(0).tag2(\"global-setting\",'<div class=\"card\" style=\"border: 0px solid rgba(0, 0, 0, 0.125);\"> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-12 col-lg-12\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{save}\"> <div class=\"card\"> <div class=\"card-header\" style=\"border-bottom: 1px solid #e8ecee;\"> <h6 class=\"card-title\">GLOBAL SETTING </h6> </div> <div class=\"card-body displayblock\"> <div class=\"row\"> <div class=\"col-md-8\"> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Full Name :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" riot-value=\"{this.name}\" placeholder=\"Full Name\" name=\"email\" ref=\"fullname\"> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Email :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" riot-value=\"{this.email}\" placeholder=\"Work Name\" ref=\"workemail\"> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Company Name :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" riot-value=\"{this.compeany}\" placeholder=\"Company Name\" ref=\"companyname\"> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Address :</label> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" riot-value=\"{this.address}\" placeholder=\"Address\" ref=\"address\"> </div> </div> <div class=\"col-md-12 mg-t-10\"> <div class=\"form-group\"> <label class=\"form-control-label\">Phone Number :</label> <input riot-value=\"{this.phone}\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" placeholder=\"Phone Number\" ref=\"phonenummber\" type=\"{\\'Number\\'}\"> </div> </div> </div> <div class=\"col-md-4 mg-t-40 tx-center\"> <img class=\"rounded-circle mg-r-20\" id=\"blah\" riot-src=\"{updateimage}?=v.1.1\" alt=\"your image not found\" oninput=\"{update}\"> <div class=\"align-items-center justify-content-center mg-t-20 mg-r-20 \"> <input type=\"file\" name=\"file-1[]\" id=\"file-1\" class=\"inputfile\" data-multiple-caption=\"{count} files selected\" multiple=\"\" onchange=\"{chooseeimage}\"> <label for=\"file-1\" class=\"tx-white bg-info\"> <i class=\"icon ion-ios-upload-outline tx-24\"></i> <span class=\"colorwhite\">Choose a file</span> </label> </div> <button onclick=\"{saved}\" if=\"{this.laoding}\" class=\"btn btn-outline-danger mg-b-0 mg-t-20 mg-r-20 cursor-pointer width300\">Choose Image Proccessing</button> <div onclick=\"{change}\" class=\"btn btn-outline-primary mg-b-0 mg-t-20 mg-r-20 cursor-pointer width150\">Change Password</div> </div> </div> </div> <div class=\"modal-footer\"> <button onclick=\"{save}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">save</button> </div> </div> </form> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.foto=!0,this.Changepass=!1,this.errors=!1,this.iserror=!1,this.laoding=!1,this.on(\"mount\",(function(){APP.log(\"global-setting : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/global-setting\"),this.getfoto()})),menu.on(\"response\",t=>{null!=t&&(this.error=t.errors,this.update())}),this.change=()=>{window.location=\"#change-password?project=\"+p(\"project\")},this.getfoto=()=>{APP.apiGet({path:\"profile/global-settings/get-profile\",success:function(t){this.updateimage=t.user_photo.replace(\"public\",APP.apiDomain)+\"?\"+moment().format(\"YYYYMMDDHHmmss\"),this.name=t.user_fullname,this.email=t.user_email,this.compeany=t.user_company,this.address=t.user_address,this.phone=t.user_phone,this.update()}.bind(this)})},this.save=t=>{t.preventDefault(),APP.log(\"global-settings : saved\");var e={fullname:this.refs.fullname.value,workemail:this.refs.workemail.value,companyname:this.refs.companyname.value,address:this.refs.address.value,phonenumber:this.refs.phonenummber.value};APP.apiPost({path:\"profile/global-settings\",data:e,success:function(t){NameProfile.trigger(\"nameprofile\",e),console.log(t),APP.success(t,(function(){}))}})},this.chooseeimage=t=>{APP.log(\"global-settings : chooseeimage\"),this.laoding=!0;let e=t.target.files[0];var i=new FormData;i.append(\"avatar\",e),APP.apiUpload({path:\"profile/global-settings/change-pp\",data:i,success:t=>{this.update(),null!=t.uploads&&(this.updateimage=t.uploads.replace(\"public\",APP.apiDomain)+\"?\"+moment().format(\"YYYYMMDDHHmmss\")),menu.trigger(\"image\",this.updateimage),this.foto=!1,this.laoding=!1,this.update({updateimage:this.updateimage})}})},error.on(\"responseput\",t=>{setTimeout(function(){this.updateimage=t.uploads.replace(\"public\",APP.apiDomain)+\"?\"+moment().format(\"YYYYMMDDHHmmss\"),menu.trigger(\"image\",this.updateimage),this.update({laoding:!1})}.bind(this),5e3)})}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(177),i(176),i(2);i(0).tag2(\"infographic\",'<breadcrumb current=\"Infographic\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-6 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">AUTO SEND INFOGRAPHIC </h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock mg-t-20 height{heightbody}\"> <div class=\"row\"> <div class=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 mg-t-20 mg-xl-t-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row height50\"> <li class=\"nav-item widthper50 cursor-pointer pd-l-10 bb-4 \"> <a class=\"nav-link {active:brandinfo} {spike:brandinfo} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandinfographic}\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-4\"> MY BRAND INFOGRAPHIC </a> </li> <li class=\"nav-item widthper50 cursor-pointer pd-r-10 bb-4\"> <a class=\"nav-link {active:brandcomp} {spike:brandcomp} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandcompetitivenes}\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> COMPETITOR INFOGRAPHIC </a> </li> </ul> </div> </div> <div class=\"row\" if=\"{this.brandinfo}\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span> Enable Auto Send ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper\" onclick=\"{changeig}\"> <div class=\"toggle toggle-light primary\" data-toggle-on=\"{checked}\" id=\"{checked}\"></div> </div> <b class=\"fa-1x mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable or disable auto daily infographic email\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable or disable auto daily infographic email\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <brand-infographic if=\"{checked}\" ref=\"brand\" cb=\"{brandinfographic}\"></brand-infographic> <div class=\"row\" if=\"{brandcomp}\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-4 form-control-label text-right mg-t-10\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Enable Auto Send ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper\" onclick=\"{changecomp}\"> <div class=\"toggle toggle-light primary\" data-toggle-on=\"{checked}\"></div> </div> <b class=\" fa-1x visible-xs visible-sm pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable or disable auto daily competitiveness infographic email\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable or disable auto daily competitiveness infographic email\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <compe-infographic if=\"{checkedcom}\" cb=\"{this.name}\" data=\"{brandcompetitif}\" ref=\"brand\"></compe-infographic> </div> <div class=\"modal-footer\"> <button if=\"{checkedcom || checked}\" onclick=\"{saved}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">save</button> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" if=\"{brandinfo && !checked}\" onclick=\"{updatechecked}\">save</button> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" if=\"{brandcomp && !checkedcom}\" onclick=\"{updatecheckedcompetitive}\">save</button> </div> </div> </div> <div class=\"col-sm-6 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock\" riot-style=\"height: {heightleft}px;\"> <p class=\"mg-t-20\"> Ripple10 can generate infographic of your brand and comparing them to your competitor. Here, you can setup who will receive these infographic daily via email. </p> </div> <div class=\"card-footer bg-white height71\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.heightbody=720,this.heightleft=740,$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()})),this.on(\"mount\",()=>{$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()})),APP.log(\"infographic : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/infographic\"),APP.animationFadeIn(),this.getbranch(),$(\".toggle\").toggles({on:!0,height:26})}),this.brandinfo=!0,this.ondata=!1,this.brandcomp=!1,this.brandinfographic=()=>{APP.log(\"infographic : brand-infographic\"),this.getbranch(),$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()})),this.brandinfo=!0,this.brandcomp=!1,this.ondata=!1,this.checkedcom=!1,this.checked=!1,this.getbranch()},this.brandcompetitivenes=()=>{APP.log(\"infographic : brandcompetitivenes\"),$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()})),this.brandinfo=!1,this.brandcomp=!0,this.checkedcom=!1,this.checked=!1,this.getcompetitif()},this.saved=()=>{this.refs.brand.updatemail()},menu.on(\"nameproject\",t=>{this.name=t}),this.changeig=t=>(APP.log(\"infographic : change\"),this.checked=!this.checked,this.checked?(this.checkedcom=!1,this.heightbody=720,this.heightleft=740):(this.checkedcom=!1,this.heightbody=150,this.heightleft=170),!1),this.changecomp=t=>(this.checkedcom=!this.checkedcom,this.checkedcom?(this.checked=!1,this.heightbody=720,this.heightleft=740):(this.checked=!1,this.heightbody=150,this.heightleft=170),!1),this.getbranch=()=>{APP.log(\"brand-infographic : getbranch\");var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"daily_infographic\"};APP.apiGet({path:\"projects/project-settings\",data:t,success:t=>{this.brandinfographic={email:t.email_ig?t.email_ig.split(\",\"):\"\",getcc:t.cc_ig?t.cc_ig.split(\",\"):\"\",getbcc:t.bcc_ig?t.bcc_ig.split(\",\"):\"\",gettime:t.hour_ig},1===t.enable_email_ig?(this.checked=!0,this.heightbody=720,this.heightleft=740):(this.checked=!1,this.heightbody=150,this.heightleft=170),$(\".toggle\").toggles({on:this.checked,height:26}),this.update()}})},this.getcompetitif=()=>{var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"daily_infographic_competitor\"};APP.apiGet({path:\"projects/project-settings\",data:t,success:t=>{let e=t.key_competitor?t.key_competitor.split(\",\"):\"\";var i=JSON.parse(localStorage.projects);let a=_.filter(i,t=>e.indexOf(String(t.key_id))>-1).map(t=>({id:t.key_id,text:t.key_name}));this.brandcompetitif={email:t.email_ig_competition?t.email_ig_competition.split(\",\"):\"\",getcc:t.cc_ig_competition?t.cc_ig_competition.split(\",\"):\"\",getbcc:t.bcc_ig_competition?t.bcc_ig_competition.split(\",\"):\"\",gettime:t.hour_ig_competition,keycompetitor:a},1===t.enable_email_ig_competition?(this.checkedcom=!0,this.heightbody=720,this.heightleft=740):(this.checkedcom=!1,this.heightbody=150,this.heightleft=170),$(\".toggle\").toggles({on:this.checkedcom,height:26}),this.update()}})},this.updatechecked=()=>{var t={project:p(\"project\"),enable_ig:!1};APP.apiPost({path:\"projects/setting-infographic/ig\",data:t,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})},this.updatecheckedcompetitive=()=>{var t={project:p(\"project\"),enable_ig:!1};APP.apiPost({path:\"projects/setting-infographic/competition\",data:t,parse_data:!0,success:function(t){APP.success(t,(function(){}))}})}}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(25),i(2);i(0).tag2(\"project-setup\",'<breadcrumb current=\"Project Settings\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\" header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 \" onload=\"loadtooltip()\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-6 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title\">PROJECT DETAILS</h6> <a href=\"\"><i class=\"icon ion-android-more-horizontal\"></i></a> </div> <div class=\"card-body d-block mg-t-20\"> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Name :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <input type=\"text\" ref=\"project\" class=\"form-control\" id=\"inputfocusnameauthor\" required> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The name displayed in your dashboard.\" data-placement=\"right\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Color :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <div class=\"dropdown\"> <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" riot-style=\"background:{namecolor}\" riot-value=\"{namecolor}\" ref=\"colors\">{namecolor} </button> <ul class=\"dropdown-menu\"> <li class=\"color-picker pointer\" each=\"{o,i in dataColor}\" onclick=\"{updateColor}\"> <a riot-value=\"{o}\" riot-style=\"background:{o}\"></a> </li> </ul> <input type=\"hidden\" name=\"\" ref=\"colorpicker\" riot-value=\"{namecolor}\"> </div> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The color of your project. This will be used as graph colors when comparing this project to other projects in \\'Comparison\\' page\" data-placement=\"right\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Industry:</label> <div class=\"col-sm-5\"> <select class=\"form-control select2\" ref=\"industri\"> <option each=\"{industry} \" riot-value=\"{industry_id}\">{industry_name}</option> </select> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"What industry is your brand in? This helps Ripple10 identify industry specific words or phrases to score the sentiments of the collected mentions.\" data-placement=\"right\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Language:</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control select2\" ref=\"language\" required> <option></option> <option value=\"ID\">Indonesia</option> <option value=\"EN\">English</option> </select> <p each=\"{this.error}\" if=\"{field== \\'key_lang\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"What language does your audience writes in? Ripple10 will automatically score the sentiments of the collected mentions based on the chosen language.\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Main Keywords : </br> <p class=\"tx-11\">max {maxkeyword} keywords</p></label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select name=\"name\" class=\"form-control\" id=\"keywords\" multiple=\"multiple\" ref=\"keyword\" required> </select> <p each=\"{this.error}\" if=\"{field== \\'key_word\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The main keyword of phrase for which your project will collect data.\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Include :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control\" id=\"keywordInclude\" multiple=\"multiple\" ref=\"include\" required> </select> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - Each of which must appear in order for the mention to be collected\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Exclude :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control \" id=\"keywordExclude\" multiple=\"multiple\" ref=\"exclude\" required> </select> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - None of which can appear if the mention is to be collected.\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-12 form-control-label\">Ripple to has acomprehensive list of general and industry specific words for sentiment identification, but you can ypur own below </label> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Positive Keywords</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control\" id=\"keywordPositive\" multiple=\"multiple\" ref=\"keyPositive\" required> </select> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as positive. E.g. \\'murah\\' is considered positive\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Negative Keywords</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control\" id=\"keywordNegative\" multiple=\"multiple\" ref=\"keyNegative\" required> </select> </div> <div class=\"col-sm-4\"> <b class=\" hidden-xs hidden-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as negative. E.g. \\'mahal\\' is considered negative\">?</b> </div> </div> <div class=\"row mg-t-30\"> <div class=\"col-sm-8 mg-l-auto\"> </div> </div> </div> </div> </div> </div> <div class=\"modal-footer\"> <button onclick=\"{create}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\">update</button> </div> </div> </div> <div class=\"col-sm-6 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"><i class=\"icon ion-android-more-horizontal\"></i></a> </div> <div class=\"card-body displayblock height980 \"> <p> Main configuration of your projects based on keywords of your choosing </p> </div> <div class=\"card-footer height71 bg-white\"> <div> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> <div id=\"modalsetting\" class=\"modal fade show\"> <div class=\"modal-dialog modal-sm\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-10\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center tx-20\">Getting Started</div> </div> <div class=\"row row-sm\"> <div class=\"col-sm-4 col-md-4 mg-t-10 mg-sm-t-0\"> <div class=\"col-md-12 textcenter\"> <img src=\"assets/img/image/add-project.png\" width=\"50\" height=\"50\" class=\"mg-r-5\"> </div> <div class=\"col-md-12 textcenter mg-t-10\"> <h6>Project</h6> <p class=\"textjustify tx-11 mg-t-20\">Create new project and add your keyword to start monitoring your brand </p> </div> </div> <div class=\"col-sm-4 col-md-4 mg-t-10 mg-sm-t-0\"> <div class=\"col-md-12 textcenter\"> <img src=\"assets/img/image/settings.png\" width=\"50\" height=\"50\" class=\"mg-r-5\"> </div> <div class=\"col-md-12 textcenter mg-t-20\"> <h6>Social Media</h6> <p class=\"textjustify tx-11 mg-t-20\">Connect your social media account to Ripple10 for better results</p> </div> </div> <div class=\"col-sm-4 col-md-4 mg-t-10 mg-sm-t-0\"> <div class=\"col-md-12 textcenter\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"50\" height=\"50\" class=\"mg-r-5\"> </div> <div class=\"col-md-12 textcenter mg-t-20\"> <h6>Summmary</h6> <p class=\"textjustify tx-11 mg-t-20\">View your brand conversations in summary page</p> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-sm-4 col-md-4 mg-t-10 textcenter\"> <button type=\"button\" class=\"cursor-pointer btn btn-outline-primary\" data-dismiss=\"modal\" onclick=\"{inputproject}\"> Create</button> </div> <div class=\"col-sm-4 col-md-4 mg-t-10 textcenter\"> <button type=\"button\" class=\"btn btn-outline-primary\" disabled> Connect</button> </div> <div class=\"col-sm-4 col-md-4 mg-t-10 textcenter\"> <button type=\"button\" class=\"btn btn-outline-primary\" disabled> Summary</button> </div> </div> </div> </div> </div> </div> <div id=\"modalsettingaccount\" class=\"modal fade show\"> <div class=\"modal-dialog modal-sm\" role=\"document\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-10\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center tx-20\">Getting Started</div> </div> <div class=\"row row-sm\"> <div class=\"col-sm-5 col-md-5 mg-t-10 mg-sm-t-0\"> <div class=\"col-md-12 textcenter\"> <img src=\"assets/img/image/settings.png\" width=\"50\" height=\"50\" class=\"mg-r-5\"> </div> <div class=\"col-md-12 textcenter mg-t-20\"> <h6>Social Media</h6> <p class=\"textjustify tx-11 mg-t-20\">Connect your social media account to Ripple10 for better results</p> </div> </div> <div class=\"col-sm-2 col-md-2 mg-t-10 mg-sm-t-0\"> </div> <div class=\"col-sm-5 col-md-5 mg-t-10 mg-sm-t-0\"> <div class=\"col-md-12 textcenter\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"50\" height=\"50\" class=\"mg-r-5\"> </div> <div class=\"col-md-12 textcenter mg-t-20\"> <h6>Summmary</h6> <p class=\"textjustify tx-11 mg-t-20\">View your brand conversations in summary page</p> </div> </div> </div> <div class=\"row row-sm\"> <div class=\"col-sm-5 col-md-5 mg-t-10 textcenter\"> <button type=\"button\" class=\"btn btn-outline-primary\" data-dismiss=\"modal\" onclick=\"{connectaccount}\"> Connect</button> </div> <div class=\"col-sm-2 col-md-2 mg-t-10 textcenter\"> <p>or</p> </div> <div class=\"col-sm-5 col-md-5 mg-t-10 textcenter\"> <button type=\"button\" class=\"btn btn-outline-primary\" data-dismiss=\"modal\" onclick=\"{connectsummary}\"> Summary</button> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.errors=!1,this.dataColor=[\"#00b894\",\"#00cec9\",\"#0984e3\",\"#6c5ce7\",\"#fdcb6e\",\"#e17055\",\"#d63031\",\"#e84393\",\"#A3CB38\",\"#B53471\",\"#a4b0be\",\"#ffa502\",\"#3742fa\",\"#ffc0cb\",\"#0a3d62\",\"#879e46\",\"#a52a2a\",\"#deb887\",\"#6D214F\",\"#00ff08\"],this.level=Number(localStorage.level);var e=this;$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip(),$(\"select#keywords\").on(\"select2:select\",(function(t){e.maxkeyword=e.maxkeyword-1,e.valmaxkey(),e.update()})),$(\"select#keywords\").on(\"select2:unselecting\",(function(t){e.maxkeyword=e.maxkeyword+1,e.valmaxkey(),e.update()}))})),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.valmaxkey=()=>{this.maxkeyword<=0?this.maxkey=!0:this.maxkey=!1},this.on(\"mount\",(function(){APP.log(\"project-setup : mount\"),$(\"select#keywords\").select2({tags:!0,width:\"100%\",maximumSelectionLength:this.maxkeyword}),$(\"select#keywordInclude\").select2({tags:!0,width:\"100%\"}),$(\"select#keywordExclude\").select2({tags:!0,width:\"100%\"}),$(\"select#keywordPositive\").select2({tags:!0,width:\"100%\"}),$(\"select#keywordNegative\").select2({tags:!0,width:\"100%\"}),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/project-update\"),this.getindustry(),this.getavailablekeyword(),this.project(),this.update()})),this.inputproject=()=>{$(\"#inputfocusnameauthor\").focus()},this.updateColor=t=>{this.namecolor=t.item.o},this.connectaccount=()=>{window.location=\"#setting/account=\"+this.projectid},this.connectsummary=()=>{window.location=\"#summary?project=\"+this.projectid},this.create=()=>{APP.log(\"project-setup : create\");var t=this.refs.colors.value,i=this.refs.keyword,a=this.refs.include,s=this.refs.exclude,o=this.refs.keyPositive,r=this.refs.keyNegative,n=$(i).val()?$(i).val().toString():\"\",l=$(a).val()?$(a).val().toString():\"\",c=$(s).val()?$(s).val().toString():\"\",d=$(o).val()?$(o).val().toString():\"\",h=$(r).val()?$(r).val().toString():\"\";let m=this.refs.project.value,u=this.refs.language.value,p=this.refs.industri.value;if(!m)return $(\"#inputfocusnameauthor\").focus(),this.update(),!1;if(!n)return $(\"select#keywords\").focus(),this.update(),!1;var g={name:m,language:u,industry:p,keywords:n,include:l,exclude:c,color:t,positive:d,negative:h};APP.apiPost({path:\"projects/setup\",data:g,success:t=>{e.getavailablekeyword(),this.projectid=t.keyword_id,APP.success(t,()=>{let t={token:localStorage.AuthToken};APP.apiGet({path:\"auth/update-token\",data:t,success:t=>{console.log(t),localStorage.AuthToken=t.token,$(\"#modalsettingaccount\").modal(\"show\"),localStorage.removeItem(\"projects\"),this.update()}})})}})},this.getindustry=()=>{APP.log(\"project-setup : getindustry\"),APP.apiGet({path:\"projects/industry/all\",success:t=>{this.industry=t,this.update()}})},this.getavailablekeyword=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"available_keyword_number\"},success:t=>{this.maxkeyword=t,this.maxsimalkeyword(),t<=0&&(this.maxkey=!0),this.update()}})},this.maxsimalkeyword=()=>{this.maxkeyword<0?(this.maxkeyword=0,this.update()):$(\"select#keywords\").removeAttr(\"disabled\"),$(\"select#keywords\").select2({tags:!0,width:\"100%\",maximumSelectionLength:this.maxkeyword})},this.project=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date\"},success:t=>{this.jumlahproject=t,0==t.length?$(\"#modalsetting\").modal(\"show\"):this.maxproject(t)}})},this.maxproject=t=>{t=t.length;APP.apiGet({path:\"auth/get-restriction\",data:{type:\"max_projects\"},success:e=>{t>=e&&(this.createproject=!1),this.update()}})},menu.on(\"response\",t=>{APP.log(\"project-setup : menu.on response\"),null!=t&&null!=t.errors&&(this.error=t.errors,this.update())})}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(25),i(2);i(0).tag2(\"project-update\",'<breadcrumb current=\"Project Settings\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 \" onload=\"loadtooltip()\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-6 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">PROJECT DETAILS</h6> <a href=\"\"> </a> </div> <div class=\"card-body height977\"> <div class=\"\" if=\"{isLoading}\"> <div class=\"ripple-loader\"></div> </div> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20 mg-xl-t-0\"> <div class=\"form-layout\" if=\"{editproject}\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Name :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <input type=\"text\" ref=\"project\" class=\"form-control form-controlwidth\" required each=\"{updatename}\" riot-value=\"{key_name}\"> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The name displayed in your dashboard.\" data-placement=\"right\">?</b> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The name displayed in your dashboard.\" data-placement=\"right\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Color :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <div class=\"dropdown\"> <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" riot-style=\"background:{namecolor}\" riot-value=\"{namecolor}\" ref=\"colors\">{namecolor} </button> <ul class=\"dropdown-menu\"> <li class=\"color-picker pointer\" each=\"{o,i in dataColor}\" onclick=\"{updateColor}\"> <a riot-value=\"{o}\" riot-style=\"background:{o}\"></a> </li> </ul> <input type=\"hidden\" name=\"\" ref=\"colorpicker\" riot-value=\"{namecolor}\"> </div> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The color of your project. This will be used as graph colors when comparing this project to other projects in \\'Comparison\\' page\" data-placement=\"right\">?</b> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The color of your project. This will be used as graph colors when comparing this project to other projects in \\'Comparison\\' page\" data-placement=\"right\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Language:</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control select2 form-controlwidth\" ref=\"language\" required> <option each=\"{this.updatename}\" selected=\"{key_lang === \\'ID\\'}\" value=\"ID\">Indonesia</option> <option each=\"{this.updatename}\" selected=\"{key_lang === \\'EN\\'}\" value=\"EN\">English</option> </select> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"What language does your audience writes in? Ripple10 will automatically score the sentiments of the collected mentions based on the chosen language.\">?</b> <p each=\"{this.error}\" if=\"{field== \\'key_lang\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"What language does your audience writes in? Ripple10 will automatically score the sentiments of the collected mentions based on the chosen language.\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Main Keywords : </br> <p if=\"{editproject}\" style=\"font-size: 11px;\">max {maxkeyword} keywords</p></label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select name=\"name\" class=\"form-control form-controlwidth\" id=\"keywords\" multiple=\"multiple\" ref=\"keyword\" required> <option selected=\"{selected:o}\" each=\"{o,i in this.keyword}\">{o}</option> </select> <b class=\" fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The main keyword of phrase for which your project will collect data.\">?</b> <p each=\"{this.error}\" if=\"{field== \\'key_word\\'}\"> <font color=\"red\">{message}</font> </p> </div> <div class=\"col-sm-4\"> <b class=\" fa-1x d-md-block d-lg-block d-sm-none d-xs-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"The main keyword of phrase for which your project will collect data.\">?</b> <sendmail></sendmail> <p class=\" tx-11 colorred\" if=\"{maxkey}\">You\\'ve reched maximal keyword limitation for your package. To add more keywords please <a data-toggle=\"modal\" data-target=\"#Headercontact\" class=\"cursor-pointer contact-us colorblue\"><b>contact us</b></a> </p> </sendmail> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Include :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control form-controlwidth\" id=\"keywordInclude\" multiple=\"multiple\" ref=\"include\" required> <option selected=\"{selected:o}\" each=\"{o,i in this.key_pos}\">{o}</option> </select> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - Each of which must appear in order for the mention to be collected\">?</b> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\" fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - Each of which must appear in order for the mention to be collected\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Exclude :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control \" id=\"keywordExclude\" multiple=\"multiple\" ref=\"exclude\" required> <option selected=\"{selected:o}\" each=\"{o,i in this.key_neg}\">{o}</option> </select> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - None of which can appear if the mention is to be collected.\">?</b> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Additional keywords - None of which can appear if the mention is to be collected.\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-12 form-control-label\">Ripple to has acomprehensive list of general and industry specific words for sentiment identification, but you can put your own below </label> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Positive Keywords</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control form-controlwidth\" id=\"keywordPositive\" multiple=\"multiple\" ref=\"keyPositive\" required> <option selected=\"{selected:o}\" each=\"{o,i in this.kayword_positive}\">{o}</option> </select> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as positive. E.g. \\'murah\\' is considered positive\">?</b> </div> <div class=\"col-sm-4 col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as positive. E.g. \\'murah\\' is considered positive\">?</b> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Negative Keywords</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <select class=\"form-control form-controlwidth\" id=\"keywordNegative\" multiple=\"multiple\" ref=\"keyNegative\" required> <option selected=\"{selected:o}\" each=\"{o,i in this.kayword_negative}\">{o}</option> </select> <b class=\"fa-1x toltiptext mg-t-m-40 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as negative. E.g. \\'mahal\\' is considered negative\">?</b> </div> <div class=\"col-sm-4 d-md-block d-lg-block d-sm-none d-xs-none\"> <b class=\"fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Add your own keywords to identify a mention\\'s sentiment as negative. E.g. \\'mahal\\' is considered negative\">?</b> </div> </div> <div class=\"row mg-t-30\"> <div class=\"col-sm-8 mg-l-auto\"> </div> </div> </div> <div class=\"form-layout\" if=\"{!editproject && !isLoading}\"> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Name :</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5\"> <p>{nameprojects}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Project Color :</label> <div class=\"col-sm-5 mg-t-10 mg-sm-t-0\"> <div class=\"dropdown\"> <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" riot-style=\"background:{namecolor}\" riot-value=\"{namecolor}\" ref=\"colors\" disabled>{namecolor} </button> </div> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Language:</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5\" if=\"{!editproject}\"> <p>{namelanguage}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Main Keywords : </br> <p if=\"{editproject}\" style=\"font-size: 11px;\">max {maxkeyword} keywords</p></label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5 overflowproject\" if=\"{!editproject}\"> <p>{keywordinput}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Include :</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5 overflowproject\" if=\"{!editproject}\"> <p>{keywordInclude}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Keywords to Exclude :</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5 overflowproject\" if=\"{!editproject}\"> <p>{keywordExclude}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-12 form-control-label\">Ripple to has acomprehensive list of general and industry specific words for sentiment identification, but you can ypur own below </label> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Positive Keywords</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5 overflowproject\" if=\"{!editproject}\"> <p>{keywordpositive}</p> </div> </div> <div class=\"row mg-t-20\"> <label class=\"col-sm-3 form-control-label\"><span class=\"tx-danger\"></span> Negative Keywords</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0 mg-t-5 overflowproject\" if=\"{!editproject}\"> <p>{keywordnegative}</p> </div> </div> <div class=\"row mg-t-30\"> <div class=\"col-sm-8 mg-l-auto\"> </div> </div> </div> </div> </div> </div> <div class=\"modal-footer height71\"> <button onclick=\"{updatekey}\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" if=\"{editproject && updateproject}\">save</button> </div> </div> </div> <div class=\"col-sm-6 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height977\"> <p class=\"mg-t-20\"> Main configuration of your projects based on keywords of your choosing </p> </div> <div class=\"card-footer height71 bg-white\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div> </div>',\"\",\"\",(function(t){this.level=Number(localStorage.level),this.errors=!1,this.maxkey=!1,this.dataProjects=[],this.isLoading=!0,this.editproject=localStorage.editproject,this.updateproject=!1,this.industri=null,this.dataColor=[\"#00b894\",\"#00cec9\",\"#0984e3\",\"#6c5ce7\",\"#fdcb6e\",\"#e17055\",\"#d63031\",\"#e84393\",\"#A3CB38\",\"#B53471\",\"#a4b0be\",\"#ffa502\",\"#3742fa\",\"#ffc0cb\",\"#0a3d62\",\"#879e46\",\"#a52a2a\",\"#deb887\",\"#6D214F\",\"#00ff08\"];var e=this;$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip(),$(\"select#keywords\").on(\"select2:select\",(function(t){e.maxkeyword=e.maxkeyword-1,e.valmaxkey(),e.update()})),$(\"select#keywords\").on(\"select2:unselecting\",(function(t){e.maxkeyword=e.maxkeyword+1,e.valmaxkey(),e.update()}))})),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.valmaxkey=()=>{this.maxkeyword<=0?this.maxkey=!0:this.maxkey=!1},this.on(\"mount\",(function(){this.getlist(),this.update(),APP.log(\"project-update : mount\"),window.innerWidth>500?this.maxwidth=\"100%\":this.maxwidth=\"95%\",this.editproject=localStorage.editproject,$(\"#form-control\").change((function(){var t=$(\"option:selected\",this).attr(\"class\");$(\"#form-control\").attr(\"class\",t)})),this.update(),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/project-update\"),this.getindustry(),this.getProfile(),this.getavailablekeyword(),this.claenteditproject(),this.project()})),this.project=()=>{var t=p(\"project\")?p(\"project\"):APP.getProject();t=Number(t);APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color\"},success:e=>{(_.find(e,(function(e){return e.key_id===t}))||{}).is_competitor?(this.updateproject=!1,this.update()):(this.updateproject=!0,this.update())}})},this.updateColor=t=>{this.namecolor=t.item.o},this.getlist=()=>{APP.log(\"project-update : getlist\");let t=p(\"project\")?p(\"project\"):APP.getProject().toString();t.split(\",\").map(Number);var e={project:t,selected_fields:\"key_id, key_lang, key_word_not, key_word_in, key_word, industry_id, key_name , key_color, key_positif, key_negatif\"};APP.apiGet({path:\"projects\",data:e,success:function(t){this.updatename=t,this.namecolor=this.updatename[0].key_color;var e=this.updatename[0].key_word_not,i=this.updatename[0].key_negatif,a=this.updatename[0].key_positif,s=this.updatename[0].key_word_in,o=this.updatename[0].key_word;i&&(this.kayword_negative=i.split(\",\")),a&&(this.kayword_positive=a.split(\",\")),o&&(this.keyword=o.split(\",\")),e&&(this.key_neg=e.split(\",\")),s&&(this.key_pos=s.split(\",\")),this.keywordinput=o?o.replace(/,/g,\", \"):\"\",this.keywordExclude=e?e.replace(/,/g,\", \"):\"\",this.keywordInclude=s?s.replace(/,/g,\", \"):\"\",this.keywordnegative=i?i.replace(/,/g,\", \"):\"\",this.keywordpositive=a?a.replace(/,/g,\", \"):\"\",this.nameprojects=t[0].key_name,this.namelanguage=t[0].key_lang,\"ID\"==this.namelanguage?this.namelanguage=\"Indonesia\":this.namelanguage=\"English\",this.maxsimalkeyword(),this.update()}.bind(this)})},this.updatekey=t=>{APP.log(\"project-update : updatekey\");var i=this.refs.colors.value,a=this.refs.keyword,s=this.refs.include,o=this.refs.exclude,r=this.refs.keyPositive,n=this.refs.keyNegative,l=$(a).val()?$(a).val().toString():\"\",c=$(s).val()?$(s).val().toString():\"\",d=$(o).val()?$(o).val().toString():\"\",h=$(r).val()?$(r).val().toString():\"\",m=$(n).val()?$(n).val().toString():\"\",u={name:this.refs.project.value,language:this.refs.language.value,industry:1,keywords:l,include:c,key_positive:h,key_negative:m,exclude:d,color:i};APP.apiPost({path:\"projects/change-project/\"+p(\"project\"),data:u,parse_data:!0,success:function(t){e.getavailablekeyword(),localStorage.removeItem(\"projects\"),APP.success(t,(function(){window.location=\"#setting/project-update?project=\"+p(\"project\")}))}})},this.getindustry=()=>{APP.log(\"project-update : getindustry\"),APP.apiGet({path:\"projects/industry/all\",success:function(t){this.industry=t,this.update()}.bind(this)})},this.getProfile=()=>{APP.apiGet({path:\"profile/global-settings/get-profile\",success:function(t){this.username=t.user_name,this.update()}.bind(this)})},this.getavailablekeyword=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"available_keyword_number\"},success:function(t){this.maxkeyword=t,this.maxkeyword<0&&(this.maxkeyword=0,this.update()),t<=0&&(this.maxkey=!0),this.update()}.bind(this)})},this.maxsimalkeyword=()=>{this.maxkeyword||(this.maxkeyword=JSON.parse(localStorage.getItem(\"package\")).keyword_available),this.maxkeyword<0?(this.maxkeyword=0,this.update()):$(\"select#keywords\").removeAttr(\"disabled\"),setTimeout(()=>{$(\"select#keywords\").select2({tags:!0,width:this.maxwidth,maximumSelectionLength:this.maxkeyword+this.keyword.length})},1e3)},this.claenteditproject=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"can_edit\"},success:t=>{t?(this.editproject=!0,console.log(this.maxwidth),setTimeout(()=>{$(\"select#keywordInclude\").select2({tags:!0,width:this.maxwidth}),$(\"select#keywordExclude\").select2({tags:!0,width:this.maxwidth}),$(\"select#keywordNegative\").select2({tags:!0,width:this.maxwidth}),$(\"select#keywordPositive\").select2({tags:!0,width:this.maxwidth})},700)):this.editproject=!1,setTimeout(()=>{this.isLoading=!1,this.update()},1e3)}})}}))},function(t,e,i){\"use strict\";i.r(e);i(7);i(0).tag2(\"setting-project\",'<div class=\"panel\" style=\"height:auto;\"> <header-menu></header-menu> </div> <div class=\" bg-grey-100 nopaddingbottm\" style=\"padding: 0px 30px;\"> <h1 class=\"header-title nomargin inblock\">PROJECT</h1> &nbsp; <br> </div> <div class=\"container-fluid fade\"> <div class=\"row\"> <div class=\"col-xs-12 col-lg-12 scroll\"> <div if=\"{isLoading}\" class=\"loader\"></div> <table class=\"table table-responsive panel\"> <tr class=\"tr td th toptable\"> <th>Project Name</th> <th>Created Date</th> <th>Actions</th> </tr> <tr each=\"{this.data}\" class=\"tr td th\"> <td class=\"vertical-middle\"><a href=\"#stream?project={id}\">{name}</a></td> <td class=\"vertical-middle\">{date}</td> <td class=\"vertical-middle\"> <div class=\"dropdown\"> <button type=\"button\" class=\"dropbtn\" data-toggle=\"dropdown\" aria-expanded=\"false\"> <i class=\"fa fa-gear\" aria-hidden=\"true\">&nbsp;&nbsp;</i><i class=\"fa fa-chevron-down\" aria-hidden=\"true\"></i> </button> <ul class=\"dropdown-menu\" role=\"menu\"> <li><a href=\"#setting/project-update?project={id}\">Details</a></li> <li><a href=\"#\">Delete</a></li> </ul> </div> </td> </tr> </table> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!1,this.on(\"mount\",()=>{APP.log(\"setting-project : mount\"),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject(),this.project(),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/project-setup\"),APP.animationFadeIn()}),this.project=()=>{APP.log(\"setting-project : Projectj\"),this.update({isLoading:!0});APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date\"},success:function(t){var e=t,i=_.map(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name}}));this.data=i,menu.trigger(\"menubrand\",this.dataProjects),menu.trigger(\"projectmenu\",this.dataProjects),this.update({isLoading:!1})}.bind(this)})},this.create=()=>{window.location=\"#project/add?project=\"+this.UrlProject}}))},function(t,e,i){i(0).tag2(\"setting\",'<div class=\"page-head\"> <h1 class=\"page-title\">Setting </h1> <ol class=\"breadcrumb\"> <li><a href=\"#\"><i class=\"ion-home margin-right-5\"></i> Dashboard</a></li> <li><a href=\"#\">Segments</a></li> <li class=\"active\">List</li> </ol> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"panel\"> <ul class=\"nav nav-tabs tab-grey bg-grey-100\"> <li class=\"active\"><a href=\"#subscription\" id=\"subscription-tab\" data-toggle=\"tab\" aria-controls=\"subscription\" aria-expanded=\"true\">Subscription</a></li> <li><a href=\"#account\" id=\"account-tab\" data-toggle=\"tab\" aria-controls=\"account\" aria-expanded=\"true\">Account</a></li> <li><a href=\"#payment\" id=\"payment-tab\" data-toggle=\"tab\" aria-controls=\"payment\" aria-expanded=\"true\">Payment</a></li> <li><a href=\"#notification\" id=\"notification-tab\" data-toggle=\"tab\" aria-controls=\"notification\" aria-expanded=\"true\">Notification</a></li> <li><a href=\"#user-setting\" id=\"user-setting-tab\" data-toggle=\"tab\" aria-controls=\"user-setting\" aria-expanded=\"true\">User Setting</a></li> </ul> <div class=\"tab-content\"> <div id=\"subscription\" class=\"panel-body padding-md table-responsive tab-pane active\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"text-center margin-bottom-20 border-bottom-1 border-grey-100\"> <h3 class=\"color-grey-700 margin-top-30\">Bronze Package</h3> <p class=\"text-light margin-bottom-20\"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type</p> <div class=\"text-center padding-bottom-20 border-grey-100\"> <button type=\"submit\" class=\"btn btn-lg bg-orange-500 color-white btn-dark padding-left-40 padding-right-40\">UPGRADE</button> </div> </div> <form class=\"form-horizontal\"> <div class=\"panel-body padding-bottom-40\"> <table class=\"table table-striped\"> <tbody> <tr> <td class=\"vertical-middle\">Current Subscription</td> <td class=\"vertical-middle color-blue-500\">Bronze</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Payment Method</td> <td class=\"vertical-middle color-blue-500\">Credit Card</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Expiration date </td> <td class=\"vertical-middle color-blue-500\"> 12 May 2017</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Billing cycle </td> <td class=\"vertical-middle color-blue-500\">1 month</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Billing cycle start day </td> <td class=\"vertical-middle color-blue-500\">29 each month</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Your subscription base price </td> <td class=\"vertical-middle color-blue-500\">IDR 70,000</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Total monthly account price </td> <td class=\"vertical-middle color-blue-500\">IDR 70,000</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> </tbody> </table> </div> <div class=\"panel-body padding-bottom-40\"> <h3>LIMIT</h3> <table class=\"table table-striped\"> <thead> <tr> <th></th> <th class=\"vertical-middle\">Used</th> <th class=\"vertical-middle\">Limit</th> <th class=\"vertical-middle\">Description</th> </tr> </thead> <tbody> <tr> <td class=\"vertical-middle\">Keyword</td> <td class=\"vertical-middle color-blue-500\">1</td> <td class=\"vertical-middle color-blue-500\">3</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">You can change the number of keywords through the project’s configurations</i></td> </tr> <tr> <td class=\"vertical-middle\">User</td> <td class=\"vertical-middle color-blue-500\">1</td> <td class=\"vertical-middle color-blue-500\">1</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> <tr> <td class=\"vertical-middle\">Stream Volume </td> <td class=\"vertical-middle color-blue-500\">20.000</td> <td class=\"vertical-middle color-blue-500\">70.000</td> <td class=\"vertical-middle\"><i class=\"color-grey-500\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</i></td> </tr> </tbody> </table> </div> </form> </div> </div> </div> <div id=\"account\" class=\"panel-body padding-md table-responsive tab-pane\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"margin-bottom-20 border-bottom-1 border-grey-100\"> <div class=\"text-center\"> <h3 class=\"color-grey-700 margin-top-30\">Hi, Hume</h3> <p class=\"text-light margin-bottom-20\"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type</p> </div> <div class=\"text-center padding-bottom-20 border-grey-100\"> <button type=\"submit\" class=\"btn btn-lg bg-green-500 color-white btn-dark padding-left-40 padding-right-40\">UPDATE ACCOUNT </button> </div> <form class=\"form-horizontal\"> <div class=\"panel-body padding-bottom-40\"> <table class=\"table table-striped\"> <tbody> <tr> <td class=\"vertical-middle\">Name</td> <td class=\"vertical-middle color-blue-500\">Hume</td> </tr> <tr> <td class=\"vertical-middle\">Email</td> <td class=\"vertical-middle color-blue-500\">hume@mail.com</td> </tr> <tr> <td class=\"vertical-middle\">Register Date</td> <td class=\"vertical-middle color-blue-500\">27 Juni 2017 15:00 WIB</td> </tr> </tbody> </table> </div> </form> </div> </div> </div> </div> <div id=\"payment\" class=\"panel-body padding-md table-responsive tab-pane\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"margin-bottom-20 border-bottom-1 border-grey-100\"> <div class=\"text-center\"> <h3 class=\"color-grey-700 margin-top-30\">Invoices</h3> <p class=\"text-light margin-bottom-20\"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type</p> </div> <div class=\"text-center padding-bottom-20 border-grey-100\"> <button type=\"submit\" class=\"btn btn-lg bg-green-500 color-white btn-dark padding-left-40 padding-right-40\">MAKE PAYMENT </button> </div> <form class=\"form-horizontal\"> <div class=\"panel-body padding-bottom-40\"> <table class=\"table table-striped\"> <thead> <tr> <th class=\"vertical-middle\">Date</th> <th class=\"vertical-middle\">Number</th> <th class=\"vertical-middle\">Amount</th> <th class=\"vertical-middle\">Action</th> </tr> </thead> <tbody> <tr> <td class=\"vertical-middle\">21 Januari 2017</td> <td class=\"vertical-middle color-blue-500\">#R82990</td> <td class=\"vertical-middle color-blue-500\">IDR 600.000</td> <td class=\"vertical-middle\"><a href=\"#\" class=\"btn btn-success btn-sm\">Download</a></td> </tr> <tr> <td class=\"vertical-middle\">23 February 2017</td> <td class=\"vertical-middle color-blue-500\">#R82990</td> <td class=\"vertical-middle color-blue-500\">IDR 600.000</td> <td class=\"vertical-middle\"><a href=\"#\" class=\"btn btn-success btn-sm\">Download</a></td> </tr> </tbody> </table> </div> </form> </div> </div> </div> </div> <div id=\"notification\" class=\"panel-body padding-md table-responsive tab-pane\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"margin-bottom-20 border-bottom-1 border-grey-100\"> <div class=\"text-center border-bottom-1 border-grey-100\"> <h3 class=\"color-grey-700 margin-top-30\">Notification</h3> <p class=\"text-light margin-bottom-20\"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type</p> </div> <div class=\"panel-body padding-40 padding-left-30 padding-right-30 padding-top-20\"> <form class=\"form-horizontal\"> <div class=\"row\"> <div class=\"col-lg-12\"> <h3 class=\"color-grey-700 font-size-20 margin-top-30\">Daily Email Notivication</h3> <p class=\"text-light margin-bottom-20\">Checkboxes are for selecting one or several options in a list, while radios are for selecting one option from many.</p> <div class=\"form-group\"> <div class=\"col-sm-12\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"checkbox4\"> <label for=\"checkbox4\">Lorem Ipsum is simply dummy text of the printing and typesetting industry</label> </div> </div> </div> </div> <div class=\"col-lg-12\"> <h3 class=\"color-grey-700 font-size-20 margin-top-30\">Email</h3> <p class=\"text-light margin-bottom-20\">Checkboxes are for selecting one or several options in a list, while radios are for selecting one option from many.</p> <div class=\"form-group\"> <div class=\"col-sm-12\"> <textarea class=\"form-control\" rows=\"6\"></textarea> </div> </div> <div class=\"text-center margin-top-20 padding-top-20 border-top-1 border-grey-100\"> <button type=\"submit\" class=\"btn bg-orange-500 color-white btn-dark margin-right-10 padding-left-40 padding-right-40\">Cancel</button> <button type=\"submit\" class=\"btn bg-green-500 color-white btn-dark padding-left-40 padding-right-40\">Update Notification</button> </div> </div> </div> </form> </div> </div> </div> </div> </div> <div id=\"user-setting\" class=\"panel-body padding-md table-responsive tab-pane\"> <div class=\"row\"> <div class=\"col-lg-12\"> <div class=\"text-center margin-bottom-20 border-bottom-1 border-grey-100\"> <h3 class=\"color-grey-700 margin-top-30\">User Setting</h3> <p class=\"text-light margin-bottom-20\"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type</p> </div> <div class=\"panel-body padding-40 padding-left-30 padding-right-30 padding-top-20\"> <form class=\"form-horizontal\"> <div class=\"row\"> <div class=\"col-lg-12\"> <h3 class=\"color-grey-700 font-size-20 margin-top-30\">Limit Stream</h3> <p class=\"text-light margin-bottom-20\">Checkboxes are for selecting one or several options in a list, while radios are for selecting one option from many.</p> <div class=\"form-group\"> <div class=\"col-sm-12\"> <select class=\"selectpicker\"> <option>30</option> <option>50</option> <option>100</option> </select> </div> </div> </div> <div class=\"col-lg-12\"> <div class=\"text-center margin-top-20 padding-top-20 border-top-1 border-grey-100\"> <button type=\"submit\" class=\"btn bg-orange-500 color-white btn-dark margin-right-10 padding-left-40 padding-right-40\">Cancel</button> <button type=\"submit\" class=\"btn bg-green-500 color-white btn-dark padding-left-40 padding-right-40\">Update</button> </div> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){}))},function(t,e,i){\"use strict\";i.r(e);i(7),i(178),i(179),i(2);i(0).tag2(\"spike-notification\",'<breadcrumb current=\"Spike Notif\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-6 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">SPIKE NOTIFICATIONS</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height{height}\"> <div class=\"row\"> <div class=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 mg-t-20 mg-xl-t-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row height50\"> <li class=\"nav-item widthper50 cursor-pointer pd-l-10 bb-4 \"> <a class=\"nav-link {active:email} {spike:email} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{emailevent}\"> <img src=\"assets/img/image/email-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-4\"> EMAIL </a> </li> <li class=\"nav-item widthper50 cursor-pointer pd-r-10 bb-4\"> <a class=\"nav-link {active:!email} {spike:!email} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{smsevent}\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SMS </a> </li> </ul> </div> </div> <div class=\"row\" if=\"{email}\"> <div class=\"col-lg-12 mg-t-30\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Enable Spike Notification ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{change}\"> <div class=\"toggle toggle-light primary\" data-toggle-on=\"{this.ondata}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable to activate spike notification\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable to activate spike notification\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <div class=\"row\" if=\"{!email}\"> <div class=\"col-lg-12 mg-t-30\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Enable Spike Notification ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changesms}\"> <div class=\"toggle toggle-light primary sms\" data-toggle-on=\"{this.ondatasms}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <spike-form if=\"{this.ondata && email}\" cb=\"{data}\" ref=\"spikeFormEmail\"></spike-form> <spike-form-sms if=\"{this.ondatasms && !email}\" cb=\"{datasms}\" ref=\"spikeFormSms\"> </spike-form-sms> </div> <div class=\"modal-footer mg-t-0\"> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" onclick=\"{saved}\" if=\"{ondata}\">save</button> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" onclick=\"{savedoff}\" if=\"{!ondata}\">save</button> </div> </div> </div> <div class=\"col-sm-6 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height{height}\"> <p class=\"mg-t-0\"> \"Ripple10 will detect unusual spikes of mentions in your project. If a spike occurs, you can setup who will receive spike notification via email. </br> Example of reasons to set up spike notifications:<br>- Know when you have a PR crisis in your brand. <br> - Know when a competitive product launch picked up extraordinary momentum <br>- etc.\" </p> </div> <div class=\"card-footer bg-white\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer>',\"\",\"\",(function(t){this.ondata=!1,this.error=!1,this.email=!0,this.ondatasms=!0,this.height=\"500\",this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/spike-notification\"),this.getspike(),this.getspikesms(),APP.animationFadeIn(),$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,tokenSeparators:[\",\"]}),$(\".toggle\").toggles({on:this.ondata,height:26}),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},500)}),this.emailevent=t=>{this.email=!0,setTimeout(()=>{$(\".toggle\").toggles({on:this.ondata,height:26})},100),this.update()},this.smsevent=t=>{this.email=!1,setTimeout(()=>{$(\".toggle\").toggles({on:this.ondatasms,height:26})},100),this.update()},this.saved=()=>{this.email?this.refs.spikeFormEmail.saveData():this.refs.spikeFormSms.saveData()},this.getspike=()=>{var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"alert_email\"};APP.apiGet({path:\"projects/project-settings\",data:t,success:t=>{var e=t.alert_active;if(\"h-0\"==t.date_monitor)var i=!0;else i=!1;this.getemail=t,this.data={email:t.email_alert?t.email_alert.split(\",\"):\"\",increase:\"\"+t.increase,Sentiment:\"\"+t.stream_type,ispercent:\"\"+t.ispercent,Time:\"\"+t.sending_time,Realtime:i},e?(this.ondata=!0,this.height=\"500\"):(this.ondata=!1,this.height=\"500\"),$(\".toggle\").toggles({on:this.ondata,height:26}),this.update({ondata:this.ondata})}})},this.getspikesms=()=>{var t={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"alert_sms\"};APP.apiGet({path:\"projects/project-settings\",data:t,success:t=>{var e=t.alert_sms_active;if(\"h-0\"==t.date_monitor)var i=!0;else i=!1;this.getemail=t,this.datasms={nophone:t.phone_number?t.phone_number.split(\",\"):\"\",increase:\"\"+t.increase,Sentiment:\"\"+t.stream_type,ispercent:\"\"+t.ispercent,Time:\"\"+t.sending_time,Realtime:i},e?(this.ondatasms=!0,this.height=\"500\"):(this.ondatasms=!1,this.height=\"500\"),this.update({ondatasms:this.ondatasms})}})},this.savedoff=()=>{if(this.email)var t=\"projects/spike-notif\";else t=\"projects/spike-notif\";var e={project:p(\"project\"),enable_spike:!1};APP.apiPost({path:t,data:e,success:function(t){APP.success(t,(function(){}))}})},this.change=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ondata=!this.ondata,this.update()},this.changesms=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ondatasms=!this.ondatasms}}))},function(t,e,i){\"use strict\";i.r(e);i(2),i(7);i(0).tag2(\"taginglist\",'<breadcrumb current=\"Saved Filter\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p style=\" color: #6B6B6B; font-family: Roboto; font-weight: 700;\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-xs-12 col-sm-8 col-md-9 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-10-imp\" style=\"height: 47px;\"> <h6 class=\"card-title\">SAVED TAGING </h6> </div> <div class=\"card-body displayblock pd-b-0 height615\"> <div class=\"row\"> <div class=\"col-md-6\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label mg-t-10\">Name tags</label> <div class=\"col-sm-8 mg-t-10 mg-sm-t-0\"> <input type=\"text\" class=\"form-control\" placeholder=\"Enter name tags\" ref=\"nametags\"> </div> </div> </div> <div class=\"col-md-3\"> <button onclick=\"{create}\" class=\"btn btn-outline-primary btn-block width150 pull-right cursor-pointer\">Create Taging</button> </div> </div> <div class=\"row\"> <div class=\"col-lg-12 mg-t-20\"> <div class=\"bd bd-gray-300 rounded table-responsive\"> <table class=\"table table-striped mg-b-0\"> <thead> <tr> <th style=\"width:70%\">Taging Name</th> <th style=\"width:15%\">Action</th> <th style=\"width:15%\"></th> </tr> </thead> <tbody> <tr each=\"{o,i in this.data}\" if=\"{i <= 9}\"> <th scope=\"row\" style=\"width:70%\" data-tip=\"click to edit name \"> <input type=\"text\" class=\"form-control pd-0\" ref=\"nameupdatetags{o._id}\" style=\"background-color: #ffffff0a; border: 1px solid rgba(255, 255, 255, 0.02);\" riot-value=\"{o.name}\"> </th> <td style=\"width:15%\"><a onclick=\"{updatetags}\" class=\"link deleteformfilter\"><i class=\"fa fa-pencil mg-r-10\"></i>Update</a></td> <td style=\"width:15%\"> <a class=\"deleteformfilter\" onclick=\"{removelist}\"><i class=\"fa fa-trash-o mg-r-10\"></i>Delete</i></a></td> </tr> </tbody> </table> </div> <div class=\"row\"> <div class=\"col-md-10\"> </div> <div class=\"col-md-2\"> <div class=\"ht-65 d-flex align-items-center justify-content-between mg-t-10\" if=\"{total > 10}\"> <button type=\"button\" class=\"btn btn-info rounded-0 cursor-pointer\" onclick=\"{Previewpage}\" disabled=\"{disabled:previewdisable}\"><i class=\"fa fa-chevron-left\"></i></button> <button type=\"button\" class=\"btn btn-info rounded-0 cursor-pointer\" onclick=\"{Nextpage}\" disabled=\"{disabled:nextdisable}\"><i class=\"fa fa-chevron-right\"></i></button> </div> </div> </div> </div> <div class=\"col-lg-4 mg-t-20 mg-xl-t-0\"> </div> </div> </div> <div class=\"modal-footer \" style=\"height:71px;\"> </div> </div> </div> <div class=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-10-imp\" style=\" height: 47px;\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblockmg-b-0 height615\"> </div> <div class=\"card-footer bg-white \" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.on(\"mount\",()=>{APP.log(\"project : mount\"),urlStream.trigger(\"changeUrl\",\"setting/taginglist\"),menuActive.trigger(\"activated\",[\"project_settings\"]),this.UrlProject=p(\"project\")?p(\"project\"):APP.getProject(),this.gettaginglist(),setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},500)}),this.gettaginglist=()=>{this.update({isLoading:!0});let t=localStorage.clientid;APP.apiGet({path:\"tags\",data:{q:\"\",client_id:t},success:t=>{this.data=t,this.mapData=t,this.total=t.length,t.length<9&&(this.nextdisable=!0),this.update({isLoading:!1})}})},this.no=0,this.datapage={},this.nextdisable=!1,this.previewdisable=!0,this.Nextpage=()=>{if(this.total/10>=this.no){this.no=this.no+1,this.novalue=this.no;var t=_.filter(this.data,(t,e)=>e>9);this.data=t,this.datapage[this.no]=t,this.previewdisable=!1,t.length<7&&(this.nextdisable=!0)}else this.nextdisable=!0;this.update()},this.Previewpage=()=>{if(this.no<1)return!1;this.no=this.no-1,this.nextdisable=!1,0==this.no?(this.data=this.mapData,this.previewdisable=!0):this.data=this.datapage[this.no],this.update()},this.removelist=t=>{let e=localStorage.clientid;const i=t.item.o._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this list taging ?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiPut({path:\"tags/remove\",data:{id:i,client_id:e},success:t=>{this.gettaginglist()}})})},this.create=()=>{const t=this.refs.nametags.value;let e=localStorage.clientid;APP.apiPost({path:\"tags/create\",data:{name:t,client_id:e},success:t=>{APP.success(t,()=>{this.gettaginglist()})}})},this.editform=t=>{let e=t.item.o;this.idtags=e._id,this.nametags=e.name,this.update()},this.updatetags=t=>{const e=t.item.o._id,i=\"nameupdatetags\"+e,a=t.item.o.name,s=this.refs[i].value;a.toLowerCase()!=s.toLowerCase()&&APP.apiPost({path:\"tags/update/\"+e,data:{streamid:e,name:s},parse_data:!0,success:t=>{APP.success(t,()=>{this.gettaginglist()})}})}}))},function(t,e,i){i(0).tag2(\"source\",'<div class=\"page-head\"> <h1 class=\"page-title\">Source </h1> <ol class=\"breadcrumb\"> <li><a href=\"#\"><i class=\"ion-home margin-right-5\"></i> Dashboard</a></li> <li><a href=\"#\">Projects</a></li> <li class=\"active\">List</li> </ol> </div>',\"\",\"\",(function(t){}))},function(t,e,i){\"use strict\";i.r(e);i(3),i(2),i(9),i(5),i(189),i(191),i(181),i(187),i(180),i(183),i(188),i(185),i(182),i(192),i(190),i(184),i(186),i(17),i(21);var a=i(11);i(0).tag2(\"dashboardsummary\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">SUMMARY</h4> </div> <button onclick=\"{updatefilternamemodal}\" if=\"{updatefilternamenews}\" data-toggle=\"modal\" data-target=\"#modaldemo3\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filters</button> <button onclick=\"{updatefiltername}\" if=\"{!updatefilternamenews}\" class=\"btn {btn-outline-secondary:!colorblue} {btn-primary:colorblue} btn-block mg-b-0 mg-t-0 mg-r-10 width200save {cursor-pointer:!colorblue}\" disabled=\"{disabled:colorblue}\"> <i class=\"fa fa-floppy-o pstf\"></i> Save This Filters</button> <button data-toggle=\"modal\" data-target=\"#modalfilterlist\" onclick=\"{inputfocus}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\"><i class=\"mg-r-5 icon ion-funnel\"></i> Filter</button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <filtervalue ref=\"filterformvalue\"></filtervalue> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <total-sentiment-all ref=\"totalsentimentall\" cb=\"{updateSentiment}\"> </total-sentiment-all> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-9\"> <timeline-of-mentions ref=\"timelineOfMentions\"></timeline-of-mentions> </div> <div class=\"col-lg-3 mg-t-20 mg-lg-t-0\"> <source-of-mention ref=\"sourceofmention\"></source-of-mention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-6\"> <popularmentions ref=\"popular_mentions\"></popularMentions> </div> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <wordcloaudsummary ref=\"wordcloudsummary\"></wordcloaudsummary> <tophashtagandword ref=\"tophashtag\"> </tophashtagandword> </div> </div> <div class=\"row row-sm mg-t-0\"> <div class=\"col-lg-6 pd-t-20\"> <ofvoice ref=\"socilaShareOfvoice\"></ofvoice> </div> <div class=\"col-sm-12 col-lg-6 mg-lg-t-0 pd-t-20\"> <potentialreach ref=\"potentialReach\"></potentialreach> <reac-of-mention ref=\"reachofmention\"></reac-of-mention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <mostauthor ref=\"most_author\"></mostAuthor> </div> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <everagemention ref=\"everagDailymention\"></everageMention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12 \"> <buzz-geo-distribution ref=\"buzzgeodistribution\"></buzz-geo-distribution> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div> <div id=\"modalfilterlist\" class=\"modal fade show\"> <div class=\"modal-dialog\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div> <filter ref=\"filterval\" namefilter=\"false\" page=\"summary\"></filter> </div> </div> </form> </div> </div> <div id=\"modaldemo3\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg wd-40p\" role=\"document\"> <form id=\"myFormid\" method=\"get\" onsubmit=\"{savefilterBookmart}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"card-body pd-t-20 pd-r-20 pd-l-20 pd-0 mg-b-20\"> <div class=\"row mg-b-20\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0 text-center\">Give this a filter name</div> </div> <div class=\"row\"> <div class=\"col-sm-12 mg-t-10 mg-sm-t-0\"> <input type=\"text\" id=\"inputfocusnamevalue\" name=\"inputfokus\" class=\"form-control\" placeholder=\"\" ref=\"nameFilter\"> <p class=\"pd-0 mg-b-0\" if=\"{!error}\">&nbsp;</p> <p class=\"pd-0 mg-b-0 colorred\" if=\"{error}\">This value is required.</p> </div> </div> </div> <div class=\"modal-footer d-block pd-0\"> <div class=\"row\"> <div class=\"col-md-6 pd-r-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" onclick=\"{savefilterBookmart}\"> Save Filter</button> </div> <div class=\"col-md-6 pd-l-0\"> <button type=\"button\" class=\"btn btn-outline-secondary wd-100-color-transparant \" data-dismiss=\"modal\">Cancel</button> </div> </div> </div> </div> </form> </div> </div> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <detaimention ref=\"detailmentions\"></detaimention> </div> </div> </div>',\"\",\"\",(function(t){this.services=[...a.serviceCategory],window.checkRender=this,this.updatefilternamenews=!1,this.updatesentimenval=\"positive,negative,neutral\",this.error=!1,this.colorblue=!1,this.search={since:null,until:null,project:null,section:\"positive,negative,neutral\",service_category:null,type:null},this.xhrdata=null,this.on(\"mount\",()=>{this.xhr=null,this.xhrdata=null,urlStream.trigger(\"changeUrl\",\"summary\"),menuActive.trigger(\"activated\",[\"summary\"]),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),$(\"body,html\").animate({scrollTop:0},500)}),this.inputfocus=()=>{$(\"#modalfilterlist\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnameauthor\").focus()}))},this.updateDate=(t,e)=>{this.search.since=t,this.search.until=e,setTimeout(()=>{this.render()},1e3)},this.updatefiltername=()=>{var t={name:this.namefiltervalue,keywords:this.search.q,domain:this.search.domain,author:this.search.author,filterbot:this.search.filterbot};let e=this.services.filter(t=>1==t.selected).map(t=>t.id);e.length>0&&(t.service_category=e.join(\",\")),!this.refs.filterformvalue.saveshowdropdown&&this.refs.filterformvalue.filtervalue&&this.refs.filterformvalue._id&&APP.apiPost({path:p(\"project\"),data:t,success:e=>{APP.success(\"sukses\",()=>{this.refs.filterval.updatevaluekey(t),this.search.q=t.keywords,this.search.domain=t.domain,this.search.author=t.author,this.search.filterbot=\"true\"==t.filterbot,this.update(),this.render()})}})},this.updateFilter=t=>{this.refs.filterformvalue.updateFilter(t)},this.savefilterBookmart=t=>{t.preventDefault(),this.updatenamefilter=this.refs.nameFilter.value,this.updatenamefilter?(this.colorblue=!0,this.refs.filterval.savefilter(t),this.updatefilternamenews=!1,this.update()):(this.error=!0,this.update())},this.updatefilternamemodal=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.render=t=>{null!=this.search.project||null!=this.search.project?(this.refs.socilaShareOfvoice.isLoading=!0,this.refs.potentialReach.isLoading=!0,this.refs.reachofmention.isLoading=!0,this.refs.everagDailymention.isLoading=!0,this.refs.buzzgeodistribution.isLoading=!0,this.refs.popular_mentions.isLoading=!0,this.update(),this.xhrdata=this.refs.timelineOfMentions.render(),console.log(this.xhrdata),this.xhrdata=this.refs.wordcloudsummary.render(),this.xhrdata=this.refs.popular_mentions.render(),this.xhrdata=this.refs.socilaShareOfvoice.render(),this.xhrdata=this.refs.potentialReach.render(),this.xhrdata=this.refs.reachofmention.render(),this.xhrdata=this.refs.everagDailymention.render(),this.xhrdata=this.refs.buzzgeodistribution.render(),this.xhrdata=this.refs.totalsentimentall.render(),this.xhrdata=this.refs.sourceofmention.render(),this.xhrdata=this.refs.tophashtag.render(),this.xhrdata=this.refs.most_author.render(),this.refs.sourceofmention.isLoading=!0,this.refs.tophashtag.isLoading=!0,this.refs.most_author.isLoading=!0):swal(\"Oops...\",\"Create your project\",\"warning\")},this.updatechannels=t=>{this.search.service_category=t,this.refs.socilaShareOfvoice.isLoading=!0,this.refs.potentialReach.isLoading=!0,this.refs.reachofmention.isLoading=!0,this.refs.everagDailymention.isLoading=!0,this.refs.buzzgeodistribution.isLoading=!0,this.refs.most_author.isLoading=!0,this.update(),setTimeout(function(){this.refs.popular_mentions.render(),this.refs.socilaShareOfvoice.render(),this.refs.potentialReach.render(),this.refs.reachofmention.render(),this.refs.everagDailymention.render(),this.refs.buzzgeodistribution.render(),this.refs.totalsentimentall.render(),this.refs.wordcloudsummary.render(),this.refs.tophashtag.render(),this.refs.most_author.render()}.bind(this),1e3)},this.xhr=renderchart.on(\"chartSentimentpositivenegative\",(t,e,i,a)=>{if(\"Mention\"==e&&(e=\"mention\"),\"Reach\"==e)return!1;$(\"#modaldetailmentions\").modal(\"toggle\"),\"hourly\"==a&&this.detailmentions(t,e,null,null,null,i,e,null,null,null,null,null),\"daily\"==a&&this.detailmentions(t,e,null,null,null,null,e,null,null,null,null,null),\"monthly\"==a&&this.detailmentions(t,e,null,null,null,null,e,null,null,null,null,a)}),this.xhr=renderchartpie.on(\"socialshareofvoice\",t=>{let e=this.search.author?this.search.author:null;$(\"#modaldetailmentions\").modal(\"toggle\"),this.detailmentions(null,null,t,e,null,null,\"Service Categori\",null,null,null,null,null)}),rendercharttoptime.on(\"chartstreamtop\",(t,e)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),this.detailmentions(t,null,null,null,null,e,null,null,null,null,null,null)}),this.detailmentions=(t,e,i,a,s,o,r,n,l,c,d,h)=>{$(\"#modaldetailmentions\").modal(\"toggle\"),setTimeout(()=>{_.isEmpty(this.refs)||this.refs.detailmentions.modalsentimentvalue(t,e,i,a,s,o,r,n,l,c,d,h)},500)};this.updateSentiment=(t,e)=>{if(!t){t=\"positive,negative,neutral\";var i=\"\"}if(\"all\"==t){a=t.split(\",\");i=(t=this.search.section).split(\",\")}else t=t,i=\"\"!=i?t.split(\",\"):i.split(\",\");if(\"allfalse\"==e)var a=\"\";else a=\"all\";let s=_.concat(i,a);this.search.section=t,this.search.since=localStorage.since,this.search.service_category=null,this.search.until=localStorage.until,this.updatesentimenval=s.join(\",\"),this.render()},this.resetFilter=()=>{setTimeout(function(){this.updatefilternamenews=!1,this.refs.filterformvalue.filtervalue=!1,this.render(),this.update()}.bind(this),100)},this.on(\"unmount\",()=>{this.xhrdata&&this.xhrdata.destroy(),this.xhr&&this.xhr.destroy(),localStorage.removeItem(\"Project_devault\")})}))},function(t,e,i){i(0).tag2(\"test\",'<h1 if=\"{isLoading}\">loading...</h1> <table if=\"{!isLoading}\" class=\"table table-striped\"> <thead> <tr> <th class=\"vertical-middle\">Title</th> </tr> </thead> <tbody> <tr each=\"{titles}\"> <td>{title}</td> </tr> </tbody> </table>',\"\",\"\",(function(t){this.titles=[],this.isLoading=!0,this.on(\"mount\",()=>{this.isLoading=!0,$.ajax({url:APP.apiUrl+\"articles\",dataType:\"json\",success:t=>{this.update({titles:t.data,isLoading:!1})},error:(t,e,i)=>{this.isLoading=!1,this.update(),APP.error(t)}})})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(15);i(0).tag2(\"google-trends\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 pd-b-50\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Google Search {this.getFormatArea()} Trendings</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"></date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-12 mg-t-10\" if=\"{isLoading}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-body\" style=\"padding: 20px;\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div> <div class=\"col-12 mg-t-10\" if=\"{!isLoading && items.length == 0}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-body\" style=\"padding: 10px;\"> No data found, please input another dates </div> </div> </div> <div class=\"col-md-4 mg-t-10\" each=\"{x in items}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> {x.group_name} </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <table class=\"table\"> <tbody> <tr each=\"{o, i in x.list}\" style=\"height: 45px;\"> <td class=\"wd-30\">{parseInt(i) + 1}</td> <td class=\"cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"{o.content}\">{o.title}</td> <td style=\"text-align: right;\"> <span title=\"{o.count.original}\">{o.count.formatted}</span> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.xhr=[],this.isLoading=!0,this.area=\"indonesia\",this.isValidDate=(t,e)=>{moment(e).diff(moment(t),\"h\");return!0};const e=(t,e,i)=>{this.items=[],this.isLoading=!0,this.update();const a=this.isValidDate(t,e);if(localStorage.setItem(\"since\",t),localStorage.setItem(\"until\",e),a){const e=APP.apiGet({path:\"trendings/google-search\",data:{since:t,area:i},success:(t,e,i)=>{for(const e in t)this.items.push({group_name:e,list:t[e].map(t=>{var e;return t.count=0===(e=t.count)?{formatted:0,original:0}:e>1e3?{formatted:numeral(e).format(\"0.0 a\"),original:e}:Math.floor(e)===e?{formatted:parseFloat(numeral(e).format(\"0.[00]\")),original:e}:{formatted:parseFloat(e.toFixed(2)),original:e},t})});this.update()}});this.isLoading=!1,this.xhr.push(e)}else APP.popupMessage(\"Time Period Only Allowed One Day\")};this.getFormatArea=()=>{let t=this.getArea();return t.charAt(0).toUpperCase()+t.slice(1)},this.getArea=()=>Object(a.getAllUrlParams)(window.location.href).area||\"indonesia\",this.updateDate=(t,i)=>{e(t,i,this.getArea())},this.on(\"mount\",()=>{menuActive.trigger(\"activated\",[\"subTrendings.google.indonesia\"]),this.xhr=[];let t=localStorage.getItem(\"since\"),e=localStorage.getItem(\"until\");this.isValidDate(t,e)||(t=moment().format(\"YYYY-MM-DD\"),e=moment().format(\"YYYY-MM-DD\"))}),this.on(\"unmount\",()=>{if(this.xhr)for(const t of this.xhr)t.abort()})}))},function(t,e,i){\"use strict\";i.r(e);var a=i(15);i(0).tag2(\"twitter-trends\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 pd-b-50\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Twitter {this.getFormatArea()} Trendings</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker type=\"single\" cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.since}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"> </date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-12 mg-t-10\" if=\"{isLoading}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-body\" style=\"padding: 20px;\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div> <div class=\"col-12 mg-t-10\" if=\"{!isLoading && items.length == 0}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-body\" style=\"padding: 10px;\"> No data found </div> </div> </div> <div class=\"col-md-4 mg-t-10\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> A Minutes Ago </h6> <hr> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <table class=\"table\"> <tbody> <tr each=\"{o in itemsNow}\" style=\"height: 45px;\"> <td>{o._id}</td> <td> <span class=\"cursor-pointer\" title=\"{o.count.original}\">{o.count.formatted}</span> </td> </tr> </tbody> <tfoot if=\"{itemsNow}\"> <tr> <td colspan=\"2\" class=\"text-right text-bold\"> <button class=\"btn btn-sm btn-success\"> Show All </button> </td> </tr> </tfoot> </table> </div> </div> </div> <div class=\"col-md-4 mg-t-10\" each=\"{x in datalength}\"> <div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> {x.title} </h6> <hr> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <table class=\"table\" if=\"{data}\"> <tbody> <tr each=\"{o in data[x]}\" style=\"height: 45px;\"> <td>{o.title}</td> <td> <span class=\"cursor-pointer\" title=\"{o.count.original}\">{o.count.formatted}</span> </td> </tr> </tbody> <tfoot if=\"{itemsNow}\"> <tr> <td colspan=\"2\" class=\"text-right text-bold\"> <button class=\"btn btn-sm btn-success\"> Show All </button> </td> </tr> </tfoot> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.area=\"indonesia\",this.isLoading=!0,this.xhr=[],this.isValidDate=(t,e)=>moment(e).diff(moment(t),\"h\")<=23,this.datalength=[];const e=function(t){return 0===t?{formatted:0,original:0}:t>1e3?{formatted:numeral(t).format(\"0.0 a\"),original:t}:Math.floor(t)===t?{formatted:parseFloat(numeral(t).format(\"0.[00]\")),original:t}:{formatted:parseFloat(t.toFixed(2)),original:t}};this.getFormatArea=()=>{let t=this.getArea();return t.charAt(0).toUpperCase()+t.slice(1)},this.getArea=()=>Object(a.getAllUrlParams)(window.location.href).area||\"indonesia\",this.updateDate=t=>{const e=moment().format(\"YYYY-MM-DD\"),i=moment(t).set({h:0,m:0,s:0});i.clone().format(\"YYYY-MM-DD\");for(let t=0;t<4;t++)this.datalength.push({period:i.clone().subtract(t,\"h\").format(\"YYYY-MM-DD\"),title:i.clone().subtract(t,\"h\").format(\"DD, MMM YYYY HH:mm\")});this.update()},this.functions={getTrendingNow:()=>{APP.apiGet({path:\"trendings/twitter/now\",data:{area:this.getArea(),limit:5},success:(t,i,a)=>{this.itemsNow=t.items.map(t=>(t.count=e(t.count),t)),this.update()}});return[]}},this.on(\"mount\",()=>{this.updateDate();let t=Object(a.getAllUrlParams)(window.location.href);menuActive.trigger(\"activated\",[\"subTrendings.twitter.\"+t.area]),this.xhr=[];let e=localStorage.getItem(\"since\"),i=localStorage.getItem(\"until\");this.isValidDate(e,i)||(e=moment().format(\"YYYY-MM-DD\"),i=moment().format(\"YYYY-MM-DD\"))}),this.on(\"unmount\",()=>{if(this.xhr)for(const t of this.xhr)t.abort()})}))}]);","extractedComments":[]}