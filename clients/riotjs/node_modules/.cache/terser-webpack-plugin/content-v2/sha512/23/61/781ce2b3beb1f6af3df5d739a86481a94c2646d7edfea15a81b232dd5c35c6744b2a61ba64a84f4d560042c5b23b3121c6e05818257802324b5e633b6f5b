{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{14:function(e,t,s){s(0).tag2(\"channel\",'<a href=\"#\" class=\"btn All btn-icon mg-r-5 {active:allSelected} mg-t-10 mg-r-10 widthchannels \" onclick=\"{selectAllChannel}\"> <img alt=\"\" src=\"../assets/img/svg/globe.png\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\">ALL</p> <p class=\"tx-14 mg-t-m-10\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"../assets/img/loading.svg\" width=\"20\"></img> </p> </a> <a href=\"#\" class=\"btn {name} btn-icon mg-r-5 {active:selected} mg-t-10 mg-r-10 widthchannels {disabled:!checked}\" each=\"{channels}\" onclick=\"{selectChannel}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"40\" height=\"40\" class=\"center displayinitial mg-t-10\"> <p class=\"tx-10 mg-t-11\"> {name}</p> <p class=\"tx-14 mg-t-m-10 \" if=\"{!isLoading}\">{count ? count.formatMoney(0) : 0}</p> <p if=\"{isLoading}\" class=\"mg-t-m-10\"><img src=\"../assets/img/loading.svg\" width=\"20\"></img> </p> </a>',\"\",\"\",(function(e){function t(){var e=$(\"#channels\").width(),t=(e-80)/8;if(e<673)t=64;for(var s=document.getElementsByClassName(\"widthchannels\"),i=0;i<s.length;i++)s[i].style.width=t+\"px\";var n=($(\"#sentiment\").width()-30)/3,a=document.getElementsByClassName(\"widthsentiment\");for(i=0;i<a.length;i++)a[i].style.width=n+\"px\"}this.isLoading=!0,this.total=0,this.allSelected=!0,this.idTO=null,this.channels=[{id:1,name:\"Facebook\",idname:\"Facebook\",selected:!1,checked:!1,icon:\"../assets/img/svg/facebook-grey3.png\",color:\"#425f9c\",count:0,act:\"fb\"},{id:2,name:\"Twitter\",idname:\"Twitter\",selected:!1,checked:!1,icon:\"../assets/img/svg/twitter-grey.png\",color:\"#00acee\",count:0,act:\"twitter\"},{id:4,name:\"Blogs\",idname:\"Blogs\",selected:!1,checked:!1,icon:\"../assets/img/svg/blogs-grey.png\",color:\"#fe6800\",count:0,act:\"blog\"},{id:5,name:\"Forum\",idname:\"Forum\",selected:!1,checked:!1,icon:\"../assets/img/svg/chat-grey.png\",color:\"#eeb64f\",count:0,act:\"forum\"},{id:3,name:\"News\",idname:\"News\",selected:!1,checked:!1,icon:\"../assets/img/svg/news-grey.png\",color:\"#39d44c\",count:0,act:\"news\"},{id:6,name:\"Video\",idname:\"vidio\",selected:!1,checked:!1,icon:\"../assets/img/svg/youtube-grey.png\",color:\"#ff0400\",count:0,act:\"video\"},{id:7,name:\"Instagram\",idname:\"image\",selected:!1,checked:!1,icon:\"../assets/img/svg/instagram-grey.png\",color:\"#9b2db6\",count:0,act:\"photo\"}],this.on(\"mount\",()=>{this.getavailableChannel(),this.validateChannel(),this.update({total:_.sumBy(this.channels,\"count\")}),t()}),this.updateRenderSentiment=()=>{let e=_.clone(this.parent.search);e.group_service=\"true\",e.service_category=null,APP.apiGet({path:\"mentions\",data:e,success:e=>{this.updateCount(e.items),this.isLoading=!1,this.update()}})},this.getavailableChannel=()=>{APP.apiGet({path:\"auth/get-restriction\",data:{type:\"channels\"},success:function(e){e=e&&e.length>0?e:\"1,2,3,4,5,6,7,8\",localStorage.setItem(\"channels\",e),this.maxkeyword=e,this.update()}.bind(this)})},this.validateChannel=()=>{var e=localStorage.channels;if(e||localStorage.clear(),e){var t=[],s=_.each(e,e=>{const s=_.findIndex(this.channels,[\"id\",parseInt(e)]);s>-1&&(this.channels[s].checked=!0,this.channels[s].selected=!0),t.push(this.channels[s])}),i=_.filter(s,(function(e){return e.selected}));const n=_.map(i,e=>e.id);this.parent.search.service_category=n.join(\",\"),this.parent.search.group_service=!1}else{t=[];_.each(this.channels,e=>{e.checked=!0,e.selected=!0,t.push(e)})}},this.selectAllChannel=e=>{e.preventDefault(),clearTimeout(this.idTO);const t=this.allSelected=!this.allSelected;this.channels=_.map(this.channels,e=>(e.selected=t,e)),this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},1250)},this.selectChannel=e=>{if(e.preventDefault(),e.item.checked){clearTimeout(this.idTO),e.item.selected=!e.item.selected;const t=_.filter(this.channels,(function(e){return e.checked})),s=_.find(t,{selected:!1});this.allSelected=!s,this.update(),this.idTO=setTimeout(()=>{this.channelSelected()},500)}},this.channelSelected=()=>{if(\"function\"==typeof e.cb){const t=this.getChannelSelected();e.cb(t)}},this.getChannelSelected=()=>_.filter(this.channels,e=>e.selected),this.updateCount=e=>{t();let s=!1;this.parent.refs.sentiment.sentiment.map(e=>e.selected).indexOf(!0)<0&&(s=!0);for(let t in this.channels){const i=this.channels[t].id;this.channels[t].name;this.channels[t].count=0;for(let n in e)n==i&&(this.channels[t].count=s?0:e[n])}const i=_.filter(this.channels,(function(e){return e.selected}));this.total=_.sumBy(i,\"count\"),maxStreams.trigger(\"maxstreams\",this.total),s&&(this.total=0),this.isLoading=!1,this.update()},this.on(\"mount\",()=>{this.update({total:_.sumBy(this.channels,\"count\")})}),menu.on(\"sidebar\",e=>{setTimeout(()=>{t()},1e3)}),window.onload=function(){t()},window.onresize=function(){t()}}))},2:function(e,t,s){s(0).tag2(\"breadcrumb\",'<div class=\"br-pageheader\" style=\" background-color: #dee2e6; padding:0px ;\"> </div>',\"\",\"\",(function(e){this.selectedProject=!1,this.breadCrumb=e=>{this.dataBreadCrumb=e,this.update()},this.render=()=>{this.update()},this.byProject=()=>{},breadCrumb.on(\"update\",e=>{this.dataBreadCrumb=e}),this.modeProject=()=>{void 0!==breadCrumb.project&&(this.dataBreadCrumb=[{link:\"#\",title:\"Projects\"},{link:\"#\",title:breadCrumb.project.name}],this.selectedProject=breadCrumb.project,this.update())},breadCrumb.on(\"modeProject\",()=>{this.modeProject()}),this.on(\"mount\",()=>{\"project\"==e.mode&&this.modeProject()})}))},6:function(e,t,s){s(0).tag2(\"tombol-refres\",'<div class=\"refres-error\"> <button class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width100 cursor-pointer tombol-refres\" onclick=\"{reload}\"><i class=\"mg-r-5 icon ion-ios-refresh-outline\"></i> Refresh</button> </div>',\"\",\"\",(function(e){this.on(\"mount\",()=>{}),this.reload=()=>{e.cb(\"data\")}}))}}]);","extractedComments":[]}