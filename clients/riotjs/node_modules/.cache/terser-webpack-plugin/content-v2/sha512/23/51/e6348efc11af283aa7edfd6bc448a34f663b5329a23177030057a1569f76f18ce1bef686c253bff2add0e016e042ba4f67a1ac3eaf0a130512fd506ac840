{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{211:function(t,e,i){i(1).tag2(\"stream-html\",'<div ref=\"textdetail\"></div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{APP.log(\"stream-html: mount\"),this.refs.textdetail.innerHTML=this.opts.text})}))},481:function(t,e,i){\"use strict\";i.r(e);var a=i(0);i(1).tag2(\"prdash-channel\",'<nav class=\"navbar\"> <div class=\"box-outer-ch\"> <div class=\"arrow-left-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right-ch\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner-ch\"> <div class=\"thumbs1 nav-item fontline nav-space {active: on_allSelected} all btn\" onclick=\"{toggleAllOnline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(on_total ? on_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Online </a> </div> <div class=\" thumbs1 nav-item fontline nav-space {active: o.selected} a{i} btn\" id=\"pointer\" each=\"{o,i in ch_onlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav> <nav class=\"navbar \"> <div class=\"box-outer\"> <div class=\"arrow-left\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z\"></path></svg> </div> <div class=\"arrow-right\"> <svg class=\"pn-Advancer_Icon\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 551 1024\"><path d=\"M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z\"></path></svg> </div> <div class=\"box-inner\"> <div class=\"thumbs nav-item fontline nav-space {active: off_allSelected} all btn\" onclick=\"{toggleAllOffline}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(off_total ? off_total :\\'0\\').format(\\'0 a\\')}</span> </br> <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>&nbsp; Offline </a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlines}\" onclick=\"{toggle}\" style=\"height:60px;margin-left: -5px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> <div class=\"thumbs nav-item fontline nav-space {active: o.selected} a{i} btn\" each=\"{o,i in chanel_offlinesother}\" onclick=\"{toggle}\" style=\"height:60px;\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(o.cat_mentions ? o.cat_mentions:\\'0\\').format(\\'0 a\\')}</span> </br> <span class=\"garis\"><i class=\"{icon}\" aria-hidden=\"true\"></i>&nbsp; {o.cat_name}</span></a> </div> </div> </div> </nav>',\"\",\"\",(function(t){this.on_allSelected=!0,this.off_allSelected=!0,this.render=t=>{APP.log(\"prdash-channel: render\");var e=this.parent.search;APP.apiGet({path:\"prdash\",data:e,success:t=>{const i=e.service_category?e.service_category.split(\",\").map(Number):\"\";let s=this;s.ch_onlines=[],s.ch_offlines=[],s.on_total=0,s.off_total=0,Object(a.forEach)(t,(function(t){i?i.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0,t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(s.ch_onlines.push(t),t.selected&&(s.on_total+=t.cat_mentions)):(s.ch_offlines.push(t),s.off_total+=t.cat_mentions)})),this.chanel_offlines=s.ch_offlines.filter((function(t){return\"Other\"!=t.cat_name})),this.chanel_offlinesother=s.ch_offlines.filter((function(t){return\"Other\"==t.cat_name})),s.update(),this.parent.refs.prgraph.filterchannel(t)}})},this.toggleAllOnline=()=>{let t;APP.log(\"prdash-channel: toggleAllOnline\"),t=this.on_allSelected=!this.on_allSelected,Object(a.forEach)(this.ch_onlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggleAllOffline=()=>{let t;APP.log(\"prdash-channel: toggleAllOffline\"),t=this.off_allSelected=!this.off_allSelected,Object(a.forEach)(this.ch_offlines,(function(e){e.selected=t})),this.update(),this.channelSelected()},this.toggle=t=>{APP.log(\"prdash-channel: toggle\"),t.item.o.selected=!t.item.o.selected;const e=Object(a.filter)(this.ch_onlines,(function(t){return t.selected})),i=Object(a.find)(e,{selected:!1}),s=Object(a.filter)(this.ch_offlines,(function(t){return t.selected})),l=Object(a.find)(s,{selected:!1});this.on_allSelected=!i,this.off_allSelected=!l,this.update(),this.channelSelected()},this.channelSelected=()=>{APP.log(\"prdash-channel: channelSelected\"),this.on_total=0,this.off_total=0;var t=Object(a.concat)(this.ch_onlines,this.ch_offlines),e=Object(a.filter)(t,(function(t){return t.selected}));Object(a.forEach)(e,t=>{t.cat_mentions=t.positive_count+t.negative_count+t.neutral_count,\"online\"===t.cat_type?(this.on_total+=t.cat_mentions,this.update()):this.off_total+=t.cat_mentions}),\"function\"==typeof this.opts.cb&&this.opts.cb(t)},this.on(\"mount\",()=>{APP.log(\"prdash-channel: mount\")}),$(window).resize((function(){$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"));$(\".box-inner\")[0].scrollWidth==$(\".box-outer\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left\").addClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"));$(\".box-inner-ch\")[0].scrollWidth==$(\".box-outer-ch\")[0].scrollWidth&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))})),$(document).ready((function(){setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs\").length;t++)e.push($(\".thumbs\")[t].scrollWidth);var i=Object(a.sumBy)(e,(function(t){return t}));$(\".box-inner\").scrollLeft()>=130?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")),$(\".box-inner\")[0].scrollWidth>i&&($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").addClass(\"hide\"))},1e3),$(\"div.arrow-left\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t-50},1),0==$(\".box-inner\").scrollLeft()?($(\"div.arrow-left\").addClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\")):($(\"div.arrow-right\").removeClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\"))})),$(\"div.arrow-right\").click((function(){var t=$(\".box-inner\").scrollLeft();$(\".box-inner\").animate({scrollLeft:t+50},1);var e=$(\".box-inner\")[0].scrollWidth-$(\".box-outer\")[0].scrollWidth;$(\".box-inner\").scrollLeft()>=e?($(\"div.arrow-right\").addClass(\"hide\"),$(\"div.arrow-left\").removeClass(\"hide\")):($(\"div.arrow-left\").removeClass(\"hide\"),$(\"div.arrow-right\").removeClass(\"hide\"))})),setTimeout(()=>{var t,e=[];for(t=0;t<$(\".thumbs1\").length;t++)e.push($(\".thumbs1\")[t].scrollWidth);var i=Object(a.sumBy)(e,(function(t){return t}));$(\".box-inner-ch\").scrollLeft()>=130?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")),$(\".box-inner-ch\")[0].scrollWidth>i&&($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").addClass(\"hide\"))},1e3),$(\"div.arrow-left-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t-300},1),0==$(\".box-inner-ch\").scrollLeft()?($(\"div.arrow-left-ch\").addClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\")):($(\"div.arrow-right-ch\").removeClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\"))})),$(\"div.arrow-right-ch\").click((function(){var t=$(\".box-inner-ch\").scrollLeft();$(\".box-inner-ch\").animate({scrollLeft:t+300},1);var e=$(\".box-inner-ch\")[0].scrollWidth-$(\".box-outer-ch\")[0].scrollWidth;$(\".box-inner-ch\").scrollLeft()>=e?($(\"div.arrow-right-ch\").addClass(\"hide\"),$(\"div.arrow-left-ch\").removeClass(\"hide\")):($(\"div.arrow-left-ch\").removeClass(\"hide\"),$(\"div.arrow-right-ch\").removeClass(\"hide\"))}))}))}))},482:function(t,e,i){\"use strict\";i.r(e);var a=i(0),s=i(11),l=i.n(s);i(1).tag2(\"prdashchart\",'<div class=\"panel padding-10-20\" if=\"{nodata}\"> <div if=\"{loading}\" class=\"loader\"></div> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF MENTION</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> </div> <div class=\"clearfix\"></div> <div id=\"pr-ghstream\" class=\"panel-body bg-white height300\"></div> </div> <div class=\"panel txtcenter\" style=\"height:300px;\" if=\"{!nodata}\"> <div class=\"panel-body\">NO DATA</div> <div id=\"pr-ghstream\" class=\"\"></div> </div>',\"\",\"\",(function(t){this.chart=null,window.check=this,this.type=\"daily\",this.nodata=!0,this.loading=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.prgraph={},this.selectTime=t=>{APP.log(\"prdash-graph: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(a.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.type=e,this.filterproc()},this.datapoints,this.render=()=>{this.loading=!0;let t=this.parent.search;APP.apiGetPR({path:\"report.php?action=lists\",data:t,success:function(t){t.items;this.datapoints=t.items,this.update(),this.filterproc()}.bind(this)}),APP.log(\"prdash-filter: render\")},this.filterproc=()=>{APP.log(\"prdash-filter: filterproc\");var t=this.datapoints;t=Object(a.map)(t,t=>{if(\"hourly\"===this.type)var e=moment(t.date_mod).format(\"YYYY-MM-DD HH\");if(\"daily\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM-DD\");if(\"monthly\"===this.type)e=moment(t.date_mod).format(\"YYYY-MM\");let i=null;return i={id:t.rid,date:e,formatdate:moment(t.date_mod).format(\"YYYY-MM-DD\"),date_mod:t.date_mod,count:1},i}).reduce((t,e)=>(Object(a.isObject)(e)&&(t[e.date]?t[e.date].count++:t[e.date]=e),t),{});let e=[];Object(a.forEach)(t,(function(t,i){e.push([moment(t.formatdate).utc().valueOf(),t.count])}));const i=this.chart=l()(\"pr-ghstream\",this.type);e=Object(a.orderBy)(e,[\"x\"]),i.addSeries({id:\"response\",shadow:!1,name:\"Mention\",lineWidth:2,color:\"#1C8348\",marker:{radius:3},data:e}),this.update({loading:!1})}}))},483:function(t,e,i){i(1).tag2(\"prdash-filter\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> FILTER </div> </div> <form id=\"myForm\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"col-xs-12 filter\"> by Keyword <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"internet\" riot-value=\"{keyword}\"> </div> <br> by Domain <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"domain\" riot-value=\"{domain}\"> </div> <br> by Author <div> <input type=\"text\" class=\"col-xs-12 keyword\" id=\"input-text\" ref=\"author\" riot-value=\"{author}\"> </div> <br> <div class=\"checkbox checkbox-theme display-inline-block\"> <input type=\"checkbox\" id=\"checkbox-inline-1\" class=\"exc\" value=\"true\" checked=\"{checked:checked}\"> <label for=\"checkbox-inline-1\" class=\"padding-left-30\">Exclude Marked Author</label> </div> <br> <div style=\"margin-top:20px\"> <button type=\"submit\" class=\"accsaved pointer\" id=\"addprojectaccount\"> Show Result</button> <button class=\"addprojectaccount \" id=\"cancel\" onclick=\"{reset}\"> Reset Filter </button> </div> </div> </form>',\"\",\"\",(function(t){this.kirim=t=>{t.preventDefault(),APP.log(\"prdash-filter: kirim\");let e={};if(null==$(\".exc:checked\").val())var i=!1;else i=$(\".exc:checked\").val();e.q=this.refs.internet.value,e.domain=this.refs.domain.value,e.author=this.refs.author.value,e.filterbot=i,\"function\"==typeof this.opts.cb&&this.opts.cb(e)},this.reset=()=>{APP.log(\"prdash-filter: reset\");let t={q:\"\",domain:\"\",author:\"\"};\"function\"==typeof this.opts.cb&&this.opts.cb(t)},this.getfilterlist=t=>{this.keyword=t.filter_keywords,this.domain=t.filter_domain,this.author=t.filter_author,this.checked=t.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()}}))},484:function(t,e,i){\"use strict\";i.r(e);var a=i(0);i(1).tag2(\"prdash-graph\",'<div class=\"panel padding-10-20\" if=\"{nodata}\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"col-md-6\"> <p class=\"text-light padding-top-10\"><strong>CHART STREAM OF MENTION</strong></p> </div> <div class=\"col-md-6\"> <div class=\"btn-group pull-right\"> <button onclick=\"{selectTime}\" type=\"button\" class=\"btn btn-default btn-sm {\\'bg-grey-300\\': selected}\" each=\"{times}\">{name}</button> </div> <i class=\" pull-right pointer btn-xs\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm \"><i class=\"fa fa-refresh\"></i></a></i> </div> <div class=\"clearfix\"></div> <div id=\"pr-ghstream\" class=\"panel-body bg-white height300\"></div> </div> <div class=\"panel txtcenter\" style=\"height:300px;\" if=\"{!nodata}\"> <div class=\"panel-body\">NO DATA</div> <div id=\"pr-ghstream\" class=\"\"></div> </div>',\"\",\"\",(function(t){this.nodata=!0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!0},{id:\"daily\",name:\"Daily\",selected:!1},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.prgraph={},this.reload=()=>{this.parent.getAPI()},this.selectTime=t=>{APP.log(\"prdash-graph: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(a.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.type=e,this.parent.search.type=e,this.dataselecttime()},this.dataselecttime=()=>{var t=this.parent.search;APP.apiGet({path:\"prdash/graph\",data:t,success:t=>{this.datapoints=t,this.filterproc()}})},this.datapoints,this.render=t=>{this.prgraph=Highcharts.chart(\"pr-ghstream\",{title:{text:\"\"},colors:[\"#1C8348\",\"#FF9800\"],subtitle:{text:\"\"},xAxis:{tickWidth:0,gridLineWidth:1,labels:{format:\"{value:%b %e}\"}},yAxis:[{title:{text:null},labels:{align:\"left\",x:3,y:16,format:\"{value:.,0f}\"},showFirstLabel:!1},{title:{text:null},labels:{},showFirstLabel:!1}],exporting:{enabled:!1},tooltip:{formatter:function(){var t=\"<b>\"+Highcharts.dateFormat(\"%b %e, %Y %H:00\",this.x)+\"</b>\";return $.each(this.points,(function(){t+=\"<br/>\"+this.series.name+\": \"+this.y})),t},crosshairs:!0,shared:!0},series:[{name:\"Online\",lineWidth:2,type:\"spline\",marker:{radius:2}},{name:\"Offline\",type:\"spline\"}]});var e=this.parent.search;APP.apiGet({path:\"prdash/graph\",data:e,success:t=>{const i=e.service_category?e.service_category.split(\",\").map(Number):\"\";Object(a.forEach)(t,(function(t){i?i.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0}));var s=Object(a.filter)(t,(function(t){return t.selected}));this.datapoints=s;let l=[],n=[];Object(a.forEach)(s,(function(t){\"online\"===t.cat_type?l.push({x:new Date(t.datetime),y:t.count}):n.push({x:new Date(t.datetime),y:t.count})})),l=Object(a.orderBy)(l,[\"x\"]),n=Object(a.orderBy)(n,[\"x\"]),this.prgraph.series[0].setData(l),this.prgraph.series[1].setData(n),this.filterproc(),this.update(),APP.log(\"prdash-filter: render\")}})},this.channels=null,this.s_positive=!0,this.s_negative=!0,this.s_neutral=!0,this.activeSections=[],this.filterchannel=t=>{this.channels=t},this.filtersentiments=t=>{APP.log(\"prdash-filter: filtersentiments\");let e=this;this.s_positive=this.s_negative=this.s_neutral=!1,this.activeSections=t.split(\",\").map(t=>\"\"+t.trim()),Object(a.forEach)(t.split(\",\"),(function(t){\"positive\"===t&&(e.s_positive=!0),\"negative\"===t&&(e.s_negative=!0),\"neutral\"===t&&(e.s_neutral=!0)})),this.filterproc()},this.filterproc=()=>{APP.log(\"prdash-filter: filterproc\");let t=Object(a.filter)(this.channels,(function(t){return t.selected})),e={},i={},s=this,l=this.parent.search.type;l=l||\"hourly\",Object(a.forEach)(this.datapoints,(function(n){let o=Object(a.find)(t,(function(t){return t.cat_id===n.cat_id}));if(o&&!0===o.selected){let t;switch(l){case\"hourly\":t=moment(n.datetime,\"YYYY-MM-DD HH\");break;case\"daily\":t=moment(n.datetime,\"YYYY-MM-DD\");break;case\"monthly\":t=moment(n.datetime,\"YYYY-MM\")}let a=0;s.s_positive&&(a+=n.positive_count),s.s_negative&&(a+=n.negative_count),s.s_neutral&&(a+=n.neutral_count),\"online\"===n.cat_type?e[t]?e[t]+=a:e[t]=a:i[t]?i[t]+=a:i[t]=a}}));let n=[],o=[];Object(a.forEach)(e,(function(t,e){n.push({x:new Date(e),y:t})})),Object(a.forEach)(i,(function(t,e){o.push({x:new Date(e),y:t})})),n=Object(a.orderBy)(n,[\"x\"]),o=Object(a.orderBy)(o,[\"x\"]),this.prgraph.series[0].setData(n),this.prgraph.series[1].setData(o),this.update()},this.on(\"mount\",()=>{APP.log(\"prdash-filter: mount\"),this.prgraph=Highcharts.chart(\"pr-ghstream\",{title:{text:\"\"},colors:[\"#1C8348\",\"#FF9800\"],subtitle:{text:\"\"},xAxis:{tickWidth:0,gridLineWidth:1,labels:{format:\"{value:%b %e}\"}},yAxis:[{title:{text:null},labels:{align:\"left\",x:3,y:16,format:\"{value:.,0f}\"},showFirstLabel:!1},{title:{text:null},labels:{},showFirstLabel:!1}],exporting:{enabled:!1},tooltip:{formatter:function(){var t=\"<b>\"+Highcharts.dateFormat(\"%b %e, %Y %H:00\",this.x)+\"</b>\";return $.each(this.points,(function(){t+=\"<br/>\"+this.series.name+\": \"+this.y})),t},crosshairs:!0,shared:!0},series:[{name:\"Online\",lineWidth:2,type:\"spline\",marker:{radius:2}},{name:\"Offline\",type:\"spline\"}]})})}))},485:function(t,e,i){i(1).tag2(\"modal-stream\",'<div class=\"modal fade\" id=\"StreamsDetailModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div if=\"{isLoading}\" class=\"loading\"></div> <div class=\"modal-header panel\"> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span> </button> <h4 class=\"modal-title\"> </h4> <h5 class=\"item-account-stream\"> <a href=\"{item.source}\" target=\"_blank\">{name?name:\\'\\'}</a> </h5> <i class=\"ion-android-globe icon-source\"></i> <i> {service?service:\\'\\'},&nbsp; <i class=\"fa fa-clock-o fsize15\"></i> {moment(date).format(\\' MMMM D, YYYY HH:mm \\')} </i> </div> <div class=\"modal-body\"> <div if=\"{dataimage}\" id=\"img-carousel\" style=\"margin-bottom:20px\" class=\"carousel slide\" data-ride=\"carousel\"> <ol class=\"carousel-indicators\"> <li each=\"{itm,idx in dataimage}\" data-target=\"#img-carousel\" data-slide-to=\"{idx}\" class=\"{active:idx==0}\"></li> </ol> <div class=\"carousel-inner\" role=\"listbox\"> <div each=\"{itm,idx in dataimage}\" class=\"item {active:idx==0}\"> <img alt=\"\" riot-src=\"{itm.url}\" data-src=\"{itm.url}\" onerror=\"this.src =\\'http://via.placeholder.com/640x360\\'\" alt=\"{itm.caption}\"> <div class=\"carousel-caption\"> <h3>{itm.caption}</h3> </div> </div> </div> <a class=\"left carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"prev\"> <span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Previous</span> </a> <a class=\"right carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"next\"> <span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Next</span> </a> </div> <div class=\"content full95block \"> <p ref=\"detailtext\">&nbsp;</p> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.item={},this.render=t=>{APP.log(\"prdash-stream-modal: render\"),this.item=t,this.service=t.service,this.name=t.media_name,this.date=t.date_format,this.refs.detailtext.innerHTML=t.summary,this.getimage(),this.update()},this.setSentiment=t=>{APP.log(\"prdash-stream-modal: setSentiment\"),\"function\"==typeof this.opts.cb&&(t.item=this.item,this.opts.cb(t)),$(\"#SmDetailModal\").modal(\"hide\")},this.delete=t=>{APP.log(\"prdash-stream-modal: delete\"),\"function\"==typeof this.opts.cb2&&(t.item=this.item,this.opts.cb2(t)),$(\"#SmDetailModal\").modal(\"hide\")},this.getimage=t=>{APP.log(\"prdash-stream: detailStream\");let e=this.parent.search;APP.apiGetPR({path:\"attachment.php?action=get\",data:e,success:function(t){this.dataimage=t.items,this.update({isLoading:!1})}.bind(this)})}}))},486:function(t,e,i){\"use strict\";i.r(e);var a=i(0);i(1).tag2(\"prdash-sentiment\",'<nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-4 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\" each=\"{sentiment}\" onclick=\"{toggle}\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total ? total:\\'0\\').format(\\'0.00 a\\').replace(\\'.00\\', \\'\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">{name} </span></a> </li> </li> </ul> </nav> <nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-6 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total_online ? total_online:\\'0\\').format(\\'0%\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">Online </span></a> </li> <li class=\"col-xs-6 nav-item sentiment nav-space {\\'active\\': selected} {id}\" id=\"pointer\"> <a class=\"nav-link\"><span class=\"garis\">{numeral(total_offline ? total_offline:\\'0\\').format(\\'0%\\')} <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\">Offline </span></a> </li> </ul> </nav>',\"\",\"\",(function(t){this.sentiment=[{id:\"positive\",total:0,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\"},{id:\"negative\",total:0,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\"},{id:\"neutral\",total:0,name:\"Netral\",selected:!0,color:\"count-txt color-orange-500\"}],this.toggle=t=>{APP.log(\"prdash-sentiment: toggle\");let e=t.item;e.selected=!e.selected,this.update(),this.Selected()},this.Selected=()=>{if(APP.log(\"prdash-sentiment: Selected\"),\"function\"==typeof this.opts.cb){let t=[];Object(a.forEach)(this.sentiment,(function(e){e.selected&&t.push(e.id)})),this.opts.cb(t.toString())}},this.render=t=>{APP.log(\"prdash-sentiment: render\");const e=this.parent.search;e.section=\"\",APP.apiGet({path:\"prdash\",data:e,success:t=>{let i=0,s=0,l=0,n=0,o=0;Object(a.forEach)(t,(function(t){const a=e.service_category?e.service_category.split(\",\").map(Number):\"\";a?a.indexOf(t.cat_id)>-1?t.selected=!0:t.selected=!1:t.selected=!0,t.selected&&(i+=t.positive_count,s+=t.negative_count,l+=t.neutral_count,\"online\"===t.cat_type?n+=t.positive_count+t.negative_count+t.neutral_count:o+=t.positive_count+t.negative_count+t.neutral_count)})),Object(a.forEach)(this.sentiment,(function(t){\"positive\"===t.id&&(t.total=i),\"negative\"===t.id&&(t.total=s),\"neutral\"===t.id&&(t.total=l)})),this.total_online=n/(n+o),this.total_offline=o/(n+o),this.update()}})},this.renderChannel=t=>{let e=0,i=0,s=0,l=0,n=0;Object(a.forEach)(t,(function(t){t.selected&&(e+=t.positive_count,i+=t.negative_count,s+=t.neutral_count,\"online\"===t.cat_type?l+=t.positive_count+t.negative_count+t.neutral_count:n+=t.positive_count+t.negative_count+t.neutral_count)})),Object(a.forEach)(this.sentiment,(function(t){\"positive\"===t.id&&(t.total=e),\"negative\"===t.id&&(t.total=i),\"neutral\"===t.id&&(t.total=s)})),this.total_online=l/(l+n),this.total_offline=n/(l+n),this.update()}}))},487:function(t,e,i){i(1).tag2(\"prdash-stream-modal\",'<div class=\"modal fade\" id=\"SmDetailModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" style=\"width: 80%;\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-header panel\"> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span> </button> <div class=\"row\"> <div class=\"col-md-12\"> <h4 class=\"modal-title\"> </h4> <h5 class=\"item-account-stream\"> <a href=\"{item.source}\" target=\"_blank\">{item.user?item.user.name:\\'\\'}</a> </h5> <i class=\"ion-android-globe icon-source\"></i> <i> {item.service},&nbsp; <i class=\"fa fa-clock-o fsize15\"></i> {moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} </i> </div> <div class=\"col-md-12\"> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Tags:</div> <div class=\"tagsprdasboardAdd\" if=\"{!this.totalvalue || this.totalvalue == 0}\"> - </div> <div class=\"tagsprdasboard\" each=\"{o,i in tagvalue}\" if=\"{totalvalue > 0}\">{o}</div> </div> <div class=\"col-md-5\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Newstrend: </div> <div class=\"tagsprdasboardAdd\" if=\"{item.newstrend == ⁗ ⁗ || item.newstrend == undefined}\"> - </div> <div class=\"tagsprdasboard\" if=\"{item.newstrend}\">{item.newstrend}</div> </div> <div class=\"col-md-3\" style=\"margin-left: -10px;\"> <div class=\"buttons-act hidden-xs\" style=\"right:0px;\"> <div class=\"button-single1 {net:(item.sentiment != null) && item.sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(item.sentiment != null) && item.sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(item.sentiment != null) && item.sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> <div class=\"visible-xs\"> <div class=\"button-single1 {net:(item.sentiment != null) && item.sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(item.sentiment != null) && item.sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(item.sentiment != null) && item.sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> <div class=\"modal-body\"> <div if=\"{item.images}\" id=\"img-carousel\" style=\"margin-bottom:20px\" class=\"carousel slide\" data-ride=\"carousel\"> <ol class=\"carousel-indicators\"> <li each=\"{itm,idx in item.images}\" data-target=\"#img-carousel\" data-slide-to=\"{idx}\" class=\"{active:idx==0}\"></li> </ol> <div class=\"carousel-inner\" role=\"listbox\"> <div each=\"{itm,idx in item.images}\" class=\"item {active:idx==0}\"> <img alt=\"\" riot-src=\"{APP.apiImage + itm.url}\" data-src=\"{APP.apiImage + itm.url}\" onerror=\"this.src =\\'http://via.placeholder.com/640x360\\'\" alt=\"{itm.caption}\"> <div class=\"carousel-caption\"> <h3>{itm.captio}</h3> </div> </div> </div> <a class=\"left carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"prev\"> <span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Previous</span> </a> <a class=\"right carousel-control\" href=\"#img-carousel\" role=\"button\" data-slide=\"next\"> <span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Next</span> </a> </div> <div class=\"content full95block \" style=\"margin-left: 0px;width: 100%;\"> <p ref=\"detailtext\" class=\"modalformat\" style=\"margin-left: 0px;\">&nbsp;</p> </div> </div> <div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div>',\"\",\"\",(function(t){this.item={},this.render=t=>{t.tags&&(this.tagvalue=t.tags,this.totalvalue=this.tagvalue.length),APP.log(\"prdash-stream-modal: render\"),this.item=t,this.refs.detailtext.innerHTML=t.text,this.update()},this.setSentiment=t=>{APP.log(\"prdash-stream-modal: setSentiment\"),\"function\"==typeof this.opts.cb&&(t.item=this.item,this.opts.cb(t)),$(\"#SmDetailModal\").modal(\"hide\")},this.delete=t=>{APP.log(\"prdash-stream-modal: delete\"),\"function\"==typeof this.opts.cb2&&(t.item=this.item,this.opts.cb2(t)),$(\"#SmDetailModal\").modal(\"hide\")}}))},488:function(t,e,i){\"use strict\";i.r(e);i(14),i(487),i(211);var a=i(0);i(1).tag2(\"prdash-stream-timeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagging pagination=\"{pagination}\"></pagging> <div><i class=\" pull-right pointer refres-streams\" onclick=\"{reload}\"><a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"><i class=\"fa fa-refresh\"></i></a> </i> </div> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{filter}\"> <div if=\"{filter}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <prdash-stream-modal ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></prdash-stream-modal> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{items}\" id=\"setvaleu{_id}\"> <div if=\"{isLoadingset(_id)}\" class=\"loadersentiment\"></div> <div class=\"col-xs-12 holder-timeline {_id} \"> <div class=\"row nomargin {_id}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{user.name}</a></br> </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {service} -{moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{images != undefined && images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{text.substring(0,255)+\\'...\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#SmDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> <div class=\"tanggal\" style=\"margin-top:20px\"> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Tags: </div> <div class=\"tagsprdasboardAdd\" if=\"{!settotal[_id] || settotal[_id] == 0}\"> - </div> <div class=\"tagsprdasboard\" each=\"{o,i in tagvalue[_id]}\" if=\"{settotal[_id] > 0}\">{o}</div> </div> <div class=\"col-md-4\" style=\"margin-left: -10px;\"> <div class=\"texttags\" style=\"float: left;\">Newstrend: </div> <div class=\"tagsprdasboardAdd\" if=\"{newstrend == ⁗ ⁗ || newstrend == undefined}\"> - </div> <div class=\"tagsprdasboard\" if=\"{newstrend}\">{newstrend}</div> </div> <div class=\"col-md-4\"> <div class=\"buttons-act\" style=\"right:-65%;position: relative;\"> <div class=\"button-single1 {net:(sentiment != null) && sentiment.value == 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:(sentiment != null) && sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:(sentiment != null) && sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.userLoadingSentiment;const e=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.imgmodalf=t=>{this.imgmodal=t.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update()})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof this.opts.cb&&this.opts.cb()},this.setSentiment=t=>{APP.log(\"prdash-stream: setSentiment\");let e=t.target.id,i=t.item._id;this.userLoadingSentiment=i,this.search.streamid=i,this.search.sentiment=e,APP.apiGet({path:\"prdash/update_sentiment\",data:this.search,success:function(t){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.userLoadingSentiment=void 0,this.saveData(),this.render()}.bind(this)})},this.delete=t=>{APP.log(\"prdash-stream: delete\");t.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(t){$(\"#setvaleu\"+e).fadeOut(1600),this.saveData()}.bind(this)}),this.update()})},this.detailStream=t=>{APP.log(\"prdash-stream: detailStream\"),this.refs.streamdetail.render(t.item)},this.render=()=>{APP.log(\"prdash-stream: render\");let t=this,e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGet({path:\"prdash/streams\",data:e,success:function(e){t.items=e.item,this.total=this.items.length,this.loadTags(t.items),t.pagination.pages=Math.ceil(e.total/this.query.limit),t.isLoading=!1,this.update()}.bind(this)}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.tagvalue={},this.settotal={},this.loadTags=t=>{Object(a.each)(t,(function(t,i){t.tags&&(e.tagvalue[t._id]=t.tags,e.settotal[t._id]=e.tagvalue[t._id].length)}))},this.reload=()=>{this.isLoading=!0,this.render()}}))},489:function(t,e,i){\"use strict\";i.r(e);i(254),i(485),i(211);var a=i(0);i(1).tag2(\"prdashtimeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\" style=\"padding: 0\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagination pagination=\"{pagination}\"></pagination> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{isLoading}\"> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No Data </div> </div> <modal-stream ref=\"streamdetail\" cb=\"{setSentiment}\" cb2=\"{delete}\"></modal-stream> <div if=\"{!isLoading}\" class=\"panel bg-transparent row nomargin \" each=\"{o,i in items}\" id=\"setvaleu{rid}\"> <div class=\"col-xs-12 holder-timeline {rid} \"> <div class=\"row nomargin {rid}\"> <div class=\"inblock\"> <div class=\"nama \"> <a href=\"{source}\" target=\"_blank\">{o.media_name}</a></br> </div> <div class=\"content \" style=\"text-align: justify ; min-height: 0px; \"> {o.title} </div> <div class=\"tanggal \" style=\"margin-top:0px\"> </br> {o.service} -{moment(o.date_format).format(\\' MMMM D, YYYY HH:mm \\')} </div> <div class=\"content \" style=\"text-align: justify;\"> <img alt=\"\" if=\"{o.images != undefined && o.images != \\'\\'}\" riot-src=\"{APP.apiImage +((images) ? (images[0] ? images[0].url : \\'\\') : \\'\\')}\" class=\"imgText cursor\" data-toggle=\"modal\" data-target=\"#PRdashboard\" onclick=\"{imgmodalf}\"> <stream-html text=\"{o.summary.substring(0,1000)+\\'\\'}\"></stream-html> <button class=\"selanjutnya pointer\" data-toggle=\"modal\" data-target=\"#StreamsDetailModal\" onclick=\"{detailStream}\">selengkapnya</button> </div> <br> </div> </div> </div> </div> <div class=\"modal fade\" id=\"PRdashboard\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" if=\"{imgmodal != undefined && imgmodal != \\'\\'}\" riot-src=\"{APP.apiImage +((imgmodal) ? (imgmodal[0] ? imgmodal[0].url : \\'\\') : \\'\\')}\" width=\"100%\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer pull-right\" data-dismiss=\"modal\">Close</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.userLoadingSentiment,this.array=!1;const e=this;this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"prdash-stream: changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.imgmodalf=t=>{this.imgmodal=t.item.images},this.on(\"mount\",(function(){APP.log(\"prdash-stream: mount\"),this.isLoading=!0,this.refs.limitPage.value=pageLimit,this.update()})),this.saveData=()=>{APP.log(\"prdash-stream: saveData\"),\"function\"==typeof this.opts.cb&&this.opts.cb()},this.detailStream=t=>{this.refs.streamdetail.isLoading=!0,APP.log(\"prdash-stream: detailStream\");let e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGetPR({path:\"report.php?action=get\",data:e,success:function(e){this.refs.streamdetail.render(t.item.o),this.isLoading=!1,this.update()}.bind(this)})},this.render=()=>{APP.log(\"prdash-stream: render\");let t=this,e=this.parent.search;e.limit=this.query.limit,e.page=this.query.page,APP.apiGetPR({path:\"report.php?action=lists\",data:e,success:function(i){APP.apiGetPR({path:\"report.php?action=get\",data:e,success:function(e){var s=i.items;if(i=Object(a.map)(s,t=>{let i=null;return i={rid:t.rid,date_format:moment(t.date_mod).format(\"YYYY-MM-DD HH\"),title:e.items[0].title,media_name:e.items[0].media_name,service:e.items[0].service,summary:e.items[0].summary,service:e.items[0].service},i}),this.pagination.page)var l=(this.pagination.page-1)*this.query.limit,n=l+this.query.limit;this.parent.refs.prsentiment.render(i.length),t.items=i.slice(l,n),this.total=this.items.length,this.pagination.pages=Math.ceil(i.length/this.query.limit),t.isLoading=!1,t.update()}.bind(t)})}}),this.userLoadingSentiment=void 0,this.isLoad=!1,this.Loading=!1},this.reload=()=>{this.isLoading=!0,this.render()}}))},490:function(t,e,i){i(1).tag2(\"prdash-total\",'<nav class=\"navbar\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\"> <li class=\"col-xs-12 nav-item sentiment nav-space active positive\"> <a class=\"nav-link\"><span class=\"garis\"><h1>{total}</h1> <div if=\"{isLoading}\" class=\"loader\"></div> </span> <span class=\"garis\"><h1>Total Streams</h1></span></a> </li> </li> </ul> </nav>',\"\",\"\",(function(t){this.render=t=>{this.total=t,this.update()}}))}}]);","extractedComments":[]}