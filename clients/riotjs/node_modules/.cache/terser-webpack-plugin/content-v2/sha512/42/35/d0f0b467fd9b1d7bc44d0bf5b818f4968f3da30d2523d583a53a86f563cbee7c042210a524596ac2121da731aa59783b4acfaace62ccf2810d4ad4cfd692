{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{232:function(e,t,s){\"use strict\";s.r(t);var n=s(0),a=s(51),i=s.n(a),o=(s(6),s(3));s(1).tag2(\"reac-of-mention\",'<div class=\"widget-2 mg-t-10\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header height\"> <h6 class=\"card-title\"> <img src=\"assets/images/components/icons/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> REACH VS MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-r-10 pd-l-10 pd-t-5 pd-t-5 pd-r-15 pd-b-10 pd-l-15 -pd-20 bd-color-gray-lighter height304 textcenter -mg-t-0\" if=\"{nodata}\"> No data found, please input another dates </div> <div class=\"card-body pd-r-10 pd-l-10 pd-t-5 pd-t-5 pd-r-15 pd-b-10 pd-l-15 bd-color-gray-lighter height304 \" if=\"{!nodata}\"> <div class=\"row no-gutters tx-center height289\" id=\"chartreachofmention\"> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.totalEngagement=0,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.mentionreach=[{color:\"#0a95a0\",id:\"mention\",name:\"Mention\",no:1},{color:\"#e27c73\",id:\"reach\",name:\"Reach\",no:2}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=e=>{APP.log(\"chart streams : selecttme\"),e.preventDefault(),e.item.selected=!0;const t=e.item.id;this.times=Object(n.map)(this.times,e=>(e.id!=t&&(e.selected=!1),e)),this.update(),this.render()},this.render=e=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const s=Object(n.find)(this.times,{selected:!0}).id;let a=Object(n.clone)(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=s,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var r=[];Object(o.a)(this.mentionreach,(s,i)=>{if(!this.isExist)return!1;let o=a.section.split(\",\").map(e=>e.trim());const c=o.indexOf(\"negative\")>-1,l=o.indexOf(\"neutral\")>-1,d=o.indexOf(\"positive\")>-1;a.section=\"\",c&&(a.section=\"negative,\"),l&&(a.section+=\"neutral,\"),d&&(a.section+=\"positive,\"),a.section+=s.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:e=>{e=e.items;let t=[];t=(e=Object(n.sortBy)(e,e=>moment(e.date).toDate())).map(e=>[moment(e.date).utc().valueOf(),e.count]),t.length>0&&(this.nodata=!1),r.push({id:\"response\",shadow:!1,noid:s.no,name:s.name,type:\"Mention\"==s.name?\"areaspline\":\"column\",lineWidth:1,color:s.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,s.color],[1,Highcharts.Color(s.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:t,yAxis:\"Mention\"==s.name?1:0}),i()},error:s=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),Object(n.isFunction)(e)&&e()}},(e,t,s)=>{console.log({x:e,y:t,z:s})},i),this.ajaxChannels.push([])},()=>{if(!this.nodata){const e=\"chartreachofmention\";this.update({nodata:this.nodata}),r=Object(n.orderBy)(r,[\"noid\"],[\"asc\"]),this.data=r,this.chart=i()(e,s,\"#ccc\");for(var t=0;t<=r.length-1;t++)this.chart.addSeries(r[t])}this.update({Loader:!1,isLoadingerror:!1}),Object(n.isFunction)(e)&&e()})},this.downloadcsv=()=>{const e=Object(n.cloneDeep)(this.data).map(e=>e.data.map(t=>({tgl:t[0],tipe:e.name,count:t[1]}))),t=Object(n.flatten)(e),s=Object(n.groupBy)(t,\"tgl\");let a=[];for(let e in s){const t=Object(n.groupBy)(s[e],\"tipe\"),i=Object(n.result)(t,\"Mention[0].count\",0),o=Object(n.result)(t,\"Reach[0].count\",0),r=i+o;a.push({tgl:moment(Number(e)).format(\"YYYY-MM-DD h:mm:ss\"),mentions:i,reach:o,total:r})}a.length>0&&APP.downloadcsv(a,\"Reach_vs_mention_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,t=0,this.update(),this.render()}}))},275:function(e,t,s){\"use strict\";s.r(t);var n=s(0),a=s(18),i=s.n(a);s(6);s(1).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mr-auto\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 mg-t-7\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default mg-t-7\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"row\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-13\" id=\"filter_by_social_share\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{() => {this.filterBy(\\'mention\\')}}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{() => {this.filterBy(\\'engagement\\')}}\">Engagement</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{() => {this.filterBy(\\'unique\\')}}\">Unique Author</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{() => {this.filterBy(\\'reach\\')}}\">Reach</a> </nav> </div> </div> </div> </div> <div class=\"col-12 height400\" id=\"shareofvoice\"></div> </div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;const s={mention:\"Mention\",engagement:\"Engagement\",unique:\"Unique Author\",reach:\"Reach\"};this.currentFilter=\"mention\";let a=[\"Facebook\",\"Twitter\",\"Instagram\",\"Video\",\"Portal\",\"Forums\",\"Blogs\"].map(e=>({name:e,count:0}));const o={Video:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6,color:\"#D80F42\"},Videos:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6,color:\"#D80F42\"},Image:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7,color:\"#D28A57\"},Images:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7,color:\"#D28A57\"},Portal:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3,color:\"#F5C825\"},Portals:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3,color:\"#F5C825\"},News:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3,color:\"#F5C825\"},Facebook:{icon:\"/assets/images/components/icons/facebook-grey3.png\",name:\"Facebook\",idchannels:1,color:\"#425F9C\"},Twitter:{icon:\"/assets/images/components/icons/twitter-grey.png\",name:\"Twitter\",idchannels:2,color:\"#00ACEE\"},Blog:{icon:\"/assets/images/components/icons/blogs-grey.png\",name:\"Blogs\",idchannels:4,color:\"#444343\"},Blogs:{icon:\"/assets/images/components/icons/blogs-grey.png\",name:\"Blogs\",idchannels:4,color:\"#444343\"},Forum:{icon:\"/assets/images/components/icons/chat-grey.png\",name:\"Forums\",idchannels:5,color:\"#5BB87A\"},Forums:{icon:\"/assets/images/components/icons/chat-grey.png\",name:\"Forums\",idchannels:5,color:\"#5BB87A\"},Instagram:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7,color:\"#D28A57\"}};this.filterBy=e=>{this.currentFilter=e,$(\"#filter_by_social_share\").html(s[e]),this.render()},this.render=e=>{let s={...this.parent.search,filter_by:this.currentFilter};s.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/share-of-voice\",data:s,success:t=>{Object(n.isFunction)(e)&&e();const s=t.items;const a=Object(n.sumBy)(s,\"count\");let r=Object(n.map)(s,e=>{let t={};return t.y=e.count,t.name=o[e.name]&&o[e.name].name?o[e.name].name:\"\",t.color=e.color,t.isZero=0==e.count,t});const c=Object(n.map)(r,e=>e.name),l=Object(n.filter)(o,e=>c.indexOf(e.name)<0).map(e=>({y:a>=1e4?1:0,name:e.name,color:e.color,isZero:!0}));let d=Object(n.uniqBy)(l,\"name\");r=r.concat(d);if(0===r.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),r=Object(n.orderBy)(r,[\"y\"],[\"desc\"]);Object(n.map)(r,e=>e.color);this.items=r,(this.chartpie=i()(\"shareofvoice\")).addSeries({data:r}),this.update({isLoading:!1,isLoadingerror:!1})},error:s=>{void 0!==t&&(++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())),Object(n.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.isZero?0:e.y?e.y.formatMoney(0):0}));const t=Object(n.map)(e,e=>e.name);let s=Object(n.filter)(a,e=>t.indexOf(e.name)<0);(e=Object(n.concat)(e,s)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},276:function(e,t,s){\"use strict\";s.r(t);var n=s(0);s(6);s(1).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 -borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img alt=\"\" src=\"/assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\"> SOURCE OF MENTIONS </h6> </div> <div class=\"card-body p-0\"> <div class=\"btn-group pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase\" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11\" id=\"filter_by_source_of_mention\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterMentionSourceOfMention}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterEngagementSourceOfMention}\">Engagement</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterUniqueAuthorSourceOfMention}\">Unique Author</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterReachSourceOfMention}\">Reach</a> </nav> </div> </div> </div> <div class=\"pd-10 min-height384\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-50\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height315 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{o.percent}%\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent > 100 ? `+100`: o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1;const s={Video:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6},Videos:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7},Images:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3},Portals:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3},News:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"/assets/images/components/icons/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"/assets/images/components/icons/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"/assets/images/components/icons/blogs-grey.png\",name:\"Blogs\",idchannels:4},Forum:{icon:\"/assets/images/components/icons/chat-grey.png\",name:\"Forums\",idchannels:5},Instagram:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7}};this.filterMentionSourceOfMention=e=>{this.parent.search.filter_by=\"mention\",$(\"#filter_by_source_of_mention\").html(\"Mention\"),this.render()},this.filterEngagementSourceOfMention=e=>{this.parent.search.filter_by=\"engagement\",$(\"#filter_by_source_of_mention\").html(\"Engagement\"),this.render()},this.filterUniqueAuthorSourceOfMention=e=>{this.parent.search.filter_by=\"unique_author\",$(\"#filter_by_source_of_mention\").html(\"Unique Author\"),this.render()},this.filterReachSourceOfMention=e=>{this.parent.search.filter_by=\"reach\",$(\"#filter_by_source_of_mention\").html(\"Reach\"),this.render()},this.isLoading=!0,this.render=e=>{this.update({isLoading:!0}),APP.log(\"source of mention : render\");let a={...this.parent.search,compare:!0};APP.apiGet({path:\"mentions/composition\",data:a,success:t=>{const a=t.items,i=Object(n.sumBy)(a,\"total\");var o=Object(n.map)(a,e=>{let t={},n=100*e.total/i;const a=e.difference&&e.difference.total?e.difference.total:[];return t.caret=\"up\"===a[0]?\"fa fa-caret-up\":\"down\"===a[0]?\"fa fa-caret-down\":\"fa fa-minus\",t.color=\"up\"===a[0]?\"#23BF08\":\"down\"===a[0]?\"#DC3545\":\"#d2dc35\",t.percent=a[1],t.width=n?n.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,t.total=e.total,t.name=s[e.name]&&s[e.name].name?s[e.name].name:\"\",t.icon=s[e.name]&&s[e.name].icon?s[e.name].icon:\"\",t.idch=s[e.name]&&s[e.name].idchannels?s[e.name].idchannels:\"\",t.totalData=i,t});o=Object(n.orderBy)(o,[\"total\"],[\"desc\"]);const r=Object(n.map)(o,e=>e.name),c=Object(n.filter)(s,e=>r.indexOf(e.name)<0).map(e=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:e.name,icon:e.icon,total:0,idch:e.idchannels}));let l=Object(n.uniqBy)(c,\"name\");this.channels=o.concat(l),this.total=o.length,this.totalValue=i,this.update({isLoading:!1,isLoadingerror:!1}),Object(n.isFunction)(e)&&e()},error:s=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(n.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.selectchannels=e=>{let t=e.item.o.idch;this.search=Object(n.clone)(this.parent.search);let s=this.search.q||\"\";this.parent.detailmentions(null,null,t,null,s,null,null,null,null,null,null,null)},$(document).ready((function(){$('[data-toggle=\"tooltip\"]').tooltip()}))}))}}]);","extractedComments":[]}