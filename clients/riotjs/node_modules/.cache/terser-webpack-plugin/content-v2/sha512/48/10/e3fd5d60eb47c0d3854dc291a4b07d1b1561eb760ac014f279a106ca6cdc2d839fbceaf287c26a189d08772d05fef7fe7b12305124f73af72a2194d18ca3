{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{207:function(e,t,i){i(1).tag2(\"download-tasks\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Background Tasks</h4> </div> </div> </div> </div> </div> </div> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <table class=\"table table-bordered table-stripped\"> <thead style=\"background-color: #BBB;\"> <tr> <th width=\"20\">#</th> <th width=\"200\">Type</th> <th>Data</th> <th width=\"200\">Status</th> <th width=\"200\">Actions</th> </tr> </thead> <tbody> <tr if=\"{noTask}\"> <td colspan=\"5\" class=\"text-center\">No Task Item</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.noTask=!0}))},208:function(e,t,i){\"use strict\";i.r(t);var a=i(0);i(6);i(1).tag2(\"facebook\",'<div class=\"panel\"> <header-menu></header-menu> </div> <div class=\"container-fluid fade\" style=\"margin-top:20px;\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"row\" style=\" border-bottom: 2px solid #eee;\"> <div class=\"col-md-9\" style=\"border-right: 1px solid #eee ;\"> <h4 class=\"panel-head\"> Facebook<h4> <hr> <div class=\"panel-body\"> <form class=\"form-horizontal\"> <div class=\"form-group\"> <label for=\"date\" class=\"control-label col-sm-3\"><p>Facebook Account</p></label> <div class=\"col-sm-6\"> <select class=\"form-control\" id=\"custom\" multiple=\"multiple\" ref=\"facebook\" required> <option selected=\"{selected:o.fans_url}\" each=\"{o,i in getfanpage}\" id=\"{o.fans_page_id}\">{o.fans_url}</option> </select> <i class=\"fa fa-info-circle fa-1x toltiptext visible-xs visible-sm\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Put facebook account name for author that want to be registered as a buzzer\" data-placement=\"left\"></i> </div> <div class=\"col-sm-3\"><i class=\"fa fa-info-circle fa-1x hidden-xs hidden-sm\" aria-hidden=\"true\" style=\"margin-top:20px\" data-toggle=\"tooltip\" title=\"facebook account \" data-placement=\"right\"></i> </div> </div> </form> </div> </div> <div class=\"col-md-3\"> </div> </div> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"col-md-2 col-md-offset-10\"> <div>&nbsp;</div> <div id=\"addprojectaccount\" class=\"accsaved pointer\" onclick=\"{postfacebook}\">save</div> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.addAccount=!1,this.refresh=!0,this.accountHide=!0,this.profileId=null,this.selectedPages=[],this.subcribedPage=[],this.indexdata=[],this.closedId,this.errordata=!1,this.on(\"mount\",()=>{APP.log(\"Account : mount\"),menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/facebook\"),APP.animationFadeIn(),this.getfacebook(),$(\"select#custom\").select2({tags:!0,width:\"100%\"})}),$(document).ready((function(){$(\"select#custom\").on(\"select2:closing\",(function(e){let t=e.params.args.originalSelect2Event;if(!t)return null;if(t=t.data.element,void 0===t)return null;var i=t.id;if(!i)return null;swal({title:\"Alert\",text:\"Are you sure you want to delete this URL facebook crawl?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},e=>{if(e){var t={project:p(\"project\")?p(\"project\"):APP.getProject()};APP.apiGet({path:\"projects/client-fanpage/\"+i,data:t,success:function(e){setTimeout(()=>{swal({title:\"Success\",text:\"Succes\",type:\"success\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})},1e3)}})}else location.reload()})}))})),this.postfacebook=()=>{APP.log(\"buzzer-account : postfacebook\");var e=this.refs.facebook,t=$(e).val().toString(),i={project:p(\"project\")?p(\"project\"):APP.getProject(),fanpages:t,parse_data:!0};APP.apiPost({path:\"projects/client-fanpage\",data:i,parse_data:!0,success:function(e){console.log(\"succes\",e);var t=e.data;if(e.data)Object(a.forEach)(t,(function(e){Object(a.isEmpty)(e)||$(\".select2-selection__rendered li\").each((function(t){var i=$(this).attr(\"title\");i===e.url&&($(this).css(\"color\",\"red\"),$(this).html('<span class=\"select2-selection__choice__remove\" role=\"presentation\">Ã—</span>'+i+\" (invalid url) \"))}))}));e.data?swal({title:\"Alert\",text:\"invalid URL\",type:\"warning\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \"}):swal({title:\"Success\",text:\"Succes\",type:\"success\",confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0})}})},this.getfacebook=()=>{APP.log(\"buzzer-account : postfacebook\");var e={project:p(\"project\")?p(\"project\"):APP.getProject()};APP.apiGet({path:\"projects/client-fanpage\",data:e,success:function(e){this.getfanpage=e,this.update()}.bind(this)})}}))},209:function(e,t,i){\"use strict\";i.r(t);i(5),i(2),i(87),i(86),i(85),i(84);i(1).tag2(\"healthindexaccount\",'<breadcrumb current=\"Dashboard Digital Helath Index\" ref=\"breadcrumb\" mode=\"project\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">DIGITAL HEALTH INDEX</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud\"> <span> <date-picker cb=\"{setDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\" style=\"padding:0px\"></date-picker></span> </div> </div> </div> </div> </div> </div> </div> <totalhealthindex ref=\"totalhealthindex\"></totalhealthindex> <div class=\"row row-sm\"> <div class=\"col-md-12 mg-t-20\"> <sentimentchannels ref=\"sentimenperchannels\"></sentimentchannels> </div> </div> <div class=\"row row-sm\"> <div class=\"col-md-6 mg-t-20\"> <interactionmetric ref=\"interactionmetric\"></interactionmetric> </div> <div class=\"col-md-6 mg-t-20\"> <averagedailymentions ref=\"averagedailymention\"></averagedailymentions> </div> </div> <footer class=\"br-footer\"> <div class=\"footer-left\"> </div> <div class=\"footer-right d-flex align-items-center\"> </div> </footer> </div>',\"\",\"\",(function(e){const t=APP.services.HealthIndex,i=[\"totalhealthindex\",\"sentimenperchannels\",\"interactionmetric\",\"averagedailymention\"];this.search={since:null,until:null,project:null,service_category:null},this.getHealth=async()=>{const e=new t;return await e.getSummary(this.search)},this.getHealthSentiment=async()=>{const e=new t;return await e.getSentiment(this.search)},this.setAllIsLoadingMode=()=>{for(const e of i)\"totalhealthindex\"===e&&(this.refs[e].isLoadingDiff=!0,this.refs[e].isLoadingSummaryItems=!0),this.refs[e].isLoading=!0;this.update()},this.setDate=(e,t)=>{this.search.since=e,this.search.until=t,this.refreshLoadData()},this.renderComponent=(e,t)=>{APP.log(\"refreshing data on ref:\",e),this.refs[e].render(t)},this.refreshLoadData=async(e,t)=>{APP.log(\"health-index-account: updateDate\"),this.setAllIsLoadingMode(),this.getHealth().then(({summary:e,details:t,available_channels:i})=>{this.renderComponent(\"totalhealthindex\",{summary:e,details:t,ac:i,search:this.search}),this.renderComponent(\"interactionmetric\",{summary:e,details:t,ac:i,search:this.search})}),this.getHealthSentiment().then(({items:e,available_channels:t})=>{this.renderComponent(\"sentimenperchannels\",{items:e,ac:t,search:this.search})}),this.renderComponent(\"averagedailymention\")},this.on(\"mount\",()=>{APP.log(\"health-index-account: mount\"),menuActive.trigger(\"activated\",[\"advance_analysis\",\"dhi\"]),urlStream.trigger(\"changeUrl\",\"health-index-r10\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker(),$(\"body,html\").animate({scrollTop:0},500)})}))},210:function(e,t,i){\"use strict\";i.r(t);var a=i(0);i(88),i(89),i(108),i(42);i(1).tag2(\"dasboardindosat\",'<div class=\"container-fluid\" style=\"background: white;\"> <div class=\"row\"> <div class=\"col-md-12 panel\" style=\"padding:20px;\"> <filter-form ref=\"filter_form\"></filter-form> </div> </div> <div class=\"row\" style=\"margin-top:30px;\"> <div class=\"col-md-12\"> <channel-sentiment cb=\"{updateChannel}\" ref=\"channel\" id=\"targetDiv\"></channel-sentiment> </div> </div> <sourceofmentionpositivepie ref=\"sourcemention_positivepie\"></sourceofmentionpositivepie> <sourceofmentionnegativepie ref=\"sourcemention_negativepie\"></sourceofmentionnegativepie> </div>',\"\",\"\",(function(e){this.dataProjects=[],this.nameproject={},this.active=!1,this.data=localStorage.nameprj,this.updateData=JSON.parse(localStorage.getItem(\"projects\")),this.search={since:null,until:null,project:null},this.channels=null,this.projectList=[],APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name,key_color\",success:e=>{this.projectList=e}}).done(()=>{APP.log(\"project request done\")}),this.on(\"mount\",()=>{if(this.search.since=localStorage.since.replace(/%20/g,\" \"),this.search.until=localStorage.until.replace(/%20/g,\" \"),document.projectCompetition=p(\"competition\")?p(\"competition\").split(\",\").filter(e=>e&&e.length>0).toString():\"\",this.competitionProjects=document.projectCompetition.split(\",\").map(e=>parseInt(e)),APP.log(\"domaint infographic: mount\"),urlStream.trigger(\"changeUrl\",\"domain/indosatreport\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),p(\"q\")&&(document.keyword=decodeURIComponent(\"\"+p(\"q\")),this.search.q=document.keyword),p(\"domain\")&&(this.search.domain=0==p(\"domain\")?\"\":p(\"domain\").replace(/%20/g,\" \")),p(\"author\")&&(document.author=decodeURIComponent(\"\"+p(\"author\")),this.search.author=document.author),p(\"filterbot\")&&(document.filterbot=0==p(\"filterbot\")?\"\":decodeURIComponent(\"\"+p(\"filterbot\")),this.search.filterbot=document.filterbot),localStorage.prj=p(\"project\"),p(\"since\")){const e=decodeURIComponent(\"\"+p(\"since\"));this.search.since=e.substring(0,10),localStorage.since=e.substring(0,10)}if(p(\"until\")){const e=decodeURIComponent(\"\"+p(\"until\"));localStorage.until=e.substring(0,10),this.search.until=e.substring(0,10)}setTimeout(()=>{const e=this.channels=this.refs.channel.getChannelSelected(),t=Object(a.map)(e,e=>e.id);this.search.service_category=t.join(\",\"),this.update(),this.project(),this.render()},500)}),this.render=()=>{setTimeout(()=>{this.refs.channel.render(),this.refs.sourcemention_positivepie.render(),this.refs.sourcemention_negativepie.render(),this.setTotal()},1e3)},this.setTotal=()=>{APP.log(\"competitive: setTotal\"),this.search.project=p(\"project\")?p(\"project\"):\"undefined\",this.search.group_service=\"true\",this.search.section=\"\";let e={};this.xhr=APP.apiGet({path:\"mentions\",data:this.search,success:e=>{this.refs.channel.updateCount(e.items)}}),this.xhr.readyState&&(this.refs.channel.updateCount(e),this.update())},this.projectsetting=()=>{window.location=\"#domain/infographic?project=\"+localStorage.prjId},this.project=()=>{APP.log(\"header : project\");null!=localStorage.getItem(\"projects\")&&\"\"!=localStorage.getItem(\"projects\")?this.norequestProject(JSON.parse(localStorage.getItem(\"projects\"))):APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id, key_name,key_start_date, key_color , key_id, key_is_buzzer_tracking, key_is_health_index, key_is_prdashboard ,key_is_cc\"},success:e=>{localStorage.setItem(\"projects\",JSON.stringify(e)),this.norequestProject(e)}})},this.norequestProject=e=>{if(p(\"project\")?p(\"project\"):APP.getProject()){var t=p(\"project\")?p(\"project\"):APP.getProject().toString(),i=t.split(\",\").map(Number);Object(a.map)(e,(function(e){return{id:e.key_id,date:moment(e.key_start_date).format(\"DD MMMM YYYY\"),name:e.key_name,color:e.key_color,hi:e.key_is_health_index,bt:e.key_is_buzzer_tracking,pr:e.key_is_prdashboard,cc:e.key_is_cc}})).forEach(e=>{i.indexOf(e.id)>-1?e.checked=!0:e.checked=!1,this.dataProjects.push(e)}),this.nameproject[t]=this.dataProjects,this.nameprj=Object(a.filter)(this.dataProjects,(function(e){return e.checked})),this.data=this.nameprj[0].name,this.updateData=Object(a.sortBy)(this.dataProjects,[function(e){return!e.checked}]),this.update()}},this.updateFilter=e=>{this.search=e,setTimeout(function(){const e=this.search.project,t=this.search.since,i=this.search.until;localStorage.prj=e,localStorage.since=t,localStorage.until=i,this.render(),this.update()}.bind(this),100)}}))}}]);","extractedComments":[]}