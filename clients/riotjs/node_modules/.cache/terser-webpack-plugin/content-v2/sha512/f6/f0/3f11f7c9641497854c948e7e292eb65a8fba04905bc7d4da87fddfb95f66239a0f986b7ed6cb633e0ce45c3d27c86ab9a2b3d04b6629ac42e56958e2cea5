{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{199:function(t,e,i){i(0).tag2(\"advanced-analysis\",'<div class=\"page-head padding-bottom-5\"> <h1 class=\"page-title\">Advan Analysis<small>your small text goes here</small></h1> <h2 if=\"{projectId}\">Project ID: {projectId}</h2> <div id=\"bs-daterangepicker\" class=\"btn bg-grey-200 padding-10-20 no-border color-grey-600 pull-right border-radius-10 hidden-xs no-shadow\"><i class=\"ion-calendar margin-right-10\"></i> <span></span> <i class=\"ion-ios-arrow-down margin-left-5\"></i></div> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"panel\"> <div class=\"panel-body no-padding-top bg-white height100 margin-bottom-10\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.on(\"mount\",()=>{APP.log(\"advanced-analysis : mount\"),this.update(),ripple10.loaddaterangepicker()})}))},200:function(t,e,i){\"use strict\";i.r(e);i(3),i(8),i(70),i(71),i(72),i(73),i(75),i(76);i(0).tag2(\"advanced-dashboard\",'<div class=\"page-head bg-grey-100 nopaddingbottm\"> <h1 class=\"header-title nomargin inblock\"> PUBLIC RELATION DASHBOARD</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-md-9\"> <prdash-channel loading=\"{isLoading}\" cb=\"{updateChannel}\" ref=\"prdashchannel\"></prdash-channel> </div> <div class=\"col-md-3\"> <prdash-sentiment loading=\"{isLoading}\" cb=\"{updateSentiment}\" ref=\"prsentiment\"></prdash-sentiment> </div> <div class=\"col-md-12\"> <prdash-graph loading=\"{isLoading}\" ref=\"prgraph\"></prdash-graph> <div class=\"clearfix\"></div> </div> <div class=\"col-md-8\"> <prdash-filter-2 class=\"visible-xs visible-sm hidden-md\" cb=\"{updateFilter}\" ref=\"prfilter\"></prdash-filter-2> <prdash-stream-timeline cb=\"{changeStream}\" ref=\"prstream\"></prdash-stream-timeline> </div> <div class=\"col-md-4 visible-lg visible-md hidden-xs\"> <prdash-filter cb=\"{updateFilter}\" ref=\"prfilter2\"></prdash-filter> </div> </div> </div>',\"\",\"\",(function(t){this.search={since:null,until:null,project:null,service_category:null,pr_service:!0,section:\"positive,negative,neutral\"},this.render=()=>{this.refs.prgraph.render(),this.refs.prstream.render(),setTimeout(()=>{this.refs.prsentiment.render()},2e3),this.update()},this.getAPI=()=>{APP.log(\"advanced-dashboard : getApi\"),this.isLoading=!0,this.update();let t=this.search,e=(this.refs,this);async.parallel({index:function(e){APP.apiGet({path:\"prdash\",data:t,success:function(t){e(null,t)}})},graph:function(e){APP.apiGet({path:\"prdash/graph\",data:t,success:function(t){e(null,t)}})}},(function(t,i){e.isLoading=!1,e.update()}))},this.updateDate=(t,e)=>{APP.log(\"advanced-dashboard : updateDate\"),this.search.since=t,this.search.until=e,this.render(),this.refs.prdashchannel.render()},this.updateChannel=t=>{APP.log(\"advanced-dashboard : updateChannel\"),this.refs.prgraph.filterchannel(t);let e=[];_.forEach(t,(function(t){t.selected&&e.push(t.cat_id)})),setTimeout(()=>{this.refs.prsentiment.render(t)},2e3),this.search.section=this.sentimentparams,this.search.service_category=e.toString(),this.render()},this.updateSentiment=t=>{this.sentimentparams=t,APP.log(\"advanced-dashboard : updateSentiment\"),this.refs.prstream.isLoading=!0,this.search.section=this.sentimentparams,setTimeout(()=>{this.refs.prdashchannel.render(),this.render(),this.update()},1e3)},this.changeStream=()=>{this.render()},this.updateFilter=t=>{var e=this.refs.prsentiment.sentiment,i=_.filter(e,(function(t){return t.selected}));let a=[];_.forEach(i,(function(t){a.push(t.id)})),this.refs.prstream.isLoading=!0,this.search.section=a.join(\",\"),APP.log(\"advanced-dashboard : updateFilter\"),this.search.q=t.q,this.search.domain=t.domain,this.search.author=t.author,this.getAPI()},this.projectId=null,this.on(\"mount\",()=>{APP.log(\"advanced-dashboard : mount\"),menuActive.trigger(\"activated\",[\"pr_dashboard\"]),urlStream.trigger(\"changeUrl\",\"advanced-analysis/pr-dashboard\"),urlStream.trigger(\"Urlproject\",p(\"project\")?p(\"project\"):APP.getProject()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),p(\"filter\")&&this.getfilterlistid(),ripple10.loaddaterangepicker()}),this.getfilterlistid=()=>{APP.log(\"project : project\"),APP.apiGet({path:\"bookmark-filter/list/\"+p(\"filter\"),data:{id:p(\"filter\")},success:function(t){this.search.q=t.filter_keywords,this.search.domain=t.filter_domain,this.search.author=t.filter_author,this.search.filterbot=t.filter_filterbot,this.refs.prfilter.getfilterlist(t),this.refs.prfilter2.getfilterlist(t),this.getAPI(),this.update()}.bind(this)})}}))},33:function(t,e,i){i(0).tag2(\"engagement-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"engagemetrics\"></div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.engchart={},this.reload=()=>{this.update({isLoading:!0});let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})}},(function(t,i){e.render(i.index),e.update({isLoading:!1})}))},this.render=t=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-engagementmetric : render\");for(var e=Highcharts.chart(\"engagemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,height:350,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Engagement Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Conversation Rate\"},labels:{format:\"{value:,.1f} \"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Applause Rate\"},labels:{format:\"{value:,.1f} \"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>share/re-tweet :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});e.series.length>0;)e.series[0].remove();let i=[];_.forEach(t,(function(t){i.push({name:t.username,data:[{x:t.commentsCount/t.postsCount,y:t.likesCount/t.postsCount,z:t.sharesCount/t.postsCount,name:t.username,service:t.service}]})})),i=_.sortBy(i,t=>t.data[0].z).reverse(),async.each(i,(t,i)=>{e.addSeries(t),i()})}}))},34:function(t,e,i){i(0).tag2(\"influence-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"influencemetrics\"></div> </div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\"> <div>No data found, please input another dates</div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.infchart={},this.reload=()=>{this.update({isLoading:!0});let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})},sentiment:function(t){APP.apiPost({path:\"health/buzzersentiment\"+i,data:s,success:function(e){t(null,e)}})}},(function(t,i){e.render(i.index,i.sentiment),e.update({isLoading:!1})}))},this.render=(t,e)=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-influencermetrics : render\");for(var i=Highcharts.chart(\"influencemetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Influence Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Positive Sentiment Rate\"},labels:{format:\"{value}%\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Share / Retweets\"},labels:{format:\"{value}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>positive sentiments rate :</th><td>{point.x:.2f} %</td></tr><tr><th>share/re-tweet :</th><td>{point.y}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"a: {point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});i.series.length>0;)i.series[0].remove();let a=[];_.forEach(e,(function(e){let i=0,s=0;for(let a=0;a<t.length;a++)if(t[a].username===e.username&&t[a].service===e.service){i=t[a].sharesCount,s=t[a].postsCount;break}a.push({name:e.username,service:e.service,data:[{x:e.positiveCount/s*100,y:i,z:i,name:e.username,service:e.service}]})})),a=_.sortBy(a,t=>t.data[0].z).reverse(),async.each(a,(t,e)=>{i.addSeries(t),e()})}}))},35:function(t,e,i){i(0).tag2(\"reach-metric\",'<div if=\"{opts.loading}\" class=\"loader\"></div> <div if=\"{isLoading}\" class=\"loader\"></div> <div class=\"panel-body\"> <i class=\" pull-right pointer\" onclick=\"{reload}\"><a class=\"btn btn-outline btn-info btn-sm\"><i class=\"fa fa-refresh\"></i></a></i> <div class=\"panel-body bg-white\" if=\"{!notdata}\"> <div id=\"reachmetrics\"></div> </div> </div> <div class=\"panel-body bg-white txtcenter\" if=\"{notdata}\">No data found, please input another dates</div>',\"\",\"\",(function(t){this.notdata=!1,this.items=[],this.intechart={},this.reload=()=>{this.isLoading=!0;let t=this.parent.search,e=this;var i=\"\",a=0;for(let e in t)t[e]&&\"\"!=t[e]&&\"buzzer_twitter\"!=e&&\"buzzer_facebook\"!=e&&\"buzzer_instagram\"!=e&&(i+=a>0?`&${e}=${t[e]}`:`?${e}=${t[e]}`,a++);var s={buzzer_facebook:t.buzzer_facebook,buzzer_instagram:t.buzzer_instagram,buzzer_twitter:t.buzzer_twitter};async.parallel({index:function(t){APP.apiPost({path:\"health/buzzerhealth\"+i,data:s,success:function(e){this.isLoading=!1,t(null,e)}})}},(function(t,i){e.isLoading=!1,e.render(i.index),e.update({isLoading:!1})}))},this.render=t=>{0===t.length?this.notdata=!0:this.update({notdata:!1}),APP.log(\"buzzer-reachmetrics : render\");for(var e=Highcharts.chart(\"reachmetrics\",{chart:{type:\"bubble\",plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!1},title:{text:\"Reach Metrics\"},subtitle:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Followers/Friends\"},labels:{format:\"{value:,.1f}\"},plotLines:[{}]},legend:{enabled:!0},credits:{enabled:!1},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:\"Post\"},labels:{format:\"{value:,.1f}\"},maxPadding:.2,plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3><i class=\"fa fa-{point.service}\"></i> {point.name}</h3></th></tr><tr><th>followers :</th><td>{point.x:,.1f}</td></tr><tr><th>posts :</th><td>{point.y:,.1f}</td></tr><tr><th>potential_reach :</th><td>{point.z:,.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!1,format:\"{point.name}\"}},bubble:{minSize:20,maxSize:70}},exporting:{enabled:!1},series:[]});e.series.length>0;)e.series[0].remove();let i=[];_.forEach(t,(function(t){t.followers>0&&i.push({name:t.username,data:[{x:t.followers,y:t.postsCount,z:t.potentialReach,name:t.username,service:t.service}]})})),i=_.sortBy(i,t=>t.data[0].z).reverse(),async.each(i,(t,i)=>{e.addSeries(t),i()})}}))},36:function(t,e,i){\"use strict\";i.r(e);i(5);i(0).tag2(\"buzzer-stream-timeline\",'<div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> TIMELINE MENTIONS </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <div class=\"holder-drop pull-right\"> <select class=\"form-control form-control-overide pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\" style=\"padding: 0\"> <option value=\"5\">5</option> <option value=\"10\">10</option> <option value=\"20\">20</option> <option value=\"50\">50</option> <option value=\"100\">100</option> </select> </div> <pagging pagination=\"{pagination}\"></pagging> <div><i class=\" pull-right pointer refres-streams\" onclick=\"{reload}\"><a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"><i class=\"fa fa-refresh\"></i></a> </i> </div> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{opts.loading}\"> <div if=\"{opts.loading}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{this.total==0 && !opts.loading}\"> <div class=\"panel-body bg-white \" style=\"text-align: center;margin-top:3px;\"> No data found, please input another dates </div> </div> <div class=\"panel\" style=\"height:100px;\" if=\"{filter}\"> <div if=\"{filter}\" class=\"loader\"></div> <div class=\"panel-body bg-white\"> </div> </div> <div if=\"{isLoad && !isLoading}\" class=\"loader\"></div> <div if=\"{!opts.loading}\" class=\"panel bg-transparent row nomargin\" each=\"{items}\" id=\"setvaleu{_id}\"> <div if=\"{isLoadingset(_id)}\" class=\"loadersentiment\"></div> <div class=\"col-xs-12 holder-timeline {_id} \"> <div class=\"row nomargin {_id}\"> <div class=\"inblock vertical-top col-md-2 col-xs-3 col-lg-2\"> <div class=\"custom-width\"> <img alt=\"\" riot-src=\"{user.avatar}\" if=\"{user.avatar !=⁗ ⁗}\" class=\"img-circle img-custom-width\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> <img alt=\"\" riot-src=\"\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\" if=\"{user.avatar === ⁗ ⁗}\" class=\"img-circle img-custom-width\" onerror=\"this.src =\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={user.name}\\'\"> </div> </div> <div class=\"inblock maxwidth85 col-md-10 col-xs-9\"> <div class=\"nama full95block\"> <a href=\"{source}\" target=\"_blank\">{user.name}</a> </div> <div class=\"content full95block \"> {text} </div> <br> <div class=\"tanggal full95block \"> {moment(date_format).format(\\' MMMM D, YYYY HH:mm \\')} - {service} </div> <div class=\"tanggal full95block \"> <div class=\"hidden-md hidden-lg hidden-sm\" if=\"{service === \\'facebook\\' && this.DH != 0 || service ===\\'twitter\\' && this.DH != 0 || service ===\\'instagram\\' && this.DH != 0}\"> <div id=\"{\\'likes_\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Likes {this.likes[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-heart\"></i> {this.likes[_id]} </div> <div id=\"{\\'reply\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Reply {this.reply[_id]}\" data-placement=\"top\" style=\"float:left;margin:0px 10px;\"> <i class=\"fa fa-reply\"></i> {this.reply[_id]} </div> <div id=\"{\\'repost\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Repost {this.repost[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-retweet\"></i> {this.repost[_id]} </div> </div> </div> <div class=\"tanggal full95block \" style=\"margin-top:25px\"> <div class=\"hidden-xs\" if=\"{service === \\'facebook\\' && this.DH != 0 || service ===\\'twitter\\' && this.DH != 0 || service ===\\'instagram\\' && this.DH != 0}\"> <div id=\"{\\'likes_\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Likes {this.likes[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-heart\"></i> {this.likes[_id]} </div> <div id=\"{\\'reply\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Reply {this.reply[_id]}\" data-placement=\"top\" style=\"float:left;margin:0px 10px;\"> <i class=\"fa fa-reply\"></i> {this.reply[_id]} </div> <div id=\"{\\'repost\\' + _id}\" class=\"countlikeStreams pointer\" aria-hidden=\"true\" data-toggle=\"tooltip_{_id}\" title=\"Repost {this.repost[_id]}\" data-placement=\"top\" style=\"float:left;\"> <i class=\"fa fa-retweet\"></i> {this.repost[_id]} </div> </div> <div class=\"buttons-act\" style=\"bottom: 2px;\"> <div class=\"button-single5\" if=\"{service === \\'twitter\\'}\"> <i onclick=\"{integrasi}\" class=\"fa {ivocon:!is_connect_sociomile} {active:is_connect_sociomile} cursor \" id=\"sociomile\"></i> </div> <div class=\"button-single1 {net:sentiment.value === 0} cursor5\" id=\"neutral\" onclick=\"{setSentiment}\"> <i class=\"fa fa-question-circle\" id=\"neutral\"></i> </div> <div class=\"button-single2 {pos:sentiment.value >0} cursor2\" id=\"positive\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-up\" id=\"positive\"></i> </div> <div class=\"button-single3 {neg:sentiment.value < 0} cursor3\" id=\"negative\" onclick=\"{setSentiment}\"> <i class=\"fa fa-thumbs-down\" id=\"negative\"></i> </div> <div class=\"button-single4 cursor4\" onclick=\"{delete}\"> <i class=\"fa fa-trash\"></i> </div> </div> </div> </div> </div> </div> </div> <div class=\"row nomargin \"> <div class=\"col-md-6 col-xs-12 header-title\"> </div> <div if=\"{Loading}\" class=\"loadersentiment\"></div> <div class=\" col-md-6 col-xs-12 nopadding\"> <pagging pagination=\"{pagination}\"></pagging> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.userLoadingSentiment;const e=this;this.likes={},this.reply={},this.repost={},this.loadMetrics=t=>{async.eachSeries(t,(function(t,i){const a=t._id,s=t.postid,r=e.parent.search.since,n=e.parent.search.until;s&&APP.apiGet({path:\"stream/metric?project=\"+(p(\"project\")?p(\"project\"):APP.getProject()),data:{postid:s,since:r,until:n},success:function(t){e.likes[a]=numeral(t.likes).format(\"0.00 a\").replace(\".00\",\"\"),e.reply[a]=numeral(t.reply).format(\"0.00 a\").replace(\".00\",\"\"),e.repost[a]=numeral(t.repost).format(\"0.00 a\").replace(\".00\",\"\"),$('[data-toggle=\"tooltip_'+a+'\"]').tooltip(),setTimeout(()=>{$('[data-toggle=\"tooltip_'+a+'\"]').tooltip()},2e3),e.update()}}),i()}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0}),e.query.page=(t-1)*e.query.limit,e.render()}},this.changeLimit=t=>{APP.log(\"buzzer-stream-timeline : changeLimit\"),this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",(function(){APP.log(\"buzzer-stream-timeline : mount\"),this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()})),this.integrasi=t=>{APP.log(\"buzzer integrate stream\");var e=t.item.service;let i=t.item._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:function(t,e,i){APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()}.bind(this),success:function(t){APP.log(\"success integrated to sociomile\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}.bind(this)}),this.update()},this.setSentiment=t=>{APP.log(\"buzzer-stream-timeline : setSentiment\");let e=t.target.id,i=t.item._id;this.userLoadingSentiment=i,this.search.streamid=i,this.search.sentiment=e,APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:function(t){$.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.render()}.bind(this)})},this.delete=t=>{APP.log(\"buzzer-stream-timeline : delete\");t.item._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#DD6B55\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{let e=t.item._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,success:function(t){$(\"#setvaleu\"+e).fadeOut(1600)}.bind(this)}),this.update()})},this.render=()=>{APP.log(\"buzzer-stream-timeline : render\");const t=_.find(this.times,{selected:!0});let e=this.parent.search;e.type=t,e.limit=this.query.limit,e.page=this.query.page;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&\"buzzer_twitter\"!=t&&\"buzzer_facebook\"!=t&&\"buzzer_instagram\"!=t&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"stream\"+i,data:this.parent.DataBuzzer,success:function(t){this.items=t.item,this.total=this.items.length,this.pagination.pages=Math.ceil(t.total/this.query.limit),this.loadMetrics(this.items),this.userLoadingSentiment=void 0,this.isLoad=!1,this.isLoading=!1,this.Loading=!1,this.update()}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()}}))}}]);","extractedComments":[]}