{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{202:function(e,t,a){\"use strict\";a.r(t);a(39),a(3),a(38),a(35),a(34),a(33),a(36),a(37);a(0).tag2(\"buzzer-tracking\",'<div class=\"page-head\"> <h1 class=\"header-title nomargin inblock\">BUZZER TRACKING</h1> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style\"></date-picker> </div> <div class=\"container-fluid\"> <div if=\"{load}\" class=\"loaderpanel\"> <div class=\"txtcentertop\"> <p>No data found, please input another dates</p> <br> <p class=\" pointer refres-streams\" onclick=\"{getAPI}\"> <a class=\"btn btn-outline2 btn-info2 refres-streams mrg-top5\"> Reload </a></p> </div> </div> <div class=\"row\"> <div class=\"col-md-7\"> <chart-buzzer-summary loading=\"{isLoading}\" ref=\"chartsummary\"></chart-buzzer-summary> </div> <div class=\"col-md-5\"> <div class=\"btn-group\"> <buzzer-picker cb=\"{updateBuzzer}\" ref=\"buzzerpicker\"></buzzer-picker> </div> </div> <div class=\"col-md-7\"> <buzzer-summary-brand loading=\"{isLoading}\" ref=\"chartsummaryBrand\"></buzzer-summary-brand> <buzzer-stream-timeline loading=\"{isLoading}\" ref=\"bzstreamTimeline\"></buzzer-stream-timeline> </div> <div class=\"col-md-5 \"> <div class=\"panel\"> <reach-metric loading=\"{isLoading}\" ref=\"reachmetrics\"></reach-metric> </div> <div class=\"panel\"> <influence-metric loading=\"{isLoading}\" ref=\"influencemetrics\"></influence-metric> </div> <div class=\"panel\"> <engagement-metric loading=\"{isLoading}\" ref=\"engagementmetrics\"></engagement-metric> </div> </div> </div> </div>',\"\",\"\",(function(e){this.updateBuzzer=e=>{APP.log(\"buzzer-tracker-account: updateBuzzer\");let t={};_.forEach(e,(function(e,a){let i=[];for(let t=0;t<e.length;t++)e[t].check&&i.push(e[t].username);t[a]=i})),this.DataBuzzer={buzzer_twitter:t.twitter?t.twitter.join(\",\"):\"\",buzzer_facebook:t.facebook?t.facebook.join(\",\"):\"\",buzzer_instagram:t.instagram?t.instagram.join(\",\"):\"\"},this.search.buzzer_twitter=t.twitter?t.twitter.join(\",\"):\"\",this.search.buzzer_facebook=t.facebook?t.facebook.join(\",\"):\"\",this.search.buzzer_instagram=t.instagram?t.instagram.join(\",\"):\"\",this.update(),this.apiPost()},this.setBuzzers=e=>{APP.log(\"buzzer-tracker-account: setBuzzers\"),this.refs.buzzerpicker.setItems(e)},this.getBuzzers=()=>{APP.log(\"buzzer-tracker-account: getBuzzers\");var e={project:this.search.project,service_category:this.search.project};let t=this;APP.apiGet({path:\"health/buzzers\",data:e,success:function(e){t.setBuzzers(e)}})},this.search={since:null,until:null,project:null,buzzer_twitter:\"\",buzzer_facebook:\"\",buzzer_instagram:\"\"},this.buzzhealth=[],this.buzzsentiment=[],this.apiPost=()=>{APP.log(\"buzzer-tracker-account: getAPI\"),this.refs.engagementmetrics.notdata=!1,this.refs.influencemetrics.notdata=!1,this.refs.reachmetrics.notdata=!1,this.load=!1,this.isLoading=!0,this.update();let e=this.search,t=this.refs,a=this;t.bzstreamTimeline.render();var i=\"\",s=0;for(let t in e)e[t]&&\"\"!=e[t]&&\"buzzer_twitter\"!=t&&\"buzzer_facebook\"!=t&&\"buzzer_instagram\"!=t&&(i+=s>0?`&${t}=${e[t]}`:`?${t}=${e[t]}`,s++);var r={buzzer_facebook:e.buzzer_facebook,buzzer_instagram:e.buzzer_instagram,buzzer_twitter:e.buzzer_twitter};async.parallel({index:function(e){APP.apiPost({path:\"health/buzzerhealth\"+i,data:r,success:function(t){e(null,t)}})},sentiment:function(e){APP.apiPost({path:\"health/buzzersentiment\"+i,data:r,success:function(t){e(null,t)}})}},(function(e,i){i.index.length>0?(a.load=!1,a.buzzhealth=i.index,a.buzzsentiment=i.sentiment,t.chartsummary.render(i.index,i.sentiment),t.chartsummaryBrand.render(i.index,i.sentiment),t.reachmetrics.render(i.index),t.influencemetrics.render(i.index,i.sentiment),t.engagementmetrics.render(i.index),a.isLoading=!1,a.update()):(a.load=!0,a.buzzhealth=i.index,a.buzzsentiment=i.sentiment,t.chartsummary.render(i.index,i.sentiment),t.chartsummaryBrand.render(i.index,i.sentiment),t.reachmetrics.render(i.index),t.influencemetrics.render(i.index,i.sentiment),t.engagementmetrics.render(i.index),a.isLoading=!1,a.update())}))},this.updateDate=(e,t)=>{APP.log(\"buzzer-tracker-account: updateDate\"),this.search.since=e,this.search.until=t,this.getBuzzers()},this.on(\"mount\",()=>{APP.log(\"buzzer-tracker-account: mount\"),urlStream.trigger(\"changeUrl\",\"advanced-analysis/buzzer-tracking\"),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update(),ripple10.loaddaterangepicker()}),this.downloadcsv=()=>{APP.log(\"buzzer-tracker-account: downloadcsv\");const e=[],t=this;_.forEach(this.buzzhealth,(function(a){let i=_.findIndex(t.buzzsentiment,{username:a.username,service:a.service}),s=t.buzzsentiment[i];e.push({\"Buzzer Name\":a.username,Service:a.service,Klout:s.klout_score,Post:a.postsCount,\"Potential Reach\":a.potentialReach,\"Neutral Sentiment\":s.neutralCount,\"Positive Sentiment\":s.positiveCount,\"Negative Sentiment\":s.negativeCount,\"Followers/Friends\":a.followers,\"Comment/Reply\":a.commentsCount,\"Retweet/Share\":a.sharesCount,\"Like/Favorite/+1\":a.likes_count,\"Applause Rate\":numeral(a.likes_count/a.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(a.commentsCount/a.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(a.sharesCount/a.postsCount).format(\"0,0.0\")})}));var a=this.refs.chartsummaryBrand.dataSummary,i=_.map(a,(function(e,t){return{\"Buzzer Name\":e.username,Service:e.service,Klout:e.klout_score,Post:e.postsCount,\"Potential Reach\":e.potentialReach,\"Neutral Sentiment\":e.neutralCount,\"Positive Sentiment\":e.positiveCount,\"Negative Sentiment\":e.negativeCount,\"Followers/Friends\":e.followers,\"Comment/Reply\":e.commentsCount,\"Retweet/Share\":e.sharesCount,\"Like/Favorite/+1\":e.likes_count,\"Applause Rate\":numeral(e.likes_count/e.postsCount).format(\"0,0.0\"),\"Conversation Rate\":numeral(e.commentsCount/e.postsCount).format(\"0,0.0\"),\"Amplification Rate\":numeral(e.sharesCount/e.postsCount).format(\"0,0.0\")}})),s=_.concat(e,i);this.JSONToCSVConvertor(s,\"Buzzer Tracking\",!0)},this.JSONToCSVConvertor=(e,t,a)=>{APP.log(\"buzzer-tracker-account: JSONToCSVConvertor\");var i=\"object\"!=typeof e?JSON.parse(e):e,s=\"\";if(s+=t+\"\\r\\n\\n\",a){var r=\"\";for(var n in i[0])r+=n+\",\";s+=(r=r.slice(0,-1))+\"\\r\\n\"}for(var c=0;c<i.length;c++){r=\"\";for(var n in i[c]){r+='\"'+(i[c][n]?i[c][n]:\"0\")+'\",'}r.slice(0,r.length-1),s+=r+\"\\r\\n\"}if(\"\"!=s){var o=\"Report_\";o+=t.replace(/ /g,\"_\");var l=\"data:text/csv;charset=utf-8,\"+escape(s),u=document.createElement(\"a\");u.href=l,u.style=\"visibility:hidden\",u.download=o+\".csv\",document.body.appendChild(u),u.click(),document.body.removeChild(u)}else alert(\"Invalid data\")}}))},39:function(e,t,a){a(0).tag2(\"buzzer-picker\",'<div class=\" pull-right\"> <nav class=\"navbar navbar-light halfwidth2\"> <ul class=\"navbar-nav main-navigation nopadding fullwidth\" id=\"pointer\"> <li class=\"col-xs-6 nav-item sentiment nav-space active positive\"> <a class=\"nav-link\" data-toggle=\"modal\" data-target=\"#buzzerModal\"><span class=\"garis\"> Buzzer </span></a> </li> <li class=\"col-xs-6 nav-item sentiment nav-space active negative\"> <a class=\"nav-link\" onclick=\"{DonwloadCSV}\"><span class=\"garis\"> Download </span></a> </li> </ul> </nav> </div> <div class=\"modal fade\" id=\"buzzerModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <h4>Buzzers List</h4> <div class=\"row\"> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_twit\" checked=\"{gritem.twitter}\" onclick=\"{toggleAll}\"> <label for=\"c_twit\"><strong>All Twitter Buzzers</strong></label> </div> <div each=\"{item in items.twitter}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"ctw_{item.username}\" onclick=\"{toggle}\"> <label for=\"ctw_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_fb\" checked=\"{gritem.facebook}\" onclick=\"{toggleAll}\"> <label for=\"c_fb\"><strong>All Facebook Buzzers</strong></label> </div> <div each=\"{item in items.facebook}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cfb_{item.username}\" onclick=\"{toggle}\"> <label for=\"cfb_{item.username}\">{item.username}</label> </div> </div> <div class=\"col-md-4\"> <div class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" id=\"c_ig\" checked=\"{gritem.instagram}\" onclick=\"{toggleAll}\"> <label for=\"c_ig\"><strong>All Instagram Buzzers</strong></label> </div> <div each=\"{item in items.instagram}\" class=\"checkbox checkbox-theme\"> <input type=\"checkbox\" checked=\"{item.check}\" id=\"cig_{item.username}\" onclick=\"{toggle}\"> <label for=\"cig_{item.username}\">{item.username}</label> </div> </div> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <div type=\"button\" id=\"cancel\" class=\"accsaved pointer\" data-dismiss=\"modal\">Close</div> <div id=\"addprojectaccount\" class=\"accsaved pointer\" onclick=\"{saveData}\" data-dismiss=\"modal\">Save</div> </div> </div> </div> </div> </div>',\"\",\"\",(function(e){this.items={twitter:[],facebook:[],instagram:[]},this.gritem={twitter:!0,facebook:!0,instagram:!0},this.setItems=e=>{APP.log(\"buzzer-picker: setItems\");let t={twitter:[],facebook:[],instagram:[]};_.forEach(e,(function(e){\"twitter\"===e.service&&t.twitter.push({username:e.username,check:!0,service:\"twitter\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0}),\"facebook\"===e.service&&t.facebook.push({username:e.username,check:!0,service:\"facebook\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0}),\"instagram\"===e.service&&t.instagram.push({username:e.username,check:!0,service:\"instagram\",commentsCount:0,postsCount:0,sharesCount:0,likesCount:0})})),this.items=t,this.saveData()},this.saveData=()=>{APP.log(\"buzzer-picker: saveData\"),\"function\"==typeof e.cb&&e.cb(this.items)},this.toggle=e=>{APP.log(\"buzzer-picker: toggle\");let t=e.item.item;switch(t.check=!t.check,e.srcElement.id.substring(0,3)){case\"ctw\":this.gritem.twitter=!1;break;case\"cfb\":this.gritem.facebook=!1;break;case\"cig\":this.gritem.instagram=!1}this.update()},this.toggleAll=e=>{switch(APP.log(\"buzzer-picker: toggleAll\"),e.srcElement.id){case\"c_twit\":_.forEach(this.items.twitter,(function(t){t.check=e.srcElement.checked})),this.gritem.twitter=!this.gritem.twitter;break;case\"c_fb\":_.forEach(this.items.facebook,(function(t){t.check=e.srcElement.checked})),this.gritem.facebook=!this.gritem.facebook;break;case\"c_ig\":_.forEach(this.items.instagram,(function(t){t.check=e.srcElement.checked})),this.gritem.instagram=!this.gritem.instagram}this.update()},this.DonwloadCSV=()=>{this.parent.downloadcsv()}}))}}]);","extractedComments":[]}