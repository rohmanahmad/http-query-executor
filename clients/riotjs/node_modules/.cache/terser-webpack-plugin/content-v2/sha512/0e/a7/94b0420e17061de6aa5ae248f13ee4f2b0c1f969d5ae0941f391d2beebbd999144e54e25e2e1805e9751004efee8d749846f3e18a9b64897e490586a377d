{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{17:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"labels\",(function(){return o}));var o={export_stream:i(33).label}},180:function(t,e,i){\"use strict\";i.r(e);var o=i(0);i(7);i(1).tag2(\"wordcloaudsummary\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/cloud-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">WORDCLOUD </h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representation of popular words in your mentions. The more a word mentioned the bigger and bolder it appears in the word cloud.\">?</b> </span> </div> <div class=\"card-body\"> <div class=\"col-md-12 wordcloudheight235 textcenter\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"col-md-12\" if=\"{total != 0}\"> <div id=\"wordcloud_canvas \"> <div id=\"wordcloud_all\" class=\"wordcloudheight235\"> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.value={},this.dataall={},this.xhr=null,this.render=t=>{this.update_data(t)},this.update_data=t=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0,total:1});let i=Object(o.clone)(this.parent.search);i.is_total=null,i.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:i,success:t=>{let e=t.items;var a=Object(o.clone)(e);if(\"negative\"===i.section||\"negative,neutral\"===i.section||\"neutral,negative\"===i.section)var n=a&&a.negative?a.negative:[];if(\"positive\"===i.section||\"positive,neutral\"===i.section||\"neutral,positive\"===i.section)n=a&&a.positive?a.positive:[];if(\"positive,negative\"===i.section||\"negative,positive\"===i.section){var r=a&&a.positive?a.positive:[],s=a&&a.negative?a.negative:[];n=Object(o.concat)(r,s)}if(\"\"===i.section||null===i.section||void 0===i.section||\"positive,negative,neutral\"===i.section||\"positive,neutral,negative\"===i.section||\"negative,positive,neutral\"===i.section||\"negative,neutral,positive\"===i.section||\"neutral,negative,positive\"===i.section||\"neutral,positive,negative\"===i.section){n=a&&a.all?a.all:[];this.dataall.all=n}if(\"neutral\"===i.section)n=this.dataall.all;n=Object(o.orderBy)(n,[1],\"desc\"),this.dataVal=n,this.dataresizeseries=n,this.renderedData(n),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(o.isFunction)(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.renderedData=t=>{let e=t;if(this.total=t?t.length:0,this.update({total:this.total}),this.total>0){const t=e[0][1];e.map(e=>{const i=e[0].length,o=parseInt(e[1]);let a=o/t*100;return i>10&&(a=10,o/t*100>60&&(a=o/t*50)),a<15&&(a=15),e[1]=a,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:e,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\",null,null,null,null,null)}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show()},$(window).resize(()=>{this.dataresize()}),this.dataresize=()=>{this.update({isLoading:!0});var t=this.dataresizeseries;if(t&&t.length>0){const e=t[0][1];t.map(t=>{const i=t[0].length,o=parseInt(t[1]);let a=o/e*100;return i>10&&(a=10,o/e*100>60&&(a=o/e*50)),a<15&&(a=15),t[1]=a,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:t,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\")}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()});this.downloadcsv=()=>{let t=Object(o.clone)(this.parent.search);t.is_total=null,t.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{e=e.items;var i=Object(o.clone)(e);if(\"negative\"===t.section||\"negative,neutral\"===t.section||\"neutral,negative\"===t.section)var a=i&&i.negative?i.negative:[];if(\"positive\"===t.section||\"positive,neutral\"===t.section||\"neutral,positive\"===t.section)a=i&&i.positive?i.positive:[];if(\"positive,negative\"===t.section||\"negative,positive\"===t.section){var n=i&&i.positive?i.positive:[],r=i&&i.negative?i.negative:[];a=Object(o.concat)(n,r)}if(\"\"===t.section||null===t.section||void 0===t.section||\"positive,negative,neutral\"===t.section||\"positive,neutral,negative\"===t.section||\"negative,positive,neutral\"===t.section||\"negative,neutral,positive\"===t.section||\"neutral,negative,positive\"===t.section||\"neutral,positive,negative\"===t.section){a=i&&i.all?i.all:[];this.dataall.all=a}if(\"neutral\"===t.section)a=this.dataall.all;var s=a;(s=Object(o.map)(s,(function(t,e){return{keyword:t[0],count:t[1].formatMoney(0)}}))).length>0&&APP.downloadcsv(s,\"WordcloudSummary_\"+p(\"project\"),!0)}})}}))},33:function(t,e,i){\"use strict\";function o(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if(\"string\"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===i&&t.constructor&&(i=t.constructor.name);if(\"Map\"===i||\"Set\"===i)return Array.from(t);if(\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(t,e)}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}i.r(e),i.d(e,\"label\",(function(){return n}));var n={name:\"export_stream\",serviceIdToString:{1:\"facebook\",2:\"twitter\",3:\"news\",4:\"blogs\",5:\"forums\",6:\"youtube, tiktok\",7:\"instagram\"},label_keys:[\"since\",\"until\",\"project\",\"service_category\",\"query\",\"domain\",\"author\",\"tag\",\"type\",\"since_time\",\"until_time\"],formatForDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";switch(t){case\"service_category\":return this.serviceIdToString[e];default:return e}},formatForDisplayByLabel:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i={},a=o(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;i.hasOwnProperty(n.key)||(i[n.key]=[]),i[n.key].push(this.formatForDisplay(n.key,n.value))}}catch(t){a.e(t)}finally{a.f()}return i}}}}]);","extractedComments":[]}