{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{129:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"share-of-voice\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SHARE OF VOICE </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{if((t=t||[]).length<=0)return!1;this.seriesData=Highcharts.chart(\"shareofvoice\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:t}]})},this.render=()=>{APP.log(\"chart share VOICE : render\");let t=Object(i.clone)(this.parent.search);const e=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",r=decodeURIComponent(`${e},${a}`),s=\"string\"==typeof r?r.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";t.is_total=null,t.project=s,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:t,success:function(t){0===(t=t.items).length?this.notdata=!0:this.update({notdata:!1});var e=Object(i.map)(t,(t,e)=>({y:t.count,name:t.brand,color:t.color}));Object(i.maxBy)(e,t=>t&&t.y?t.y:{});this.createChart(e),this.update({isLoading:!1})}.bind(this)}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},130:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"sourceofmention\",'<div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> SOURCE OF MENTION </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height660 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofmention\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.notdata=!1,this.xhr=null,this.createChart=t=>{const e=t.totalpercent||[],a=t.arraySeries||[];if(a.length<=0)return!1;Highcharts.chart(\"shareofmention\",{chart:{type:\"bar\"},title:{text:\"\"},xAxis:{categories:e,id:\"idXAxisC03\",labels:{style:{color:\"#333\",font:\"18px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}}},yAxis:{gridLineWidth:1,gridLineColor:\"#aaa\",min:0,title:{text:\"\"},labels:{style:{color:\"#333\",font:\"14px Trebuchet MS, Verdana, sans-serif\"}}},tooltip:{formatter:function(){return[this.key+\" : \"+this.y.formatMoney(0)+\" (\"+this.point.percent+\"%)\"].join(\"\")}},legend:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){return\"<span style='z-index:0;position:relative; font-size:18px;'> \"+this.y.formatMoney(0)+\"</span>\"}}},bar:{dataLabels:{enabled:!0,style:{fontWeight:\"bold\",fontSize:\"15px\"}}}},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:a}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=Object(i.clone)(this.parent.search);t.is_total=null,t.section=\"\",t.project=p(\"project\"),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;var e=[];Object(i.forEach)(t,(function(t){e.push(t)})),e=Object(i.sumBy)(e,\"count\");let a=[],r={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blog:\"#fe6800\",Blogs:\"#fe6800\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#39d44c\"};for(const i in t){let o={};var s=100*t[i].count/e;o={y:t[i].count,percent:parseFloat(s.toFixed(1)),name:i,color:r[i]},a.push(o)}a.map((function(t,e){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t})),0===a.length?this.notdata=!0:this.update({notdata:!1});var o=Object(i.sortBy)(a,(function(t){return t.y}));o.reverse();var n=Object(i.map)(o,t=>{var a=100*t.y/e;return t.name+\"<br> <b>   (\"+a.formatMoney(2)+\"%)</b>\"});this.createChart({arraySeries:o,totalpercent:n}),this.update({isLoading:!1})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}