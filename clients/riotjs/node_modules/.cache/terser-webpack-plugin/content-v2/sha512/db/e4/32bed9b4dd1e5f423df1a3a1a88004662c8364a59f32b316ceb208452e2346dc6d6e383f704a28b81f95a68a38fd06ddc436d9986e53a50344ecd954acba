{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{398:function(t,e,i){\"use strict\";i.r(e);var a=i(92);i(1).tag2(\"infographic-competition-chart-composition\",'<div class=\"row\"> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"a141 f24\">STREAM COMPETITION</b> <br> <span class=\"f14 a141\">Competition by brand</span> </div> <div class=\"col-md-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12\"> <b class=\"f7c f18\">DAILY</b> </div> <div class=\"col-md-12 col-12 p-20\"> <div id=\"chartstream_multiproject\" class=\"height-chart-infographic\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ infographic.competition.chart-composition(tag) ]\",a.default.bind(this)()}))},399:function(t,e,i){\"use strict\";i.r(e);var a=i(94);i(1).tag2(\"infographic-competition-by-brand-composition\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (DAILY)</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ infographic.competition.composition-brand-daily(tag) ]\",a.default.bind(this)()}))},400:function(t,e,i){\"use strict\";i.r(e);var a=i(95);i(1).tag2(\"infographic-competition-by-brand-composition-last-date\",'<div class=\"row mt-5\"> <div class=\"col-md-12 col-12\"> <div class=\"row\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"col-md-12 col-12 mb-4 text-center\"> <b class=\"f24 a141\">SENTIMENT COMPETITION (THE LAST {totalDate} DAYS )</b> <br> <span class=\"f14 a141\">Sentiment comparison among source brand mentions</span> </div> <div class=\"col-md-12\"> <table class=\"table mg-b-0 tx-30-r10 \"> <tr> <th></th> <th class=\" tx-black tx-18\" style=\"color: #7ee87c; \">POSITIVE </th> <th class=\" tx-black tx-18\" style=\"color: #db6a87; \">NEGATIVE</th> <th class=\" tx-black tx-18\" style=\"color: #f3973e; \">NEUTRAL</th> <th class=\" tx-black tx-18\" style=\"color: #7dcbe9; \">POTENTIAL REACH</th> </tr> <tbody> <tr class=\"tr td th fontsize20\" each=\"{o,i in prjList}\"> <td class=\" tx-black tx-18\"><b>{o}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{cachepositive[i] ? cachepositive[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachepositive[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{cachenegative[i] ? cachenegative[i].formatMoney(0).replace(\\',\\', \\'.\\') : cachenegative[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{cacheneutral[i] ? cacheneutral[i].formatMoney(0).replace(\\',\\', \\'.\\') : cacheneutral[i]}</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{potentialreach[i] ? potentialreach[i].formatMoney(0).replace(\\',\\', \\'.\\') : potentialreach[i]}</b></td> </tr> <tr class=\"tr td th fontsize20\" if=\"{this.parent.competition}\"> <td class=\" tx-black tx-18\">SOV ({namevaluId})</td> <td class=\" tx-black tx-18\" style=\"color: #7ee87c; \"> <i class=\"fa fa-thumbs-up\"></i> <b>{totalpositives ? totalpositives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #db6a87; \"> <i class=\"fa fa-thumbs-down\"></i> <b>{totalnegatives ? totalnegatives.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #f3973e; \"> <i class=\"fa fa-question-circle\"></i> <b>{totalneutrals ? totalneutrals.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> <td class=\" tx-black tx-18\" style=\"color: #7dcbe9; \"> <i class=\"fa fa-users\"></i> <b>{totalreachs ? totalreachs.toLocaleString(\\'id\\', {minimumFractionDigits: 0, maximumFractionDigits: 2}) : 0} %</b></td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ infographic.competition.composition-brand-last-date(tag) ]\",a.default.bind(this)()}))},536:function(t,e,i){\"use strict\";i.r(e);var a=i(0),o=i(5),s=i(4);i(1).tag2(\"indosat-source-of-mention-negative-pie\",'<div class=\"row\"> <div class=\"col-md-6\" each=\"{o,i in validProjects2}\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> NEGATIVE {prjList ? prjList[o] : \\'x\\'} </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata[o]}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height680\" id=\"negativepie{o}\" if=\"{!notdata[o]}\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){const e=s.default.get(\"channels\"),i=Object.keys(e).reduce((t,i)=>(t[i]=e[i].color,t),{});this.isLoading=!0,this.notdata={},this.xhr=null,this.prjList={},this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"negativepie\"+String(t.prj),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:500},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=Object(a.clone)(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?Object(a.concat)(e,this.parent.competitionProjects):e;this.allProjects=Object(a.filter)(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),t.section=\"negative\",this.firstProject=e[0];let o=this.parent.projectList;o?this.createObject(t,o):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{o=t}}).done(()=>{this.parent.projectList=o,this.createObject(t,o)})},this.createObject=(t,e)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),o=Object(a.find)(e,{key_id:i});o&&o.key_name&&(this.prjList[i]=this.isCombine?\"All\":o.key_name)}setTimeout(()=>{var e=this.isCombine?[this.allProjects.toString()]:Object(a.clone)(this.allProjects);this.validProjects2=e,Object(o.a)(e,(e,a)=>{let o=null;o=this.isCombine?this.allProjects[0]:e=parseInt(e),e&&(t.project=e,this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let a=[];for(const e in t){let o={};o={y:t[e].count,name:e,color:i[e]},a.push(o)}0===a.length?this.notdata[e]=!0:(this.notdata[e]=!1,this.update()),this.createChart({data:a,prj:e}),this.update({isLoading:!1})}}))})},500)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},537:function(t,e,i){\"use strict\";i.r(e);var a=i(0),o=i(5),s=i(4);i(1).tag2(\"indosat-source-of-mention-positive-pie\",'<div class=\"row\"> <div class=\"col-md-6\" each=\"{o,i in validProjects}\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> POSITIVE {prjList ? prjList[o] : \\'x\\'} </h6> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata[o]}\"> No data found, please input another dates </div> <div class=\"card-body pd-0 bd-color-gray-lighter height680\" id=\"shareofmention_positivepie{o}\" if=\"{!notdata[o]}\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){const e=s.default.get(\"channels\"),i=Object.keys(e).reduce((t,i)=>(t[i]=e[i].color,t),{});this.isLoading=!0,this.notdata={},this.xhr=null,this.prjList={},this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofmention_positivepie\"+String(t.prj),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\",height:500},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}:{point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})},this.render=()=>{APP.log(\"chart share streams : render\");let t=Object(a.clone)(this.parent.search);const e=\"string\"==typeof t.project?t.project.split(\",\"):t.project,i=this.parent.competitionProjects?Object(a.concat)(e,this.parent.competitionProjects):e;this.allProjects=Object(a.filter)(i.map(t=>parseInt(t)),t=>!isNaN(t)),this.isCombine=t.project.split(\",\").length>1,this.isRegular=!(1!==t.project.split(\",\").length||!isNaN(this.parent.competitionProjects)),t.section=\"positive\",this.firstProject=e[0];let o=this.parent.projectList;o?this.createObject(t,o):APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{o=t}}).done(()=>{this.parent.projectList=o,this.createObject(t,o)})},this.createObject=(t,e)=>{this.prjList={},this.xhrtophashtags={};for(let t in this.allProjects){const i=parseInt(this.allProjects[t]),o=Object(a.find)(e,{key_id:i});o&&o.key_name&&(this.prjList[i]=this.isCombine?\"All\":o.key_name)}setTimeout(()=>{var e=this.isCombine?[this.allProjects.toString()]:Object(a.clone)(this.allProjects);this.validProjects=e,Object(o.a)(e,(e,a)=>{let o=null;o=this.isCombine?this.allProjects[0]:e=parseInt(e),e&&(t.project=e,this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:t,success:t=>{t=t.items;let a=[];for(const e in t){let o={};o={y:t[e].count,name:e,color:i[e]},a.push(o)}0===a.length?this.notdata[e]=!0:(this.notdata[e]=!1,this.update()),this.createChart({data:a,prj:e}),this.update({isLoading:!1})}}))})},500)},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},92:function(t,e,i){\"use strict\";i.r(e);var a=i(0),o=i(93),s=i.n(o);e.default=function(){var t=this;this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.chartspline=null,this.isExist=!0,this.isLoading=!0,this.chart=null,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=function(e){APP.log(\"chart-positive: selectTime\"),e.preventDefault(),e.item.selected=!0;var i=e.item.id;t.times=Object(a.map)(t.times,(function(t){return t.id!=i&&(t.selected=!1),t})),t.update(),t.render()},this.dataProjects=[],this.render=function(e){setTimeout((function(){t.notdata=!1,APP.log(\"chart-positive: render\"),t.nuull=!0;var i=JSON.parse(localStorage.getItem(\"projects\"))?JSON.parse(localStorage.getItem(\"projects\")):t.parent.listproject;i=Object(a.filter)(i,(function(t){return t}));var o=t.parent.projectAll.split(\",\").map(Number);Object(a.map)(i,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach((function(e){o.indexOf(e.id)>-1?e.checked=!0:e.checked=!1,t.dataProjects.push(e)}));var c=Object(a.filter)(t.dataProjects,(function(t){return t.checked})),n=Object(a.find)(t.times,{selected:!0}).id,r=Object(a.clone)(t.parent.search);r.project=t.parent.projectAll,r.type=n;var l=c.map((function(t){return{name:t.name,color:t.color}})),d=Object(a.reduce)(l,(function(t,e){return t[e.name]=e.color,t}),{});t.update({isLoading:!0});var p=t.chartspline=s()(\"chartstream_multiproject\",n);t.xhr=APP.apiGet({path:\"stream/brand/mention\",data:r,success:function(i){var o=t.parent.component;o.chartcompetitor=!0,6===Object(a.filter)(o,(function(t){return t})).length&&t.parent.updateid(),0===(i=i.items).length?t.notdata=!0:t.update({notdata:!1});var s=Object(a.groupBy)(i,(function(t){return t.brand_name}));s=Object.keys(s).sort().reduce((function(t,e){return t[e]=s[e],t}),{});var c=[],n=1;for(var r in s){var l=Object(a.sortBy)(s[r],(function(t){return moment(t.date).toDate()}));if(l=l.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!t.isExist)return;c.push({id:\"response\",shadow:!1,name:r,type:\"spline\",totalval:Object(a.sumBy)(l,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,d[r]],[1,Highcharts.Color(d[r]).setOpacity(0).get(\"rgba\")]]},lineWidth:1,color:d[r],marker:{radius:3},dataLabels:{enabled:!0,color:d[r],overflow:\"justify\",allowOverlap:!0,backgroundColor:\"rgba(252, 255, 197, 0.7)\",borderWidth:1,borderRadius:5,borderColor:d[r],padding:5,align:n%2==0?\"left\":\"right\"},data:l}),n++}c=Object(a.orderBy)(c,[\"totalval\"],[\"desc\"]);for(var h=0;h<=c.length-1;h++)p.addSeries(c[h]);t.update({isLoading:!1}),Object(a.isFunction)(e)&&e()}})}),2e3)},this.on(\"mount\",(function(){t.xhr=null})),this.on(\"unmount\",(function(){t.isExist=!1,t.xhr,t.chart&&t.chart.destroy(),t.chartspline&&t.chartspline.destroy()}))}},94:function(t,e,i){\"use strict\";i.r(e);var a=i(0),o=i(5);function s(t){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return(e=function(t){var e=function(t,e){if(\"object\"!==s(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||\"default\");if(\"object\"!==s(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.default=function(){var t=this;this.cachesentimentmention={},this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.render=function(){var e=Object(a.clone)(t.parent.search);e.since=e.until,e.until=e.until,APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:function(e){t.projectList=e}}).done((function(){t.createObject(e,t.projectList)}))},this.createObject=function(e,i){for(var o in t.competitionProjects=t.parent.projectAll.split(\",\"),t.prjList={},t.competitionProjects){var s=t.competitionProjects[o],c=Object(a.find)(i,{key_id:parseInt(s)});c&&c.key_name&&(t.prjList[s]=c.key_name)}var n=t.competitionProjects;t.datavalue(e,n),t.potentialreach(e,n)},this.datavalue=function(e,i){Object(o.a)(i,(function(i,o){APP.apiGet({path:\"mentions/sentiment-count\",data:n(n({},e),{},{project:i,since:moment().format(\"YYYY-MM-DD\"),until:moment().format(\"YYYY-MM-DD\")}),success:function(e){var s=t.parent.competition||{};6===Object(a.filter)(s,(function(t){return t})).length&&t.parent.updateid();var c=(e=e.items).negative?parseInt(e.negative):0,n=e.positive?parseInt(e.positive):0,r=e.neutral?parseInt(e.neutral):0;t.chacetotal[i]=n+c+r,t.cachepositive[i]=n,t.cachenegative[i]=c,t.cacheneutral[i]=r,t.sValue=e,t.update(),o()}}),t.update({isLoading:!1})}))},this.potentialreach=function(e,i){e.compare=!0,Object(o.a)(i,(function(i,a){e.project=i;var o=\"\",s=0;for(var c in e)e[c]&&\"\"!=e[c]&&(o+=s>0?\"&\".concat(c,\"=\").concat(encodeURIComponent(e[c])):\"?\".concat(c,\"=\").concat(encodeURIComponent(e[c])),s++);APP.apiGet({path:\"summary/potential-reach\".concat(o),success:function(e){e=e.items,t.potentialreach[i]=e.potential_reach?e.potential_reach:0,t.update(),a()}}),t.update({isLoading:!1})}))}}},95:function(t,e,i){\"use strict\";i.r(e);var a=i(0),o=i(5);e.default=function(){var t=this;this.cachesentimentmention={},this.totalDate=0,this.cachepositive={},this.cachenegative={},this.cacheneutral={},this.chacetotal={},this.chacereachtotal={},this.potentialreach={},this.totalpositive=[],this.totalnegative=[],this.totalneutral=[],this.totalreach=[],this.render=function(){var e=Object(a.clone)(t.parent.search),i=new Date(e.since),o=new Date(e.until);t.totalDate=(o-i)/864e5+1,t.projecindex=(p(\"project\")?p(\"project\"):APP.getProject()).split(\",\").map((function(t){return parseInt(t)})),APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:function(e){t.projectList=e}}).done((function(){t.createObject(e,t.projectList)})),t.update()},this.createObject=function(e,i){for(var o in t.competitionProjects=t.parent.projectAll.split(\",\"),t.prjList={},t.competitionProjects){var s=t.competitionProjects[o],c=Object(a.find)(i,{key_id:parseInt(s)});c&&c.key_name&&(t.prjList[s]=c.key_name)}var n=t.competitionProjects;t.datavalue(e,n),t.potentialreach(e,n)},this.datavalue=function(e,i){Object(o.a)(i,(function(i,o){e.project=i,APP.apiGet({path:\"mentions/sentiment-count\",data:e,success:function(e){var s=t.parent.component;s.compositionbrandlast=!0,6===Object(a.filter)(s,(function(t){return t})).length&&t.parent.updateid();var c=(e=e.items).negative?parseInt(e.negative):0,n=e.positive?parseInt(e.positive):0,r=e.neutral?parseInt(e.neutral):0;t.totalpositive.push(n),t.totalnegative.push(c),t.totalneutral.push(r),t.chacetotal[i]=n+c+r,t.cachepositive[i]=n,t.cachenegative[i]=c,t.cacheneutral[i]=r,t.sValue=e,t.update(),o()}}),t.update({isLoading:!1})}),(function(){var e=Object(a.filter)(t.projectList,(function(e){return console.log(t.projecindex,e.key_id),t.projecindex.indexOf(e.key_id)>-1}));e.length>0&&(t.namevaluId=e[0].key_name);var i=t.cachepositive[t.projecindex],o=Object(a.sum)(t.totalpositive);t.totalpositives=100*i/o;var s=t.cachenegative[t.projecindex],c=Object(a.sum)(t.totalnegative);t.totalnegatives=100*s/c;var n=t.cacheneutral[t.projecindex],r=Object(a.sum)(t.totalneutral);t.totalneutrals=100*n/r,t.update()}))},this.potentialreach=function(e,i){e.compare=!0,Object(o.a)(i,(function(i,a){e.project=i;var o=0;for(var s in e)e[s]&&\"\"!=e[s]&&(o>0?\"&\".concat(s,\"=\").concat(encodeURIComponent(e[s])):\"?\".concat(s,\"=\").concat(encodeURIComponent(e[s])),o++);APP.apiGet({path:\"summary/potential-reach\",data:e,success:function(e){e=e.items,t.potentialreach[i]=e.potential_reach?e.potential_reach:0,t.totalreach.push(t.potentialreach[i]),t.update(),a()}}),t.update({isLoading:!1})}),(function(){var e=t.potentialreach[t.projecindex],i=Object(a.sum)(t.totalreach);t.totalreachs=100*e/i,t.update()}))}}}}]);","extractedComments":[]}