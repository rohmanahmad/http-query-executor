{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{16:function(t,e,i){i(0).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(e){e.preventDefault();var i=e.target.id;_.each(this.checkeddata,(t,e)=>{t.id==i?t.selected=!0:t.selected=!1}),t.cb(i)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=_.filter(t,(function(t){return t.checked}));_.each(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))},213:function(t,e,i){i(0).tag2(\"chart-brand-positioning\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"><i class=\"fa fa-bullseye mg-r-5 iconcolor\" aria-hidden=\"true\"></i>BRAND POSITIONING</h6> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"???\">?</span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter \" id=\"chartbrandposition\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.isLoading=!0,this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"brand-positioning: render\");_.find(this.times,{selected:!0});var e=_.clone(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/brand/brand-positioning\",data:e,success:function(t){if(0===(t=t.items).length)return this.notdata=!0,this.isLoading=!1,this.update(),!1;this.update({notdata:!1}),this.isExist&&(Highcharts.chart(\"chartbrandposition\",{chart:{type:\"bubble\",height:300,plotBorderWidth:1,zoomType:\"xy\"},legend:{enabled:!0,align:\"right\"},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},title:{text:\"\"},xAxis:{gridLineWidth:1,title:{text:\"Conversation Rate\"},labels:{format:\" \"},plotLines:[{}]},yAxis:{gridLineWidth:1,title:{text:\"Applause Rate\"},labels:{format:\" \"},plotLines:[{}]},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr><th colspan=\"2\"><h3>{point.series.name}</h3></th></tr><tr><th>conversation rate :</th><td>{point.x:.1f}</td></tr><tr><th>applause rate :</th><td>{point.y:.1f}</td></tr><tr><th>amplification rate :</th><td>{point.z:.1f}</td></tr>',footerFormat:\"</table>\",followPointer:!0},series:t}),this.items=t.items,this.update({isLoading:!1}))}.bind(this)})},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},26:function(t,e,i){\"use strict\";t.exports=function(t,e){var i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==e?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,a=\"MMMM YYYY\"),Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\",marginTop:50},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:\"#ccc\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#ccc\"},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!1},tooltip:{formatter:function(){return[moment(this.x).format(a),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{series:{cursor:\"pointer\",point:{events:{click:function(){var i=this,a=JSON.parse(localStorage.projects),n=_.filter(a,(function(t,e){return t.key_name==i.series.name})),s=moment(event.point.x).format(\"YYYY-MM-DD\"),o=moment(event.point.x).format(\"HH\"),r=n?n[0].key_id:\"\";\"hourly\"==e&&renderchart.trigger(t,s,null,null,null,null,o,this.series.name,r,null,null,null,null),\"daily\"==e&&renderchart.trigger(t,s,null,null,null,null,null,this.series.name,r,null,null,null,null),\"monthly\"==e&&renderchart.trigger(t,s,null,null,null,null,null,this.series.name,r,null,null,null,e)}}}},spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:4}},marker:{lineWidth:1,radius:1},pointInterval:i,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},27:function(t,e,i){\"use strict\";t.exports=function(t,e){var i=36e5,a=\"MMMM DD, YYYY HH:00\";return\"daily\"==e?(i=864e5,a=\"MMMM DD, YYYY\"):\"monthly\"==e&&(i=2592e6,a=\"MMMM YYYY\"),new Highcharts.Chart({chart:{backgroundColor:\"none\",renderTo:t,type:\"spline\"},title:{text:\"\"},xAxis:{type:\"datetime\",gridLineWidth:1,gridLineColor:\"#f2f2f2\",minTickInterval:i,title:{text:null},labels:{style:{color:\"#ccc\"}}},yAxis:{title:{text:null},min:0,gridLineWidth:1,gridLineColor:\"#f2f2f2\",labels:{style:{color:\"#ccc\"},formatter:function(){return this.value.formatMoney(0)}}},exporting:{enabled:!0},tooltip:{formatter:function(){return[moment(this.x).format(a),\"<br>\",this.y+\" \"+this.series.name].join(\"\")}},plotOptions:{spline:{lineWidth:2,states:{hover:{enabled:!0,lineWidth:4}},marker:{lineWidth:1,radius:1},pointInterval:i,pointStart:Date.UTC(2009,9,6,0,0,0)}},legend:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}}})}},44:function(t,e,i){i(0).tag2(\"sentiment-composition\",'<div class=\"btn {name} btn-icon mg-r-0 {active:selected} mg-t-10 {name}mg-r height60 {mgl10} widthsentiment cursor-pointer displayinlineflex\" each=\"{sentiment}\" id=\"sent\" onclick=\"{selectSentiment}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"35\" height=\"35\" class=\"center displayinitial mg-t-10 mg-l-10\"> <span class=\"mg-l-20 mg-t-20 hiddenmax500\">{name}</span> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"positive\",total:null,name:\"Positive\",selected:!0,color:\"count-txt color-green-500\",icon:\"../assets/img/svg/thumbs-up-grey.png\",mgl10:\"mg-r-10\"},{id:\"negative\",total:null,name:\"Negative\",selected:!0,color:\"count-txt color-red-500\",icon:\"../assets/img/svg/thumbs-down-grey.png\",mgl10:\"mg-r-10\"},{id:\"neutral\",total:null,name:\"Neutral\",selected:!0,color:\"count-txt color-orange-500\",icon:\"../assets/img/svg/help-grey.png\",mgl10:\"mg-l-10\"}],this.on(\"mount\",()=>{this.parent.search.section=null}),this.render=()=>{APP.log(\"sentiment : render\")},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=_.filter(this.sentiment,t=>t.selected),i=_.map(e,t=>t.id);t.cb(i.join(\",\"))}}}))},82:function(t,e,i){\"use strict\";i.r(e);var a=i(26),n=i.n(a);i(0).tag2(\"chart-positive\",'<div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> STREAM COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a href=\"#\" onclick=\"{selectTime}\" class=\"btn {active:selected}\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\" mg-l-10 mg-t-7 cursor-pointer cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords, compared to other projects that you\\'ve chosen\"> ? </span> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <div class=\"card-body pd-0 bd-color-gray-lighter height380 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter \" if=\"{!notdata}\"> <div class=\"row no-gutters tx-center height400\" id=\"chartstream_multiproject\"></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.chartpositive=null,this.isExist=!0,this.isLoading=!0,this.chart=null,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{APP.log(\"chart-positive: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{APP.log(\"chart-positive: mount\")}),this.renderamplifi=()=>{$.getJSON(\"/data/lazoneid.json\",(function(t){let e=\"\";for(let i of t)e+=i.tweet;console.log(e)}))},this.dataProjects=[],this.render=t=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var e=JSON.parse(localStorage.getItem(\"projects\"));const i=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);_.map(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{i.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var a=_.filter(this.dataProjects,(function(t){return t.checked}));this.projectname=a,this.valproject=a;const s=_.find(this.times,{selected:!0}).id;let o=_.clone(this.parent.search);o.project=p(\"project\")?p(\"project\"):APP.getProject(),o.type=s;var r=a.map((function(t){return{name:t.name,color:t.color}})),l=_.reduce(r,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const d=this.chartpositive=n()(\"chartstream_multiproject\",s);this.xhr=APP.apiGet({path:\"stream/brand/mention\",data:o,success:e=>{0===(e=e.items).length?this.notdata=!0:this.update({notdata:!1});var i=_.groupBy(e,(function(t){return t.brand_name}));i=Object.keys(i).sort().reduce((t,e)=>(t[e]=i[e],t),{});var a=[];for(let t in i){var n=_.sortBy(i[t],t=>moment(t.date).toDate());if(n=n.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!this.isExist)return;a.push({id:\"response\",shadow:!1,name:t,type:\"areaspline\",totalval:_.sumBy(n,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,l[t]],[1,Highcharts.Color(l[t]).setOpacity(0).get(\"rgba\")]]},lineWidth:1,color:l[t],marker:{radius:3},data:n})}this.data=a,a=_.orderBy(a,[\"totalval\"],[\"desc\"]);for(var s=0;s<=a.length-1;s++)d.addSeries(a[s]);this.update({isLoading:!1}),_.isFunction(t)&&t()}})},500)},this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(const t in this.projectname)a.push(this.projectname[t].name);let n=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\");let s=[];for(let t in a){let i={},n=a[t],o=e[n]&&e[n][0].tipe;n===o?i[o]=e[n][0].count:i[n]=0,s.push(i)}let o=s.reduce((function(t,e){return Object.assign(t,e)}),{});[o].map(e=>(e.tgl=moment(Number(t)).format(\"YYYY-MM-DD\"),e)),n.push(o)}n.length>0&&APP.downloadcsv(n,\"Stream_Comparison_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr,this.chart&&this.chart.destroy(),this.chartpositive&&this.chartpositive.destroy()})}))},83:function(t,e,i){\"use strict\";i.r(e);i(18);i(0).tag2(\"competitive-share-of-voice\",'<div class=\"no-gutters widget-1\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header bb-1 pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SHARE OF VOICE</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter height300 \" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null;var e=this;this.render=t=>{var e=this;setTimeout((function(){APP.log(\"share of voice  : render\"),e.setChart(t)}),1e3)},this.setChart=t=>{APP.log(\"share of voice  : setChart\");let i=_.clone(this.parent.search);i.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0,notdata:!1}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:i,success:i=>{if(_.isFunction(t)&&t(),0===(i=i).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});var a=i.items;a=a.map((function(t,e){var a=t.count/i.total*100;return{name:t.brand,y:parseFloat(a.toFixed(1)),totalvalue:t.count.formatMoney(0),color:t.color}})),this.items=a,this.isExist&&(this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy(),Highcharts.chart(\"shareofvoice\",{chart:{type:\"pie\",options3d:{enabled:!0,alpha:45}},title:{text:\"\"},subtitle:{text:\"\"},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h6>{point.name}</h6></th></tr><tr><th>Total : {point.totalvalue} </th><td>({point.y} %)</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{pie:{innerSize:100,depth:45,dataLabels:{formatter:function(){return\"<span style='font-size:12px; color:#333;'> \"+this.point.name+\"</br>\"+this.point.totalvalue+\" ( \"+this.point.y+\" % ) </span>\"},useHTML:!0},minSize:200},series:{cursor:\"pointer\",events:{click:function(t){var i=JSON.parse(localStorage.projects),a=_.filter(i,(e,i)=>e.key_name==t.point.name),n=a?a[0].key_id:\"\";e.parent.detailmentions(null,null,null,null,null,null,t.point.name,n)}}}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},series:[{name:\"Persentase\",data:a}]}),this.update({isLoading:!1}))}})},this.downloadcsv=()=>{var t=this.items.map(t=>({brand:t.name,count:t.y,persentase:t.totalvalue}));t.length>0&&APP.downloadcsv(t,\"share_of_voice_competition_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))}}]);","extractedComments":[]}