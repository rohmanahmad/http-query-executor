{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{186:function(t,e,a){\"use strict\";a.r(e);a(15),a(493),a(494),a(10);e.default=function(){var t=this;this.ondata=!1,this.error=!1,this.email=!0,this.ondatasms=!0,this.height=\"500\",this.engine=APP.engine,this.on(\"mount\",(function(){menuActive.trigger(\"activated\",[\"project_settings\"]),urlStream.trigger(\"changeUrl\",\"setting/spike-notification\"),t.getspike(),t.getspikesms(),APP.animationFadeIn(),$(\"select#custom\").select2({tags:!0,maximumSelectionLength:5,tokenSeparators:[\",\"]}),$(\".toggle\").toggles({on:t.ondata,height:26}),setTimeout((function(){$('[data-toggle=\"tooltip\"]').tooltip()}),500)})),this.emailevent=function(e){t.email=!0,setTimeout((function(){$(\".toggle\").toggles({on:t.ondata,height:26})}),100),t.update()},this.smsevent=function(e){t.email=!1,setTimeout((function(){$(\".toggle\").toggles({on:t.ondatasms,height:26})}),100),t.update()},this.saved=function(){t.email?t.refs.spikeFormEmail.saveData():t.refs.spikeFormSms.saveData()},this.getspike=function(){var e={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"alert_email\"};APP.apiGet({path:\"projects/project-settings\",data:e,success:function(e){var a=e.alert_active;if(\"h-0\"==e.date_monitor)var i=!0;else i=!1;t.getemail=e,t.data={email:e.email_alert?e.email_alert.split(\",\"):\"\",increase:\"\".concat(e.increase),Sentiment:\"\".concat(e.stream_type),ispercent:\"\".concat(e.ispercent),Time:\"\".concat(e.sending_time),Realtime:i},a?(t.ondata=!0,t.height=\"500\"):(t.ondata=!1,t.height=\"500\"),$(\".toggle\").toggles({on:t.ondata,height:26}),t.update({ondata:t.ondata})}})},this.getspikesms=function(){var e={project:p(\"project\")?p(\"project\"):APP.getProject().toString(),type:\"alert_sms\"};APP.apiGet({path:\"projects/project-settings\",data:e,success:function(e){var a=e.alert_sms_active;if(\"h-0\"==e.date_monitor)var i=!0;else i=!1;t.getemail=e,t.datasms={nophone:e.phone_number?e.phone_number.split(\",\"):\"\",increase:\"\".concat(e.increase),Sentiment:\"\".concat(e.stream_type),ispercent:\"\".concat(e.ispercent),Time:\"\".concat(e.sending_time),Realtime:i},a?(t.ondatasms=!0,t.height=\"500\"):(t.ondatasms=!1,t.height=\"500\"),t.update({ondatasms:t.ondatasms})}})},this.savedoff=function(){if(t.email)var e=\"projects/spike-notif\";else e=\"projects/spike-notif\";var a={project:p(\"project\"),enable_spike:!1};APP.apiPost({path:e,data:a,success:function(t){APP.success(t,(function(){}))}})},this.change=function(e){setTimeout((function(){$('[data-toggle=\"tooltip\"]').tooltip()}),1e3),t.ondata=!t.ondata,t.update()},this.changesms=function(e){setTimeout((function(){$('[data-toggle=\"tooltip\"]').tooltip()}),1e3),t.ondatasms=!t.ondatasms}}},187:function(t,e,a){\"use strict\";a.r(e);a(13),a(10),a(14),a(18),a(26),a(495),a(496),a(34),a(502),a(497),a(498),a(499),a(392),a(393),a(500),a(503),a(504),a(505),a(213),a(212),a(475),a(474),a(210);var i=a(0),o=a(4),s=a(6),n=a(21),l=a(16),r=a(188);function d(t,e){var a=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if(\"string\"==typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===a&&t.constructor&&(a=t.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(t);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&\"number\"==typeof t.length){a&&(t=a);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,n=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){l=!0,s=t},f:function(){try{n||null==a.return||a.return()}finally{if(l)throw s}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var m=Object.values(o.default.get(\"channels\",{})),u={totalSentimentAll:!0,timelineOfMentions:!0,sourceOfMention:!0,genderByChannel:!0,estimateGender:!0,popularMentions:!0,wordcloud:!0,topHashtags:!0,shareOfVoice:!0,potentialReach:!0,reachOfMention:!0,top10Authors:!0,averageDailyMention:!0,buzzGeoDistribution:!0};e.default=function(){var t=this;this.activeComponents=u,this.services=m,this.updatefilternamenews=!1,this.error=!1,this.isNewFilter=!1,this.selectors={modalFilter:Object(l.randomId)(10),modalDetailMentions:Object(l.randomId)(10),modalSaveFilters:Object(l.randomId)(10)},this.search=s.default.currentFilters().reduce((function(t,e){return t[e.key]=e.val,t}),{}),Object(i.isArray)(this.search.service_category)&&(this.search.service_category=this.search.service_category.join()),APP.currentProject=this.search.project=p(\"project\")?p(\"project\"):APP.getProject(),this.on(\"mount\",(function(){t.xhr=null,urlStream.trigger(\"changeUrl\",\"summary\"),menuActive.trigger(\"activated\",[\"summary\"]),$(\"body,html\").animate({scrollTop:0},500)})),this.updateDate=function(e,a){t.search.since=e,t.search.until=a,setTimeout((function(){t.render()}),1e3)},this.updatefiltername=function(){var e={name:t.namefiltervalue,q:t.search.q,domain:t.search.domain,author:t.search.author,filterbot:t.search.filterbot},a=t.services.filter((function(t){return 1==t.selected})).map((function(t){return t.id}));if(a.length>0&&(e.service_category=a.join(\",\")),!t.refs.filterformvalue.saveshowdropdown&&t.refs.filterformvalue.filtervalue&&t.refs.filterformvalue._id){var i=t.refs.filterformvalue._id,o=p(\"project\")||APP.getProject();Object(r.update)(e,{params:{id:i},queries:{project:o}}).catch((function(t){n.default.error(t)})).then((function(a){a&&(n.default.success(\"Success\"),t.search.q=e.q,t.search.domain=e.domain,t.search.author=e.author,t.search.locations=e.locations,t.search.filterbot=\"true\"==e.filterbot,t.update(),t.render())}))}},this.updateFilter=function(e){t.refs.filterformvalue.updateFilter(e)},this.applyFilterToAllComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(t.search,e),t.update(),t.render()},this.updatefilternamemodal=function(){$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.render=function(e){t.search.project?(t.setLoadingComponent([\"social_share_of_voice\",\"potential_reach\",\"reach_of_mention\",\"average_daily_mention\",\"buzz_geo_distribution\",\"popular_mentions\",\"source_of_mention\",\"top_hashtags\",\"top_authors\"],!0),t.update(),t.renderComponent([\"total_sentiment_all\",\"timeline_of_mentions\",\"source_of_mention\",\"gender_by_channel\",\"estimate_gender\",\"wordcloud\",\"popular_mentions\",\"social_share_of_voice\",\"potential_reach\",\"reach_of_mention\",\"average_daily_mention\",\"buzz_geo_distribution\",\"top_hashtags\",\"top_authors\"])):swal(\"Oops...\",\"Create your project\",\"warning\")},this.setLoadingComponent=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=d(a);try{for(o.s();!(e=o.n()).done;){var s=e.value;t.refs[s]&&(t.refs[s].isLoading=i)}}catch(t){o.e(t)}finally{o.f()}},this.renderComponent=function(e){var a,i=d(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.refs[o]&&t.refs[o].render()}}catch(t){i.e(t)}finally{i.f()}},this.updatechannels=function(e){t.search.service_category=e,t.setLoadingComponent([\"social_share_of_voice\",\"potential_reach\",\"reach_of_mention\",\"average_daily_mention\",\"buzz_geo_distribution\",\"top_authors\"],!0),t.update(),t.renderComponent([\"popular_mentions\",\"social_share_of_voice\",\"potential_reach\",\"reach_of_mention\",\"average_daily_mention\",\"buzz_geo_distribution\",\"total_sentiment_all\",\"wordcloud\",\"top_hashtags\",\"top_authors\"])},this.xhr=renderchart.on(\"timeline-of-mentions-charts\",(function(e,a,i,o){if(\"Mention\"==a&&(a=\"mention\"),\"Reach\"==a)return!1;$(\"#modaldetailmentions\").modal(\"toggle\");var s=t.search.q||\"\";\"hourly\"==o&&t.detailmentions(e,a,null,null,s,i,a,null,null,null,null,null),\"daily\"==o&&t.detailmentions(e,a,null,null,s,null,a,null,null,null,null,null),\"monthly\"==o&&t.detailmentions(e,a,null,null,s,null,a,null,null,null,null,o)})),this.xhr=renderchartpie.on(\"socialshareofvoice\",(function(e){var a=t.search.author?t.search.author:null;$(\"#modaldetailmentions\").modal(\"toggle\");var i=t.search.q||\"\";t.detailmentions(null,null,e,a,i,null,\"Service Categori\",null,null,null,null,null)})),rendercharttoptime.on(\"chartstreamtop\",(function(e,a){$(\"#modaldetailmentions\").modal(\"toggle\");var i=t.search.q||\"\";t.detailmentions(e,null,null,null,i,a,null,null,null,null,null,null)})),this.detailmentions=function(e,a,o,s,n,l,r,d,c,m,u,g){$(\"#modaldetailmentions\").modal(\"toggle\"),setTimeout((function(){Object(i.isEmpty)(t.refs)||t.refs.detailmentions.modalsentimentvalue(e,a,o,s,n,l,r,d,c,m,u,g)}),500)},this.updateSentiment=function(e){e&&(3===e.split(\",\").filter((function(t){return t.length>0})).length&&(e=\"\"));t.search.section=e,s.default.setFilter({section:e}),t.render()},this.showDetailMentionsModal=function(e){t.detailMentionDataFilters=e,t.update(),$(\"#\"+t.selectors.modalDetailMentions).modal(\"show\")}}},588:function(t,e,a){\"use strict\";a.r(e);var i=a(186);a(1).tag2(\"spike-notification\",'<breadcrumb current=\"Spike Notif\" mode=\"project\"></breadcrumb> <div class=\"card\"> <div class=\"card-body\"> <p class=\"header-title-project\">PROJECT SETTINGS</p> </div> <header-menu></header-menu> </div> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row no-gutters widget-2 shadow-base\"> <div class=\"col-sm-6 col-lg-9\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">SPIKE NOTIFICATIONS</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height{height}\"> <div class=\"row\"> <div class=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 mg-t-20 mg-xl-t-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row height50\"> <li class=\"nav-item widthper50 cursor-pointer pd-l-10 bb-4 \"> <a class=\"nav-link {active:email} {spike:email} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{emailevent}\"> <img src=\"assets/images/components/icons/email-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-4\"> EMAIL </a> </li> <li class=\"nav-item widthper50 cursor-pointer pd-r-10 bb-4\"> <a class=\"nav-link {active:!email} {spike:!email} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{smsevent}\"> <img src=\"assets/images/components/icons/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SMS </a> </li> </ul> </div> </div> <div class=\"row\" if=\"{email}\"> <div class=\"col-lg-12 mg-t-30\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Enable Spike Notification ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{change}\"> <div class=\"toggle toggle-light primary\" data-toggle-on=\"{this.ondata}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable to activate spike notification\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"Enable to activate spike notification\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <div class=\"row\" if=\"{!email}\"> <div class=\"col-lg-12 mg-t-30\"> <div class=\"form-layout\"> <div class=\"row\"> <label class=\"col-sm-4 form-control-label text-right\" for=\"facebook-account\"><span class=\"tx-danger\"></span>Enable Spike Notification ?</label> <div class=\"col-sm-6 mg-t-10 mg-sm-t col-xs-12-0\"> <div class=\"toggle-wrapper mg-t-m-10\" onclick=\"{changesms}\"> <div class=\"toggle toggle-light primary sms\" data-toggle-on=\"{this.ondatasms}\"></div> </div> <b class=\" fa-1x mg-t-10 pull-right d-md-none d-lg-none\" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> <div class=\"col-md-2 d-lg-block d-md-block d-sm-none d-xs-none\"> <b class=\" fa-1x \" aria-hidden=\"true\" data-toggle=\"tooltip\" title=\"List Facebook accounts that you want to mark\" data-placement=\"left\">?</b> </div> </div> </div> </div> </div> <spike-form if=\"{this.ondata && email}\" cb=\"{data}\" ref=\"spikeFormEmail\"></spike-form> <spike-form-sms if=\"{this.ondatasms && !email}\" cb=\"{datasms}\" ref=\"spikeFormSms\"> </spike-form-sms> </div> <div class=\"modal-footer mg-t-0\"> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" onclick=\"{saved}\" if=\"{ondata}\">save</button> <button class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 mg-r-10 width100 pull-right cursor-pointer\" onclick=\"{savedoff}\" if=\"{!ondata}\">save</button> </div> </div> </div> <div class=\"col-sm-6 col-lg-3 mg-t-1 mg-sm-t-0\"> <div class=\"card\"> <div class=\"card-header bb-1 pd-20-imp\"> <h6 class=\"card-title\">HELP</h6> <a href=\"\"> </a> </div> <div class=\"card-body displayblock height{height}\"> <p class=\"mg-t-0\"> \"{engine} will detect unusual spikes of mentions in your project. If a spike occurs, you can setup who will receive spike notification via email. </br> Example of reasons to set up spike notifications:<br>- Know when you have a PR crisis in your brand. <br> - Know when a competitive product launch picked up extraordinary momentum <br>- etc.\" </p> </div> <div class=\"card-footer bg-white\" style=\"height:71px;\"> <div> <span class=\"tx-11\"></span> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){i.default.bind(this)()}))},589:function(t,e,a){\"use strict\";a.r(e);var i=a(187);a(1).tag2(\"dashboardsummary\",'<breadcrumb current=\"Dashboard Summary\" mode=\"project\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">SUMMARY</h4> </div> <button onclick=\"{updatefilternamemodal}\" if=\"{updatefilternamenews}\" data-toggle=\"modal\" data-target=\"#modaldemo3\" class=\"btn {btn-outline-secondary:!isNewFilter} {btn-primary:isNewFilter} btn-block mg-b-0 mg-t-0 mg-r-10 width200save cursor-pointer\"> <i class=\"fa fa-floppy-o pstf\"></i> Save Current Filters </button> <button onclick=\"{updatefiltername}\" if=\"{!updatefilternamenews}\" class=\"btn {btn-outline-secondary:!isNewFilter} {btn-primary:isNewFilter} btn-block mg-b-0 mg-t-0 mg-r-10 width200save {cursor-pointer:!isNewFilter}\" disabled=\"{disabled:isNewFilter}\"> <i class=\"fa fa-floppy-o pstf\"></i> Update Current Filters </button> <button data-toggle=\"modal\" data-target=\"#{selectors.modalFilter}\" class=\"btn btn-outline-primary mg-b-0 mg-t-0 mg-r-10 width200summary cursor-pointer\"> <i class=\"mg-r-5 icon ion-funnel\"></i> Filter </button> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.until}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"></date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <active-filters ref=\"filterformvalue\"></active-filters> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-12\"> <summary-total-sentiment-all if=\"{activeComponents.totalSentimentAll}\" ref=\"total_sentiment_all\" callback-action=\"{updateSentiment}\"></summary-total-sentiment-all> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-8 col-xl-9\"> <summary-timeline-of-mentions if=\"{activeComponents.timelineOfMentions}\" ref=\"timeline_of_mentions\" filters=\"{search}\" callback-action=\"{showDetailMentionsModal}\"></summary-timeline-of-mentions> </div> <div class=\"col-lg-4 col-xl-3 mg-t-20 mg-lg-t-0\"> <source-of-mention if=\"{activeComponents.sourceOfMention}\" ref=\"source_of_mention\" callback-action=\"{showDetailMentionsModal}\"></source-of-mention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-6\"> <summary-gender-by-channel if=\"{activeComponents.genderByChannel}\" ref=\"gender_by_channel\"></summary-gender-by-channel> </div> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <summary-estimate-gender if=\"{activeComponents.estimateGender}\" ref=\"estimate_gender\"></summary-estimate-gender> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-6\"> <summary-popular-mentions if=\"{activeComponents.popularMentions}\" ref=\"popular_mentions\"></summary-popular-mentions> </div> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <summary-wordcloud if=\"{activeComponents.wordcloud}\" ref=\"wordcloud\"></summary-wordcloud> <summary-top-hashtags if=\"{activeComponents.topHashtags}\" ref=\"top_hashtags\"></summary-top-hashtags> </div> </div> <div class=\"row row-sm mg-t-0\"> <div class=\"col-lg-6 pd-t-20\"> <share-of-voice if=\"{activeComponents.shareOfVoice}\" ref=\"social_share_of_voice\"></share-of-voice> </div> <div class=\"col-sm-12 col-lg-6 mg-lg-t-0 pd-t-20\"> <summary-potential-reach if=\"{activeComponents.potentialReach}\" ref=\"potential_reach\"></summary-potential-reach> <summary-reach-of-mention if=\"{activeComponents.reachOfMention}\" ref=\"reach_of_mention\"></summary-reach-of-mention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <summary-top-10-authors if=\"{activeComponents.top10Authors}\" ref=\"top_authors\"></summary-top-10-authors> </div> <div class=\"col-lg-6 mg-t-20 mg-lg-t-0\"> <summary-average-daily-mention if=\"{activeComponents.averageDailyMention}\" ref=\"average_daily_mention\"></summary-average-daily-mention> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12 \"> <summary-buzz-geo-distribution if=\"{activeComponents.buzzGeoDistribution}\" ref=\"buzz_geo_distribution\"></summary-buzz-geo-distribution> </div> </div> </div> <modal-detail-mentions selector-id=\"{selectors.modalDetailMentions}\" filters=\"{detailMentionDataFilters}\"></modal-detail-mentions> <modal-filter selector-id=\"{selectors.modalFilter}\" callback=\"{applyFilterToAllComponents}\"></modal-filter> <modal-save-filters ref=\"modalSaveFilters\" selector-id=\"{selectors.modalSaveFilters}\"></modal-save-filters> <div id=\"modaldetailmentions\" class=\"modal fade show\"> <div class=\"modal-dialog modal-lg\" role=\"document\" style=\"width: 800px;\"> <div class=\"modal-content tx-size-sm\"> <old-detail-mention ref=\"detailmentions\"></old-detail-mention> </div> </div> </div>',\"\",\"\",(function(t){i.default.bind(this)()}))},590:function(t,e,a){\"use strict\";a.r(e);var i=a(24),o=a(0);a(1).tag2(\"google-trends\",'<breadcrumb current=\"Dashboard Summary\" mode=\"pd-roject\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 pd-b-50\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Google {this.getFormatArea()} Trendings</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker type=\"single\" cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.since}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"> </date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-4 mg-t-10\" each=\"{doc in topItems}\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> <span data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"since: {doc.range.since} <br>until: {doc.range.until}\"> {doc.title} </span> </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row bb-1\" each=\"{o in doc.items}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-3\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-4\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> <div class=\"row\" if=\"{(doc.items || []).length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\" onclick=\"{showAll}\"> Show All </button> </div> </div> </div> <div class=\"col-md-4 mg-t-10\" each=\"{x in datalength}\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> {x.title} </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row bb-1\" each=\"{o in items[x.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-3\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-4\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> <div class=\"row\" if=\"{(items[x.date] || []).length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\" ref=\"{x.date}\" onclick=\"{showAll}\"> Show All </button> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-md-12 text-center bold pd-10\"> <button class=\"btn btn-primary cursor-pointer\" onclick=\"{more}\"> Load More </button> </div> </div> <div id=\"show-all-modal\" class=\"modal fade effect-flip-scale\"> <div class=\"modal-dialog modal-md pd-b-10\" role=\"document\" if=\"{modalConfig}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header\"> <h6> Trending In {modalConfig.area} </h6> <button type=\"button\" class=\"close float-right\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">×</span> </button> </div> <div class=\"modal-body\" style=\"height: 500px; min-width: 380px; overflow: scroll;\"> <div class=\"row\"> <div class=\"col-12 pd-b-10 bb-1\"> <span class=\"badge badge-info mg-r-20 float-left pd-5\"> From : {modalConfig.range[0]} </span> <span class=\"badge badge-primary float-left pd-5\"> Until: {modalConfig.range[1]} </span> </div> </div> <div class=\"row\" if=\"{allItems}\" each=\"{o in allItems[modalConfig.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-1\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-1\" data-toggle=\"tooltip\" data-placement=\"right\" data-html=\"true\" title=\"<b>{o.title}</b> Got Trending <b>({o.rank} Times)</b> In This Period\"> {o.count.formatted} </span> </div> </div> </div> </div> </div> </div> </div>','google-trends .hc-25,[data-is=\"google-trends\"] .hc-25{ height: 25px; } google-trends .add-more,[data-is=\"google-trends\"] .add-more{ margin-top: 150px; height: 100px; } google-trends .min-h-content,[data-is=\"google-trends\"] .min-h-content{ min-height: 400px; } google-trends .min-h-100,[data-is=\"google-trends\"] .min-h-100{ min-height: 100%; }',\"\",(function(t){this.area=\"indonesia\",this.isLoading=!0,this.xhr=[],this.datalength=[],this.items=[];const e=[{name:\"now\",title:\"Today\",range:{since:moment().set({h:0,m:0,s:0}).format(\"YYYYY-MM-DD HH:mm\"),until:moment().set({h:23,m:59,s:59}).format(\"YYYYY-MM-DD HH:mm\")},items:[]}];this.topItems=e.map(t=>t),this.allItems={},this.modalConfig={date:\"\",range:[],area:\"\"};this.isValidDate=(t,e)=>moment(e).diff(moment(t),\"h\")<=23;const a=function(t){return 0===t?{formatted:0,original:0}:t>1e3?{formatted:numeral(t).format(\"0.0 a\").toUpperCase(),original:t}:Math.floor(t)===t?{formatted:parseFloat(numeral(t).format(\"0.[00]\")),original:t}:{formatted:parseFloat(t.toFixed(2)),original:t}};this.getFormatArea=()=>{let t=this.getArea();return t.charAt(0).toUpperCase()+t.slice(1)},this.getArea=()=>Object(i.getAllUrlParams)(window.location.href).area||\"indonesia\",this.reset=()=>{this.datalength=[],this.items=[],this.topItems=e.map(t=>t),this.update()},this.updateDate=t=>{t=t||localStorage.getItem(\"since\");const e=moment().format(\"YYYY-MM-DD\");this.currentCursor=0,this.startDate=moment(t).set({h:23,m:0,s:0}),this.isNow=e===this.startDate.clone().format(\"YYYY-MM-DD\"),this.reset(),this.functions.getTrendingNow(),this.functions.loadMore(2),this.functions.loadMore(),this.update()},this.showAll=(t,e)=>{$(\"#show-all-modal\").modal(\"show\");const i=e?t:Object(o.result)(t.item,\"x.id\",\"\"),s=e?t:Object(o.result)(t.item,\"doc.range\",{}),n=e?t:Object(o.result)(t.item,\"doc.name\",\"\");let l=[];i?l=[moment(i).format(\"DD, MMM YYYY HH:00\"),moment(i).format(\"DD, MMM YYYY HH:59\")]:s&&(l=[s.since,s.until]),this.modalConfig={date:i||n,range:l,area:this.getArea()},this.update();let r={area:this.getArea(),showall:\"yes\",trending_date_since:l[0],trending_date_until:l[1]},d=!1;(i&&!this.allItems[i]||s&&s.since&&!this.allItems[n])&&(d=!0),d&&this.getTrendingData(\"trendings/google/custom\",r).then(t=>{const e=t.map(t=>(t.count=a(t.count),t));i?this.allItems[i]=e:s&&(this.allItems[n]=e),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},this.getTrendingData=(t,e)=>new Promise((a,i)=>{APP.apiGet({path:t,data:e,success:(t,e,i)=>{const o=t.items||t;a(o)},error:t=>{i(t)}})}),this.more=t=>{this.functions.loadMore()},this.functions={getTrendingNow:()=>{this.getTrendingData(\"trendings/google/now\",{area:this.getArea(),limit:10}).then(t=>{this.topItems[0].items=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},getTrendingCustom:t=>{const e=t.date.format(\"YYYY-MM-DD HH:00\"),i=t.date.format(\"YYYY-MM-DD HH:59\");this.datalength.push({...t,date:e}),this.getTrendingData(\"trendings/google/custom\",{trending_date_since:e,trending_date_until:i,area:this.getArea(),limit:10}).then(t=>{this.items[e]=t.map(t=>(t.count=a(t.count),t)),this.update(),$('[data-toggle=\"tooltip\"]').tooltip()})},loadMore:(t=3)=>{for(let e=1;e<=t;e++){this.currentCursor+=1;let t={id:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"YYYY-MM-DD HH:mm\"),date:this.startDate.clone().subtract(this.currentCursor,\"h\"),title:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"DD, MMM YYYY HH:mm\")};1===this.currentCursor&&(t={id:this.startDate.clone().format(\"YYYY-MM-DD HH:mm\"),date:this.startDate.clone(),title:this.startDate.clone().format(\"DD, MMM YYYY HH:mm\")}),this.functions.getTrendingCustom(t)}}},this.on(\"mount\",()=>{let t=Object(i.getAllUrlParams)(window.location.href);menuActive.trigger(\"activated\",[\"subTrendings.google.\"+t.area]),this.xhr=[];let e=localStorage.getItem(\"since\"),a=localStorage.getItem(\"until\");this.isValidDate(e,a)||(e=moment().format(\"YYYY-MM-DD\"),a=moment().format(\"YYYY-MM-DD\")),$('[data-toggle=\"tooltip\"]').tooltip()}),this.on(\"unmount\",()=>{if(this.xhr)for(const t of this.xhr)t.abort()})}))}}]);","extractedComments":[]}