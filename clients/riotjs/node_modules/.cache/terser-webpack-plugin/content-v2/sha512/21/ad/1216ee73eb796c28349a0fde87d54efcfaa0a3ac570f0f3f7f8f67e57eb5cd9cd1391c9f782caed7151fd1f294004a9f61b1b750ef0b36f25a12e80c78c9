{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{237:function(t,e,a){\"use strict\";a.r(e);var n=a(66);a(1).tag2(\"comparison-most-active-users\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </span> </div> <div class=\"tab-pane fade show active overflow-auto\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed_most_active\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 \">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"pd-y-5 text-right\">ENGAGEMENTS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer pd-r-0\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\">{o.realname.length > 15 ? o.realname.substring(0,15) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right pd-l-0\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"ENGAGEMENT\" class=\"valign-middle text-right pd-l-0\"> {o.engagement ? o.engagement.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right pd-l-0\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ comparison.most-active-users(tag) ]\",n.default.bind(this)()}))},238:function(t,e,a){\"use strict\";a.r(e);var n=a(67);a(1).tag2(\"comparison-most-influencers\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR </h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </span> </div> <div class=\"tab-pane fade show active overflow-hidden\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed_influence\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <table class=\"tableinfuencer table table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"pd-y-5 text-right\">ENGAGEMENTS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-center text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHOR \" class=\"valign-middle cursor-pointer pd-r-0\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > 15 ? o.realname .substring(0,15) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle text-right pd-l-0\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"ENGAGEMENT\" class=\"valign-middle text-right pd-l-0\"> {o.engagement ? o.engagement.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle tx-center text-right pd-l-0\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ comparison.most-influencers(tag) ]\",n.default.bind(this)()}))},239:function(t,e,a){\"use strict\";a.r(e);var n=a(69);a(1).tag2(\"comparison-share-of-voice-sentiment\",'<div class=\"widget-1\"> <div class=\"card shadow-base \"> <div class=\"card-header bb-1\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 float-left\"> <h6 class=\"card-title mr-auto\">SHARE OF SENTIMENT</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125 mr-2\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterMentionTimeline}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterEngagementTimeline}\">Engagement</a> </nav> </div> </div> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height370 abc\" id=\"shareofvoicesentiment\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.componentName=\"[ comparison.share-of-voice-sentiment(tag) ]\",n.default.bind(this)()}))},36:function(t,e,a){\"use strict\";a.r(e);var n=a(0);a(1).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(t){t.preventDefault();var e=t.target.id;Object(n.each)(this.checkeddata,(t,a)=>{t.id==e?t.selected=!0:t.selected=!1}),this.opts.cb(e)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=Object(n.filter)(t,(function(t){return t.checked}));Object(n.each)(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))},66:function(t,e,a){\"use strict\";a.r(e);var n=a(0),r=(a(36),a(4));a(9);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===a&&t.constructor&&(a=t.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(t);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var s=r.default.get(\"channels\",{}),c=r.default.get(\"channels-filter\",[]),l=Object.values(s).reduce((function(t,e){return t[e.name]=e.id,t}),{});e.default=function(){var t=this;this.chacheMostactive={},this.currentProjectId=null,this.isExist=!0,this.xhr=null,this.iconvalue=Object.values(s).reduce((function(t,e){return t[e.name]=e.icon,t}),{}),this.socmedCategory=[{text:\"Social Media\",value:null}].concat(i(Object.values(s).filter((function(t){return c.indexOf(t.name)>-1})).map((function(t){return{text:t.name,value:t.id}})))),this.filterBy=function(e){t.parent.search.service_category=e.item.so.value,$(\"#filter_by_socmed_most_active\").text(e.item.so.text),t.render()},this.reqExImg=function(t){var e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=function(e){var a=e.item.o.realname,r=e.item.o.serviceId;t.search=Object(n.clone)(t.parent.search);var i=t.search.q||\"\";t.parent.detailmentions(null,null,r,a,i,null,\"Author\",null)},this.render=function(e){t.chacheMostactive={},!e&&t.currentProjectId?t.updatemenu(t.currentProjectId):t.updatemenu(e)},this.isLoading=!0,this.updatemenu=function(e){if(APP.log(\"mostactive : uodate menu\"),null==e){var a=t.refs.menuValue.dataProjects[0].id.toString();(r=Object(n.clone)(t.parent.search)).project=a,t.valprj=a}else{var r;Object(n.find)(t.times,{selected:!0});(r=Object(n.clone)(t.parent.search)).project=e,t.valprj=e}if(t.update({isLoading:!0}),t.chacheMostactive[r.project]){var i=t.chacheMostactive[r.project];t.items=i,t.total=i.length,t.update({isLoading:!1})}else t.xhr=APP.apiGet({path:\"mentions/top_users\",data:r,success:function(e){if(t.isExist){t.dataarray=[];var a=Object(n.map)(e.items,(function(t){return t.serviceId=l[t.service],t}));t.items=a,t.chacheMostactive[r.project]=a,t.total=e.total,t.update({isLoading:!1})}}});t.currentProjectId=e},this.downloadcsv=function(){var e;(e=t.chacheMostactive[Number(t.valprj)].map((function(t){return{authors:t.user_name?t.user_name:t.realname,site:t.service?t.service:0,mentions:t.score?t.score:0,engagements:t.engagement?t.engagement:0,followers:t.followers?t.followers:0}}))).length>0&&APP.downloadcsv(e,\"\".concat(\"Most_Active_\"+t.valprj),!0)},this.filterAuthor=function(e){t.parent.search.author=e.target.value,t.parent.updateFilter(\"author\")},this.on(\"mount\",(function(){t.xhr=null})),this.on(\"unmount\",(function(){t.isExist=!1,t.chacheMostactive=null,t.items=null,t.search=null,t.xhr&&t.xhr.abort(),delete t.chacheMostactive,delete t.items,delete t.search}))}},67:function(t,e,a){\"use strict\";a.r(e);var n=a(0),r=(a(36),a(4));a(9);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===a&&t.constructor&&(a=t.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(t);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var s=r.default.get(\"channels\",{}),c=r.default.get(\"channels-filter\",[]),l=Object.values(s).reduce((function(t,e){return t[e.name]=e.id,t}),{});e.default=function(){var t=this;this.cacheInfluencer={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.search={since:null,until:null,project:null},this.iconvalue=Object.values(s).reduce((function(t,e){return t[e.name]=e.icon,t}),{}),this.reqExImg=function(t){var e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.socmedCategory=[{text:\"Social Media\",value:null}].concat(i(Object.values(s).filter((function(t){return c.indexOf(t.name)>-1})).map((function(t){return{text:t.name,value:t.id}})))),this.filterBy=function(e){t.parent.search.service_category=e.item.so.value,$(\"#filter_by_socmed_influence\").text(e.item.so.text),t.render()},this.authorvalue=function(e){var a=e.item.o.realname,r=e.item.o.serviceId;t.search=Object(n.clone)(t.parent.search);var i=t.search.q||\"\";t.parent.detailmentions(null,null,r,a,i,null,\"Author\",null)},this.render=function(e){t.cacheInfluencer={},!e&&t.currentProjectId?t.updatemenu(t.currentProjectId):t.updatemenu(e)},this.isLoading=!0,this.updatemenu=function(e){if(APP.log(\"influence : uodate menu \"+e),null==e){var a=t.refs.menuValue.dataProjects[0].id.toString();(r=Object(n.clone)(t.parent.search)).project=a,t.valprj=a}else{var r;Object(n.find)(t.times,{selected:!0});(r=Object(n.clone)(t.parent.search)).project=e,t.valprj=e}if(t.update({isLoading:!0}),t.cacheInfluencer[r.project]){var i=t.cacheInfluencer[r.project];t.items=i,t.total=i.length,t.update({isLoading:!1})}else t.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:r,success:function(e){if(t.isExist){var a=Object(n.map)(e.items,(function(t){return t.serviceId=l[t.service],t}));t.items=a,t.cacheInfluencer[r.project]=a,t.total=e.total,t.update({isLoading:!1})}}});t.currentProjectId=e},this.downloadcsv=function(){var e=t.cacheInfluencer[Number(t.valprj)].map((function(t){return{authors:t.user_name?t.user_name:t.realname,site:(t.service,t.service),engagements:t.engagement?t.engagement:0,mentions:t.score?t.score:0,followers:t.follower?t.follower:0}}));e.length>0&&APP.downloadcsv(e,\"\".concat(\"Most_Influential_\"+t.valprj),!0)},this.on(\"mount\",(function(){t.xhr=null})),this.on(\"unmount\",(function(){t.isExist=!1,t.cacheInfluencer=null,t.items=null,t.search=null,t.xhr&&t.xhr.abort(),delete t.cacheInfluencer,delete t.items,delete t.search}))}},69:function(t,e,a){\"use strict\";a.r(e);var n=a(0),r=(a(37),a(5)),i=a(4);function o(t,e){var a=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&\"number\"==typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw i}}}}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var d=i.default.get(\"channels\",{});i.default.get(\"channels-filter\",[]);e.default=function(){var t=this;this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null,this.data={},this.socmedCategory=[{text:\"Social Media\",value:null}].concat(s(Object.values(d).map((function(t){return{text:t.name,value:t.id}})))),this.filterBy=function(e){t.parent.search.service_category=e.item.so.value,$(\"#filter_by_socmed\").text(e.item.so.text),t.render()},this.filterMentionTimeline=function(e){t.parent.search.filter_by=\"mention\",$(\"#filter_by\").html(\"Mention\"),t.render()},this.filterEngagementTimeline=function(e){t.parent.search.filter_by=\"engagement\",$(\"#filter_by\").html(\"Engagement\"),t.render()},this.render=function(e){APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:function(a){t.dataproject=a,setTimeout((function(){var r=Object(n.clone)(t.parent.search);r.section?t.searchsection=r.section:t.searchsection=\"positive,negative,neutral\",t.renderdata(a),Object(n.isFunction)(e)&&e()}),1e3),t.update()}})};var e=this;this.renderdata=function(e){t.update({isLoading:!0}),APP.log(\"sentiment : update data\"),Object(r.c)({positive:function(t){a((function(e){t(null,e)}),\"positive\")},negative:function(t){a((function(e){t(null,e)}),\"negative\")},neutral:function(t){a((function(e){t(null,e)}),\"neutral\")}},(function(a,n){t.update({isLoading:!1,nodata:!1}),t.mapData(n,e)}))},this.generateData=function(t){var e=[];Object(n.each)(Object(n.groupBy)(t,\"brand_name\"),(function(t,a){var r=Object(n.sumBy)(t,\"count\"),i={};return i[a]=r,e.push(i)}))},this.mapData=function(e,a){if(e){var n=e.positive,r=e.negative,o=e.neutral;\"positive\"==t.searchsection?(n=e.positive,r=[],o=[]):\"negative\"==t.searchsection?(n=[],r=e.negative,o=[]):\"neutral\"==t.searchsection?(n=[],r=[],o=e.neutral):\"neutral,positive\"==t.searchsection||\"positive,neutral\"==t.searchsection?(n=e.positive,r=[],o=e.neutral):\"neutral,negative\"==t.searchsection||\"negative,neutral\"==t.searchsection?(n=[],r=e.negative,o=e.neutral):\"positive,negative\"!=t.searchsection&&\"negative,positive\"!=t.searchsection||(n=e.positive,r=e.negative,o=[]);var s={positive:{},negative:{},neutral:{}},c={};for(var l in n){var d=n[l].brand_name;s.positive[d]||(s.positive[d]=0),s.positive[d]=s.positive[d]+n[l].count,c[d]||(c[d]=0),c[d]+=n[l].count}for(var u in r){var h=r[u].brand_name;s.negative[h]||(s.negative[h]=0),s.negative[h]=s.negative[h]+r[u].count,c[h]||(c[h]=0),c[h]+=r[u].count}for(var m in o){var f=o[m].brand_name;s.neutral[f]||(s.neutral[f]=0),s.neutral[f]=s.neutral[f]+o[m].count,c[f]||(c[f]=0),c[f]+=o[m].count}t.items=s;var v=p(\"project\"),g=document.projectCompetition?document.projectCompetition:\"\",b=decodeURIComponent(\"\".concat(v,\",\").concat(g)),y=a,x=(\"string\"==typeof b?b.split(\",\").map((function(t){return t.trim()})).filter((function(t){return\"\"!==t})).toString():\"\").split(\",\").map((function(t){return parseInt(t.trim())})),w=y.filter((function(t){return x.indexOf(t.key_id)>=0})).map((function(t){return t.key_name})),j=t.searchsection.split(\",\"),O={};for(var A in j){var S=j[A];for(var E in O[S]=[],w){var I=w[E];s[S]||(s[S]={}),s[S][I]||(s[S][I]=0);c[I];var _=s[S][I];O[S].push(_)}}i(O,w,c)}};var a=function(e,a){var r=Object(n.clone)(t.parent.search);r.section=a,APP.apiGet({path:\"stream/brand/mention\",data:r,success:function(t){e(t.items)}})},i=function(a,r,i){var o={positive:\"#6cb17d\",negative:\"#d74943\",neutral:\"#ffb848\"},s=(r.map((function(t){return i[t]})),Object(n.map)(a,(function(t,e){return{name:e,color:o[e],data:t}})));t.update({isLoading:!1}),Highcharts.chart(\"shareofvoicesentiment\",{chart:{type:\"bar\",margin:[20,60]},title:{text:\"\"},xAxis:{categories:r,crosshair:!0,labels:{style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"},formatter:function(){return this.value.length>15?this.value.substr(0,15)+\"...\":this.value}}},yAxis:{min:0,labels:{formatter:function(t){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")},style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{enabled:!1},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"12px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){var t=i[this.x],e=(100*this.y/t).formatMoney(1);return\"<span style='z-index:0;position:relative; font-size:12px;'> \"+this.y.formatMoney(0)+\"(\".concat(e,\"%)\")+\"</span>\"}},maxPointWidth:100,minPointLength:20,cursor:\"pointer\",events:{click:function(t){var a=JSON.parse(localStorage.projects),r=Object(n.filter)(a,(function(e,a){return e.key_name==t.point.category})),i=r?r[0].key_id:\"\";e.parent.detailmentions(null,t.point.series.name,null,null,null,null,t.point.category,i)}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:s})};this.downloadcsv=function(){var e={};e.positive=t.items.positive,e.negative=t.items.negative,e.neutral=t.items.neutral;var a=Object.keys(e.positive).map((function(t){return t})),n=[];for(var r in e){var i,s={sentiment:r},c=o(a);try{for(c.s();!(i=c.n()).done;){var l=i.value;s[l]=e[r][l]}}catch(t){c.e(t)}finally{c.f()}n.push(s)}n.length>0&&APP.downloadcsv(n,\"share_of_voice_competition_\".concat(p(\"project\").replace(/,/g,\"_\")),!0)},this.on(\"mount\",(function(){t.xhr=null})),this.on(\"unmount\",(function(){t.isExist=!1,t.xhr&&t.xhr.abort(),t.chartreemp&&t.chartreemp.spacing&&t.chartreemp.destroy()}))}}}]);","extractedComments":[]}