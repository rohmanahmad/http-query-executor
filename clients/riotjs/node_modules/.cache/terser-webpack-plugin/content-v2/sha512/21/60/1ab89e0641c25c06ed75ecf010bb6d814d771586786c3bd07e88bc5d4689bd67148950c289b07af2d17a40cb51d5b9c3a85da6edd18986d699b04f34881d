{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{172:function(e,t,a){\"use strict\";a.r(t);var i=a(0),s=a(19),n=a.n(s);a(7);a(1).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"shareofvoice\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;let a=[{name:\"Facebook\",count:0},{name:\"Twitter\",count:0},{name:\"Instagram\",count:0},{name:\"Video\",count:0},{name:\"Portal\",count:0},{name:\"Forum\",count:0},{name:\"Blog\",count:0}];this.render=e=>{let a=Object(i.clone)(this.parent.search);a.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:a,success:t=>{Object(i.isFunction)(e)&&e(),t=t.items;let a=[],s={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Image:\"#d28a57\",Portal:\"#a77e0c\"};console.log({res:t});for(const e in t){let i={};i={y:t[e].count,name:e,color:s[e],colorval:s[e]},a.push(i)}a.map((function(e){return\"Tiktok\"==e.name&&(e.name=\"Video\"),\"Image\"==e.name&&(e.name=\"Instagram\"),\"Portal\"==e.name&&(e.name=\"News\"),e}));if(0===a.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),a=Object(i.orderBy)(a,[\"y\"],[\"desc\"]);Object(i.map)(a,e=>e.colorval);this.items=a,(this.chartpie=n()(\"shareofvoice\")).addSeries({data:a}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.y?e.y.formatMoney(0):0}));const t=Object(i.map)(e,e=>e.name);let s=Object(i.filter)(a,e=>t.indexOf(e.name)<0);(e=Object(i.concat)(e,s)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},173:function(e,t,a){\"use strict\";a.r(t);var i=a(0);a(7);a(1).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img alt=\"\" src=\"/assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">SOURCE OF MENTIONS </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <div class=\" pd-10 min-height305\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height305 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1;const a={Video:{icon:\"/assets/images/components/icons/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"/assets/images/components/icons/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"/assets/images/components/icons/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"/assets/images/components/icons/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"/assets/images/components/icons/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"/assets/images/components/icons/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"/assets/images/components/icons/chat-grey.png\",name:\"Forum\",idchannels:5}};this.isLoading=!0,this.render=e=>{this.update({isLoading:!0}),APP.log(\"influent-sosial : render\");let s=Object(i.clone)(this.parent.search);s.compare=!0,APP.apiGet({path:\"mentions/composition\",data:s,success:t=>{const s=t.items,n=Object(i.sumBy)(s,\"total\");var o=Object(i.map)(s,e=>{let t={},i=100*e.total/n;const s=e.difference&&e.difference.total?e.difference.total:[];return t.caret=\"up\"===s[0]?\"fa fa-caret-up\":\"down\"===s[0]?\"fa fa-caret-down\":\"fa fa-minus\",t.color=\"up\"===s[0]?\"#23BF08\":\"down\"===s[0]?\"#DC3545\":\"#d2dc35\",t.percent=s[1],t.width=i?i.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,t.total=e.total,t.name=a[e.name]&&a[e.name].name?a[e.name].name:\"\",t.icon=a[e.name]&&a[e.name].icon?a[e.name].icon:\"\",t.idch=a[e.name]&&a[e.name].idchannels?a[e.name].idchannels:\"\",t});const r=Object(i.map)(o,e=>e.name),c=Object(i.filter)(a,e=>r.indexOf(e.name)<0).map(e=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:e.name,icon:e.icon,total:0,idch:e.idchannels}));o=Object(i.orderBy)(o,[\"total\"],[\"desc\"]),this.channels=o.concat(c),this.total=o.length,this.update({isLoading:!1,isLoadingerror:!1}),Object(i.isFunction)(e)&&e()},error:a=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(i.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.selectchannels=e=>{let t=e.item.o.idch;this.parent.detailmentions(null,null,t,null,null,null,null,null,null,null,null,null)}}))}}]);","extractedComments":[]}