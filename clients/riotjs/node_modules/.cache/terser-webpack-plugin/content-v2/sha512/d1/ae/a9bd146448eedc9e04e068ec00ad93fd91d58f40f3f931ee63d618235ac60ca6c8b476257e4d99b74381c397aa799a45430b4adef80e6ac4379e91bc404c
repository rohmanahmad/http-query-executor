{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{106:function(t,e,i){\"use strict\";i.r(e);var s=i(0);i(7);i(1).tag2(\"buzz-geo-infographic\",'<div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION </h6> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"buzzgeo\"> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.xhr=null,this.render=t=>{APP.log(\"buzzgeo : render\");let i=Object(s.clone)(this.parent.search);i.group_service=\"false\",i.limit=100;let a=[],o=[],n=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){o=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"mentions/popular-locations\",data:{...i,service_category:\"1,2,3,4,5,6,7,8\",limit:1e3},success:t=>{0===(t=(t=t.items).map(t=>t&&t.lat?t:null).filter(t=>null!==t)).length?this.notdata=!0:this.update({notdata:!1});let e=Object(s.map)(t,(function(t){let e=null;return null!=t&&o.features&&(n=getProvince(o.features,t.lat||0,t.lon||0),Object(s.isEmpty)(n)||n&&(e={\"hc-key\":n.HASC_1.replace(\".\",\"-\").toLowerCase(),hasc:n.NAME_1,value:t.count})),e}));e=Object(s.reduce)(e,(function(t,e){return Object(s.isObject)(e)&&(t[e.hasc]?t[e.hasc].value+=e.value:t[e.hasc]=e),t}),{});var i=[];Object(s.each)(e,(t,e)=>{i.push(t)}),e=i,this.items=e,Highcharts.mapChart(\"buzzgeo\",{chart:{map:\"countries/id/id-all\",backgroundColor:\"none\"},title:{text:\"\"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:\"bottom\"}},colorAxis:{min:0},exporting:{enabled:!1},credits:{enabled:!1},series:[{data:e,name:\"Streams\",states:{hover:{color:\"#58cabb\"}}}]}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(s.isFunction)(t)&&t()}})})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{let t=this.items.map((t,e)=>({Provinsi:t.hasc,count:t.value})).filter(t=>null!=t.Provinsi);t.length>0&&APP.downloadcsv(t,\"Buzz_Geo_Distributor_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))},107:function(t,e,i){\"use strict\";i.r(e);var s=i(0);i(1).tag2(\"buzz-volume\",'<div class=\"card-header pd-t-20 pd-b-20 pd-r-20 pd-l-0 bg-transparent bb-1 mg-t-20\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> BUZZ VOLUME </h6> </div> <div class=\"row row-sm\"> <div class=\"col-lg-12\"> <div class=\"col-sm-12 col-lg-12 cursor-pointer pd-0 \" id=\"positive,negative,neutral\" onclick=\"{selectAll}\"> <div class=\"bg-blue-muda rounded overflow-hidden noactivebackground\" id=\"positive,negative,neutral\"> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"positive,negative,neutral\" style=\"margin-left: 35%;\"> <i class=\"icon ion-chatbubbles tx-50 lh-0 tx-white-8 tx-white\" id=\"positive,negative,neutral\" style=\"font-size: 50px !important\"></i> <div class=\"mg-l-25\" id=\"positive,negative,neutral\"> <p class=\"tx-24 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 tx-whitetitle-text-total fontroboto\">BUZZ VOLUME</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count fontroboto\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"/assets/images/svg/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> </div> </div> <div id=\"ch1\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> <div class=\"col-lg-12\"> <div class=\"{colmd} cursor-pointer pull-right pd-0\" each=\"{sentiment}\" onclick=\"{selectSentiment}\"> <div class=\"{bgcolor} noactivebackground \" id=\"{id}\"> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center mg-l-25\" id=\"{id}\"> <i class=\"{icon} tx-50 lh-0 tx-white-8 tx-white\" id=\"{id}\" style=\"font-size: 50px !important;\"></i> <div class=\"col-md-10 mg-l-10\" id=\"{id}\"> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count fontroboto\" if=\"{!isLoading}\">{persentasedata[id]} %</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"/assets/images/svg/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 tx-white title-text-total-count mg-t-20 fontroboto\"> <i class=\" mg-t-10\" aria-hidden=\"true\"> </i> {this.sValue[id] ? this.sValue[id].formatMoney(0) : 0} </p> </div> </div> <div id=\"ch{idchart}\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.idTO=null,this.Selected=!0,this.sValue=[],this.persentasedata=[],this.sValue.positive=0,this.sValue.negative=0,this.sValue.neutral=0,this.sentiment=[{id:\"negative\",idchart:3,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"NEGATIVE MENTIONS\",selected:!1,color:\"count-txt color-red-500\",bgcolor:\"bg-danger rounded overflow-hidden\",icon:\"fa fa-thumbs-down  \",tooltip:\"How many times your chosen keyword has been mentioned in a negative manner, compared with the previous period\"},{id:\"positive\",idchart:2,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"POSITIVE MENTIONS\",selected:!1,color:\"count-txt color-green-500\",bgcolor:\"bg-success rounded overflow-hidden\",icon:\"fa fa-thumbs-up  \",tooltip:\"How many times your chosen keyword has been mentioned in a positive manner, compared with the previous period\"},{id:\"neutral\",idchart:4,total:null,colmd:\"col-sm-6 col-lg-4 mg-t-0 mg-lg-t-0\",name:\"NEUTRAL MENTIONS\",selected:!1,color:\"count-txt color-orange-500\",bgcolor:\"bg-orange rounded overflow-hidden\",icon:\"fa fa-question-circle \",tooltip:\"How many times your chosen keyword has been mentioned in a neutral manner, compared with the previous period\"}],this.on(\"mount\",()=>{this.parent.search.section=null,this.chartimageseries()}),this.render=()=>{APP.log(\"sentiment : render\"),this.update_data()},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},1250)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const e=Object(s.filter)(this.sentiment,t=>t.selected),i=Object(s.map)(e,t=>t.id);t.cb(i.join(\",\"))}},this.update_data=()=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let t=Object(s.clone)(this.parent.search);t.project=p(\"project\")?p(\"project\"):APP.getProject(),t.limit=\"\",t.page=\"\",this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:t,success:function(t){const e=(t=t.items).negative?parseInt(t.negative):0,i=t.positive?parseInt(t.positive):0,s=t.neutral?parseInt(t.neutral):0;this.total=e+i+s,this.valueNegative=100*t.negative/this.total,this.valuePositive=100*t.positive/this.total,this.valueNeutral=100*t.neutral/this.total,this.persentasedata={negative:this.valueNegative.formatMoney(2,\",\",\".\"),positive:this.valuePositive.formatMoney(2,\",\",\".\"),neutral:this.valueNeutral.formatMoney(2,\",\",\".\")},this.isLoading=!1,this.sValue=t,this.update()}.bind(this)}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.chartimageseries=()=>{var t=[{x:0,y:40},{x:1,y:49},{x:2,y:38},{x:3,y:30},{x:4,y:32},{x:5,y:40},{x:6,y:20},{x:7,y:10},{x:8,y:20},{x:9,y:25},{x:10,y:35},{x:11,y:20},{x:12,y:40}];new Rickshaw.Graph({element:document.querySelector(\"#ch1\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch2\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch3\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch4\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render()}}))}}]);","extractedComments":[]}