{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{187:function(t,e,i){\"use strict\";i.r(e);var a=i(18),s=i.n(a);i(6);i(0).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"shareofvoice\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;let i=[{name:\"Facebook\",count:0},{name:\"Twitter\",count:0},{name:\"Instagram\",count:0},{name:\"Video\",count:0},{name:\"Portal\",count:0},{name:\"Forum\",count:0},{name:\"Blog\",count:0}];this.render=t=>{let i=_.clone(this.parent.search);i.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:i,success:e=>{_.isFunction(t)&&t(),e=e.items;let i=[],a={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Image:\"#d28a57\",Portal:\"#a77e0c\"};console.log({res:e});for(const t in e){let s={};s={y:e[t].count,name:t,color:a[t],colorval:a[t]},i.push(s)}i.map((function(t){return\"Tiktok\"==t.name&&(t.name=\"Video\"),\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));if(0===i.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),i=_.orderBy(i,[\"y\"],[\"desc\"]);_.map(i,t=>t.colorval);this.items=i,(this.chartpie=s()(\"shareofvoice\")).addSeries({data:i}),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{var t=this.items.map(t=>({name:t.name,count:t.y?t.y.formatMoney(0):0}));const e=_.map(t,t=>t.name);let a=_.filter(i,t=>e.indexOf(t.name)<0);(t=_.concat(t,a)).length>0&&APP.downloadcsv(t,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},188:function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">SOURCE OF MENTIONS </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <div class=\" pd-10 min-height305\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height305 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1;const i={Video:{icon:\"../assets/img/svg/youtube-grey.png\",name:\"Video\",idchannels:6},Image:{icon:\"../assets/img/svg/instagram-grey.png\",name:\"Instagram\",idchannels:7},Portal:{icon:\"../assets/img/svg/news-grey.png\",name:\"News\",idchannels:3},Facebook:{icon:\"../assets/img/svg/facebook-grey3.png\",name:\"Facebook\",idchannels:1},Twitter:{icon:\"../assets/img/svg/twitter-grey.png\",name:\"Twitter\",idchannels:2},Blog:{icon:\"../assets/img/svg/blogs-grey.png\",name:\"Blog\",idchannels:4},Forum:{icon:\"../assets/img/svg/chat-grey.png\",name:\"Forum\",idchannels:5}};this.isLoading=!0,this.render=t=>{this.update({isLoading:!0}),APP.log(\"influent-sosial : render\");let a=_.clone(this.parent.search);a.compare=!0,APP.apiGet({path:\"mentions/composition\",data:a,success:e=>{const a=e.items,s=_.sumBy(a,\"total\");var o=_.map(a,t=>{let e={},a=100*t.total/s;const o=t.difference&&t.difference.total?t.difference.total:[];return e.caret=\"up\"===o[0]?\"fa fa-caret-up\":\"down\"===o[0]?\"fa fa-caret-down\":\"fa fa-minus\",e.color=\"up\"===o[0]?\"#23BF08\":\"down\"===o[0]?\"#DC3545\":\"#d2dc35\",e.percent=o[1],e.width=a?a.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,e.total=t.total,e.name=i[t.name]&&i[t.name].name?i[t.name].name:\"\",e.icon=i[t.name]&&i[t.name].icon?i[t.name].icon:\"\",e.idch=i[t.name]&&i[t.name].idchannels?i[t.name].idchannels:\"\",e});const n=_.map(o,t=>t.name),r=_.filter(i,t=>n.indexOf(t.name)<0).map(t=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:t.name,icon:t.icon,total:0,idch:t.idchannels}));o=_.orderBy(o,[\"total\"],[\"desc\"]),this.channels=o.concat(r),this.total=o.length,this.update({isLoading:!1,isLoadingerror:!1}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.selectchannels=t=>{let e=t.item.o.idch;this.parent.detailmentions(null,null,e,null,null,null,null,null,null,null,null,null)}}))},189:function(t,e,i){\"use strict\";i.r(e);var a=i(28),s=i.n(a);i(6);i(0).tag2(\"timeline-of-mentions\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"masuk\"> TIMELINE OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <span class=\"textcenter\" if=\"{nodata}\">No data found, please input another dates</span> <div class=\"row no-gutters tx-center height295\" id=\"chartSentimentpositivenegative\"> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.sentimen=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#279aff\",id:\"negative,positive,neutral\",nameval:\"all\",name:\"All\",no:1},{color:\"#5dff27\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:2},{color:\"#ff4027\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:3},{color:\"#f3973e\",id:\"neutral\",nameval:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=_.map(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const i=_.find(this.times,{selected:!0}).id;let a=_.clone(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=i,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var o=[];async.each(this.sentimentall,(i,s)=>{if(!this.isExist)return!1;a.section=i.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:t=>{t=t.items;let e=[];e=(t=_.sortBy(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),e.length>0&&(this.nodata=!1);var a=0;_.each(e,(t,e)=>{a+=t[1]}),o.push({id:\"response\",shadow:!1,noid:a,name:i.name,nameval:i.nameval,type:\"areaspline\",lineWidth:1,color:i.color,colorval:i.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.color],[1,Highcharts.Color(i.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:e}),s()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},s),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});const e=_.result(this.parent,\"updatesentimenval\",\"\").split(\",\");let n=_.filter(o,t=>e.indexOf(t.nameval)>-1);n=_.orderBy(n,[\"noid\"],[\"desc\"]),this.data=n,setTimeout(()=>{this.chart=s()(t,i,\"#868ba1\",a);for(var e=0;e<=n.length-1;e++)this.chart.addSeries(n[e])},500)}this.update({Loader:!1,isLoadingerror:!1}),_.isFunction(t)&&t()})},this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.downloadcsv=()=>{const t=_.cloneDeep(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=_.flatten(t),i=_.groupBy(e,\"tgl\");let a=[];for(let t in i){const e=_.groupBy(i[t],\"tipe\"),s=_.result(e,\"Positive[0].count\",0),o=_.result(e,\"Negative[0].count\",0),n=_.result(e,\"Neutral[0].count\",0),r=s+o+n;a.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),positive:s,negative:o,neutral:n,total:r})}a.length>0&&APP.downloadcsv(a,\"Timelineofmentions_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},190:function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"tophashtagandword\",'<div class=\"card mg-t-20 shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\">TOP HASHTAGS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer tx-12 pd-y-15 bg-transparent height276 pd-t-10-i\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total == 0}\" class=\"textcenter\"> No data found, please input another dates </div> <table class=\"table table-striped mg-b-0\" if=\"{total != 0}\"> <thead> <tr> <th>HASHTAGS</th> <th class=\"text-right\">MENTIONS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" if=\"{i < 5}\"> <td onclick=\"{tophastagsvalue}\" class=\"cursor-pointers\">#{o._id.tag.length > 30 ? o._id.tag.substring(0,30) + \\'...\\' : o._id.tag}</td> <td class=\"text-right\">{o.count.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0;var e=0;this.isLoadingerror=!1,this.render=t=>{let i=_.clone(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,i.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:i,success:e=>{this.total=e.items.length,this.items=e.items,this.update({isLoading:!1,isLoadingerror:!1,total:e.items.length}),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.tophastagsvalue=t=>{t.item.o._id.tag},this.downloadcsv=()=>{var t=this.items.map(t=>({count:t.count,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+p(\"project\"),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))},191:function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"total-sentiment-all\",'<div class=\"row row-sm\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\" id=\"totalcount\"></tombol-refres> <div class=\"col-sm-6 col-lg-3 cursor-pointer \" id=\"all\" onclick=\"{selectAll}\"> <div class=\"{bg-info:allSelected} rounded overflow-hidden {noactivebackground:!allSelected} shadow-base\" id=\"all\"> <p class=\"pull-right pd-5 tx-white {textcolor:!allSelected} cursor-default\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"How many time your chosen keyword has been mentioned in the internet, compared with the previous period\" style=\"font-size: 10px;\">?</p> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"all\"> <img alt=\"\" src=\"../assets/img/svg/totalchat.png\" width=\"50\" height=\"50\" class=\"center displayinitial mg-t-10\"> <div class=\"mg-l-10\" id=\"all\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 {textcolor:!allSelected} title-text-total\">TOTAL MENTIONS</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 {textcolor:!allSelected} title-text-total-count\" if=\"{!isLoading}\">{total ? total.formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <span class=\"tx-11 tx-roboto tx-white-8 {textcolor:!allSelected} title-text-total-percent\" riot-style=\"color : {colorpersent}\"><i class=\"{totalicon} mg-t-10\" aria-hidden=\"true\"> </i> {totalpercent} % </span> </div> </div> <div id=\"ch1\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> <div class=\"{colmd} cursor-pointer\" each=\"{sentiment}\" onclick=\"{selectSentiment}\"> <div class=\"{bg-info:selected} {bgcolor} {noactivebackground:!selected} shadow-base\" id=\"{id}\"> <p class=\"pull-right pd-5 tx-white {textcolor:!selected} cursor-default\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{tooltip}\" style=\"font-size: 10px;\">?</p> <div class=\"pd-x-20 pd-t-20 d-flex align-items-center\" id=\"{id}\"> <img alt=\"\" riot-src=\"{icon}\" width=\"50\" height=\"50\" class=\"center displayinitial mg-t-10\"> <div class=\"mg-l-10\" id=\"{id}\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-medium tx-uppercase tx-white-8 mg-b-10 {textcolor:!selected} title-text-total\">{name}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 {textcolor:!selected} title-text-total-count\" if=\"{!isLoading}\">{this.sValue[id] ? this.sValue[id].formatMoney(0) : 0}</p> <p class=\"tx-24 tx-white tx-lato tx-bold mg-b-0 lh-1 \" if=\"{isLoading}\"> <img alt=\"\" src=\"../assets/img/loading.svg\" width=\"20\" class=\"center displayinitial\"> </p> <span class=\"tx-11 tx-roboto tx-white-8 {textcolor:!selected} title-text-total-percent \" riot-style=\"color: {colorsentiment[id]}\"> <i class=\"{iconsentiment[id]} mg-t-10\" aria-hidden=\"true\"> </i> {this.sentPersence[id] ? this.sentPersence[id] : 0} %</span> </div> </div> <div id=\"ch{idchart}\" class=\"ht-50 tr-y-1 rickshaw_graph\"></div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.idTO=null,this.allSelected=!1,this.sValue=[],this.sentPersence=[],this.iconsentiment=[],this.colorsentiment=[],this.persentasedata=[],this.sentiment=[{id:\"positive\",idchart:2,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"POSITIVE MENTIONS\",selected:!0,color:\"count-txt color-green-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/thumbs-up.png\",tooltip:\"How many times your chosen keyword has been mentioned in a positive manner, compared with the previous period\"},{id:\"negative\",idchart:3,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"NEGATIVE MENTIONS\",selected:!0,color:\"count-txt color-red-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/thumbs-down.png\",tooltip:\"How many times your chosen keyword has been mentioned in a negative manner, compared with the previous period\"},{id:\"neutral\",idchart:4,total:null,colmd:\"col-sm-6 col-lg-3 mg-t-0 mg-lg-t-0\",name:\"NEUTRAL MENTIONS\",selected:!0,color:\"count-txt color-orange-500\",bgcolor:\" rounded overflow-hidden\",icon:\"../assets/img/svg/help.png\",tooltip:\"How many times your chosen keyword has been mentioned in a neutral manner, compared with the previous period\"}],this.on(\"mount\",()=>{this.chartimageseries()}),this.render=t=>{APP.log(\"sentiment : render\"),this.update_data(t)},this.selectAll=t=>{t.preventDefault(),clearTimeout(this.idTO),this.allSelected=!this.allSelected,setTimeout(()=>{this.sentiment_selectedall()},500)},this.selectSentiment=t=>{APP.log(\"sentiment : selectSentiment\"),t.preventDefault(),clearTimeout(this.idTO),t.item.selected=!t.item.selected,this.update(),setTimeout(()=>{this.sentiment_selected()},100)},this.sentiment_selected=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){const i=_.filter(this.sentiment,t=>t.selected),a=_.map(i,t=>t.id);if(this.allSelected)var e=\"\";else e=\"allfalse\";t.cb(a.join(\",\"),e)}},this.sentiment_selectedall=()=>{if(APP.log(\"sentiment : sentiment_selected\"),\"function\"==typeof t.cb){if(this.allSelected)var e=\"all\",i=\"\";else{const t=_.filter(this.sentiment,t=>t.selected);e=_.map(t,t=>t.id).join(\",\"),i=\"allfalse\"}t.cb(e,i)}},this.update_data=t=>{APP.log(\"sentiment : update data\"),this.isLoading=!0,this.update({isLoading:!0});let i=_.clone(this.parent.search);i.project=p(\"project\")?p(\"project\"):APP.getProject(),i.limit=\"\",i.page=\"\",i.section=\"positive,negative,neutral\",i.compare=!0,this.xhrbuzzvolume=APP.apiGet({path:\"mentions/sentiment-count\",data:i,success:e=>{e=e.items,this.total=e.total.current?e.total.current:0,this.totalpercent=e.total.movement[1]?e.total.movement[1]:0;const i=e.total.movement[0];this.totalicon=\"up\"===i?\"fa fa-caret-up\":\"down\"===i?\"fa fa-caret-down\":\"fa fa-minus\",this.colorpersent=\"up\"===i?\"#a7fb98\":\"down\"===i?\"#ffc3c3\":\"#d2dc35\",this.sValue.positive=e.positive.current?e.positive.current:0,this.sentPersence.positive=e.positive.movement[1]?e.positive.movement[1]:0;const a=e.positive.movement[0];this.iconsentiment.positive=\"up\"===a?\"fa fa-caret-up\":\"down\"===a?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.positive=\"up\"===a?\"#a7fb98\":\"down\"===a?\"#ffc3c3\":\"#d2dc35\",this.sValue.negative=e.negative.current?e.negative.current:0,this.sentPersence.negative=e.negative.movement[1]?e.negative.movement[1]:0;const s=e.negative.movement[0];this.iconsentiment.negative=\"up\"===s?\"fa fa-caret-up\":\"down\"===s?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.negative=\"up\"===s?\"#ffc3c3 \":\"down\"===s?\"#a7fb98\":\"#d2dc35\",this.sValue.neutral=e.neutral.current?e.neutral.current:0,this.sentPersence.neutral=e.neutral.movement[1]?e.neutral.movement[1]:0;const o=e.neutral.movement[0];this.iconsentiment.neutral=\"up\"===o?\"fa fa-caret-up\":\"down\"===o?\"fa fa-caret-down\":\"fa fa-minus\",this.colorsentiment.neutral=\"up\"===o?\"#a7fb98\":\"down\"===o?\"#ffc3c3\":\"#d2dc35\",this.update(),_.isFunction(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,setTimeout(()=>{$(\"#totalcount .refres-error\").css(\"background\",\"#ffffffbf\"),$(\"#totalcount .tombol-refres\").css(\"background\",\"rgba(255, 255, 255, 0.48)\")},1),this.update()),_.isFunction(t)&&t()}}),this.xhrbuzzvolume.readyState&&this.update({isLoading:!1,isLoadingerror:!1,persentasedata:{negative:0,positive:0,neutral:0},total:0,sValue:{negative:0,neutral:0,positive:0}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},menu.on(\"sidebar\",t=>{$(\"#ch1 svg\").remove(),$(\"#ch2 svg\").remove(),$(\"#ch3 svg\").remove(),$(\"#ch4 svg\").remove(),setTimeout(()=>{this.chartimageseries()},300)}),this.chartimageseries=()=>{var t=[{x:0,y:40},{x:1,y:49},{x:2,y:38},{x:3,y:30},{x:4,y:32},{x:5,y:40},{x:6,y:20},{x:7,y:10},{x:8,y:20},{x:9,y:25},{x:10,y:35},{x:11,y:20},{x:12,y:40}];new Rickshaw.Graph({element:document.querySelector(\"#ch1\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch2\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch3\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render(),new Rickshaw.Graph({element:document.querySelector(\"#ch4\"),renderer:\"area\",max:80,series:[{data:t,color:\"rgba(255,255,255,0.5)\"}]}).render()}}))},192:function(t,e,i){\"use strict\";i.r(e);i(6);i(0).tag2(\"wordcloaudsummary\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/cloud-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">WORDCLOUD </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <b class=\"cursor-default mg-l-10 fontweightinherit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representation of popular words in your mentions. The more a word mentioned the bigger and bolder it appears in the word cloud.\">?</b> </span> </div> <div class=\"card-body\"> <div class=\"col-md-12 wordcloudheight235 textcenter\" if=\"{total == 0}\"> No data found, please input another dates </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"col-md-12\" if=\"{total != 0}\"> <div id=\"wordcloud_canvas \"> <div id=\"wordcloud_all\" class=\"wordcloudheight235\"> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.isLoading=!0,this.notdata=!1,this.value={},this.dataall={},this.xhr=null,this.render=t=>{this.update_data(t)},this.update_data=t=>{this.notdata=!1,APP.log(\"wordcloude : render\"),this.update({isLoading:!0,total:1});let i=_.clone(this.parent.search);i.is_total=null,i.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:i,success:t=>{let e=t.items;var a=_.clone(e);if(\"negative\"===i.section||\"negative,neutral\"===i.section||\"neutral,negative\"===i.section)var s=a&&a.negative?a.negative:[];if(\"positive\"===i.section||\"positive,neutral\"===i.section||\"neutral,positive\"===i.section)s=a&&a.positive?a.positive:[];if(\"positive,negative\"===i.section||\"negative,positive\"===i.section){var o=a&&a.positive?a.positive:[],n=a&&a.negative?a.negative:[];s=_.concat(o,n)}if(\"\"===i.section||null===i.section||void 0===i.section||\"positive,negative,neutral\"===i.section||\"positive,neutral,negative\"===i.section||\"negative,positive,neutral\"===i.section||\"negative,neutral,positive\"===i.section||\"neutral,negative,positive\"===i.section||\"neutral,positive,negative\"===i.section){s=a&&a.all?a.all:[];this.dataall.all=s}if(\"neutral\"===i.section)s=this.dataall.all;s=_.orderBy(s,[1],\"desc\"),this.dataVal=s,this.dataresizeseries=s,this.renderedData(s),this.update({isLoading:!1,isLoadingerror:!1})},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),_.isFunction(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.renderedData=t=>{let e=t;if(this.total=t?t.length:0,this.update({total:this.total}),this.total>0){const t=e[0][1];e.map(e=>{const i=e[0].length,a=parseInt(e[1]);let s=a/t*100;return i>10&&(s=10,a/t*100>60&&(s=a/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:e,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\",null,null,null,null,null)}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show()},$(window).resize(()=>{this.dataresize()}),this.dataresize=()=>{this.update({isLoading:!0});var t=this.dataresizeseries;if(t&&t.length>0){const e=t[0][1];t.map(t=>{const i=t[0].length,a=parseInt(t[1]);let s=a/e*100;return i>10&&(s=10,a/e*100>60&&(s=a/e*50)),s<15&&(s=15),t[1]=s,t}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").show(),WordCloud(\"wordcloud_all\",{list:t,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_all\").width()/1024),weightFactor:t=>t,shape:\"square\",shuffle:!1,minRotation:0,maxRotation:0,rotateRatio:1,click:t=>{this.parent.detailmentions(null,null,null,null,t[0],null,\"Keywords\")}})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"upload\"),$(\"#wordcloud_all\").html(\"Empty\"),$(\"#wordcloud_all\").show();this.update({isLoading:!1})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()});this.downloadcsv=()=>{let t=_.clone(this.parent.search);t.is_total=null,t.limit=50,this.xhr=APP.apiGet({path:\"mentions/wordcloud\",data:t,success:e=>{e=e.items;var i=_.clone(e);if(\"negative\"===t.section||\"negative,neutral\"===t.section||\"neutral,negative\"===t.section)var a=i&&i.negative?i.negative:[];if(\"positive\"===t.section||\"positive,neutral\"===t.section||\"neutral,positive\"===t.section)a=i&&i.positive?i.positive:[];if(\"positive,negative\"===t.section||\"negative,positive\"===t.section){var s=i&&i.positive?i.positive:[],o=i&&i.negative?i.negative:[];a=_.concat(s,o)}if(\"\"===t.section||null===t.section||void 0===t.section||\"positive,negative,neutral\"===t.section||\"positive,neutral,negative\"===t.section||\"negative,positive,neutral\"===t.section||\"negative,neutral,positive\"===t.section||\"neutral,negative,positive\"===t.section||\"neutral,positive,negative\"===t.section){a=i&&i.all?i.all:[];this.dataall.all=a}if(\"neutral\"===t.section)a=this.dataall.all;var n=a;(n=_.map(n,(function(t,e){return{keyword:t[0],count:t[1].formatMoney(0)}}))).length>0&&APP.downloadcsv(n,\"WordcloudSummary_\"+p(\"project\"),!0)}})}}))}}]);","extractedComments":[]}