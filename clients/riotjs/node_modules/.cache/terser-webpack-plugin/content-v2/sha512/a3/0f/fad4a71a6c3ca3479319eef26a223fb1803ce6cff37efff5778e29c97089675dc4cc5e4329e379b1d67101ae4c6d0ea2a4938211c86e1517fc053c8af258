{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{231:function(t,a,e){\"use strict\";e.r(a);var s=e(14);e(1).tag2(\"google-trends\",'<breadcrumb current=\"Dashboard Summary\" mode=\"pd-roject\" ref=\"breadcrumb\"></breadcrumb> <div class=\"br-pagebody pd-x-20 pd-sm-x-30 pd-b-50\"> <div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header borderbottom0\"> <div class=\"media-body mg-t-10\"> <h4 class=\"tx-normal tx-roboto tx-inverse mg-b-5\">Google {this.getFormatArea()} Trendings</h4> </div> <div class=\"btn-group pull-right mg-r-m-0\" role=\"group\" aria-label=\"Basic example\"> <div class=\"pd-x-25 tx-11 pd-y-12 tx-mont tx-medium datepickerbacgraoud cursor-pointer\"> <span> <date-picker type=\"single\" cb=\"{updateDate}\" since=\"{localStorage.since}\" until=\"{localStorage.since}\" class=\"fc-datepicker btn bg-grey-50 padding-10-20 no-border color-grey-600 pull-right date-style cursor-pointer\" style=\"padding:0px\"> </date-picker> </span> </div> </div> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-md-4 mg-t-10\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> A Minutes Ago </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row\" each=\"{o in itemsNow}\" style=\"height: 45px;\"> <div class=\"col-9 hc-25 pd-l-4 overflow-hidden\">{o.title}</div> <div class=\"col-3 hc-25 pd-r-4 text-right\"> <a href=\"{o.url}\" target=\"_blank\" class=\"url-link\"> {o.count.formatted} </a> </div> </div> <div class=\"row\" if=\"{itemsNow.length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\"> Show All </button> </div> </div> </div> <div class=\"col-md-4 mg-t-10\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> 15-25 Minutes Ago </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row\" each=\"{o in items15}\" style=\"height: 45px;\"> <div class=\"col-9 hc-25 pd-l-4 overflow-hidden\">{o.title}</div> <div class=\"col-3 hc-25 pd-r-4 text-right\"> <a href=\"{o.url}\" target=\"_blank\" class=\"url-link\"> {o.count.formatted} </a> </div> </div> <div class=\"row\" if=\"{items15.length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\"> Show All </button> </div> </div> </div> <div class=\"col-md-4 mg-t-10\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> 30-40 Minutes Ago </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row\" each=\"{o in items30}\" style=\"height: 45px;\"> <div class=\"col-9 hc-25 pd-l-4 overflow-hidden\">{o.title}</div> <div class=\"col-3 hc-25 pd-r-4 text-right\"> <a href=\"{o.url}\" target=\"_blank\" class=\"url-link\"> {o.count.formatted} </a> </div> </div> <div class=\"row\" if=\"{items30.length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\"> Show All </button> </div> </div> </div> <div class=\"col-md-4 mg-t-10\" each=\"{x in datalength}\"> <div class=\"card shadow-base bd-0 min-h-content\"> <div class=\"card-header bg-transparent pd-t-15 pd-l-15 pd-r-15 pd-b-0 borderbottom0\"> <h6 class=\"card-title tx-12 mg-b-0 mg-t-5\"> {x.title} </h6> <hr> </div> <div class=\"card-body pd-t-0 pd-r-15 pd-l-15\"> <div class=\"row bb-1\" each=\"{o in items[x.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-3\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-4\"> <a href=\"{o.url}\" target=\"_blank\" class=\"url-link\"> {o.count.formatted} </a> </span> </div> </div> <div class=\"row\" if=\"{(items[x.date] || []).length === 0}\"> <div class=\"col-12 text-center font-bold pt-30\"> No Data </div> </div> </div> <div class=\"card-footer bg-transparent pd-16 borderbottom0\"> <button class=\"btn btn-sm btn-default float-right\" ref=\"{x.date}\" onclick=\"{showAll}\"> Show All </button> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-md-12 text-center bold pd-10\"> <button class=\"btn btn-primary cursor-pointer\" onclick=\"{functions.loadMore}\"> Load More </button> </div> </div> <div id=\"show-all-modal\" class=\"modal fade effect-scale\"> <div class=\"modal-dialog modal-md pd-b-10\" role=\"document\" if=\"{modalConfig}\"> <div class=\"modal-content tx-size-sm\"> <div class=\"modal-header\"> <h6> Trending In {modalConfig.area} </h6> <button type=\"button\" class=\"close float-right\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">Ã—</span> </button> </div> <div class=\"modal-body\" style=\"height: 500px; min-width: 380px; overflow: scroll;\"> <div class=\"row\"> <div class=\"col-12 pd-b-10 bb-1\"> <span class=\"badge badge-info mg-r-20 float-left pd-5\"> From : {modalConfig.range[0]} </span> <span class=\"badge badge-primary float-left pd-5\"> Until: {modalConfig.range[1]} </span> </div> </div> <div class=\"row\" if=\"{allItems}\" each=\"{o in allItems[modalConfig.date]}\" style=\"height: 35px;padding-top: 10px;\"> <div class=\"col-xs-7 col-sm-7 col-md-8 hc-25 overflow-hidden\"> <span class=\"pd-l-1\"> {o.title} </span> </div> <div class=\"col-xs-5 col-sm-5 col-md-4 hc-25 text-right\"> <span class=\"pd-r-1\"> <a href=\"{o.url}\" target=\"_blank\" class=\"url-link\"> {o.count.formatted} </a> </span> </div> </div> </div> </div> </div> </div> </div>','google-trends .url-link,[data-is=\"google-trends\"] .url-link{ text-decoration: none; color: #888da2; } google-trends .hc-25,[data-is=\"google-trends\"] .hc-25{ height: 25px; } google-trends .add-more,[data-is=\"google-trends\"] .add-more{ margin-top: 150px; height: 100px; } google-trends .min-h-content,[data-is=\"google-trends\"] .min-h-content{ min-height: 400px; } google-trends .min-h-100,[data-is=\"google-trends\"] .min-h-100{ min-height: 100%; }',\"\",(function(t){this.area=\"indonesia\",this.isLoading=!0,this.xhr=[],this.datalength=[],this.items=[],this.itemsNow=[],this.items15=[],this.items30=[],this.allItems={},this.modalConfig={date:\"\",range:[],area:\"\"};this.isValidDate=(t,a)=>moment(a).diff(moment(t),\"h\")<=23;const a=function(t){return 0===t?{formatted:0,original:0}:t>1e3?{formatted:numeral(t).format(\"0.0 a\").toUpperCase(),original:t}:Math.floor(t)===t?{formatted:parseFloat(numeral(t).format(\"0.[00]\")),original:t}:{formatted:parseFloat(t.toFixed(2)),original:t}};this.getFormatArea=()=>{let t=this.getArea();return t.charAt(0).toUpperCase()+t.slice(1)},this.getArea=()=>Object(s.getAllUrlParams)(window.location.href).area||\"indonesia\",this.reset=()=>{this.datalength=[],this.items=[],this.itemsNow=[],this.items15=[],this.items30=[],this.update()},this.updateDate=t=>{t=t||localStorage.getItem(\"since\");const a=moment().format(\"YYYY-MM-DD\");this.currentCursor=0,this.startDate=moment(t).set({h:23,m:0,s:0}),this.isNow=a===this.startDate.clone().format(\"YYYY-MM-DD\"),this.reset(),this.functions.getTrendingNow(),this.functions.getTrending15m(),this.functions.getTrending30m(),this.functions.loadMore(),this.update()},this.showAll=(t,e)=>{$(\"#show-all-modal\").modal(\"show\");const s=e?t:t.item.x.id;console.log(s),this.modalConfig={date:s,range:[moment(s).format(\"DD, MMM YYYY HH:00\"),moment(s).format(\"DD, MMM YYYY HH:59\")],area:this.getArea()},this.update(),this.allItems[s]||this.getTrendingData(\"trendings/google/custom\",{trending_date:s,area:this.getArea(),showall:\"yes\"}).then(t=>{this.allItems[s]=t.map(t=>(t.count=a(t.count),t)),this.update()})},this.getTrendingData=(t,a)=>(console.log(t,a),new Promise((e,s)=>{APP.apiGet({path:t,data:a,success:(t,a,s)=>{const i=t.items||t;e(i)},error:t=>{s(t)}})})),this.functions={getTrendingNow:()=>{this.getTrendingData(\"trendings/google/now\",{area:this.getArea(),limit:10}).then(t=>{this.itemsNow=t.map(t=>(t.count=a(t.count),t)),this.update()})},getTrending15m:()=>{this.getTrendingData(\"trendings/google/15m\",{area:this.getArea(),limit:10}).then(t=>{this.items15=t.map(t=>(t.count=a(t.count),t)),this.update()})},getTrending30m:()=>{this.getTrendingData(\"trendings/google/30m\",{area:this.getArea(),limit:10}).then(t=>{this.items30=t.map(t=>(t.count=a(t.count),t)),this.update()})},getTrendingCustom:t=>{const e=t.date.format(\"YYYY-MM-DD HH:00\");this.datalength.push({...t,date:e}),this.getTrendingData(\"trendings/google/custom\",{trending_date:e,area:this.getArea(),limit:10}).then(t=>{this.items[e]=t.map(t=>(t.count=a(t.count),t)),this.update()})},loadMore:()=>{for(let t=1;t<=3;t++){this.currentCursor+=1;const t={id:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"YYYY-MM-DD HH:mm\"),date:this.startDate.clone().subtract(this.currentCursor,\"h\"),title:this.startDate.clone().subtract(this.currentCursor,\"h\").format(\"DD, MMM YYYY HH:mm\")};this.functions.getTrendingCustom(t)}}},this.on(\"mount\",()=>{let t=Object(s.getAllUrlParams)(window.location.href);menuActive.trigger(\"activated\",[\"subTrendings.google.\"+t.area]),this.xhr=[];let a=localStorage.getItem(\"since\"),e=localStorage.getItem(\"until\");this.isValidDate(a,e)||(a=moment().format(\"YYYY-MM-DD\"),e=moment().format(\"YYYY-MM-DD\"))}),this.on(\"unmount\",()=>{if(this.xhr)for(const t of this.xhr)t.abort()})}))}}]);","extractedComments":[]}