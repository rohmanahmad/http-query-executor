{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{195:function(t,e,a){\"use strict\";a.r(e);var i=a(0);!function(){var t=new Error(\"Cannot find module 'Components/extras/refresh-button.tag'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),a(1).tag2(\"mostauthor\",'<div class=\"card\"> <div class=\"card-header d-flex justify-content-between align-items-center\"> <span class=\"card-title tx-uppercase tx-12 mg-b-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row\"> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:influencer} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{mostinfluence}\"> <img src=\"assets/img/image/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR </a> </li> <li class=\"nav-item widthper50 cursor-pointer\"> <a class=\"nav-link {active:!influencer} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{MostActive}\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR </a> </li> </ul> </span> <span class=\"pull-right cursor-default\"><img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer img-download\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"></span> </div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <div class=\"tab-content\"> <div class=\"tab-content height620\" id=\"myTabContent\" if=\"{influencer}\"> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total == 0}\" class=\"textcenter mg-t-20\"> No data found, please input another dates </div> <table class=\"tableinfuencer table table-striped\" if=\"{influencer}\"> <thead if=\"{total != 0}\"> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-30 rounded-circle mobileimage\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-30 1 mobileimage\" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > totalangka ? o.realname.substring(0,totalangka)  + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle tx-right\"> {o.score} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle tx-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> </div> <div class=\"tab-content height620\" id=\"myTabContent\" if=\"{!influencer}\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total1 == 0}\" class=\"textcenter mg-t-20\"> No data found, please input another dates </div> <table class=\"tableinfuencer table table-striped\" if=\"{!influencer}\"> <thead if=\"{total1 != 0}\"> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in mostactive}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-30 rounded-circle mobileimage\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-30 mobileimage\" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > totalangka ? o.realname.substring(0,totalangka)  + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle tx-right\"> {o.score} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle tx-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.totalangka=20,this.isLoading=!0,this.xhr=null,this.influencer=!0,this.imageicon={},this.imageicon.twitter=\"fa fa-facebook\",this.imageicon.facebook=\"fa fa-twitter\",this.imageicon.instagram=\"fa fa-instagram\",this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.user_name||t.item.o.username||t.item.o.realname,a=t.item.o.serviceId;this.parent.detailmentions(null,null,a,e,null,null,\"Author\",null,null,null,null,null)},this.render=t=>{if(APP.log(\"influent-sosial : render\"),!this.influencer)return void this.MostActive();let a=Object(i.clone)(this.parent.search);this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:a,success:e=>{this.total=e.total;var a=Object(i.each)(e.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=a,this.update({isLoading:!1,isLoadingerror:!1}),Object(i.isFunction)(t)&&t()},error:a=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(i.isFunction)(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.mostinfluence=()=>{this.update({influencer:!0,isLoading:!0}),this.render()},this.MostActive=()=>{APP.log(\"most active sosial : render\");let t=Object(i.clone)(this.parent.search);this.update({isLoading:!0,influencer:!1}),this.xhr=APP.apiGet({path:\"mentions/top_users\",data:t,success:t=>{if(null!=t){this.total1=t.total;var e=Object(i.map)(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.mostactive=e}this.update({isLoading:!1,isLoadingerror:!1})},error:t=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update())}})},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()}),this.totaldataangka=t=>{this.totalangka=t,this.update({totalangka:t})},this.downloadcsv=()=>{var t=\"\",e=\"\";this.influencer?(e=\"Most_Influential_\",t=this.items.map(t=>({user_name:t.user_name?t.user_name:t.realname,follower:t.follower?t.follower.formatMoney(0):0,mentions:t.score?t.score.formatMoney(0):0}))):(e=\"Most_Active_\",t=this.mostactive.map(t=>({user_name:t.user_name?t.user_name:t.realname,sentiment_rate:t.rate?t.rate:0,mentions:t.score?t.score.formatMoney(0):0}))),t.length>0&&APP.downloadcsv(t,\"\"+(e+p(\"project\")),!0)}}))}}]);","extractedComments":[]}