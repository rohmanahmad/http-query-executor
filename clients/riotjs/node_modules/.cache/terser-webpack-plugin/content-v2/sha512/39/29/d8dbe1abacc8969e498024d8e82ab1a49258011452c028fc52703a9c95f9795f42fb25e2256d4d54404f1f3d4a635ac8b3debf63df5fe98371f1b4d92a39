{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{100:function(t,e,a){\"use strict\";a.r(e);var s=a(0),i=a(41),o=a.n(i);a(1).tag2(\"chart-positive\",'<div class=\"row row-sm mg-t-20\"> <div class=\"col-lg-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/images/components/icons/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> STREAM COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a href=\"#\" onclick=\"{selectTime}\" class=\"btn {active:selected}\" each=\"{times}\">{name}</a> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\" mg-l-10 mg-t-7 cursor-pointer cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords, compared to other projects that you\\'ve chosen\"> ? </span> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter\"> <div class=\"card-body pd-0 bd-color-gray-lighter height380 textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter \" if=\"{!notdata}\"> <div class=\"row no-gutters tx-center height400\" id=\"chartstream_multiproject\"></div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.nuull=!0,this.notdata=!1,this.type=\"daily\",this.chartpositive=null,this.isExist=!0,this.isLoading=!0,this.chart=null,this.xhr=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.selectTime=t=>{APP.log(\"chart-positive: selectTime\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(s.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.on(\"mount\",()=>{APP.log(\"chart-positive: mount\")}),this.renderamplifi=()=>{$.getJSON(\"/data/lazoneid.json\",(function(t){let e=\"\";for(let a of t)e+=a.tweet;console.log(e)}))},this.dataProjects=[],this.render=t=>{setTimeout(()=>{this.notdata=!1,APP.log(\"chart-positive: render\"),this.nuull=!0;var e=JSON.parse(localStorage.getItem(\"projects\"));const a=(p(\"project\")?p(\"project\"):APP.getProject().toString()).split(\",\").map(Number);Object(s.map)(e,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{a.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)});var i=Object(s.filter)(this.dataProjects,(function(t){return t.checked}));this.projectname=i,this.valproject=i;const r=Object(s.find)(this.times,{selected:!0}).id;let n=Object(s.clone)(this.parent.search);n.project=p(\"project\")?p(\"project\"):APP.getProject(),n.type=r;var l=i.map((function(t){return{name:t.name,color:t.color}})),c=Object(s.reduce)(l,(function(t,e){return t[e.name]=e.color,t}),{});this.update({isLoading:!0});const d=this.chartpositive=o()(\"chartstream_multiproject\",r);this.xhr=APP.apiGet({path:\"stream/brand/mention\",data:n,success:e=>{0===(e=e.items).length?this.notdata=!0:this.update({notdata:!1});var a=Object(s.groupBy)(e,(function(t){return t.brand_name}));a=Object.keys(a).sort().reduce((t,e)=>(t[e]=a[e],t),{});var i=[];for(let t in a){var o=Object(s.sortBy)(a[t],t=>moment(t.date).toDate());if(o=o.map((function(t){return[moment(t.date).utc().valueOf(),t.count,t.brand_name]})),!this.isExist)return;i.push({id:\"response\",shadow:!1,name:t,type:\"areaspline\",totalval:Object(s.sumBy)(o,1),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,c[t]],[1,Highcharts.Color(c[t]).setOpacity(0).get(\"rgba\")]]},lineWidth:1,color:c[t],marker:{radius:3},data:o})}this.data=i,i=Object(s.orderBy)(i,[\"totalval\"],[\"desc\"]);for(var r=0;r<=i.length-1;r++)d.addSeries(i[r]);this.update({isLoading:!1}),Object(s.isFunction)(t)&&t()}})},500)},this.downloadcsv=()=>{const t=Object(s.cloneDeep)(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=Object(s.flatten)(t),a=Object(s.groupBy)(e,\"tgl\");let i=[];for(const t in this.projectname)i.push(this.projectname[t].name);let o=[];for(let t in a){const e=Object(s.groupBy)(a[t],\"tipe\");let r=[];for(let t in i){let a={},s=i[t],o=e[s]&&e[s][0].tipe;s===o?a[o]=e[s][0].count:a[s]=0,r.push(a)}let n=r.reduce((function(t,e){return Object.assign(t,e)}),{});[n].map(e=>(e.tgl=moment(Number(t)).format(\"YYYY-MM-DD h:mm:ss\"),e)),o.push(n)}o.length>0&&APP.downloadcsv(o,\"Stream_Comparison_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr,this.chart&&this.chart.destroy(),this.chartpositive&&this.chartpositive.destroy()})}))},101:function(t,e,a){\"use strict\";a.r(e);var s=a(0),i=(a(18),a(19)),o=a.n(i);a(1).tag2(\"competitive-share-of-voice\",'<div class=\"no-gutters widget-1\"> <div class=\"card shadow-base bd-0\"> <div class=\"-overflow-hidden\"> <div class=\"card-header bb-1 pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase mg-b-0\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> SHARE OF VOICE</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_timeline\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height395\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter\" if=\"{!notdata}\"> <div class=\"card-body pd-0 bd-color-gray-lighter height350 \" id=\"shareofvoice\" if=\"{!notdata}\"> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null;var e=this;this.socmedCategory=[{text:\"Social Media\",value:null},{text:\"Facebook\",value:1},{text:\"Portal\",value:3},{text:\"Forum\",value:5},{text:\"Instagram\",value:7},{text:\"Twitter\",value:2},{text:\"Blog\",value:4},{text:\"Video\",value:6}],this.download=t=>{const e=$(\"#downloadBtn\").val();return\"pdf\"==e?this.downloadpdf():\"csv\"==e?this.downloadcsv():\"png\"==e?o()(document.querySelector(\"#shareofvoice\")).then(t=>{var e,a,s;e=t.toDataURL(),a=Date.now()+\".png\",\"string\"==typeof(s=document.createElement(\"a\")).download?(s.href=e,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s)):window.open(e)}):void 0},this.downloadpdf=()=>o()(document.querySelector(\"#shareofvoice\")).then(t=>{t.toDataURL(\"image/png\");var e=new jsPDF(\"p\",\"pt\",\"a4\",!0);document.body.appendChild(t),e.addHTML(t,0,0,{pagesplit:!1,backgroundColor:\"#FFF\"},(function(){document.body.removeChild(t),e.save(Date.now()+\".pdf\")}))}),this.filterBy=t=>{this.parent.search.service_category=t.item.so.value,$(\"#filter_by_timeline\").text(t.item.so.text),this.render()},this.render=t=>{var e=this;setTimeout((function(){APP.log(\"share of voice  : render\"),e.setChart(t)}),1e3)},this.setChart=t=>{APP.log(\"share of voice  : setChart\");let a=Object(s.clone)(this.parent.search);a.project=p(\"project\")?p(\"project\"):APP.getProject(),this.update({isLoading:!0,notdata:!1}),this.xhr=APP.apiGet({path:\"stream/brand/shareofvoice\",data:a,success:a=>{if(Object(s.isFunction)(t)&&t(),0===(a=a).total)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1});var i=a.items;i=i.map((function(t,e){var s=t.count/a.total*100;return{name:t.brand,y:parseFloat(s.toFixed(1)),totalvalue:t.count.formatMoney(0),color:t.color}})),this.items=i,this.isExist&&(this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy(),Highcharts.chart(\"shareofvoice\",{chart:{type:\"pie\",options3d:{enabled:!0,alpha:45}},title:{text:\"\"},subtitle:{text:\"\"},tooltip:{useHTML:!0,headerFormat:\"<table>\",pointFormat:'<tr ><th colspan=\"2\"><h6>{point.name}</h6></th></tr><tr><th>Total : {point.totalvalue} </th><td>({point.y} %)</td></tr>',footerFormat:\"</table>\",followPointer:!0},plotOptions:{pie:{innerSize:100,depth:45,dataLabels:{formatter:function(){return\"<span style='font-size:12px; color:#333;'> \"+this.point.name+\"</br>\"+this.point.totalvalue+\" ( \"+this.point.y+\" % ) </span>\"},useHTML:!0},minSize:200},series:{cursor:\"pointer\",events:{click:function(t){var a=JSON.parse(localStorage.projects),i=Object(s.filter)(a,(e,a)=>e.key_name==t.point.name),o=i?i[0].key_id:\"\";e.parent.detailmentions(null,null,null,null,null,null,t.point.name,o)}}}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},series:[{name:\"Persentase\",data:i}]}),this.update({isLoading:!1}))}})},this.downloadcsv=()=>{var t=this.items.map(t=>({brand:t.name,persentase:t.totalvalue,count:t.y}));t.length>0&&APP.downloadcsv(t,\"share_of_voice_competition_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))},102:function(t,e,a){\"use strict\";a.r(e);a(13);a(1).tag2(\"facebookcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"1\" onclick=\"{valuedataname}\"> <img src=\"assets/images/components/icons/facebook-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"1\"> FACEBOOK COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Facebook mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">REG POSTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">COMMENTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> <th scope=\"col\" class=\"text-right\">ENGAGEMENT</th> </tr> </thead> <tbody> <tr each=\"{facebookdata}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_fb ? unique_account_fb.formatMoney(0) : 0}</td> <td data-label=\"REG POSTS (FANSPAGE)\" class=\"text-right\">{regular_fb ? regular_fb.formatMoney(0) : 0}</td> <td data-label=\"COMMENTS (FANSPAGE)\" class=\"text-right\">{comments_fb ? comments_fb.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_fb ? Number(ae_fb).formatMoney(0) : 0}</td> <td data-label=\"ENGAGEMENT\" class=\"text-right\">{engagement_fb ? Number(engagement_fb).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.facebookdata=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.facebookdata.map(t=>({Project:t.name,unique_account:t.unique_account_fb?t.unique_account_fb.formatMoney(0):0,reg_post:t.regular_fb?t.regular_fb.formatMoney(0):0,comment:t.comments_fb?t.comments_fb.formatMoney(0):0,average_exposure:t.ae_fb?t.ae_fb:0,engagement:t.engagement_fb?t.engagement_fb.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Facebook_Comparison_\"+p(\"project\"),!0)}}))},103:function(t,e,a){\"use strict\";a.r(e);var s=a(0);a(28);a(1).tag2(\"influence\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/bullhorn-teal.png\" width=\"15\" height=\"20\" class=\"mg-r-5\"> MOST INFLUENTIAL AUTHOR </h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Top authors of mentions about your chosen keyword that has the most potential influence to the public\">?</span> </span> </div> <div class=\"tab-pane fade show active overflow-hidden\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed_influence\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <table class=\"tableinfuencer table table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5\">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"pd-y-5 text-right\">ENGAGEMENTS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 tx-center text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHOR \" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\"> {o.realname.length > 20 ? o.realname .substring(0,20) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"POST\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"ENGAGEMENT\" class=\"valign-middle text-right\"> {o.engagement ? o.engagement.formatMoney(0) : 0} </td> <td data-label=\"FOLLOWERS\" class=\"r10-pd-r-20 valign-middle tx-center text-right\"> {o.follower ? o.follower.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.cacheInfluencer={},this.currentProjectId=null,this.xhr=null,this.isExist=!0,this.search={since:null,until:null,project:null},this.iconvalue={Facebook:\"../assets/images/components/icons/facebook-grey3.png\",Twitter:\"../assets/images/components/icons/twitter-grey.png\",Video:\"../assets/images/components/icons/youtube-grey.png\",Image:\"../assets/images/components/icons/instagram-grey.png\",Portal:\"../assets/images/components/icons/news-grey.png\",Blog:\"../assets/images/components/icons/blogs-grey.png\",Forum:\"../assets/images/components/icons/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.socmedCategory=[{text:\"Social Media\",value:null},{text:\"Facebook\",value:1},{text:\"Instagram\",value:7},{text:\"Twitter\",value:2},{text:\"Video\",value:6}],this.filterBy=t=>{this.parent.search.service_category=t.item.so.value,$(\"#filter_by_socmed_influence\").text(t.item.so.text),this.render()},this.authorvalue=t=>{const e=t.item.o.realname,a=t.item.o.serviceId;this.search=Object(s.clone)(this.parent.search);let i=this.search.q||\"\";this.parent.detailmentions(null,null,a,e,i,null,\"Author\",null)},this.render=t=>{this.cacheInfluencer={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.isLoading=!0,this.updatemenu=t=>{if(APP.log(\"influence : uodate menu \"+t),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(a=Object(s.clone)(this.parent.search)).project=e,this.valprj=e}else{Object(s.find)(this.times,{selected:!0});var a;(a=Object(s.clone)(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.cacheInfluencer[a.project]){var i=this.cacheInfluencer[a.project];this.items=i,this.total=i.length,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/top_influencer\",data:a,success:t=>{if(this.isExist){var e=Object(s.map)(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.cacheInfluencer[a.project]=e,this.total=t.total,this.update({isLoading:!1})}}});this.currentProjectId=t},this.downloadcsv=()=>{let t=this.cacheInfluencer[Number(this.valprj)].map(t=>({authors:t.user_name?t.user_name:t.realname,site:(t.service,t.service),engagements:t.engagement?t.engagement:0,mentions:t.score?t.score:0,followers:t.follower?t.follower:0}));t.length>0&&APP.downloadcsv(t,\"\"+(\"Most_Influential_\"+this.valprj),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.cacheInfluencer=null,this.items=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.cacheInfluencer,delete this.items,delete this.search})}))},104:function(t,e,a){\"use strict\";a.r(e);a(13);a(1).tag2(\"instagramcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"7\" onclick=\"{valuedataname}\"> <img src=\"assets/images/components/icons/instagram-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"7\"> INSTAGRAM COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Instagram mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">TOP REACH </th> <th scope=\"col\" class=\"text-right\">TOP 10 REACH </th> <th scope=\"col\" class=\"text-right\">REGULAR POSTS</th> <th scope=\"col\" class=\"text-right\">REPLIES</th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> <th scope=\"col\" class=\"text-right\">ENGAGEMENT</th> </tr> </thead> <tbody> <tr each=\"{instagram}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_ig ? unique_account_ig.formatMoney(0) : 0}</td> <td data-label=\"TOP REACH\" class=\"text-right\">{top_reach_ig ? top_reach_ig.formatMoney(0) : 0}</td> <td data-label=\"TOP 10 REACH\" class=\"text-right\">{top_reach_ig ? top_reach_ig.formatMoney(0) : 0}</td> <td data-label=\"REGULAR POSTS\" class=\"text-right\">{regular_ig ? regular_ig.formatMoney(0) : 0}</td> <td data-label=\"REPLIES\" class=\"text-right\">{reply_ig ? reply_ig.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_ig ? Number(ae_ig).formatMoney(1) : 0}</td> <td data-label=\"ENGAGEMENT\" class=\"text-right\">{engagement_ig ? Number(engagement_ig).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.instagram=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.instagram.map(t=>({Project:t.name,unique_account:t.unique_account_ig?t.unique_account_ig:0,top_reach:t.top_reach_ig?t.top_reach_ig:0,top_reach10:t.top_reach10_ig?t.top_reach10_ig:0,regular_post:t.regular_ig?t.regular_ig:0,reply:t.reply_ig?t.reply_ig:0,average_exposure:t.ae_ig?t.ae_ig:0,engagement:t.engagement_ig?t.engagement_ig:0}));t.length>0&&APP.downloadcsv(t,\"Instagram_Comparison_\"+p(\"project\"),!0)}}))},263:function(t,e,a){\"use strict\";a.r(e);var s=a(0),i=a(3);a(1).tag2(\"geo-competitive\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/images/components/icons/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your project come from, compared to other projects that you\\'ve chosen\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20 d-block\" if=\"{notdata}\"> <div class=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter \" id=\"buzzgeodistribution\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.isLoading=!0,this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let e=Object(s.clone)(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject();let a=[],o=[];this.update({isLoading:!0}),Object(i.d)([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){o=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"stream/buzzgeo-brand\",data:e,success:e=>{if(0===(e=e.items).length)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1}),e=Object(s.map)(e,t=>{let e=null;if(!Object(s.isEmpty)(t)&&o.features){let a=getProvince(o.features,t.lat||0,t.long||0,t.brand);a&&(e={id:t.brand+a.HASC_1,brand:t.brand,name:a.NAME_1,hasc:a.HASC_1,z:t.count,color:t.color})}return this.isLoading=!1,e}).reduce((t,e)=>(Object(s.isObject)(e)&&(t[e.id]?t[e.id].z+=e.z:t[e.id]=e),t),{});let i=Object(s.groupBy)(e,(function(t){return t.brand}));Object(s.groupBy)(e,(function(t){return t.color}));if(!this.isExist)return;let r=[{name:\"Map\",showInLegend:!1}];Object(s.each)(i,(function(t,e){r.push({type:\"mapbubble\",name:e,joinBy:\"hasc\",data:t,color:t[0].color,showInLegend:!0,minSize:5,maxSize:\"10%\",tooltip:{}})})),this.items=r,Highcharts.mapChart(\"buzzgeodistribution\",{chart:{borderWidth:0,backgroundColor:\"none\",map:a},title:{text:\"\"},credits:{enabled:!1},exporting:{enabled:!1},series:r}),this.update({isLoading:!1}),Object(s.isFunction)(t)&&t()}},()=>{this.update({isLoading:!1})})})},this.downloadcsv=()=>{const t=Object(s.cloneDeep)(Object(s.drop)(this.items,1)).map(t=>t.data.map(t=>({locations:t.name,count:t.z,brand:t.brand}))),e=Object(s.flatten)(t),a=Object(s.groupBy)(e,\"locations\"),i=this.parent.updateData;let o=Object(s.filter)(i,(function(t){return t.checked})).map(t=>t.name),r=[];for(let t in a){const e=Object(s.groupBy)(a[t],\"brand\");let i=[];for(let t in o){let a={},s=o[t],r=e[s]&&e[s][0].brand;s===r?a[r]=e[s][0].count:a[s]=0,i.push(a)}let n=i.reduce((function(t,e){return Object.assign(t,e)}),{});[n].map((e,a)=>(e.locations=t,e)),r.push(n)}r.length>0&&APP.downloadcsv(r,\"Buzz_Geo_Competition_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart-positive: unmount\"),this.xhr&&this.xhr.abort()}),this.on(\"mount\",()=>{this.xhr=null})}))},99:function(t,e,a){\"use strict\";a.r(e);var s=a(0),i=a(20),o=a.n(i);a(1).tag2(\"average-daily\",'<div class=\"card\"> <menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/calender-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> AVERAGE DAILY MENTION</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\" id=\"{valprj}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"When has the most buzz occured in date and time\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase\" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11\" id=\"filter_by_average_daily\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterMentionAverageDaily}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterEngagementAverageDaily}\">Engagement</a> </nav> </div> </div> </div> </div> <div class=\"col-12\"> <div class=\"pd-0 bd-color-gray-lighter height530\" id=\"chatdailymention\" if=\"{!notdata}\"></div> </div> </div> </div>',\"\",\"\",(function(t){this.chartaveragedaily=null,this.isLoading=!0,this.notdata=!1,this.currentProjectId=null,this.isExist=!0,this.cacheAverage={},this.averageval={},this.isExist=!0,this.xhr=null,this.filterMentionAverageDaily=t=>{this.parent.search.filter_by=\"mention\",$(\"#filter_by_average_daily\").html(\"Mention\"),this.render()},this.filterEngagementAverageDaily=t=>{this.parent.search.filter_by=\"engagement\",$(\"#filter_by_average_daily\").html(\"Engagement\"),this.render()},this.render=t=>{APP.log(\"average-daily: render\"),this.cacheAverage={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.updatemenu=t=>{if(APP.log(\"average-daily: updatemenu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();this.valprj=e,(a=Object(s.clone)(this.parent.search)).project=e}else{Object(s.find)(this.times,{selected:!0});var a;(a=Object(s.clone)(this.parent.search)).project=t,this.valprj=t}if(this.cacheAverage[a.project]){var i=this.cacheAverage[a.project];this.update({isLoading:!1}),this.dataChart(i,t)}else this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"mentions/average-daily-mentions\",data:a,success:function(t){t=t.items,this.isExist&&(this.cacheAverage[a.project]=t,this.dataChart(t,a.project),setTimeout(()=>{this.update({isLoading:!1})},500))}.bind(this)});this.currentProjectId=t},this.dataChart=(t,e)=>{let a=[],i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(const e in t){let s=t[e];for(const t in s)a.push({x:i[t],y:parseInt(e-1),total:s[t],z:s[t]})}if(0===Object(s.filter)(a,(function(t){return 0!=t.total})).length)return this.notdata=!0,!1;(this.update({notdata:!1}),this.isExist)&&(this.chartaveragedaily&&this.chartaveragedaily.spacing&&this.chartaveragedaily.destroy(),this.averageval[Number(e)]=a,(this.chartaveragedaily=o()(\"chatdailymention\")).addSeries({color:\"#38a1f2\",data:a}))},this.reload=()=>{delete this.cacheAverage[this.currentProjectId],this.updatemenu(this.currentProjectId)},this.on(\"unmount\",()=>{this.isExist=!1,this.cacheAverage=null,delete this.cacheAverage,this.xhr&&this.xhr.abort(),this.chartaveragedaily&&this.chartaveragedaily.spacing&&(this.chartaveragedaily.destroy(),APP.log(\"chart streams : destroy chart\"))}),this.downloadcsv=t=>{let e=Number(this.valprj);var a;let s={0:\"sun\",1:\"mon\",2:\"tue\",3:\"wed\",4:\"thu\",5:\"fri\",6:\"sat\"},i={0:\"00-05\",1:\"06-11\",2:\"12-17\",3:\"18-23\"};(a=this.averageval[e].map((t,e)=>({Hari:s[t.x],Jam:i[t.y],Count:t.total}))).length>0&&APP.downloadcsv(a,\"\"+(\"Average_daily_Mentions_\"+e),!0)},this.on(\"mount\",()=>{this.xhr=null})}))}}]);","extractedComments":[]}