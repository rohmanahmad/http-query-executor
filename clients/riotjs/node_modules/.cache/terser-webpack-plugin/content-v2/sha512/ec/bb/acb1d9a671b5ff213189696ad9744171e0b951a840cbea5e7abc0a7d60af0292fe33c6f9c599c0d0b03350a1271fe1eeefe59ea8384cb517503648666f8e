{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{105:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(28);a(1).tag2(\"most-active\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/images/components/icons/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </span> </div> <div class=\"tab-pane fade show active overflow-auto\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed_most_active\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 \">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"pd-y-5 text-right\">ENGAGEMENTS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\">{o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"ENGAGEMENT\" class=\"valign-middle text-right\"> {o.engagement ? o.engagement.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.chacheMostactive={},this.currentProjectId=null,this.isExist=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/images/components/icons/facebook-grey3.png\",Twitter:\"../assets/images/components/icons/twitter-grey.png\",Video:\"../assets/images/components/icons/youtube-grey.png\",Image:\"../assets/images/components/icons/instagram-grey.png\",Portal:\"../assets/images/components/icons/news-grey.png\",Blog:\"../assets/images/components/icons/blogs-grey.png\",Forum:\"../assets/images/components/icons/chat-grey.png\"},this.socmedCategory=[{text:\"Social Media\",value:null},{text:\"Facebook\",value:1},{text:\"Instagram\",value:7},{text:\"Twitter\",value:2},{text:\"Video\",value:6}],this.filterBy=t=>{this.parent.search.service_category=t.item.so.value,$(\"#filter_by_socmed_most_active\").text(t.item.so.text),this.render()},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,a=t.item.o.serviceId;this.search=Object(i.clone)(this.parent.search);let s=this.search.q||\"\";this.parent.detailmentions(null,null,a,e,s,null,\"Author\",null)},this.render=t=>{this.chacheMostactive={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.isLoading=!0,this.updatemenu=t=>{if(APP.log(\"mostactive : uodate menu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(a=Object(i.clone)(this.parent.search)).project=e,this.valprj=e}else{Object(i.find)(this.times,{selected:!0});var a;(a=Object(i.clone)(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheMostactive[a.project]){var s=this.chacheMostactive[a.project];this.items=s,this.total=s.length,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/top_users\",data:a,success:t=>{if(this.isExist){this.dataarray=[];var e=Object(i.map)(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.chacheMostactive[a.project]=e,this.total=t.total,this.update({isLoading:!1})}}});this.currentProjectId=t},this.downloadcsv=()=>{var t;(t=this.chacheMostactive[Number(this.valprj)].map(t=>({authors:t.user_name?t.user_name:t.realname,site:t.service?t.service:0,mentions:t.score?t.score:0,engagements:t.engagement?t.engagement:0,followers:t.followers?t.followers:0}))).length>0&&APP.downloadcsv(t,\"\"+(\"Most_Active_\"+this.valprj),!0)},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.chacheMostactive=null,this.items=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheMostactive,delete this.items,delete this.search})}))},106:function(t,e,a){\"use strict\";a.r(e);var i=a(0),s=a(3);a(1).tag2(\"sentimentcompetititon\",'<div class=\"mg-t-30 \" each=\"{o,i in prjList}\"> <div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD POSITIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud positive</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive{i}\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud negative</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative{i}\" prj style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS ({o})</b> <br> <span class=\"f14 a141\">Top mentions and keyword phrase</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositivevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" if=\"{item.user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositivesvalue[i]}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegativevalue[i]}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in streamsnegativevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" if=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.dataWordcloudnegative={},this.dataWordcloudpositive={},this.topwordpositivesvalue={},this.topwordnegativevalue={},this.itemspositivevalue={},this.streamsnegativevalue={},this.render=()=>{let t=Object(i.clone)(this.parent.search);APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)})},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const a=this.competitionProjects[t],s=Object(i.find)(e,{key_id:parseInt(a)});s&&s.key_name&&(this.prjList[a]=s.key_name)}var a=this.competitionProjects;setTimeout(()=>{this.topwordnegatives(t,a),this.topwordpositives(t,a),this.update_datanegative(t,a),this.update_datapositive(t,a),this.update({isLoading:!0})},1)},this.update_datapositive=(t,e)=>{t.section=\"positive\",t.limit=4e3,t.page=0,t.is_total=null,Object(s.a)(e,(a,s)=>{t.project=a,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:o=>{let r=this.parent.component;r.sentimentcompetition=!0,6===Object(i.filter)(r,t=>t).length&&this.parent.updateid();let n=o&&o.items&&o.items.positive?o.items.positive:[],l=t.q;if(l)this.streamspositive(l,t,e);else{if(n.length>0)var c=n?n.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else c=null;this.streamspositive(c,t,e)}var d=Object(i.concat)(n);if((d=Object(i.orderBy)(d,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=d[0][1];d.map(e=>{const a=e[0].length,i=parseInt(e[1]);let s=i/t*100;return a>20&&(s=10,i/t*100>60&&(s=i/t*50)),s<15&&(s=15),e[1]=s,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\"+a).show(),WordCloud(\"wordcloud_positive\"+a,{list:d,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\"+a).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\"+a).html(\"Empty\"),$(\"#wordcloud_positive\"+a).show();s()}})})},this.update_datanegative=(t,e)=>{t.section=\"negative\",t.limit=4e3,t.page=0,t.is_total=null,Object(s.a)(e,(a,s)=>{t.project=a,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:o=>{let r=o&&o.items&&o.items.negative?o.items.negative:[],n=t.q;if(n)this.streamsnegative(n,t,e);else{if(r.length>0)var l=r?r.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else l=null;this.streamsnegative(l,t,e)}var c=Object(i.concat)(r);if((c=Object(i.orderBy)(c,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=c[0][1];c.map(e=>{const a=e[0].length,i=parseInt(e[1]);let s=i/t*100;return a>20&&(s=10,i/t*100>60&&(s=i/t*50)),s<15&&(s=15),e[1]=s,e}),this.dataWordcloudnegative[a]=c,$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\"+a).show(),WordCloud(\"wordcloud_negative\"+a,{list:c,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\"+a).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\"+a).html(\"Empty\"),$(\"#wordcloud_negative\"+a).show();s()}})})},this.topwordpositives=(t,e)=>{this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",Object(s.a)(e,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordpositivesvalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.topwordnegatives=(t,e)=>{this.topword=[],t.page=0,t.section=\"negative\",Object(s.a)(e,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordnegativevalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.streamspositive=(t,e,a)=>{APP.log(\"render Stream timeline\"),Object(s.a)(a,(t,a)=>{e.project=t;e.section=\"positive\",e.limit=5,e.group_service=!1;var i=\"\",s=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=s>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,s++);APP.apiPost({path:\"stream\"+i,success:e=>{this.itemspositivevalue[t]=e.item,this.update({isLoading:!1})}})})},this.streamsnegative=(t,e,a)=>{APP.log(\"render Stream timeline\"),Object(s.a)(a,(t,a)=>{e.project=t;e.section=\"negative\",e.limit=5,e.group_service=!1;var i=\"\",s=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=s>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,s++);APP.apiPost({path:\"stream\"+i,success:e=>{this.streamsnegativevalue[t]=e.item,this.update()}})})}}))},107:function(t,e,a){\"use strict\";a.r(e);var i=a(0),s=(a(18),a(3));a(1).tag2(\"shareofvoicesentiment\",'<div class=\"widget-1\"> <div class=\"card shadow-base \"> <div class=\"card-header bb-1\"> <img src=\"assets/images/components/icons/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 float-left\"> <h6 class=\"card-title mr-auto\">SHARE OF SENTIMENT</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-10 cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter textcenter mg-t-20 height280\" if=\"{notdata}\"> <div calss=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"row no-gutters\"> <div class=\"col-12\"> <div class=\"btn-group mx-2 pd-x-3 pull-right pd-t-7 pd-b-7 tx-uppercase \" role=\"group\" aria-label=\"Basic Navigation\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show Feature\"> <div class=\"dropdown lh-125 mr-2\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by\">Mention</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterMentionTimeline}\">Mention</a> <a class=\"nav-link cursor-pointer tx-11-force\" onclick=\"{filterEngagementTimeline}\">Engagement</a> </nav> </div> </div> <div class=\"dropdown lh-125\"> <a class=\"tx-gray-600 d-inline-block cursor-pointer \" data-toggle=\"dropdown\"> <div class=\"btn btn-light tx-gray-600 pd-x-20 bd d-flex align-items-center justify-content-center pd-y-10 border-0\"> <span class=\"mg-r-10 tx-11-force\" id=\"filter_by_socmed\">Social Media</span> <i class=\"fa fa-angle-down mg-l-10\"></i> </div> </a> <div class=\"dropdown-menu dropdown-menu-right pd-10 pd-r-0 \"> <nav class=\"nav nav-style-1 flex-column\"> <a each=\"{so,si in socmedCategory}\" class=\"d-flex nav-link cursor-pointer tx-11-force\" onclick=\"{filterBy}\">{so.text}</a> </nav> </div> </div> </div> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter height370 abc\" id=\"shareofvoicesentiment\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.chartreemp=null,this.isLoading=!0,this.notdata=!1,this.isExist=!0,this.xhr=null,this.data={},this.socmedCategory=[{text:\"Social Media\",value:null},{text:\"Facebook\",value:1},{text:\"Portal\",value:3},{text:\"Forum\",value:5},{text:\"Instagram\",value:7},{text:\"Twitter\",value:2},{text:\"Blog\",value:4},{text:\"Video\",value:6}],this.filterBy=t=>{this.parent.search.service_category=t.item.so.value,$(\"#filter_by_socmed\").text(t.item.so.text),this.render()},this.filterMentionTimeline=t=>{this.parent.search.filter_by=\"mention\",$(\"#filter_by\").html(\"Mention\"),this.render()},this.filterEngagementTimeline=t=>{this.parent.search.filter_by=\"engagement\",$(\"#filter_by\").html(\"Engagement\"),this.render()},this.render=t=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name\"},success:e=>{this.dataproject=e,setTimeout(()=>{let a=Object(i.clone)(this.parent.search);a.section?this.searchsection=a.section:this.searchsection=\"positive,negative,neutral\",this.renderdata(e),Object(i.isFunction)(t)&&t()},1e3),this.update()}})};var e=this;this.renderdata=t=>{this.update({isLoading:!0}),APP.log(\"sentiment : update data\"),Object(s.c)({positive:function(t){a((function(e){t(null,e)}),\"positive\")},negative:function(t){a((function(e){t(null,e)}),\"negative\")},neutral:function(t){a((function(e){t(null,e)}),\"neutral\")}},(e,a)=>{this.update({isLoading:!1,nodata:!1}),this.mapData(a,t)})},this.generateData=t=>{let e=[];Object(i.each)(Object(i.groupBy)(t,\"brand_name\"),(t,a)=>{let s=Object(i.sumBy)(t,\"count\"),o={};return o[a]=s,e.push(o)})},this.mapData=(t,e)=>{if(t){let a=t.positive,i=t.negative,s=t.neutral;\"positive\"==this.searchsection?(a=t.positive,i=[],s=[]):\"negative\"==this.searchsection?(a=[],i=t.negative,s=[]):\"neutral\"==this.searchsection?(a=[],i=[],s=t.neutral):\"neutral,positive\"==this.searchsection||\"positive,neutral\"==this.searchsection?(a=t.positive,i=[],s=t.neutral):\"neutral,negative\"==this.searchsection||\"negative,neutral\"==this.searchsection?(a=[],i=t.negative,s=t.neutral):\"positive,negative\"!=this.searchsection&&\"negative,positive\"!=this.searchsection||(a=t.positive,i=t.negative,s=[]);let r={positive:{},negative:{},neutral:{}};const n={};for(let t in a){const e=a[t].brand_name;r.positive[e]||(r.positive[e]=0),r.positive[e]=r.positive[e]+a[t].count,n[e]||(n[e]=0),n[e]+=a[t].count}for(let t in i){const e=i[t].brand_name;r.negative[e]||(r.negative[e]=0),r.negative[e]=r.negative[e]+i[t].count,n[e]||(n[e]=0),n[e]+=i[t].count}for(let t in s){const e=s[t].brand_name;r.neutral[e]||(r.neutral[e]=0),r.neutral[e]=r.neutral[e]+s[t].count,n[e]||(n[e]=0),n[e]+=s[t].count}this.items=r;const l=p(\"project\"),c=document.projectCompetition?document.projectCompetition:\"\",d=decodeURIComponent(`${l},${c}`),h=e,m=(\"string\"==typeof d?d.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\").split(\",\").map(t=>parseInt(t.trim())),u=h.filter(t=>m.indexOf(t.key_id)>=0).map(t=>t.key_name),v=this.searchsection.split(\",\");let g={};for(let t in v){const e=v[t];g[e]=[];for(let t in u){const a=u[t];r[e]||(r[e]={}),r[e][a]||(r[e][a]=0);n[a];const i=r[e][a];g[e].push(i)}}o(g,u,n)}};var a=(t,e)=>{let a=Object(i.clone)(this.parent.search);a.section=e,APP.apiGet({path:\"stream/brand/mention\",data:a,success:e=>{t(e.items)}})},o=(t,a,s)=>{var o={positive:\"#6cb17d\",negative:\"#d74943\",neutral:\"#ffb848\"};a.map(t=>s[t]);var r=Object(i.map)(t,(t,e)=>({name:e,color:o[e],data:t}));this.update({isLoading:!1}),Highcharts.chart(\"shareofvoicesentiment\",{chart:{type:\"bar\",margin:[20,60]},title:{text:\"\"},xAxis:{categories:a,crosshair:!0,labels:{style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"},formatter:function(){return this.value.length>15?this.value.substr(0,15)+\"...\":this.value}}},yAxis:{min:0,labels:{formatter:function(t){return numeral(null!==this.value?this.value:\"0\").format(\"0.00 a\").replace(\".00\",\"\")},style:{color:\"#333\",font:\"12px Trebuchet MS, Verdana, sans-serif\",fontWeight:\"bold\"}},title:{text:\"\"}},tooltip:{enabled:!1},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!0,itemStyle:{color:\"#33333\",fontSize:\"12px\"}},plotOptions:{series:{dataLabels:{enabled:!0,useHTML:!0,formatter:function(){const t=s[this.x],e=(100*this.y/t).formatMoney(1);return\"<span style='z-index:0;position:relative; font-size:12px;'> \"+this.y.formatMoney(0)+`(${e}%)</span>`}},maxPointWidth:100,minPointLength:20,cursor:\"pointer\",events:{click:function(t){var a=JSON.parse(localStorage.projects),s=Object(i.filter)(a,(e,a)=>e.key_name==t.point.category),o=s?s[0].key_id:\"\";e.parent.detailmentions(null,t.point.series.name,null,null,null,null,t.point.category,o)}}},column:{stacking:\"percent\",pointPadding:.2,borderWidth:0}},series:r})};this.downloadcsv=()=>{let t={};t.positive=this.items.positive,t.negative=this.items.negative,t.neutral=this.items.neutral;const e=Object.keys(t.positive).map(t=>t);let a=[];for(const i in t){let s={sentiment:i};for(const a of e)s[a]=t[i][a];a.push(s)}a.length>0&&APP.downloadcsv(a,\"share_of_voice_competition_\"+p(\"project\").replace(/,/g,\"_\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort(),this.chartreemp&&this.chartreemp.spacing&&this.chartreemp.destroy()})}))},108:function(t,e,a){\"use strict\";a.r(e);a(13);a(1).tag2(\"tiktokcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"7\" onclick=\"{valuedataname}\"> <img src=\"assets/images/components/icons/youtube-grey.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"7\"> TIKTOK COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Tiktok mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">TOP REACH </th> <th scope=\"col\" class=\"text-right\">TOP 10 REACH </th> <th scope=\"col\" class=\"text-right\">REGULAR POSTS</th> <th scope=\"col\" class=\"text-right\">REPLIES</th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> <th scope=\"col\" class=\"text-right\">ENGAGEMENT</th> </tr> </thead> <tbody> <tr each=\"{youtube}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_tk ? unique_account_tk.formatMoney(0) : 0}</td> <td data-label=\"TOP REACH\" class=\"text-right\">{top_reach_tk ? top_reach_tk.formatMoney(0) : 0}</td> <td data-label=\"TOP 10 REACH\" class=\"text-right\">{top_reach_tk ? top_reach_tk.formatMoney(0) : 0}</td> <td data-label=\"REGULAR POSTS\" class=\"text-right\">{regular_tk ? regular_tk.formatMoney(0) : 0}</td> <td data-label=\"REPLIES\" class=\"text-right\">{reply_tk ? reply_tk.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_tk ? Number(ae_tk).formatMoney(0) : 0}</td> <td data-label=\"ENGAGEMENT\" class=\"text-right\">{engagement_tk ? Number(engagement_tk).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.youtube=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.youtube.map(t=>({Project:t.name,unique_account:t.unique_account_tk?t.unique_account_tk.formatMoney(0):0,top_reach:t.top_reach_tk?t.top_reach_tk.formatMoney(0):0,top_reach10:t.top_reach10_tk?t.top_reach10_tk.formatMoney(0):0,regular_post:t.regular_tk?t.regular_tk.formatMoney(0):0,reply:t.reply_tk?t.reply_tk.formatMoney(0):0,average_exposure:t.ae_tk?t.ae_tk:0,engagement:t.engagement_tk?t.engagement_tk.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"tiktok_Comparison_\"+p(\"project\"),!0)}}))},28:function(t,e,a){\"use strict\";a.r(e);var i=a(0);a(1).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(e){e.preventDefault();var a=e.target.id;Object(i.each)(this.checkeddata,(t,e)=>{t.id==a?t.selected=!0:t.selected=!1}),t.cb(a)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=Object(i.filter)(t,(function(t){return t.checked}));Object(i.each)(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))}}]);","extractedComments":[]}