{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{184:function(t,e,a){\"use strict\";a.r(e);var i=a(0),o=a(19),s=a.n(o);a(7);a(1).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"shareofvoice\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;let a=[{name:\"Facebook\",count:0},{name:\"Twitter\",count:0},{name:\"Instagram\",count:0},{name:\"Video\",count:0},{name:\"Portal\",count:0},{name:\"Forum\",count:0},{name:\"Blog\",count:0}];this.render=t=>{let a=Object(i.clone)(this.parent.search);a.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:a,success:e=>{Object(i.isFunction)(t)&&t(),e=e.items;let a=[],o={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Image:\"#d28a57\",Portal:\"#a77e0c\"};console.log({res:e});for(const t in e){let i={};i={y:e[t].count,name:t,color:o[t],colorval:o[t]},a.push(i)}a.map((function(t){return\"Tiktok\"==t.name&&(t.name=\"Video\"),\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));if(0===a.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),a=Object(i.orderBy)(a,[\"y\"],[\"desc\"]);Object(i.map)(a,t=>t.colorval);this.items=a,(this.chartpie=s()(\"shareofvoice\")).addSeries({data:a}),this.update({isLoading:!1,isLoadingerror:!1})},error:a=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(i.isFunction)(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.downloadcsv=()=>{var t=this.items.map(t=>({name:t.name,count:t.y?t.y.formatMoney(0):0}));const e=Object(i.map)(t,t=>t.name);let o=Object(i.filter)(a,t=>e.indexOf(t.name)<0);(t=Object(i.concat)(t,o)).length>0&&APP.downloadcsv(t,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},185:function(t,e,a){\"use strict\";a.r(e);var i=a(0),o=a(20),s=a(61),n=a(56),r=a(57),d=a(54),c=a(60),l=a(52),h=a(53);a(7);a(1).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img alt=\"{IconVideo}\" onload=\"{loadHeadImage}\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">SOURCE OF MENTIONS </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <div class=\" pd-10 min-height305\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height305 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1;const a={Video:{icon:s.default,name:\"Video\",idchannels:6},Image:{icon:n.default,name:\"Instagram\",idchannels:7},Portal:{icon:r.default,name:\"News\",idchannels:3},Facebook:{icon:d.default,name:\"Facebook\",idchannels:1},Twitter:{icon:c.default,name:\"Twitter\",idchannels:2},Blog:{icon:l.default,name:\"Blog\",idchannels:4},Forum:{icon:h.default,name:\"Forum\",idchannels:5}};this.loadHeadImage=()=>{console.log(\"====\"),setTimeout((function(){alert(\"__\"+o.default)}),5e3)},this.isLoading=!0,this.render=t=>{this.update({isLoading:!0}),APP.log(\"influent-sosial : render\");let o=Object(i.clone)(this.parent.search);o.compare=!0,APP.apiGet({path:\"mentions/composition\",data:o,success:e=>{const o=e.items,s=Object(i.sumBy)(o,\"total\");var n=Object(i.map)(o,t=>{let e={},i=100*t.total/s;const o=t.difference&&t.difference.total?t.difference.total:[];return e.caret=\"up\"===o[0]?\"fa fa-caret-up\":\"down\"===o[0]?\"fa fa-caret-down\":\"fa fa-minus\",e.color=\"up\"===o[0]?\"#23BF08\":\"down\"===o[0]?\"#DC3545\":\"#d2dc35\",e.percent=o[1],e.width=i?i.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,e.total=t.total,e.name=a[t.name]&&a[t.name].name?a[t.name].name:\"\",e.icon=a[t.name]&&a[t.name].icon?a[t.name].icon:\"\",e.idch=a[t.name]&&a[t.name].idchannels?a[t.name].idchannels:\"\",e});const r=Object(i.map)(n,t=>t.name),d=Object(i.filter)(a,t=>r.indexOf(t.name)<0).map(t=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:t.name,icon:t.icon,total:0,idch:t.idchannels}));n=Object(i.orderBy)(n,[\"total\"],[\"desc\"]),this.channels=n.concat(d),this.total=n.length,this.update({isLoading:!1,isLoadingerror:!1}),Object(i.isFunction)(t)&&t()},error:a=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(i.isFunction)(t)&&t()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.selectchannels=t=>{let e=t.item.o.idch;this.parent.detailmentions(null,null,e,null,null,null,null,null,null,null,null,null)}}))}}]);","extractedComments":[]}