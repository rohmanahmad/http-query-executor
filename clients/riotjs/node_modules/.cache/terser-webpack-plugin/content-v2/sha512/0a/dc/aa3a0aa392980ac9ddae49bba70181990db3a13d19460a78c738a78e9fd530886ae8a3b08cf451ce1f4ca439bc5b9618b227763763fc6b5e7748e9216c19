{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{186:function(t,e,i){\"use strict\";i.r(e);var s=i(0),a=i(31),o=i.n(a);i(7);i(1).tag2(\"timeline-of-mentions\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"masuk\"> TIMELINE OF MENTIONS </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <a onclick=\"{selectTime}\" class=\"btn {active:selected} cursor-pointer\" each=\"{times}\">{name}</a> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Visual representations of changes in the amount of mentions about your chosen keywords\">?</span> </div> </div> <div class=\"card-body pd-10 bd-color-gray-lighter\"> <div class=\"ripple-loader\" if=\"{Loader}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <span class=\"textcenter\" if=\"{nodata}\">No data found, please input another dates</span> <div class=\"row no-gutters tx-center height295\" id=\"chartSentimentpositivenegative\"> </div> </div> </div>',\"\",\"\",(function(t){var e=0;this.isLoadingerror=!1,this.type=\"daily\",this.chart=null,this.Loader=!0,this.sentimen=null,this.times=[{id:\"hourly\",name:\"Hourly\",selected:!1},{id:\"daily\",name:\"Daily\",selected:!0},{id:\"monthly\",name:\"Monthly\",selected:!1}],this.sentimentall=[{color:\"#279aff\",id:\"negative,positive,neutral\",nameval:\"all\",name:\"All\",no:1},{color:\"#5dff27\",id:\"positive\",nameval:\"positive\",name:\"Positive\",no:2},{color:\"#ff4027\",id:\"negative\",nameval:\"negative\",name:\"Negative\",no:3},{color:\"#f3973e\",id:\"neutral\",nameval:\"neutral\",name:\"Neutral\",no:4}],this.ajaxChannels=[],this.isExist=!0,this.selectTime=t=>{APP.log(\"chart streams : selecttme\"),t.preventDefault(),t.item.selected=!0;const e=t.item.id;this.times=Object(s.map)(this.times,t=>(t.id!=e&&(t.selected=!1),t)),this.update(),this.render()},this.render=t=>{setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.nodata=!0,APP.log(\"chart streams : render\");const i=Object(s.find)(this.times,{selected:!0}).id;let a=Object(s.clone)(this.parent.search);a.group_service=\"false\",a.project=APP.currentProject,a.type=i,this.chart&&this.chart.spacing&&this.chart.destroy(),this.update({Loader:!0});var r=[];async.each(this.sentimentall,(i,o)=>{if(!this.isExist)return!1;a.section=i.id;this.chart=APP.apiGet({path:\"mentions\",data:a,success:t=>{t=t.items;let e=[];e=(t=Object(s.sortBy)(t,t=>moment(t.date).toDate())).map(t=>[moment(t.date).utc().valueOf(),t.count]),e.length>0&&(this.nodata=!1);var a=0;Object(s.each)(e,(t,e)=>{a+=t[1]}),r.push({id:\"response\",shadow:!1,noid:a,name:i.name,nameval:i.nameval,type:\"areaspline\",lineWidth:1,color:i.color,colorval:i.color,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.color],[1,Highcharts.Color(i.color).setOpacity(0).get(\"rgba\")]]},marker:{radius:3},data:e}),o()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.Loader=!1,this.isLoadingerror=!0,this.update()),Object(s.isFunction)(t)&&t()}},(t,e,i)=>{console.log({x:t,y:e,z:i})},o),this.ajaxChannels.push([])},()=>{if(!this.nodata){const t=\"chartSentimentpositivenegative\";this.update({nodata:this.nodata});const e=Object(s.result)(this.parent,\"updatesentimenval\",\"\").split(\",\");let n=Object(s.filter)(r,t=>e.indexOf(t.nameval)>-1);n=Object(s.orderBy)(n,[\"noid\"],[\"desc\"]),this.data=n,setTimeout(()=>{this.chart=o()(t,i,\"#868ba1\",a);for(var e=0;e<=n.length-1;e++)this.chart.addSeries(n[e])},500)}this.update({Loader:!1,isLoadingerror:!1}),Object(s.isFunction)(t)&&t()})},this.refresError=()=>{this.isLoadingerror=!1,this.Loader=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.chart=null,setTimeout(()=>{$('[data-toggle=\"tooltip\"]').tooltip()},1e3),this.ajaxChannels=[],this.isExist=!0}),this.downloadcsv=()=>{const t=Object(s.cloneDeep)(this.data).map(t=>t.data.map(e=>({tgl:e[0],tipe:t.name,count:e[1]}))),e=Object(s.flatten)(t),i=Object(s.groupBy)(e,\"tgl\");let a=[];for(let t in i){const e=Object(s.groupBy)(i[t],\"tipe\"),o=Object(s.result)(e,\"Positive[0].count\",0),r=Object(s.result)(e,\"Negative[0].count\",0),n=Object(s.result)(e,\"Neutral[0].count\",0),l=o+r+n;a.push({tgl:moment(Number(t)).format(\"YYYY-MM-DD\"),positive:o,negative:r,neutral:n,total:l})}a.length>0&&APP.downloadcsv(a,\"Timelineofmentions_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart streams : unmount\"),this.chart&&this.chart.spacing&&(this.chart.destroy(),APP.log(\"chart streams : destroy chart\"))})}))},187:function(t,e,i){\"use strict\";i.r(e);var s=i(0);i(7);i(1).tag2(\"tophashtagandword\",'<div class=\"card mg-t-20 shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/hashtag-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\">TOP HASHTAGS </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Most frequent hashtags that\\'s used in mentions about your chosen keywords\">?</span> </span> </div> <div class=\"card-footer tx-12 pd-y-15 bg-transparent height276 pd-t-10-i\"> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div if=\"{total == 0}\" class=\"textcenter\"> No data found, please input another dates </div> <table class=\"table table-striped mg-b-0\" if=\"{total != 0}\"> <thead> <tr> <th>HASHTAGS</th> <th class=\"text-right\">MENTIONS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" if=\"{i < 5}\"> <td onclick=\"{tophastagsvalue}\" class=\"cursor-pointers\">#{o._id.tag.length > 30 ? o._id.tag.substring(0,30) + \\'...\\' : o._id.tag}</td> <td class=\"text-right\">{o.count.toLocaleString({ minimumFractionDigits: 2 })}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.xhr=null,this.isExist=!0,this.fontcolor=!1,this.fonttable=\"\",this.maxheight=!0;var e=0;this.isLoadingerror=!1,this.render=t=>{let i=Object(s.clone)(this.parent.search);this.update({isLoading:!0}),this.isLoading=!0,i.is_total=null,this.xhrtophastags=APP.apiGet({path:\"mentions/hashtags\",data:i,success:e=>{this.total=e.items.length,this.items=e.items,this.update({isLoading:!1,isLoadingerror:!1,total:e.items.length}),Object(s.isFunction)(t)&&t()},error:i=>{++e<3&&setTimeout(()=>{this.render()},3e3),e>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(s.isFunction)(t)&&t()}})},this.tophastagsvalue=t=>{t.item.o._id.tag},this.downloadcsv=()=>{var t=this.items.map(t=>({count:t.count,Hashtags:\"\"+t._id.tag}));t.length>0&&APP.downloadcsv(t,\"TopHashtags_\"+p(\"project\"),!0)},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,e=0,this.update(),this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}