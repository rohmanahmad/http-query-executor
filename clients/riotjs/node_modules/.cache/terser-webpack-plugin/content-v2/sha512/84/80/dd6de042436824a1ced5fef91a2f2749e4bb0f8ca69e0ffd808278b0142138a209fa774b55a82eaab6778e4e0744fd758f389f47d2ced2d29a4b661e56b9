{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{173:function(t,e,i){\"use strict\";i.r(e);var a=i(0);i(6);i(1).tag2(\"stream-timeline\",'<div class=\"row\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15 cursor-pointer\" for=\"selectall\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\" id=\"selectall\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-danger rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{isLoading}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\" if=\"{isLoading}\"> <div class=\"media mg-b-25\"> <div class=\"ripple-loader\"></div> </div> </div> </div> </div> <div class=\"row mg-t-10\" if=\"{total == 0}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-25 ht-100p\"> <div class=\" mg-b-25 textcenter mg-t-20\"> No data found, please input another dates </div> </div> </div> </div> <div class=\"row mg-t-10 {ripple-loader-sentiment-r10:isLoading}\" each=\"{o in items}\" id=\"setvaleu{o._id}\"> <div class=\"col-md-12\"> <div class=\"card shadow-base bd-0 pd-20 ht-100p\"> <div if=\"{isLoadingset(o._id)}\" class=\"ripple-loader-sentiment\"></div> <div class=\"media mg-b-20\"> <img alt=\"\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> <img alt=\"\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\" if=\"{!o.user.avatar}\" class=\"d-flex wd-40 rounded-circle mg-r-15\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\';\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> <div class=\"media-body mg-t-2\"> <h6 class=\"mg-b-5 tx-14 mg-t-0\"> <a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"tx-inverse\">{o.user.real_name ? o.user.real_name : o.user.name}</a> <p class=\"tx-12 pull-right mg-r-5\"> <i class=\"icon ion-calendar\"></i> {o.date_format}</p> </h6> <div lass=\"tx-12\"> <span><a rel=\"noopener\" href=\"{o.source}\" target=\"_blank\" class=\"metricsentimentone cursor-pointer\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\"></i> {o.service} <span if=\"{o.is_community}\"> - community</span></a> </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"likes {o.details.likes ? o.details.likes.formatMoney(0) : 0}\"> <i class=\" fa fa-thumbs-o-up\" aria-hidden=\"true\"></i> {o.details.likes ? o.details.likes.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"replies {o.details.shares ? o.details.shares.formatMoney(0) : 0}\"> <i class=\" fa fa-share-square-o\" aria-hidden=\"true\"></i> {o.details.shares ? o.details.shares.formatMoney(0) : 0}</span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"comments {o.details.comments ? o.details.comments.formatMoney(0) : 0}\"> <i class=\" fa fa-commenting\" aria-hidden=\"true\"></i> {o.details.comments ? o.details.comments.formatMoney(0) : 0} </span> <span class=\"metricsentiment cursor-pointer\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"view {o.details.views ? o.details.views.formatMoney(0) : 0}\"> <i class=\" fa fa-eye\" aria-hidden=\"true\"></i> {o.details.views ? o.details.views.formatMoney(0) : 0} </span> </div> </div> </div> <blockquote class=\"blockquote bd-l bd-5 pd-l-20 tx-12\" if=\"{o.parent && o.parent.text}\"> <p class=\"mg-b-5 tx-gray-600\">{o.parent.text}</p> <footer class=\"blockquote-footer tx-12\"><a href=\"{o.source}\" target=\"_blank\">Original Post</a></footer> </blockquote> <p class=\"{tx-17:opts.corection == \\'true\\'} mg-b-25 {tx-inverse:opts.corection == \\'true\\'} {color222:opts.corection == \\'false\\'} textjustify\" onclick=\"{imgmodalprofile}\"> <span> <img alt=\"\" if=\"{o.image != \\'\\' && o.image != null}\" riot-src=\"{o.image}\" class=\"imagestreams cursor-pointer \" data-toggle=\"modal\" data-target=\"#buzzerimg\" onclick=\"{imgmodalprofile}\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{o.user.real_name ? o.user.real_name : o.user.name}\"> </span> <span class=\"original-text\">{o.text.length > 500 ? o.text.substring(0,500) + \\'...\\' : o.text} </span> </p> <span if=\"{(o.tags ? o.tags.length : 0) > 0 || tagingvalue[o._id]}\" class=\"showtags_{o._id}\"><i class=\"fa fa-folder-o\"></i> Taging : <a class=\"btn btn-teals btn-with-icon btn-block wd-max-content\" id=\"{o._id}\"> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o2.id}{o._id} valtags_{o._id}\" each=\"{o2,i in o.tags}\" id=\"showtaging\"> <span class=\"pd-x-10\"> {o2.name}</span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o2.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o2.id},{o._id}\"></i> </span> </div> <div class=\"ht-18 btn-teal-r10 justify-content-between mg-l-2 tx-10 br-3 pull-right devault_{o3.id}{o._id} valtags_{o._id}\" each=\"{o3,i in valuetag[o._id]}\" id=\"showtaging\"> <span class=\"pd-x-10\"> {o3.name} </span> <span class=\"icon wd-20 cursor-pointer tagingtext\" id=\"{o3.id},{o._id}\" onclick=\"{eventaging}\"> <i class=\"fa fa-close\" id=\"{o3.id},{o._id}\"></i> </span> </div> </a> </span> <div class=\"media align-items-center pull-right mg-t-10\"> <input type=\"checkbox\" checked=\"{o.checked}\" class=\"facebook cursor-pointer checkedtransform mg-t-20\" id=\"check_{o._id}\" onclick=\"{selectId}\"><span></span> <div class=\"media-body mg-t-min-10\"> <div class=\"btn btn-outline-danger rounded-circle cursor-pointer pull-right btncirclesentiment40\" onclick=\"{deletes}\"><i class=\"fa fa-trash-o\"></i></div> <div id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value == 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></div> <div id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value < 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></div> <div id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer pull-right mg-r-10 {active:o.sentiment ? o.sentiment.value > 0 : null} btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></div> <div id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer {active:o.is_connect_sociomile} pull-right mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0 mg-l-0\"></i></div> <div class=\"dropdown btn btn-outline-teal rounded-circle cursor-pointer pull-right mg-r-10 active btncircletaging40\"> <i class=\"dropbtn fa fa-bookmark\"></i> <div class=\"dropdown-content mg-t-20 left\"> <ul class=\"list-group list-group-striped\"> <li class=\"list-group-item rounded-top-0 pd-0 b-0-white\"> <div class=\"input-group\"> <input type=\"text\" class=\"form-control borderinputaddtag\" placeholder=\"Search for...\" onkeyup=\"{searchTaging}\" ref=\"inputtag\"> <span class=\"input-group-btn\"> <button class=\"btn bd btn-white tx-gray-600 cursor-pointer addtaging\" onclick=\"{addtagscolection}\" type=\"button\" id=\"{o._id}\"><i class=\"fa fa-plus\" id=\"{o._id}\"></i></button> </span> </div> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in datatagingvalue}\" if=\"{!listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <li class=\"list-group-item taging tx-left pd-75-rem\" each=\"{list in listtagingvalue}\" if=\"{listtag}\" id=\"delete_{list._id}\"> <p class=\"mg-b-0\" id=\"{list._id},{o._id}\" onclick=\"{addtaging}\"> <i class=\"fa fa-folder-open color-teal\" id=\"{list._id},{o._id}\"></i> <strong class=\"tx-inverse tx-medium mg-l-10 color-teal\" id=\"{list._id},{o._id}\">{list.name}</strong> </p> </li> <div class=\"group-more\"></div> </ul> </div> </div> </div> </div> </div> </div> </div> <div class=\"row mg-t-20\"> <div class=\"col-md-12\"> <div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <label class=\"ckbox pull-left pd-r-20 mg-t-15\"> <input type=\"checkbox\" checked=\"{selected}\" class=\"facebook\" onclick=\"{selectAll}\"><span> Select All </span> </label> <div class=\"media-body pull-left\"> <button type=\"button\" onclick=\"{globalupdate}\" id=\"sociomile\" class=\"btn btn-outline-indigo rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{integrasi}\"><i id=\"sociomile\" class=\"cursor-pointer ivocon i-sociomile hs-grey btncirclesentimentposition sociomile mg-r-0\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"positive\" class=\"btn btn-outline-positive rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"positive\" class=\"fa fa-thumbs-o-up\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"negative\" class=\"btn btn-outline-negative rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"negative\" class=\"fa fa-thumbs-o-down\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"neutral\" class=\"btn btn-outline-neutral rounded-circle cursor-pointer mg-r-10 btncirclesentiment40\" onclick=\"{setSentiment}\"><i id=\"neutral\" class=\"fa fa-question-circle\"></i></button> <button type=\"button\" onclick=\"{globalupdate}\" id=\"delete\" class=\"btn btn-outline-danger rounded-circle cursor-pointer btncirclesentiment40\" onclick=\"{deletes}\"><i id=\"delete\" class=\"fa fa-trash-o\"></i></button> </div> <div class=\"btn-group\" role=\"group\" aria-label=\"Limit\"> <select class=\"btn btn-outline-info btn-icon mg-r-5 pull-right mg-t-20 selectTimeline cursor-pointer\" onchange=\"{changeLimit}\" ref=\"limitPage\"> <option value=\"5\" selected=\"{selected:pagelimitvalue == 5}\">5</option> <option value=\"10\" selected=\"{selected:pagelimitvalue == 10}\">10</option> <option value=\"20\" selected=\"{selected:pagelimitvalue == 20}\">20</option> <option value=\"50\" selected=\"{selected:pagelimitvalue == 50}\">50</option> <option value=\"100\" selected=\"{selected:pagelimitvalue == 100}\">100</option> <option value=\"300\" selected=\"{selected:pagelimitvalue == 300}\">300</option> </select> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div> </div> </div> </div> </div> <div class=\"modal fade\" id=\"buzzerimg\" tabindex=\"-1\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-body\"> <img alt=\"\" riot-src=\"{imgmodal}\" class=\"width450\" onerror=\"this.onerror=null;this.src=\\'assets/img/imagenotavailable.jpg\\';\" name=\"{modalName}\"></img> </div> <div class=\"modal-footer\"> <div class=\"col-md-12\"> <button type=\"button\" id=\"cancel\" class=\"btn btn-outline-primary btn-block mg-b-10 mg-t-10 mg-r-10 width100 pull-right\" data-dismiss=\"modal\">Close</button> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.hiddenForm={},this.error=!1,this.valuedata=\"This value is required\",this.pagelimitvalue=10,this.userLoadingSentiment,this.xhr=null;const e=this;this.dataStreams=[],this.datatagingvalue=[],this.tagingvalue={},this.valuetag={},this.addselectval={},this.addtagscolection=t=>{let e=localStorage.clientid;const i=t.target.id;this.nametaging&&APP.apiPost({path:\"tags/create\",data:{name:this.nametaging,client_id:e},success:t=>{t?(this.listdatacolection=t,this.tagingvalue[i]=!0,this.valuetag[i]?this.valuetag[i]=Object(a.concat)(this.valuetag[i],[{name:t.name,id:t._id}]):this.valuetag[i]=[{name:t.name,id:t._id}],APP.apiPut({path:\"tags/update/stream\",data:{id:t._id,streamid:i},success:e=>{$.notify(\"Tag : ' \"+t.name+\" ' has been added from list successfully\",\"info\")}})):$.notify(\"Tag \"+t.name+\" has been previously added\",\"error\"),this.update()},error:t=>{$.notify(\"Tag \"+data.name+\" has been previously added\",\"error\")}})},this.delettagcolection=t=>{let e=localStorage.clientid;const i=t.target.id;APP.apiPut({path:\"tags/remove\",data:{id:i,client_id:e},success:function(e){setTimeout(()=>{$(\"#delete_\"+i).remove()},1),$.notify(\"Tag \"+t.item.list.name+\" has been deleted from list successfully\",\"delete\")}})},this.rendertags=t=>{let e=localStorage.clientid;APP.apiGet({path:\"tags\",data:{q:\"\",client_id:e},success:t=>{this.listtagingvalue=(t||[]).slice(0,4),this.listtag=!0,this.update()}})},this.eventaging=t=>{if(!t)return null;let e=t.target.id.replace(/,/g,\"\");const i=(t.target.id||\"\").split(\",\"),a=i[0],s=i[1];this.addselectval[a]=!1,this.update(),$(\".devault_\"+e).remove(),APP.apiPut({path:\"tags/remove/stream\",data:{id:a,streamid:s},success:function(e){$.notify(\"remove tanging name : \"+(t.item.o2?t.item.o2.name:t.item.o3?t.item.o3.name:\"\"),\"delete\")},error:t=>{}}),$(\".valtags_\"+s).length<=0&&($(\".showtags_\"+s).hide(),this.tagingvalue[s]=!1,this.update())},this.searchTaging=t=>{let e=localStorage.clientid;const i=t.target.value.length,a=t.target.value;this.nametaging=a,this.listtag=!1,i>=2&&APP.apiGet({path:\"tags\",data:{q:a,client_id:e},success:t=>{this.datatagingvalue=t,this.update()}}),i<=0&&(this.listtag=!0,this.update())},this.addtaging=t=>{if($(\".devault_\"+t.target.id.replace(/,/g,\"\")).length<1){const e=t.target.id.split(\",\"),i=e[0],s=e[1];this.valuetag[s]?this.addselectval[i]||(this.valuetag[s]=Object(a.concat)(this.valuetag[s],[{name:t.item.list.name,id:i}])):this.valuetag[s]=[{name:t.item.list.name,id:i}],$(\".showtags_\"+s).show(),this.tagingvalue[s]=!0,this.addselectval[i]=!0,this.update(),APP.apiPut({path:\"tags/update/stream\",data:{id:i,streamid:s},success:function(e){$.notify(\"Tag : \"+t.item.list.name+\" has been added successfully\",\"info\")}})}else $.notify(\"Tag : ' \"+t.item.list.name+\" ' has been previously added \",\"info\")},this.ontotal=0,this.idtotal={},this.showForm=t=>{const e=t.item.o._id;this.error=!1,this.jumalahtotal=this.ontotal+1,this.ontotal=this.jumalahtotal,this.idtotal[this.jumalahtotal]=e,this.idtotal[this.jumalahtotal-1]==e?this.hiddenForm[e]?this.hiddenForm[e]=!1:this.hiddenForm[e]=!0:(this.hiddenForm[e]=!0,this.hiddenForm[this.idtotal[this.jumalahtotal-1]]=!1),setTimeout((function(){}),1),this.update()},this.updateKeyword=t=>{const e=t.item.o._id,i=p(\"project\")?p(\"project\"):APP.getProject(),a=this.refs.sentimentValue.value,s=this.refs.inputValue.value,o={project:i,type:a,value:s};s?APP.apiGet({path:\"stream/correction/append\",data:o,success:t=>{$.notify(\"Sentiment changed to \"+a,\"info\"),this.hiddenForm[e]=!1,this.update()}}):($(\"#kywordupdate\").focus(),swal({title:\"Alert\",text:\"This value keyword is required\",type:\"warning\",showCancelButton:!1,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0}))},this.search={project:p(\"project\")?p(\"project\"):APP.getProject()},this.data=\"\",this.query={limit:pageLimit,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({Loading:!0,isLoading:!0}),this.query.page=(t-1)*this.query.limit,this.render(),window.innerWidth>500&&$(\"body,html\").animate({scrollTop:780},500)}},this.imgmodalprofile=t=>{this.modalName=t.item.o.user.name,this.imgmodal=t.item.o.image},this.changeLimit=t=>{APP.log(\"change stream limit\"),this.pagelimitvalue=t.target.value,this.update({isLoading:!0}),t.preventDefault(),this.query.limit=parseInt(t.target.value),this.query.page=0,this.pagination.page=1,setTimeout(function(){this.isLoading=!1,this.update()}.bind(this),2e3),this.render()},this.isLoadingset=t=>this.userLoadingSentiment===t,this.on(\"mount\",()=>{this.isLoading=!0,this.isLoad=!0,this.filter=!1,this.refs.limitPage.value=pageLimit,this.update()}),this.integrasi=t=>{t.preventDefault(),APP.log(\"integrate stream\");var e=t.item.o.service;let i=t.item.o._id;\"twitter\"==e&&(this.userLoadingSentiment=i,t.item.o.is_connect_sociomile=!0),this.search.streamid=i,APP.apiPost({path:\"stream/sociomile?project=\"+(+p(\"project\")?p(\"project\"):APP.getProject()),data:{streamid:i},error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.render(),this.update()},success:t=>{APP.log(\"success integrated to sociomile\"),$(\"#setvaleu\"+i+\" #sociomile\").addClass(\"active\"),$.notify(\"Stream moved to Sociomile \",\"info\"),this.userLoadingSentiment=void 0,this.update()}})},this.valueidcheck={},this.setSentiment=t=>{t.preventDefault(),APP.log(\"setting sentiment\");let e=t.target.id,i=t.item.o._id;this.search.streamid=i,this.search.sentiment=e,$(\"#setvaleu\"+i+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+i+\" #\"+e).addClass(\"active\"),APP.apiGet({path:\"stream/update_sentiment\",data:this.search,success:a=>{if($.notify(\"Sentiment changed to \"+this.search.sentiment,\"info\"),this.valueidcheck[i])var s=this.valueidcheck[i];else s=t.item.o.sentiment.value;0!=s&&null!=s||this.parent.refs.sentiment.remove_dataneutrla(-1),\"neutral\"==e&&this.parent.refs.sentiment.update_dataneutrla(1),1==s&&this.parent.refs.sentiment.remove_datapositive(-1),\"positive\"==e&&this.parent.refs.sentiment.update_datapositive(1),-1==s&&this.parent.refs.sentiment.remove_datanegative(-1),\"negative\"==e&&this.parent.refs.sentiment.update_datanegative(1);var o=\"positive\"===e?1:(e=\"negative\")?-1:0;this.valueidcheck[i]=o,this.userLoadingSentiment=void 0,this.update()}})},this.deletes=t=>{t.preventDefault(),APP.log(\"deleting stream\");let e=t.item.o._id;this.search.streamid=e,APP.apiGet({path:\"stream/delete_stream\",data:this.search,parse_data:!0,success:t=>{$(\"#setvaleu\"+e).fadeOut(1),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})};const i=function(){APP.apiGet({path:\"projects\",data:{project:p(\"project\"),selected_fields:\"key_word\"},success:function(t){if(t.length>0){let i=t[0].key_word.split(\",\");i=i.map(t=>t.trim()).filter(t=>t.length>1),e.parent.search&&e.parent.search.q&&i.push(e.parent.search.q),$(\".original-text\").each((function(t,e){let a=$(e).html();for(let t of i)a=a.replace(new RegExp(`\\\\b${t}\\\\b`,\"gi\"),`<b style=\"color: #1caf9a;\">${t.toUpperCase()}</b>`);$(e).html(a)}))}}})};this.render=()=>{APP.log(\"render Stream timeline\"),this.valuetag={};const e=Object(a.find)(this.times,{selected:!0}),s=Object(a.map)(this.parent.channels,t=>t.id);let o=this.parent.search;o.type=e,o.limit=this.query.limit,o.page=this.query.page,o.pagination=\"yes\",o.useDetail=!0,o.service_category=s.join(\",\");var n=\"\",l=0;for(let t in o)o[t]&&\"\"!=o[t]&&(n+=l>0?`&${t}=${encodeURIComponent(o[t])}`:`?${t}=${encodeURIComponent(o[t])}`,l++);this.xhr=APP.apiPost({path:\"stream\"+n,success:(e,a,s)=>{var o=e.item;o&&(o=o.map(t=>(t.checked=!1,t))),this.items=o,this.total=this.items.length,this.pagination.pages=Math.ceil(e.total/this.query.limit),this.rendertags(o),this.isLoad=!1,this.Loading=!1,this.userLoadingSentiment=void 0,$('[data-toggle=\"tooltip\"]').tooltip(),i(),setTimeout(()=>{this.update({isLoading:!1})},500),t.corection}})},this.selectAll=()=>{var t;1===$(\".facebook:checked\").length?(t=this.items)&&(t=t.map(t=>(t.checked=!0,t))):(t=this.items)&&(t=t.map(t=>(t.checked=!1,t)));this.update()},this.dataStrm=[],this.selectId=t=>{var e=t.item.o._id;this.items.forEach(t=>{t._id===e&&(t.checked=!t.checked),this.dataStrm.push(t)})},this.globalupdate=t=>{t.preventDefault(),this.dataId=[],(o=this.items)&&((o=Object(a.filter)(o,(function(t){return t.checked}))).forEach(t=>{t.checked&&this.dataId.push(t._id)}),this.IdData=this.dataId.toString(\",\"));var e=APP.currentProject,i=this.IdData,s=t.target.id;if(i)if(\"sociomile\"==s){var o={streamid:i};APP.apiPost({path:\"stream/sociomile?project=\"+e,data:o,error:(t,e,i)=>{APP.error(t),this.userLoadingSentiment=void 0,this.update()},success:t=>{APP.success(\"Stream moved to Sociomile\",()=>{});var e=i.split(\",\");Object(a.each)(e,(t,e)=>{$(\"#setvaleu\"+t+\" #sociomile\").addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\")}),this.update()}})}else{o={stream_ids:i,sentiment:s};\"delete\"==s?swal({title:\"Alert\",text:\"Are you sure you want to delete this stream?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiPost({path:\"stream/correction?project=\"+e,data:o,parse_data:!0,success:t=>{var e=i.split(\",\");Object(a.each)(e,(t,e)=>{$(\"#setvaleu\"+t).fadeOut(100)}),this.parent.refs.sentiment.update_data(),this.parent.setTotal()}})}):APP.apiPost({path:\"stream/correction?project=\"+e,data:o,parse_data:!0,success:t=>{var e=i.split(\",\");Object(a.each)(e,(t,e)=>{$(\"#setvaleu\"+t+\" #negative\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #positive\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #neutral\").removeClass(\"active\"),$(\"#setvaleu\"+t+\" #\"+s).addClass(\"active\"),$(\"#check_\"+t).removeAttr(\"checked\")}),APP.success(t,()=>{this.parent.refs.sentiment.update_data()})}})}},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),delete this.xhr})}))}}]);","extractedComments":[]}