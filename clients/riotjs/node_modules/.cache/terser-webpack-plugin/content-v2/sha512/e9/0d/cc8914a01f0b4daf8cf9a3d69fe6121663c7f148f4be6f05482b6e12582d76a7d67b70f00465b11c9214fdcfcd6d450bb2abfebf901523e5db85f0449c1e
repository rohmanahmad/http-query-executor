{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{134:function(t,e,a){a(1).tag2(\"mediadistributorchart\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION CHART </h6> </div> <div class=\"col-md-8\"> <div class=\"widget-2 mg-t-20\"> <div class=\"card shadowbase overflow-hidden\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-20 bd-color-gray-lighter height680 textcenter mg-t-0\" if=\"{notdata}\"> No data found, please input another dates </div> <div class=\"card-body pd-10 bd-color-gray-lighter height680\" id=\"shareofstreammediacompetition\" if=\"{!notdata}\"> </div> </div> </div> </div>',\"\",\"\",(function(t){this.createChart=t=>{const e=t.data||[];if(e.length<=0)return!1;Highcharts.chart(\"shareofstreammediacompetition\",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:\"pie\"},title:{text:\"\"},tooltip:{pointFormat:\"{series.name}: {point.y} <br> persentase : {point.percentage:.1f}%\"},plotOptions:{pie:{allowPointSelect:!0,cursor:\"pointer\",dataLabels:{formatter:function(){return\"<span style='font-size:20px;'> \"+this.point.name+\"</br>\"+this.point.percentage.formatMoney(2)+\"%  (\"+this.y.formatMoney(0)+\")</span>\"},useHTML:!0}}},exporting:{enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{name:\"Mentions\",colorByPoint:!0,data:e}]})}}))},135:function(t,e,a){\"use strict\";a.r(e);var s=a(0);a(1).tag2(\"media-distribution\",'<div class=\"card-header pd-20 bg-transparent bb-1\"> <h6 class=\"card-title tx-20 tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/line-chart-teal.png\" width=\"30\" height=\"30\" class=\"mg-r-5\"> COMPETITION MEDIA DISTRIBUTION </h6> </div> <div class=\"no-gutters widget-1 mg-t-20\"> <div class=\"col-md-12\"> <div class=\"bg-transparent min-height360 \"> <div class=\"bd bd-gray-300 table-striped table-bordered rounded table-responsive\"> <table class=\"table mg-b-0 tx-17-r10\"> <thead> <tr class=\"toptable bg-gray-600\"> <th class=\"tx-white text-center tx-17-r10\">NO</th> <th class=\"tx-white text-center tx-17-r10\">Media Source</th> <th class=\"text-center tx-white tx-17-r10\">Twitter</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Instagram\">Images(IG)</th> <th class=\"text-center tx-white tx-17-r10\">Facebook</th> <th class=\"text-center tx-white tx-17-r10\">Blogs</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Youtube & Tiktok\">Videos</th> <th class=\"text-center tx-white tx-17-r10\">Forums</th> <th class=\"text-center tx-white tx-17-r10\" title=\"Includes Google Search & All News Websites\">News</th> <th class=\"text-center tx-white tx-17-r10\">total</th> </tr> </thead> <tbody> <tr each=\"{o,i in valuedataTable}\" class=\"\"> <td class=\"tx-white bg-gray-600 text-center\">{i+1}</td> <td class=\"tx-white bg-gray-600 text-center\" each=\"{projectfilter}\" if=\"{id == Number(o.prj)}\">{name}</td> <td class=\"text-center tx-black\"><b> {o.Twitter ? o.Twitter : 0}</b></td> <td class=\"text-center tx-black\"><b> {o.Instagram ? o.Instagram :0} </b></td> <td class=\"text-center tx-black\"><b> {o.Facebook ? o.Facebook : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Blog ? o.Blog : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Video ? o.Video : 0} </b></td> <td class=\"text-center tx-black\"><b> {o.Forum ? o.Forum : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.Portal ? o.Portal : 0} </b> </td> <td class=\"text-center tx-black\"><b> {o.total ? o.total : 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <th class=\"tx-white bg-gray-600 text-center\">Total</th> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Twitter\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Instagram\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Facebook\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Blog\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Video\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Forum\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totalchannelAll[\\'Portal\\'] || 0} </b> </td> <td class=\"text-center tx-black\"> <b> {totaldataAll || 0} </b> </td> </tr> <tr class=\"\"> <th class=\"tx-white bg-gray-600\">&nbsp;</th> <td class=\"tx-white bg-gray-600 text-center\">Percentage</td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Twitter\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Instagram\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Facebook\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Blog\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Video\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Forum\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> {totaldatapersentase[\\'Portal\\'].formatMoney(2)} % </b> </td> <td class=\"text-center tx-black\"> <b> 100 % </b> </td> </tr> <tr class=\"tr td th\" if=\"{this.total == 0}\"> <td colspan=\"2\" class=\"txtcenter\">No data found, please input another dates</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.totalchannel={},this.totalchannelAll={},this.valuedataTablelenght=0,this.totaldata={},this.totaldatapersentase={Facebook:0,Twitter:0,Instagram:0,Blog:0,Video:0,Forum:0,Portal:0},this.xhr=null,this.render=()=>{APP.log(\"influent-sosial : render\");Object(s.find)(this.times,{selected:!0});this.dataarray=[];let t=Object(s.clone)(this.parent.search);const e=p(\"project\"),a=document.projectCompetition?document.projectCompetition:\"\",r=decodeURIComponent(`${e},${a}`),o=\"string\"==typeof r?r.split(\",\").map(t=>t.trim()).filter(t=>\"\"!==t).toString():\"\";this.validProjects=o;var c=o.split(\",\");this.update({isLoading:!0}),this.renderchart(o),this.renderTotal(o),async.each(c,(e,a)=>{t.project=e,APP.apiGet({path:\"mentions/composition\",data:t,success:function(t){t=t.items;var r=[];Object(s.each)(t,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),r.push(t)});var o={};Object(s.each)(r,t=>{o[t.name]=t.total});let c=0;for(let t in o)c+=o[t];this.totaldata[e]=c,o.total=c,o.prj=e;let i=this.totalchannel[e]=o;this.dataarray.push(i),this.update(),a()}.bind(this)}),this.update({isLoading:!1})},()=>{this.renderproject(),this.valuedataTable=Object(s.orderBy)(this.dataarray,[\"total\"],[\"desc\"]),this.valuedataTablelenght=this.valuedataTable.length})},this.renderTotal=t=>{let e=Object(s.clone)(this.parent.search);e.project=t,APP.apiGet({path:\"mentions/composition\",data:e,success:t=>{const e=t.items;var a={};Object(s.each)(e,t=>{\"Image\"==t.name&&(t.name=\"Instagram\"),a[t.name]=t.total}),this.totalchannelAll=a;let r=0;for(let t in a)r+=a[t];this.totaldataAll=r,this.update()}})},this.renderchart=t=>{APP.log(\"chart share streams : render\"),\"analysis/my-stream..\"==APP.currentHash&&this.update({tombolrefres:!0});let e=Object(s.clone)(this.parent.search);e.is_total=null,e.project=t,this.update({isLoading:!0}),\"analysis/my-stream..\"!=APP.currentHash&&(p(\"section\")?e.section=p(\"section\"):e.section=null),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:e,success:t=>{t=t.items;let e=[],a={Twitter:\"#7dcae8\",Facebook:\"#4267b2\",Blogs:\"#fff9f6\",Forum:\"#eeb64f\",News:\"#39d44c\",Video:\"#ff0400\",Image:\"#9b2db6\",Portal:\"#a77e0c\"};for(const s in t){let r={};r={y:t[s].count,name:s,color:a[s]},e.push(r)}e.map((function(t){return\"Image\"==t.name&&(t.name=\"Instagram\"),\"Portal\"==t.name&&(t.name=\"News\"),t}));0===e.length?this.notdata=!0:this.update({notdata:!1});var r;r=Object(s.sumBy)(e,\"y\");var o={};Object(s.each)(e,t=>{o[t.name]=t.y}),this.totaldatapersentase={Facebook:100*(o.Facebook||0)/r,Twitter:100*(o.Twitter||0)/r,Instagram:100*(o.Instagram||0)/r,Blog:100*(o.Blog||0)/r,Video:100*(o.Video||0)/r,Forum:100*(o.Forum||0)/r,Portal:100*(o.News||0)/r};let c=0,i=0;for(const t in this.totaldatapersentase)c+=this.totaldatapersentase[t],i+=o[t];this.parent.refs.mediadistributorcahrt.createChart({data:e})}}),this.xhr.readyState&&this.update({isLoading:!1,notdata:!0})},this.renderproject=()=>{APP.apiGet({path:\"projects/list\",data:{selected_fields:\"key_id,key_name,time_add,key_color\"},success:function(t){this.dataproject=t,setTimeout(()=>{this.getproject(t)},1e3),this.update()}.bind(this)})},this.dataProjects=[],this.getproject=t=>{this.dataProjects=[];t=t;const e=this.validProjects.split(\",\").map(Number);Object(s.map)(t,(function(t){return{id:t.key_id,date:moment(t.key_start_date).format(\"DD MMMM YYYY\"),name:t.key_name,color:t.key_color}})).forEach(t=>{e.indexOf(t.id)>-1?t.checked=!0:t.checked=!1,this.dataProjects.push(t)}),this.projectfilter=Object(s.filter)(this.dataProjects,(function(t){return t.checked})),this.update()},this.reload=()=>{this.Loading=!0,this.render()},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort()})}))}}]);","extractedComments":[]}