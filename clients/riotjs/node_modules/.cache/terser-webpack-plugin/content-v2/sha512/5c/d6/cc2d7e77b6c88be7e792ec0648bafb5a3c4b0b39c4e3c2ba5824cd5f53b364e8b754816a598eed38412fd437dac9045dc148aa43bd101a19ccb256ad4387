{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{9:function(e,t,i){i(0).tag2(\"filter\",'<form id=\"myFormid\" method=\"get\" onsubmit=\"{kirim}\"> <div class=\"card {shadow-base:opts.namefilter == \\'true\\'} borderbottom0\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center height42\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/filter-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> FILTER </h6> <span class=\"colorblue cursor-pointer\" onclick=\"{reset}\"><a class=\" borderbottom\"> Reset Filter</a></span> </div> <div class=\"card-body pd-20\"> <div class=\"row \"> <div class=\"col-md-12\"> <div class=\"form-group mg-b-0\"> <div class=\"dropdown\"> <span class=\"label hidden-md-down\"> </span> <a href=\"\" onclick=\"{resetSearch}\" class=\"btn btn-outline-dark wd-100p\" data-toggle=\"dropdown\"> <span class=\" \"> <i class=\"fa fa-folder-open\"></i> Load Saved Filters</span> </a> <div class=\"dropdown-menu dropdown-menu-header\" style=\" width:100%;\"> <div class=\"form-group mg-5\"> <label for=\"peas\"></label> <input name=\"search_project\" ref=\"search_project\" riot-value=\"{this.searchText}\" onkeyup=\"{searchProject}\" class=\"form-control\" placeholder=\"Search Filter\" type=\"text\"> </div> <ul class=\"list-unstyled user-profile-nav\"> <li each=\"{o,i in recentProject}\" class=\"cursor-pointer\"> <a onclick=\"{activefilter}\" id=\"{o._id}\"> <i class=\"{ion-checkmark:o.checked==true}\"></i> {o.filter_name} </a> </li> </ul> <hr class=\"mg-5\"> <a href=\"#setting/filterlist?project={localStorage.prjId}\" class=\" see-more cursor-pointer\"> <i class=\"fa fa-arrow-right pull-right pd-5 mg-t-2\"> </i><span class=\"pull-right pd-5\"> Manage Filter </span> </a> </div> </div> </div> </div> </div> <div class=\"row mg-t-10 mb-1\" id=\"hiddenDiv\"> <div class=\"col-md-12\" if=\"{opts.page == ⁗summary⁗}\"> <div class=\"form-group mb-1\"> <label class=\"form-control-label\" for=\"inputfocusnameauthor\">Filter By Channel :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from selected channel\">?</span> </div> <div class=\"row\"> <div class=\"col-6 pr-0 pl-0\" each=\"{service in parent.services}\"> <div class=\"form-check\"> <input class=\"form-check-input\" type=\"checkbox\" onclick=\"{() => toggleService(service.id)}\" riot-value=\"{service.id}\" style=\"margin-left: 0px;\" checked=\"{service.selected}\"> <label class=\"form-check-label\"> {service.name} </label> </div> </div> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputfocusnameauthor\">Filter By Text :</label> <span class=\"pd-5 pull-right cursor-default \" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries that include a given phrase(s) in a title or in a content. To include more phrases in your search, please use the following operators: AND, OR, NOT. e.g. Tablet AND NOT laptop displays entries that contain the keyword \" tablet and do not contain the keyword laptop>?</span> <input type=\"text\" class=\"form-control\" id=\"inputfocusnameauthor\" placeholder=\"\" ref=\"keyword\" riot-value=\"{keyword}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputdomain\">Filter By Domain : <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain domains. To include more than one domain in your search please use the following operators: AND, OR, NOT e.g: NOT facebook.com AND NOT twitter.com - shows entries that do not come from Facebook nor Twitter\">?</span> <input type=\"text\" class=\"form-control\" id=\"inputdomain\" placeholder=\"\" ref=\"domain\" riot-value=\"{domain}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Author : <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain authors. To include more than one domain in your search please use the following operators: AND, OR, NOT e.g: Prama Aditya OR Hendro - shows only entries that come from authors name containing \" prama aditya or hendro>?</span> <input type=\"text\" class=\"form-control\" placeholder=\"\" id=\"inputauthor\" ref=\"author\" riot-value=\"{author}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Taging: <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show only entries from certain tagins. To include more than one taging in your search please use the following operators: AND, OR, NOT e.g: Prama Aditya OR Hendro - shows only entries that come from authors name containing \" prama aditya or hendro>?</span> <input type=\"text\" class=\"form-control\" placeholder=\"\" id=\"inputtaging\" ref=\"taging\" riot-value=\"{taging}\"> </div> </div> <div class=\"col-md-12\"> <div class=\"form-group\"> <label class=\"form-control-label\" for=\"inputauthor\">Filter By Time: <span class=\"tx-danger\"></span></label> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"showing data with specific time frame\">?</span> <div class=\"input-group mb-3\"> <input class=\"form-control\" id=\"inputtimesince\" ref=\"timesince\" riot-value=\"{timesince}\" type=\"{\\'time\\'}\"> <span class=\"input-group-text\" style=\"width: 50px; text-align: center;\"> - </span> <input class=\"form-control\" id=\"inputtimeuntil\" ref=\"timeuntil\" riot-value=\"{timetime}\" type=\"{\\'time\\'}\"> </div> </div> </div> <div class=\"col-sm-12 mg-sm-t-0\"> <label class=\"ckbox\"> <span class=\"pd-5 pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Show entries from marked authors. By default, mentions from marked authors are hidden and not calculated in analysis\">?</span> <input type=\"checkbox\" checked=\"{checkeds}\" class=\"exc\" id=\"hide-marker\"><span> Hide Marked Author </span> </label> </div> </div> <div class=\"form-layout-footer mg-t-10\"> <button type=\"submit\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 cursor-pointer\">Apply Filter</button> </div> </div> <div class=\"card-footer tx-12 pd-y-15 bg-transparent\" if=\"{opts.namefilter == \\'true\\'}\"> <div class=\"row \"> <div class=\"col-md-12\"> <div class=\"btn btn-outline-secondary btn-block cursor-pointer\" data-toggle=\"modal\" data-target=\"#modaldemo3\" onclick=\"{inputfocus}\">Save Filter</div> </div> </div> </div> </div> </form>',\"\",\"\",(function(e){this.checkeds=!1,this.error=!1,this.showdiv=!0,this.isSerchingProject=!1,this.isShowingRecent=!1,this.namefilter=\"No Filter\",this.searchResult=[],this.searchText=\"\",this.taging=\"\",this.recentTemp=[],this.recentProject=[{id:12,name:\"No Recent Project\"}],this.maxRecent=10,this.toggleService=e=>{this.parent.services.forEach((t,i)=>{t.id==e&&(this.parent.services[i].selected=!this.parent.services[i].selected)})},this.getService=()=>{let e=this.parent.services.filter(e=>1==e.selected);return e.length>0?e.map(e=>e.id).join(\",\"):\"\"},this.loadService=e=>{e=e.split(\",\").map(e=>parseInt(e)),this.parent.services.forEach((t,i)=>{e.includes(t.id)?this.parent.services[i].selected=!0:this.parent.services[i].selected=!1})},this.kirim=t=>{$(\"#modalfilterlist\").modal(\"toggle\"),t.preventDefault(),this.setSearchValues();var i=$(\".exc:checked\").val();this.parent.search.q=this.refs.keyword.value,this.parent.search.domain=this.refs.domain.value,this.parent.search.author=this.refs.author.value,this.parent.search.taging=this.refs.taging.value,\"summary\"==e.page&&(this.parent.search.service_category=this.getService()),null==i?(this.parent.search.filterbot=!1,this.checkeds=!1):(this.parent.search.filterbot=!0,this.checkeds=!0),this.update();var a={filter_filterbot:null!=i,filter_keywords:this.refs.keyword.value,filter_author:this.refs.author.value,filter_domain:this.refs.domain.value,filter_taging:this.refs.taging.value};\"summary\"==e.page&&(a.filter_service_category=this.getService()),this.parent.updateFilter(a)},this.reset=()=>{$(\"#modalfilterlist\").modal(\"toggle\"),document.getElementById(\"myFormid\").reset(),this.unsetSearchValues(),this.parent.search.q=\"\",this.parent.search.domain=\"\",this.parent.search.author=\"\",this.parent.search.taging=\"\",this.parent.search.filterbot=!1,this.refs.timesince.value=\"\",this.refs.timeuntil.value=\"\",p(\"author\")&&(window.location=\"#stream?project=\"+p(\"project\")),this.checkeds=!1,this.taging=\"\",this.domain=\"\",this.author=\"\",this.keyword=\"\",this.timesince=\"\",this.timeuntil=\"\",this.update({keyword:\"\",domain:\"\",author:\"\",taging:\"\",timesince:\"\",timeuntil:\"\"}),this.parent.resetFilter()},this.on(\"mount\",()=>{this.getfilterlistvalue()}),this.inputfocus=()=>{$(\"#modaldemo3\").on(\"shown.bs.modal\",(function(){$(\"#inputfocusnamevalue\").focus()}))},this.activefilter=e=>{e.preventDefault(),$(\"#modalfilterlist\").modal(\"toggle\"),this.mapFilter=[];var t=e.item.o._id,i=_.map(this.data,(e,i)=>{const a={},r=e._id;return a.checked=r==t,a._id=e._id,a.filter_name=e.filter_name,a});const a=_.orderBy(i,[\"checked\"],[\"desc\"]);this.recentProject=a.slice(0,9);let r=(APP.currentProject?APP.currentProject.split(\",\"):\"\")[0];this.update(),APP.apiGet({path:\"bookmark-filter/list/\"+t+\"?project=\"+r,success:e=>{this.checkeds=1==e.filter_filterbot||\"true\"==e.filter_filterbot||\"on\"==e.filter_filterbot,this.keyword=e.filter_keywords,this.author=e.filter_author,this.domain=e.filter_domain,this.namefilter=e.filter_name,this.parent.search.q=e.filter_keywords,this.parent.search.domain=e.filter_domain,this.parent.search.author=e.filter_author,this.parent.search.filterbot=e.filter_filterbot,this.parent.colorblue=!1,this.update(),this.parent.updateFilter(e)}})},this.getfilterlist=e=>{this.keyword=e.filter_keywords,this.domain=e.filter_domain,this.author=e.filter_author,this.checked=e.filter_filterbot,\"true\"==this.checked?this.checked=!0:this.checked=!1,this.update()},this.getfilterauthor=e=>{this.author=e,this.update()},this.getDefaultSearchValues=()=>{if(this.keyword=localStorage.filter_keyword,this.domain=localStorage.filter_domain,this.author=localStorage.filter_author,this.taging=localStorage.filter_taging,this.timesince=localStorage.filter_timesince,this.timetime=localStorage.filter_timeuntil,\"summary\"==e.page){let e=localStorage.filter_service_category;e&&\"\"!=e&&this.loadService(e)}},this.unsetSearchValues=()=>{localStorage.setItem(\"filter_keyword\",\"\"),localStorage.setItem(\"filter_domain\",\"\"),localStorage.setItem(\"filter_author\",\"\"),localStorage.setItem(\"filter_taging\",\"\"),localStorage.setItem(\"filter_timesince\",\"\"),localStorage.setItem(\"filter_timeuntil\",\"\"),localStorage.setItem(\"filter_service_category\",\"\")},this.setSearchValues=()=>{localStorage.setItem(\"filter_keyword\",this.refs.keyword.value),localStorage.setItem(\"filter_domain\",this.refs.domain.value),localStorage.setItem(\"filter_author\",this.refs.author.value),localStorage.setItem(\"filter_taging\",this.refs.taging.value),localStorage.setItem(\"filter_timesince\",this.refs.timesince.value),localStorage.setItem(\"filter_timeuntil\",this.refs.timeuntil.value),\"summary\"==e.page&&localStorage.setItem(\"filter_service_category\",this.getService())},this.getfilterlistvalue=()=>{if(APP.log(\"project : project\"),this.update({isLoading:!0}),this.getDefaultSearchValues(),APP.currentProject){let e=(APP.currentProject?APP.currentProject.split(\",\"):\"\")[0];APP.apiGet({path:\"bookmark-filter/list\",data:{project:e},success:e=>{e=_.orderBy(e,[\"_id\"],[\"desc\"]);this.recentProject=e.slice(0,9),this.mapData=e,e.length<4&&(this.nextdisable=!0),this.data=e,this.total=e.length,this.update({isLoading:!1})}})}},this.removelist=e=>{var t=e.item.o._id;swal({title:\"Alert\",text:\"Are you sure you want to delete this list filter?\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#42a3b8\",closeOnConfirm:!0,confirmButtonText:\"YES \",cancelButtonText:\"NO\"},()=>{APP.apiGet({path:\"bookmark-filter/remove/\"+t,success:function(e){this.getfilterlistvalue()}.bind(this)})})},this.savefilter=e=>{e.preventDefault(),name=this.parent.updatenamefilter;var t=this.refs.keyword.value,i=this.refs.domain.value,a=this.refs.author.value;if(!(r=$(\".exc:checked\").val()))var r=!1;if(name){var s={name:name,keywords:t,domain:i,author:a,filterbot:r,service_category:this.getService()};APP.apiPost({path:\"bookmark-filter/create?project=\"+p(\"project\"),data:s,success:e=>{this.error=!1,this.getfilterlistvalue(),$(\"#modaldemo3\").modal(\"toggle\"),APP.success(\"sukses\",()=>{if(this.parent.updateFilter){var e={filter_filterbot:r,filter_keywords:t,filter_author:a,filter_domain:i,filter_service_category:this.getService()};this.parent.updateFilter(e),this.parent.updatefilternamenews=!1}this.update()})}})}else this.error=!0,this.update()},this.resetSearch=()=>{!$(\".br-header-left > .dropdown > .dropdown-menu.dropdown-menu-header\").hasClass(\"show\")&&$(\"input[name=search_project]\").val(\"\"),setTimeout(()=>{$(\"input[name=search_project]\").focus()},200),this.isSearcingProject&&(this.isSearcingProject=!1,this.recentProject=this.recentTemp),this.unsetSearchValues()},this.searchProject=e=>{this.searchResult=[];let t=e.target.value;_.each(this.data,e=>{e.filter_name.toLowerCase().indexOf(t.toLowerCase())>=0&&this.searchResult.length<=this.maxRecent&&this.searchResult.push(e)}),t.length>0?(this.isSearcingProject||(this.recentTemp=this.recentProject),this.isSearcingProject=!0,this.recentProject=this.searchResult):(this.isSearcingProject=!1,this.recentProject=this.recentTemp)},this.updatevaluekey=e=>{this.keyword=e.keywords,this.domain=e.domain,this.author=e.author,this.checkeds=\"true\"==e.filterbot,this.update()}}))}}]);","extractedComments":[]}