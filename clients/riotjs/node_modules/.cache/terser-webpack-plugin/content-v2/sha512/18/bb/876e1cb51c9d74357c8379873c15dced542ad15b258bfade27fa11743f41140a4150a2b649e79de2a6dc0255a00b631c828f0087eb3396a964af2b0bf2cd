{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{17:function(t,e,s){\"use strict\";s.r(e);var i=s(0);s(1).tag2(\"menubrand\",'<div class=\"card-header overflowauto b-bottom-0\"> <ul class=\"nav nav-tabs card-header-tabs flex-direction-row limenutaboverflows\" id=\"inner-scroll\"> <li class=\"nav-item cursor-pointer\" each=\"{o,i in checkeddata}\" id=\"{o.id}\"> <a class=\"nav-link {active:o.selected} textoverflowhidden tx-uppercase tx-16 color-tittle\" data-toggle=\"tab\" onclick=\"{brandmenu}\" id=\"{o.id}\">{o.name} </a> </li> </ul> </div>',\"\",\"\",(function(t){this.ifmenu=!1,this.dataProjects=[],this.on(\"mount\",()=>{}),this.brandmenu=function(e){e.preventDefault();var s=e.target.id;Object(i.each)(this.checkeddata,(t,e)=>{t.id==s?t.selected=!0:t.selected=!1}),t.cb(s)},this.checkeddata=[],menu.on(\"nameproject\",function(t){var e=Object(i.filter)(t,(function(t){return t.checked}));Object(i.each)(e,(t,e)=>{t.selected=0==e,this.checkeddata.push(t)}),this.dataProjects=this.checkeddata,this.update()}.bind(this))}))},86:function(t,e,s){\"use strict\";s.r(e);var i=s(0);s(17);s(1).tag2(\"most-active\",'<menubrand cb=\"{updatemenu}\" ref=\"menuValue\"></menuBrand> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/chat-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> MOST ACTIVE AUTHOR</h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Authors that mention about your chosen keyword the most frequent\">?</span> </span> </div> <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableinfuencer table responsive table-striped mg-b-0\"> <thead> <tr class=\"tx-10\"> <th scope=\"col\" class=\"pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"wd-10p pd-y-5 thmobile thimagehiddent\">&nbsp;</th> <th scope=\"col\" class=\"pd-y-5 \">AUTHORS</th> <th scope=\"col\" class=\"pd-y-5 tx-right\">SITE</th> <th scope=\"col\" class=\"pd-y-5 text-right\">MENTIONS</th> <th scope=\"col\" class=\"r10-pd-r-20 pd-y-5 text-right\">FOLLOWERS</th> </tr> </thead> <tbody> <tr each=\"{o,i in items}\" class=\"fontsizetr\"> <td data-label=\"\" class=\"pd-table-r20 thmobile thimagehiddent\"> <p>{i + 1}</p> </td> <td data-label=\"\" class=\"pd-l-20 thmobile thimagehiddent\"> <img alt=\"\" riot-src=\"{o.avatar}\" if=\"{o.avatar}\" class=\"wd-36 rounded-circle\" alt=\"Image\" onerror=\"{reqExImg}\" name=\"{o.realname}\"> <img alt=\"\" class=\"wd-36 \" if=\"{!o.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.realname}\"> </td> <td data-label=\"AUTHORS\" class=\"valign-middle cursor-pointer\" onclick=\"{authorvalue}\"> <a class=\"colortext d-block\">{o.realname.length > 20 ? o.realname.substring(0,20) + \\'...\\' : o.realname}</a> </td> <td data-label=\"SITE\" class=\"valign-middle tx-right\"> <img alt=\"\" riot-src=\"{this.iconvalue[o.service]}\" width=\"16\" height=\"16\" class=\"center mg-t-0\"> </td> <td data-label=\"MENTIONS\" class=\"valign-middle text-right\"> {o.score ? o.score.formatMoney(0) : 0} </td> <td data-label=\"SENTIMENT RATE\" class=\"r10-pd-r-20 valign-middle text-right\"> {o.followers.formatMoney(0) ? o.followers.formatMoney(0) : 0} </td> </tr> </tbody> </table> </div> <div class=\"card-footer displayblock textcenter\" if=\"{total == 0}\"> <span> <p style=\"margin-top: 1rem;\">No data found, please input another dates</p> </span> </div> </div> </div>',\"\",\"\",(function(t){this.chacheMostactive={},this.currentProjectId=null,this.isExist=!0,this.xhr=null,this.iconvalue={Facebook:\"../assets/img/svg/facebook-grey3.png\",Twitter:\"../assets/img/svg/twitter-grey.png\",Video:\"../assets/img/svg/youtube-grey.png\",Image:\"../assets/img/svg/instagram-grey.png\",Portal:\"../assets/img/svg/news-grey.png\",Blog:\"../assets/img/svg/blogs-grey.png\",Forum:\"../assets/img/svg/chat-grey.png\"},this.reqExImg=t=>{const e=t.target&&t.target.name?t.target.name:\"n\";t.srcElement.src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name=\"+e},this.authorvalue=t=>{const e=t.item.o.realname,s=t.item.o.serviceId;this.parent.detailmentions(null,null,s,e,null,null,\"Author\",null)},this.render=t=>{this.chacheMostactive={},!t&&this.currentProjectId?this.updatemenu(this.currentProjectId):this.updatemenu(t)},this.isLoading=!0,this.updatemenu=t=>{if(APP.log(\"mostactive : uodate menu\"),null==t){var e=this.refs.menuValue.dataProjects[0].id.toString();(s=Object(i.clone)(this.parent.search)).project=e,this.valprj=e}else{Object(i.find)(this.times,{selected:!0});var s;(s=Object(i.clone)(this.parent.search)).project=t,this.valprj=t}if(this.update({isLoading:!0}),this.chacheMostactive[s.project]){var a=this.chacheMostactive[s.project];this.items=a,this.total=a.length,this.update({isLoading:!1})}else this.xhr=APP.apiGet({path:\"mentions/top_users\",data:s,success:t=>{if(this.isExist){this.dataarray=[];var e=Object(i.map)(t.items,t=>(\"Facebook\"===t.service&&(t.serviceId=1),\"Twitter\"===t.service&&(t.serviceId=2),\"Image\"===t.service&&(t.serviceId=7),\"Video\"===t.service&&(t.serviceId=6),\"Portal\"===t.service&&(t.serviceId=3),\"Blog\"===t.service&&(t.serviceId=4),\"Forum\"===t.service&&(t.serviceId=5),t));this.items=e,this.chacheMostactive[s.project]=e,this.total=t.total,this.update({isLoading:!1})}}});this.currentProjectId=t},this.downloadcsv=()=>{var t;(t=this.chacheMostactive[Number(this.valprj)].map(t=>({user_name:t.user_name?t.user_name:t.realname,sentiment_rate:t.rate?t.rate:0,mentions:t.score?t.score.formatMoney(0):0}))).length>0&&APP.downloadcsv(t,\"\"+(\"Most_Active_\"+this.valprj),!0)},this.filterAuthor=t=>{this.parent.search.author=t.target.value,this.parent.updateFilter(\"author\")},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.isExist=!1,this.chacheMostactive=null,this.items=null,this.search=null,this.xhr&&this.xhr.abort(),delete this.chacheMostactive,delete this.items,delete this.search})}))},87:function(t,e,s){\"use strict\";s.r(e);var i=s(0);s(1).tag2(\"sentimentcompetititon\",'<div class=\"mg-t-30 \" each=\"{o,i in prjList}\"> <div class=\"row mt-4\"> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD POSITIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud positive</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_positive{i}\" style=\"height: 300px; width: 100%;\"></div> </div> </div> <div class=\"col-md-6\"> <div class=\"row\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">WORDCLOUD NEGATIVE ({o})</b> <br> <span class=\"f14 a141\">Top wordcloud negative</span> </div> <div class=\"col-md-12 mb-2 text-center\" id=\"wordcloud_negative{i}\" prj style=\"height: 300px; width: 100%;\"></div> </div> </div> </div> <div class=\"row mt-4\"> <div class=\"col-md-10 offset-md-1\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"row desktopshow\"> <div class=\"col-md-12 mb-2 text-center\"> <b class=\"f24 a141\">MENTIONS ({o})</b> <br> <span class=\"f14 a141\">Top mentions and keyword phrase</span> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">POSITIVE</b> </div> <div class=\"col-md-4 \"> </div> <div class=\"col-md-4 mb-2 text-center\"> <b class=\"f18 colortittle\">NEGATIVE</b> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">POSITIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"p-hastag display-w\" each=\"{item,i in topwordpositivesvalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"row minheight225\"> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in itemspositivevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" class=\"profpic-style\" if=\"{item.user.avatar}\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> <div class=\"col-md-4 d-none d-sm-block position-rel\"> <div class=\"position-abs-l-5-p-0\"> <span class=\"p-hastag display-w\" each=\"{item in topwordpositivesvalue[i]}\">{item.phrase}</span> </div> <div class=\"position-abs-r-2-b-0\"> <span class=\"n-hastag mg-r-5 display-w\" each=\"{item in topwordnegativevalue[i]}\">{item.phrase}</span> </div> <div> </div> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <b class=\"f24 a141\">NEGATIVE</b> </div> <div class=\"col-12 mb-2 text-center d-block d-sm-none\"> <div class=\"row\"> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==0}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==1}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==2}\">{item.phrase}</span></div> <div class=\"col-6 px-1\"><span class=\"n-hastag display-w\" each=\"{item,i in topwordnegativevalue[i]}\" if=\"{i ==3}\">{item.phrase}</span></div> </div> </div> <div class=\"col-md-4 text-center\"> <div class=\"row\"> <div class=\"col-md-12 col-12 py-3 mb-2 pn-holder\" each=\"{item in streamsnegativevalue[i]}\"> <div class=\"row\"> <div class=\"col-md-2 col-2 pr-0 pt-1\"> <img riot-src=\"{item.user.avatar}\" if=\"{item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> <img riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\" if=\"{!item.user.avatar}\" class=\"profpic-style\" alt=\"Image\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={item.user.name ? item.user.name : item.user.profile}\\'\" class=\"profpic-style\"> </div> <div class=\"col-md-10 col-10 pr-0 text-left\"> <span>{item.text.length > 50 ? item.text.substring(0,50) + \\'...\\' : item.text}</span><br> <span class=\"tx-primary pull-right pd-r-10\">({item.user.profile ? item.user.profile : item.user.name}) </span> </div> </div> </div> </div> </div> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.dataWordcloudnegative={},this.dataWordcloudpositive={},this.topwordpositivesvalue={},this.topwordnegativevalue={},this.itemspositivevalue={},this.streamsnegativevalue={},this.render=()=>{let t=Object(i.clone)(this.parent.search);APP.apiGet({path:\"projects/list?selected_fields=key_id,key_name\",success:t=>{this.projectList=t}}).done(()=>{this.createObject(t,this.projectList)})},this.createObject=(t,e)=>{this.competitionProjects=this.parent.projectAll.split(\",\"),this.prjList={};for(let t in this.competitionProjects){const s=this.competitionProjects[t],a=Object(i.find)(e,{key_id:parseInt(s)});a&&a.key_name&&(this.prjList[s]=a.key_name)}var s=this.competitionProjects;setTimeout(()=>{this.topwordnegatives(t,s),this.topwordpositives(t,s),this.update_datanegative(t,s),this.update_datapositive(t,s),this.update({isLoading:!0})},1)},this.update_datapositive=(t,e)=>{t.section=\"positive\",t.limit=4e3,t.page=0,t.is_total=null,async.each(e,(s,a)=>{t.project=s,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:o=>{let r=this.parent.component;r.sentimentcompetition=!0,6===Object(i.filter)(r,t=>t).length&&this.parent.updateid();let c=o&&o.items&&o.items.positive?o.items.positive:[],l=t.q;if(l)this.streamspositive(l,t,e);else{if(c.length>0)var d=c?c.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else d=null;this.streamspositive(d,t,e)}var n=Object(i.concat)(c);if((n=Object(i.orderBy)(n,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=n[0][1];n.map(e=>{const s=e[0].length,i=parseInt(e[1]);let a=i/t*100;return s>20&&(a=10,i/t*100>60&&(a=i/t*50)),a<15&&(a=15),e[1]=a,e}),$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_positive\"+s).show(),WordCloud(\"wordcloud_positive\"+s,{list:n,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_positive\"+s).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_positive\"+s).html(\"Empty\"),$(\"#wordcloud_positive\"+s).show();a()}})})},this.update_datanegative=(t,e)=>{t.section=\"negative\",t.limit=4e3,t.page=0,t.is_total=null,async.each(e,(s,a)=>{t.project=s,APP.apiGet({path:\"mentions/wordcloud\",data:t,success:o=>{let r=o&&o.items&&o.items.negative?o.items.negative:[],c=t.q;if(c)this.streamsnegative(c,t,e);else{if(r.length>0)var l=r?r.map(t=>t[0]).slice(0,4).toString().replace(/\\,/g,\" or \"):null;else l=null;this.streamsnegative(l,t,e)}var d=Object(i.concat)(r);if((d=Object(i.orderBy)(d,[1],[\"desc\"])).length>0){this.update({notdata:!1});const t=d[0][1];d.map(e=>{const s=e[0].length,i=parseInt(e[1]);let a=i/t*100;return s>20&&(a=10,i/t*100>60&&(a=i/t*50)),a<15&&(a=15),e[1]=a,e}),this.dataWordcloudnegative[s]=d,$(\"#wordcloud_container\").show(),$(\"#wordcloud_canvas\").removeClass(\"onload\"),$(\"#wordcloud_negative\"+s).show(),WordCloud(\"wordcloud_negative\"+s,{list:d,backgroundColor:\"transparent\",gridSize:Math.round(16*$(\"#wordcloud_negative\"+s).width()/1024),weightFactor:t=>t,shape:\"diamond\",shuffle:!1,rotateRatio:.2,rotationSteps:3})}else this.notdata=!0,$(\"#wordcloud_container\").hide(),$(\"#wordcloud_canvas\").removeClass(\"oload\"),$(\"#wordcloud_negative\"+s).html(\"Empty\"),$(\"#wordcloud_negative\"+s).show();a()}})})},this.topwordpositives=(t,e)=>{this.topword=[],t.limit=6,t.page=0,t.section=\"positive\",async.each(e,(e,s)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordpositivesvalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.topwordnegatives=(t,e)=>{this.topword=[],t.page=0,t.section=\"negative\",async.each(e,(e,s)=>{t.project=e,APP.apiGet({path:\"mentions/phrase\",data:t,success:t=>{this.total2=t.length,this.topwordnegativevalue[e]=t.items.slice(0,5),this.update({isLoading:!1})}})})},this.streamspositive=(t,e,s)=>{APP.log(\"render Stream timeline\"),async.each(s,(t,s)=>{e.project=t;e.section=\"positive\",e.limit=5,e.group_service=!1;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"stream\"+i,success:e=>{this.itemspositivevalue[t]=e.item,this.update({isLoading:!1})}})})},this.streamsnegative=(t,e,s)=>{APP.log(\"render Stream timeline\"),async.each(s,(t,s)=>{e.project=t;e.section=\"negative\",e.limit=5,e.group_service=!1;var i=\"\",a=0;for(let t in e)e[t]&&\"\"!=e[t]&&(i+=a>0?`&${t}=${encodeURIComponent(e[t])}`:`?${t}=${encodeURIComponent(e[t])}`,a++);APP.apiPost({path:\"stream\"+i,success:e=>{this.streamsnegativevalue[t]=e.item,this.update()}})})}}))}}]);","extractedComments":[]}