{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{70:function(t,e,a){\"use strict\";a.r(e);a(9);a(1).tag2(\"facebookcomaprison\",'<div class=\"card shadow-base bd-0\"> <div class=\"row no-gutters widget-1\"> <div class=\"col-md-12\"> <div class=\"card-header pd-20 bg-transparent\" style=\"border-bottom: 1px solid #eaecf0;\"> <h6 class=\"card-title tx-uppercase mg-b-0 cursor-pointer\" id=\"1\" onclick=\"{valuedataname}\"> <img src=\"assets/images/components/icons/facebook-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\" id=\"1\"> FACEBOOK COMPARISON </h6> <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"> <button data-toggle=\"modal\" data-target=\"#modaldemo1\" class=\"btn btn-outline-primary btn-block mg-b-0 mg-t-0 pd-5 mg-r-10 width200 cursor-pointer\">ADD COMPARISON</button> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"mg-l-10 mg-r-5 mg-t-5 cursor-pointer \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"mg-t-5 cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Facebook mentions statistics compared to other projects that you\\'ve chosen\">?</span> </span> </div> </div> <div class=\"card-footer pd-y-15 bg-transparent\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <table class=\"tableresp table table-striped mg-b-0\"> <thead> <tr> <th scope=\"col\">PROJECT NAME</th> <th scope=\"col\" class=\"text-right\">UNIQUE ACCOUNTS</th> <th scope=\"col\" class=\"text-right\">REG POSTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">COMMENTS (FANSPAGE) </th> <th scope=\"col\" class=\"text-right\">AVERAGE EXPOSURE</th> </tr> </thead> <tbody> <tr each=\"{facebookdata}\"> <td scope=\"row\" data-label=\"PROJECT NAME\">{name}</td> <td data-label=\"UNIQUE ACCOUNTS\" class=\"text-right\">{unique_account_fb ? unique_account_fb.formatMoney(0) : 0}</td> <td data-label=\"REG POSTS (FANSPAGE)\" class=\"text-right\">{regular_fb ? regular_fb.formatMoney(0) : 0}</td> <td data-label=\"COMMENTS (FANSPAGE)\" class=\"text-right\">{comments_fb ? comments_fb.formatMoney(0) : 0}</td> <td data-label=\"AVERAGE EXPOSURE\" class=\"text-right\">{ae_fb ? Number(ae_fb).formatMoney(0) : 0}</td> </tr> </tbody> </table> </div> </div> </div> </div>',\"\",\"\",(function(t){this.isLoading=!0,this.valuedataname=t=>{let e=t.target.id;this.parent.detailmentions(null,null,e,null,null,null)},this.renderData=t=>{this.facebookdata=t,this.update({isLoading:!1})},this.downloadcsv=()=>{var t=this.facebookdata.map(t=>({Project:t.name,unique_account:t.unique_account_fb?t.unique_account_fb.formatMoney(0):0,reg_post:t.regular_fb?t.regular_fb.formatMoney(0):0,comment:t.comments_fb?t.comments_fb.formatMoney(0):0,replies:t.reply_fb?t.reply_fb.formatMoney(0):0}));t.length>0&&APP.downloadcsv(t,\"Facebook_Comparison_\"+p(\"project\"),!0)}}))},71:function(t,e,a){\"use strict\";a.r(e);var o=a(0);a(1).tag2(\"geo-competitive\",'<div class=\"widget-2\"> <div class=\"card shadow-base overflow-hidden\"> <div class=\"card-header\"> <h6 class=\"card-title\"> <img src=\"assets/images/components/icons/globe-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5\"> BUZZ GEO DISTRIBUTION</h6> <span> <img src=\"assets/images/components/icons/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10 \" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Where the mentions of your project come from, compared to other projects that you\\'ve chosen\">?</span> </span> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <div class=\"card-body pd-0 bd-color-gray-lighter height400 textcenter mg-t-20 d-block\" if=\"{notdata}\"> <div class=\"textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"card-body pd-0 bd-color-gray-lighter \" id=\"buzzgeodistribution\" if=\"{!notdata}\"> </div> </div> </div>',\"\",\"\",(function(t){this.notdata=!1,this.isLoading=!0,this.isExist=!0,this.xhr=null,this.render=t=>{APP.log(\"geo-competitive: render\"),this.notdata=!1;let e=Object(o.clone)(this.parent.search);e.project=p(\"project\")?p(\"project\"):APP.getProject();let a=[],s=[];this.update({isLoading:!0}),async.series([function(t){$.getJSON(\"/assets/js/id-all.geo.json\",(function(e){a=e,t()}))},function(t){$.getJSON(\"/assets/js/province.json\",(function(e){s=e,t()}))}],()=>{this.xhr=APP.apiGet({path:\"stream/buzzgeo-brand\",data:e,success:e=>{if(0===(e=e.items).length)return this.notdata=!0,this.isLoading=!1,void this.update();this.update({notdata:!1}),e=Object(o.map)(e,t=>{let e=null;if(!Object(o.isEmpty)(t)&&s.features){let a=getProvince(s.features,t.lat||0,t.long||0,t.brand);a&&(e={id:t.brand+a.HASC_1,brand:t.brand,name:a.NAME_1,hasc:a.HASC_1,z:t.count,color:t.color})}return this.isLoading=!1,e}).reduce((t,e)=>(Object(o.isObject)(e)&&(t[e.id]?t[e.id].z+=e.z:t[e.id]=e),t),{});let i=Object(o.groupBy)(e,(function(t){return t.brand}));Object(o.groupBy)(e,(function(t){return t.color}));if(!this.isExist)return;let n=[{name:\"Map\",showInLegend:!1}];Object(o.each)(i,(function(t,e){n.push({type:\"mapbubble\",name:e,joinBy:\"hasc\",data:t,color:t[0].color,showInLegend:!0,minSize:5,maxSize:\"10%\",tooltip:{}})})),this.items=n,Highcharts.mapChart(\"buzzgeodistribution\",{chart:{borderWidth:0,backgroundColor:\"none\",map:a},title:{text:\"\"},credits:{enabled:!1},exporting:{enabled:!1},series:n}),this.update({isLoading:!1}),Object(o.isFunction)(t)&&t()}},()=>{this.update({isLoading:!1})})})},this.downloadcsv=()=>{const t=Object(o.cloneDeep)(Object(o.drop)(this.items,1)).map(t=>t.data.map(t=>({locations:t.name,count:t.z,brand:t.brand}))),e=Object(o.flatten)(t),a=Object(o.groupBy)(e,\"locations\"),s=this.parent.updateData;let i=Object(o.filter)(s,(function(t){return t.checked})).map(t=>t.name),n=[];for(let t in a){const e=Object(o.groupBy)(a[t],\"brand\");let s=[];for(let t in i){let a={},o=i[t],n=e[o]&&e[o][0].brand;o===n?a[n]=e[o][0].count:a[o]=0,s.push(a)}let r=s.reduce((function(t,e){return Object.assign(t,e)}),{});[r].map((e,a)=>(e.locations=t,e)),n.push(r)}n.length>0&&APP.downloadcsv(n,\"Buzz_Geo_Competition_\"+p(\"project\"),!0)},this.on(\"unmount\",()=>{this.isExist=!1,APP.log(\"chart-positive: unmount\"),this.xhr&&this.xhr.abort()}),this.on(\"mount\",()=>{this.xhr=null})}))}}]);","extractedComments":[]}