{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{199:function(e,t,n){\"use strict\";n.r(t);var o=n(0);!function(){var e=new Error(\"Cannot find module 'Helpers/chart-pie.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/extras/refresh-button.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),n(1).tag2(\"ofvoice\",'<div class=\"card shadow-base bd-0\"> <div class=\"overflow-hidden\"> <div class=\"card-header bg-transparent d-flex justify-content-between align-items-center\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\"> <img src=\"assets/img/image/pie-chart-teal.png\" width=\"20\" height=\"20\" class=\"mg-r-5 \"> SOCIAL SHARE OF VOICE </h6> <span> <img src=\"assets/img/image/dowload-teal.png\" width=\"20\" height=\"20\" class=\"cursor-pointer mg-r-10\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Download\" onclick=\"{downloadcsv}\"> <span class=\"cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Comparison of the total mention about your project to other project of your choosing\">?</span> </span> </div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <div class=\"card-body pd-0 bd-color-gray-lighter height400\" id=\"shareofvoice\"> <span if=\"{notdata}\">No data found, please input another dates</span> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> </div> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1,this.chartpie=null,this.isLoading=!0,this.notdata=!1,this.xhr=null;let n=[{name:\"Facebook\",count:0},{name:\"Twitter\",count:0},{name:\"Instagram\",count:0},{name:\"Video\",count:0},{name:\"Portal\",count:0},{name:\"Forum\",count:0},{name:\"Blog\",count:0}];this.render=e=>{let n=Object(o.clone)(this.parent.search);n.is_total=null,this.update({isLoading:!0}),this.xhr=APP.apiGet({path:\"stream/shareofstream\",data:n,success:t=>{Object(o.isFunction)(e)&&e(),t=t.items;let n=[],a={Twitter:\"#00acee\",Facebook:\"#425f9c\",Blogs:\"#444343\",Forum:\"#5bb87a\",News:\"#39d44c\",Video:\"#d80f42\",Image:\"#d28a57\",Portal:\"#a77e0c\"};console.log({res:t});for(const e in t){let o={};o={y:t[e].count,name:e,color:a[e],colorval:a[e]},n.push(o)}n.map((function(e){return\"Tiktok\"==e.name&&(e.name=\"Video\"),\"Image\"==e.name&&(e.name=\"Instagram\"),\"Portal\"==e.name&&(e.name=\"News\"),e}));if(0===n.length)return this.notdata=!0,void this.update({isLoading:!1});this.update({notdata:!1}),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy(),n=Object(o.orderBy)(n,[\"y\"],[\"desc\"]);Object(o.map)(n,e=>e.colorval);this.items=n,(this.chartpie=!function(){var e=new Error(\"Cannot find module 'Helpers/chart-pie.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}()(\"shareofvoice\")).addSeries({data:n}),this.update({isLoading:!1,isLoadingerror:!1})},error:n=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(o.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.downloadcsv=()=>{var e=this.items.map(e=>({name:e.name,count:e.y?e.y.formatMoney(0):0}));const t=Object(o.map)(e,e=>e.name);let a=Object(o.filter)(n,e=>t.indexOf(e.name)<0);(e=Object(o.concat)(e,a)).length>0&&APP.downloadcsv(e,\"Share_Of_Voice_\"+p(\"project\"),!0)},this.on(\"mount\",()=>{this.xhr=null}),this.on(\"unmount\",()=>{this.xhr&&this.xhr.abort(),this.chartpie&&this.chartpie.spacing&&this.chartpie.destroy()})}))},200:function(e,t,n){\"use strict\";n.r(t);var o=n(0);!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/total-mentions.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/youtube-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/instagram-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/news-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/facebook-grey3.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/twitter-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/blogs-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'ImageFiles/components/chat-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module 'Components/extras/refresh-button.tag'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),n(1).tag2(\"source-of-mention\",'<div class=\"card shadow-base bd-0\"> <div class=\"card-header bg-transparent pd-16 borderbottom0\"> <span class=\"pull-right cursor-default\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"The channels where your brand is being talked at, each channels are compared with their previous period counterparts\">?</span> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0 mg-t-5\"> <img alt=\"{IconVideo}\" onload=\"{loadHeadImage}\" width=\"20\" height=\"20\" class=\"mg-r-5 mg-t-min-6\">SOURCE OF MENTIONS </h6> </div> <div class=\"card-body\" style=\"padding: 0px;\"> <div class=\" pd-10 min-height305\" if=\"{total == 0}\"> <div class=\" textcenter mg-t-20\">No data found, please input another dates</div> </div> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <tombol-refres cb=\"{refresError}\" if=\"{isLoadingerror}\"></tombol-refres> <table class=\"table table-responsive mb-0 min-height305 overflowhidden\" if=\"{total != 0}\"> <tbody class=\"displayblock\"> <tr each=\"{o,i in channels}\" id=\"{o.idch}\" style=\"display: block; height: 45px;\"> <td class=\"widthper5 pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <img alt=\"\" riot-src=\"{o.icon}\" width=\"30\" height=\"30\" class=\"center displayinitial mg-t-2 cursor-pointer\" onclick=\"{selectchannels}\"> </td> <td class=\"wd-25p pd-t-0-pd-r-15-pd-b-0-pd-l-15 cursor-pointer\" onclick=\"{selectchannels}\"> <span class=\"tx-11 d-block\"><a class=\"tx-inverse tx-14 tx-medium d-block\">{o.total ? o.total.formatMoney(0) : 0}</a>{o.name} </span> </td> <td class=\"tx-12 wd-40p pd-t-0-pd-r-15-pd-b-0-pd-l-15\"> <span riot-style=\"color: {o.color}\"><i class=\"{o.caret} mg-t-10\" aria-hidden=\"true\"> </i> {o.percent}%</span> </td> <td class=\"tx-12 wd-30p pd-t-0-pd-r-15-pd-b-0-pd-l-0\"> <div class=\"progress mg-t-20\"> <div class=\"progress-bar progress-bar-xs {o.width  > 0 ? \\'wd-\\' + o.width + \\'p\\' : \\'\\'}\" role=\"progressbar\" aria-valuenow=\"{o.width}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div> </div> </td> </tr> </tbody> </table> </div> </div>',\"\",\"\",(function(e){var t=0;this.isLoadingerror=!1;const n={Video:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/youtube-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Video\",idchannels:6},Image:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/instagram-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Instagram\",idchannels:7},Portal:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/news-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"News\",idchannels:3},Facebook:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/facebook-grey3.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Facebook\",idchannels:1},Twitter:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/twitter-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Twitter\",idchannels:2},Blog:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/blogs-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Blog\",idchannels:4},Forum:{icon:!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/chat-grey.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),name:\"Forum\",idchannels:5}};this.loadHeadImage=()=>{console.log(\"====\"),setTimeout((function(){alert(\"__\"+!function(){var e=new Error(\"Cannot find module 'ImageFiles/components/total-mentions.png'\");throw e.code=\"MODULE_NOT_FOUND\",e}())}),5e3)},this.isLoading=!0,this.render=e=>{this.update({isLoading:!0}),APP.log(\"influent-sosial : render\");let a=Object(o.clone)(this.parent.search);a.compare=!0,APP.apiGet({path:\"mentions/composition\",data:a,success:t=>{const a=t.items,i=Object(o.sumBy)(a,\"total\");var r=Object(o.map)(a,e=>{let t={},o=100*e.total/i;const a=e.difference&&e.difference.total?e.difference.total:[];return t.caret=\"up\"===a[0]?\"fa fa-caret-up\":\"down\"===a[0]?\"fa fa-caret-down\":\"fa fa-minus\",t.color=\"up\"===a[0]?\"#23BF08\":\"down\"===a[0]?\"#DC3545\":\"#d2dc35\",t.percent=a[1],t.width=o?o.toLocaleString(\"id\",{minimumFractionDigits:0,maximumFractionDigits:0}):0,t.total=e.total,t.name=n[e.name]&&n[e.name].name?n[e.name].name:\"\",t.icon=n[e.name]&&n[e.name].icon?n[e.name].icon:\"\",t.idch=n[e.name]&&n[e.name].idchannels?n[e.name].idchannels:\"\",t});const s=Object(o.map)(r,e=>e.name),d=Object(o.filter)(n,e=>s.indexOf(e.name)<0).map(e=>({caret:\"fa fa-minus\",color:\"#d2dc35\",percent:0,width:0,name:e.name,icon:e.icon,total:0,idch:e.idchannels}));r=Object(o.orderBy)(r,[\"total\"],[\"desc\"]),this.channels=r.concat(d),this.total=r.length,this.update({isLoading:!1,isLoadingerror:!1}),Object(o.isFunction)(e)&&e()},error:n=>{++t<3&&setTimeout(()=>{this.render()},3e3),t>=3&&(this.isLoading=!1,this.isLoadingerror=!0,this.update()),Object(o.isFunction)(e)&&e()}})},this.refresError=()=>{this.isLoadingerror=!1,this.isLoading=!0,t=0,this.update(),this.render()},this.selectchannels=e=>{let t=e.item.o.idch;this.parent.detailmentions(null,null,t,null,null,null,null,null,null,null,null,null)}}))}}]);","extractedComments":[]}