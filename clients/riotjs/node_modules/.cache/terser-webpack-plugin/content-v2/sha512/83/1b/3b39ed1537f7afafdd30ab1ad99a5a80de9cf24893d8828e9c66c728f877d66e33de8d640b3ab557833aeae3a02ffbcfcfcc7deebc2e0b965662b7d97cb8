{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{18:function(t,e,a){\"use strict\";a.r(e);var s=a(0);a(8);a(1).tag2(\"detaimention\",'<div class=\"modal-content\"> <div class=\"modal-header pd-y-20 pd-x-25\"> <h6 class=\"card-title tx-uppercase tx-12 mg-b-0\">DETAIL MENTIONS</h6> <button type=\"button\" class=\"close cursor-pointer\" data-dismiss=\"modal\" aria-label=\"Close\"> <span aria-hidden=\"true\">Ã—</span> </button> </div> <div class=\"modal-body pd-25\"> <div class=\"ripple-loader\" if=\"{isLoading}\"></div> <p class=\"mg-b-20 ws-5 tx-17 tx-lato tx-gray-800\">{valkeyword}</p> <div class=\"row row-sm\"> <div class=\"col-sm-6 col-lg-6\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/profit-chart.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL MENTIONS</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalmention ? totalmention.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-6 col-lg-6 mg-t-20 mg-sm-t-0\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/social-people.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">TOTAL REACH</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalreach ? totalreach.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <div class=\"row row-sm mg-t-20\"> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/positive-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">POSITIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentpositive ? totalsentimentpositive.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4\"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/negative-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-10 \" id=\"masuk\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEGATIVE</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentnegative ? totalsentimentnegative.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"> </span> </div> </div> </div> </div> <div class=\"col-sm-4 col-lg-4 mg-t-20 mg-sm-t-0 \"> <div class=\"bg-white roundeds shadow-base overflow-hidden ht-80\"> <div class=\"pd-x-20 pd-t-10 d-flex align-items-center\"> <img src=\"assets/img/image/help-detail.png\" width=\"50\" height=\"50\" class=\"mg-t-m-20\"> <div class=\"mg-l-20\"> <p class=\"tx-10 tx-spacing-1 tx-mont tx-semibold tx-uppercase mg-b-10 color-blueteal\">NEUTRAL</p> <p class=\"tx-32 tx-lato tx-gray-800 mg-b-25 lh-1\">{totalsentimentneutral ? totalsentimentneutral.formatMoney(0) : 0}</p> <span class=\"tx-12 tx-roboto tx-gray-600\"></span> </div> </div> </div> </div> </div> <p class=\"mg-t-20 mg-b-0 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">Top Keywords</p> <p class=\"mg-t-0 mg-b-10 ws-10 tx-17 tx-lato tx-gray-800 text-center\" if=\"{threeval}\">\" {valtopthreeword} \"</p> <div class=\"row mg-t-20 detailMentions\" id=\"detail-mentions\"> <div class=\"col-md-12 pd-0\"> <div class=\"card widget-5\"> <div class=\"list-group list-group-flush \"> <div class=\"ripple-loader\" style=\"max-height: 250px;\" if=\"{isLoadingStreams}\"></div> <a class=\"list-group-item list-group-item-action media detail\" each=\"{o, i in itemsdetail}\"> <img alt=\"\" class=\"imageclass\" riot-src=\"{o.user.avatar}\" if=\"{o.user.avatar}\" alt=\"\" onerror=\"this.onerror=null;this.src=\\'https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" name=\"{o.user.name}\"> <img alt=\"\" class=\"imageclass\" if=\"{!o.user.avatar}\" riot-src=\"https://ui-avatars.com/api/?background=0D8ABC&color=fff&length=2&rounded=true&name={o.user.name}\\'\" width=\"20\" onerror=\"{reqExImg}\" name=\"{o.user.name}\" alt=\"\"> <div class=\"media-body scrollhidden\"> <div class=\"msg-top\"> <span class=\"cursor-pointer\" id=\"{o.source}\" onclick=\"{opennewtab}\">{o.user.real_name ? o.user.real_name : o.user.name} </span> <span><i class=\"icon ion-calendar\"></i> {o.date_format}</span> </div> <div class=\"\"> <i class=\" fa fa-share-alt\" aria-hidden=\"true\" style=\"font-size: 1em !important;\"></i> {o.service} <p class=\"msg-summary textjustify mg-t-5\"> {o.text}</p> </div> </div> </a> </div> </div> </div> </div> </div> <div class=\"modal-footer\" style=\"justify-content: space-between;\"> <span class=\"\"><a class=\"cursor-pointer colorblue\" onclick=\"{downloadmentions}\">Download data</a></span> <pagging pagination=\"{pagination}\" class=\"pagingrightstreams\"></pagging> </div> </div>',\"\",\"\",(function(t){this.totalmention=0,this.totalreach=0,this.idname=\"\",this.isLoadingStreams=!1,this.opennewtab=t=>{let e=t.target.id;window.open(e,\"_blank\")},this.reachmention=t=>{this.totalreach=0,(t=t).compare=!0,t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",a=0;for(let s in t)t[s]&&\"\"!=t[s]&&(e+=a>0?`&${s}=${encodeURIComponent(t[s])}`:`?${s}=${encodeURIComponent(t[s])}`,a++);APP.apiPost({path:\"summary/potential-reach\"+e,data:this.dataretweet,success:t=>{this.totalreach=t.items.potential_reach,this.isLoading=!1,this.update()}})},this.totalsentiment=t=>{t.page=\"\",t.pagination=\"\",t.limit=\"\";var e=\"\",a=0;for(let s in t)t[s]&&\"\"!=t[s]&&(e+=a>0?`&${s}=${encodeURIComponent(t[s])}`:`?${s}=${encodeURIComponent(t[s])}`,a++);APP.apiPost({path:\"mentions/sentiment-count\"+e,data:this.dataretweet,success:t=>{this.totalsentimentpositive=t.items.positive,this.totalsentimentnegative=t.items.negative,this.totalsentimentneutral=t.items.neutral,this.update()}})},this.modalsentimentvalue=(t,e,a,i,o,l,n,r,d,c,m,h)=>{if(this.update({isLoading:!0}),this.query.page=0,this.pagination.page=1,this.valkeyword=[],this.valuekey={},null==t)var p=localStorage.since.replace(/%20/g,\" \"),g=localStorage.until.replace(/%20/g,\" \");else if(\"monthly\"==h){p=localStorage.since.replace(/%20/g,\" \"),g=localStorage.until.replace(/%20/g,\" \");this.valuekey.valsince=\"Date : \"+moment(p).format(\"LL\")+\" - \"+moment(g).format(\"LL\")}else{p=t,g=t;this.valuekey.valsince=\"Date : \"+moment(g).format(\"LL\")}if(l&&(this.valuekey.valspecificdate=\"Time : \"+l+\":00:00\"),null==r||null==r)var v=Object(s.clone)(this.parent.search.project);else{v=r;this.valuekey.valueprj=\"Project : \"+n}if(null==e?e=Object(s.clone)(this.parent.search.section):(e=e,this.valuekey.valsection=\"Section : \"+e),null==a)a=Object(s.clone)(this.parent.search.service_category),this.idname=\"Twitter\";else{if(1==(a=a))var u=\"Facebook\";if(2==a)u=\"Twitter\";if(3==a)u=\"News\";if(4==a)u=\"Blogs\";if(5==a)u=\"Forum\";if(6==a)u=\"Video\";if(7==a)u=\"Instagram\";this.idname=u,this.valuekey.valchannels=\"Service Category : \"+u}null==i?i=\"\":m?(this.valuekey.nameval=n+\" : \"+i,i=\"\"):(i=i,this.valuekey.nameval=n+\" : \"+i),null==o?o=\"\":(o=o,this.valuekey.valkey=n+\" : \"+o),Object(s.each)(this.valuekey,(t,e)=>{Object(s.isEmpty)(t)||this.valkeyword.push(t)}),this.valkeyword=this.valkeyword.join(\",\").replace(/,/g,\", \"),this.totalmention=0;let x=Object(s.clone)(this.parent.search);this.dataretweet={},m&&(d&&(this.dataretweet.stream_ids=d),c&&(this.dataretweet.share_ids=c)),l&&(x.specific_date=p+\" \"+l+\":00:00\"),x.since=p,x.until=g,x.section=e,x.service_category=a,x.q=o,x.author=i,x.project=v,x.page=this.query.page,x.accurate=\"yes\",l&&(x.specific_date=p+\" \"+l+\":00:00\"),this.search=x,x.filterbot=\"false\",this.detaimentions(x),this.totalsentiment(x),this.search=x,\"positive\"==n||\"negative\"==n?this.topthreeword(x):(this.threeval=!1,this.valtopthreeword=\"\",this.update({valtopthreeword:{}}))},this.topthreeword=t=>{this.threeval=!0,this.topthreewordvalue=[],t.nocache=!1,t.remove_cache=!1,APP.apiGet({path:\"mentions/sentiment-words\",data:t,success:t=>{Object(s.each)(t,(t,e)=>{if(!Object(s.isEmpty)(t)){let e=t.keyword;this.topthreewordvalue.push(e)}});var e=this.topthreewordvalue.join(\", \").replace(/,/g,\", \");e.length>0?this.valtopthreeword=e:this.threeval=!1,this.update()}})},this.detaimentions=t=>{t.pagination=\"yes\";var e=\"\",a=0;for(let s in t)t[s]&&\"\"!=t[s]&&(e+=a>0?`&${s}=${encodeURIComponent(t[s])}`:`?${s}=${encodeURIComponent(t[s])}`,a++);APP.apiPost({path:\"stream\"+e,data:this.dataretweet,success:(e,a,s)=>{\"Twitter\"==this.idname?(this.reachmention(t),this.isLoadingStreams=!1):(this.totalreach=0,this.isLoading=!1,this.isLoadingStreams=!1),this.itemsdetail=e.item,this.totalmention=e.total,this.pagination.pages=Math.ceil(e.total/this.query.limit),$(\"#detail-mentions\").animate({scrollTop:0},500),this.update()}})},this.query={limit:10,page:0,sort:\"-name\"},this.pagination={page:1,cb:t=>{this.update({isLoadingStreams:!0}),this.query.page=(t-1)*this.query.limit,this.search.page=this.query.page,this.detaimentions(this.search),window.innerWidth>500&&$(\"#detail-mentions\").animate({scrollTop:0},500)}},this.downloadmentions=()=>{const t=\"stream/download?type=daily&token=\"+localStorage.AuthToken;let e=Object(s.clone)(this.parent.search);var a=APP.apiUrl+t;for(let t in e)e[t]&&e[t].length>0&&(a+=`&${t}=${e[t]}`);this.doDownload(a)},this.doDownload=t=>{window.open(t,\"_blank\")}}))}}]);","extractedComments":[]}